var MN = Object.defineProperty;
var BN = (r, e, t) =>
  e in r
    ? MN(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
    : (r[e] = t);
var he = (r, e, t) => BN(r, typeof e != "symbol" ? e + "" : e, t);
(function () {
  const e = document.createElement("link").relList;
  if (e && e.supports && e.supports("modulepreload")) return;
  for (const i of document.querySelectorAll('link[rel="modulepreload"]')) n(i);
  new MutationObserver((i) => {
    for (const s of i)
      if (s.type === "childList")
        for (const o of s.addedNodes)
          o.tagName === "LINK" && o.rel === "modulepreload" && n(o);
  }).observe(document, { childList: !0, subtree: !0 });
  function t(i) {
    const s = {};
    return (
      i.integrity && (s.integrity = i.integrity),
      i.referrerPolicy && (s.referrerPolicy = i.referrerPolicy),
      i.crossOrigin === "use-credentials"
        ? (s.credentials = "include")
        : i.crossOrigin === "anonymous"
        ? (s.credentials = "omit")
        : (s.credentials = "same-origin"),
      s
    );
  }
  function n(i) {
    if (i.ep) return;
    i.ep = !0;
    const s = t(i);
    fetch(i.href, s);
  }
})();
var Zi =
  typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : {};
function Yh(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
function Mx(r) {
  if (r.__esModule) return r;
  var e = r.default;
  if (typeof e == "function") {
    var t = function n() {
      return this instanceof n
        ? Reflect.construct(e, arguments, this.constructor)
        : e.apply(this, arguments);
    };
    t.prototype = e.prototype;
  } else t = {};
  return (
    Object.defineProperty(t, "__esModule", { value: !0 }),
    Object.keys(r).forEach(function (n) {
      var i = Object.getOwnPropertyDescriptor(r, n);
      Object.defineProperty(
        t,
        n,
        i.get
          ? i
          : {
              enumerable: !0,
              get: function () {
                return r[n];
              },
            }
      );
    }),
    t
  );
}
var x2 = { exports: {} },
  Mm = {},
  w2 = { exports: {} },
  ze = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Kh = Symbol.for("react.element"),
  ON = Symbol.for("react.portal"),
  IN = Symbol.for("react.fragment"),
  FN = Symbol.for("react.strict_mode"),
  NN = Symbol.for("react.profiler"),
  LN = Symbol.for("react.provider"),
  UN = Symbol.for("react.context"),
  GN = Symbol.for("react.forward_ref"),
  jN = Symbol.for("react.suspense"),
  $N = Symbol.for("react.memo"),
  zN = Symbol.for("react.lazy"),
  E1 = Symbol.iterator;
function WN(r) {
  return r === null || typeof r != "object"
    ? null
    : ((r = (E1 && r[E1]) || r["@@iterator"]),
      typeof r == "function" ? r : null);
}
var b2 = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {},
  },
  S2 = Object.assign,
  E2 = {};
function ju(r, e, t) {
  (this.props = r),
    (this.context = e),
    (this.refs = E2),
    (this.updater = t || b2);
}
ju.prototype.isReactComponent = {};
ju.prototype.setState = function (r, e) {
  if (typeof r != "object" && typeof r != "function" && r != null)
    throw Error(
      "setState(...): takes an object of state variables to update or a function which returns an object of state variables."
    );
  this.updater.enqueueSetState(this, r, e, "setState");
};
ju.prototype.forceUpdate = function (r) {
  this.updater.enqueueForceUpdate(this, r, "forceUpdate");
};
function T2() {}
T2.prototype = ju.prototype;
function Bx(r, e, t) {
  (this.props = r),
    (this.context = e),
    (this.refs = E2),
    (this.updater = t || b2);
}
var Ox = (Bx.prototype = new T2());
Ox.constructor = Bx;
S2(Ox, ju.prototype);
Ox.isPureReactComponent = !0;
var T1 = Array.isArray,
  k2 = Object.prototype.hasOwnProperty,
  Ix = { current: null },
  A2 = { key: !0, ref: !0, __self: !0, __source: !0 };
function P2(r, e, t) {
  var n,
    i = {},
    s = null,
    o = null;
  if (e != null)
    for (n in (e.ref !== void 0 && (o = e.ref),
    e.key !== void 0 && (s = "" + e.key),
    e))
      k2.call(e, n) && !A2.hasOwnProperty(n) && (i[n] = e[n]);
  var a = arguments.length - 2;
  if (a === 1) i.children = t;
  else if (1 < a) {
    for (var l = Array(a), u = 0; u < a; u++) l[u] = arguments[u + 2];
    i.children = l;
  }
  if (r && r.defaultProps)
    for (n in ((a = r.defaultProps), a)) i[n] === void 0 && (i[n] = a[n]);
  return {
    $$typeof: Kh,
    type: r,
    key: s,
    ref: o,
    props: i,
    _owner: Ix.current,
  };
}
function HN(r, e) {
  return {
    $$typeof: Kh,
    type: r.type,
    key: e,
    ref: r.ref,
    props: r.props,
    _owner: r._owner,
  };
}
function Fx(r) {
  return typeof r == "object" && r !== null && r.$$typeof === Kh;
}
function VN(r) {
  var e = { "=": "=0", ":": "=2" };
  return (
    "$" +
    r.replace(/[=:]/g, function (t) {
      return e[t];
    })
  );
}
var k1 = /\/+/g;
function s_(r, e) {
  return typeof r == "object" && r !== null && r.key != null
    ? VN("" + r.key)
    : e.toString(36);
}
function Df(r, e, t, n, i) {
  var s = typeof r;
  (s === "undefined" || s === "boolean") && (r = null);
  var o = !1;
  if (r === null) o = !0;
  else
    switch (s) {
      case "string":
      case "number":
        o = !0;
        break;
      case "object":
        switch (r.$$typeof) {
          case Kh:
          case ON:
            o = !0;
        }
    }
  if (o)
    return (
      (o = r),
      (i = i(o)),
      (r = n === "" ? "." + s_(o, 0) : n),
      T1(i)
        ? ((t = ""),
          r != null && (t = r.replace(k1, "$&/") + "/"),
          Df(i, e, t, "", function (u) {
            return u;
          }))
        : i != null &&
          (Fx(i) &&
            (i = HN(
              i,
              t +
                (!i.key || (o && o.key === i.key)
                  ? ""
                  : ("" + i.key).replace(k1, "$&/") + "/") +
                r
            )),
          e.push(i)),
      1
    );
  if (((o = 0), (n = n === "" ? "." : n + ":"), T1(r)))
    for (var a = 0; a < r.length; a++) {
      s = r[a];
      var l = n + s_(s, a);
      o += Df(s, e, t, l, i);
    }
  else if (((l = WN(r)), typeof l == "function"))
    for (r = l.call(r), a = 0; !(s = r.next()).done; )
      (s = s.value), (l = n + s_(s, a++)), (o += Df(s, e, t, l, i));
  else if (s === "object")
    throw (
      ((e = String(r)),
      Error(
        "Objects are not valid as a React child (found: " +
          (e === "[object Object]"
            ? "object with keys {" + Object.keys(r).join(", ") + "}"
            : e) +
          "). If you meant to render a collection of children, use an array instead."
      ))
    );
  return o;
}
function bd(r, e, t) {
  if (r == null) return r;
  var n = [],
    i = 0;
  return (
    Df(r, n, "", "", function (s) {
      return e.call(t, s, i++);
    }),
    n
  );
}
function XN(r) {
  if (r._status === -1) {
    var e = r._result;
    (e = e()),
      e.then(
        function (t) {
          (r._status === 0 || r._status === -1) &&
            ((r._status = 1), (r._result = t));
        },
        function (t) {
          (r._status === 0 || r._status === -1) &&
            ((r._status = 2), (r._result = t));
        }
      ),
      r._status === -1 && ((r._status = 0), (r._result = e));
  }
  if (r._status === 1) return r._result.default;
  throw r._result;
}
var fn = { current: null },
  Mf = { transition: null },
  YN = {
    ReactCurrentDispatcher: fn,
    ReactCurrentBatchConfig: Mf,
    ReactCurrentOwner: Ix,
  };
function C2() {
  throw Error("act(...) is not supported in production builds of React.");
}
ze.Children = {
  map: bd,
  forEach: function (r, e, t) {
    bd(
      r,
      function () {
        e.apply(this, arguments);
      },
      t
    );
  },
  count: function (r) {
    var e = 0;
    return (
      bd(r, function () {
        e++;
      }),
      e
    );
  },
  toArray: function (r) {
    return (
      bd(r, function (e) {
        return e;
      }) || []
    );
  },
  only: function (r) {
    if (!Fx(r))
      throw Error(
        "React.Children.only expected to receive a single React element child."
      );
    return r;
  },
};
ze.Component = ju;
ze.Fragment = IN;
ze.Profiler = NN;
ze.PureComponent = Bx;
ze.StrictMode = FN;
ze.Suspense = jN;
ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = YN;
ze.act = C2;
ze.cloneElement = function (r, e, t) {
  if (r == null)
    throw Error(
      "React.cloneElement(...): The argument must be a React element, but you passed " +
        r +
        "."
    );
  var n = S2({}, r.props),
    i = r.key,
    s = r.ref,
    o = r._owner;
  if (e != null) {
    if (
      (e.ref !== void 0 && ((s = e.ref), (o = Ix.current)),
      e.key !== void 0 && (i = "" + e.key),
      r.type && r.type.defaultProps)
    )
      var a = r.type.defaultProps;
    for (l in e)
      k2.call(e, l) &&
        !A2.hasOwnProperty(l) &&
        (n[l] = e[l] === void 0 && a !== void 0 ? a[l] : e[l]);
  }
  var l = arguments.length - 2;
  if (l === 1) n.children = t;
  else if (1 < l) {
    a = Array(l);
    for (var u = 0; u < l; u++) a[u] = arguments[u + 2];
    n.children = a;
  }
  return { $$typeof: Kh, type: r.type, key: i, ref: s, props: n, _owner: o };
};
ze.createContext = function (r) {
  return (
    (r = {
      $$typeof: UN,
      _currentValue: r,
      _currentValue2: r,
      _threadCount: 0,
      Provider: null,
      Consumer: null,
      _defaultValue: null,
      _globalName: null,
    }),
    (r.Provider = { $$typeof: LN, _context: r }),
    (r.Consumer = r)
  );
};
ze.createElement = P2;
ze.createFactory = function (r) {
  var e = P2.bind(null, r);
  return (e.type = r), e;
};
ze.createRef = function () {
  return { current: null };
};
ze.forwardRef = function (r) {
  return { $$typeof: GN, render: r };
};
ze.isValidElement = Fx;
ze.lazy = function (r) {
  return { $$typeof: zN, _payload: { _status: -1, _result: r }, _init: XN };
};
ze.memo = function (r, e) {
  return { $$typeof: $N, type: r, compare: e === void 0 ? null : e };
};
ze.startTransition = function (r) {
  var e = Mf.transition;
  Mf.transition = {};
  try {
    r();
  } finally {
    Mf.transition = e;
  }
};
ze.unstable_act = C2;
ze.useCallback = function (r, e) {
  return fn.current.useCallback(r, e);
};
ze.useContext = function (r) {
  return fn.current.useContext(r);
};
ze.useDebugValue = function () {};
ze.useDeferredValue = function (r) {
  return fn.current.useDeferredValue(r);
};
ze.useEffect = function (r, e) {
  return fn.current.useEffect(r, e);
};
ze.useId = function () {
  return fn.current.useId();
};
ze.useImperativeHandle = function (r, e, t) {
  return fn.current.useImperativeHandle(r, e, t);
};
ze.useInsertionEffect = function (r, e) {
  return fn.current.useInsertionEffect(r, e);
};
ze.useLayoutEffect = function (r, e) {
  return fn.current.useLayoutEffect(r, e);
};
ze.useMemo = function (r, e) {
  return fn.current.useMemo(r, e);
};
ze.useReducer = function (r, e, t) {
  return fn.current.useReducer(r, e, t);
};
ze.useRef = function (r) {
  return fn.current.useRef(r);
};
ze.useState = function (r) {
  return fn.current.useState(r);
};
ze.useSyncExternalStore = function (r, e, t) {
  return fn.current.useSyncExternalStore(r, e, t);
};
ze.useTransition = function () {
  return fn.current.useTransition();
};
ze.version = "18.3.1";
w2.exports = ze;
var K = w2.exports;
const cy = Yh(K);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var KN = K,
  qN = Symbol.for("react.element"),
  ZN = Symbol.for("react.fragment"),
  QN = Object.prototype.hasOwnProperty,
  JN = KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
  e8 = { key: !0, ref: !0, __self: !0, __source: !0 };
function R2(r, e, t) {
  var n,
    i = {},
    s = null,
    o = null;
  t !== void 0 && (s = "" + t),
    e.key !== void 0 && (s = "" + e.key),
    e.ref !== void 0 && (o = e.ref);
  for (n in e) QN.call(e, n) && !e8.hasOwnProperty(n) && (i[n] = e[n]);
  if (r && r.defaultProps)
    for (n in ((e = r.defaultProps), e)) i[n] === void 0 && (i[n] = e[n]);
  return {
    $$typeof: qN,
    type: r,
    key: s,
    ref: o,
    props: i,
    _owner: JN.current,
  };
}
Mm.Fragment = ZN;
Mm.jsx = R2;
Mm.jsxs = R2;
x2.exports = Mm;
var p = x2.exports,
  D2 = { exports: {} },
  ti = {},
  M2 = { exports: {} },
  B2 = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (function (r) {
  function e(R, B) {
    var L = R.length;
    R.push(B);
    e: for (; 0 < L; ) {
      var M = (L - 1) >>> 1,
        b = R[M];
      if (0 < i(b, B)) (R[M] = B), (R[L] = b), (L = M);
      else break e;
    }
  }
  function t(R) {
    return R.length === 0 ? null : R[0];
  }
  function n(R) {
    if (R.length === 0) return null;
    var B = R[0],
      L = R.pop();
    if (L !== B) {
      R[0] = L;
      e: for (var M = 0, b = R.length, N = b >>> 1; M < N; ) {
        var J = 2 * (M + 1) - 1,
          te = R[J],
          ne = J + 1,
          ke = R[ne];
        if (0 > i(te, L))
          ne < b && 0 > i(ke, te)
            ? ((R[M] = ke), (R[ne] = L), (M = ne))
            : ((R[M] = te), (R[J] = L), (M = J));
        else if (ne < b && 0 > i(ke, L)) (R[M] = ke), (R[ne] = L), (M = ne);
        else break e;
      }
    }
    return B;
  }
  function i(R, B) {
    var L = R.sortIndex - B.sortIndex;
    return L !== 0 ? L : R.id - B.id;
  }
  if (typeof performance == "object" && typeof performance.now == "function") {
    var s = performance;
    r.unstable_now = function () {
      return s.now();
    };
  } else {
    var o = Date,
      a = o.now();
    r.unstable_now = function () {
      return o.now() - a;
    };
  }
  var l = [],
    u = [],
    c = 1,
    h = null,
    d = 3,
    f = !1,
    m = !1,
    g = !1,
    _ = typeof setTimeout == "function" ? setTimeout : null,
    v = typeof clearTimeout == "function" ? clearTimeout : null,
    w = typeof setImmediate < "u" ? setImmediate : null;
  typeof navigator < "u" &&
    navigator.scheduling !== void 0 &&
    navigator.scheduling.isInputPending !== void 0 &&
    navigator.scheduling.isInputPending.bind(navigator.scheduling);
  function x(R) {
    for (var B = t(u); B !== null; ) {
      if (B.callback === null) n(u);
      else if (B.startTime <= R)
        n(u), (B.sortIndex = B.expirationTime), e(l, B);
      else break;
      B = t(u);
    }
  }
  function k(R) {
    if (((g = !1), x(R), !m))
      if (t(l) !== null) (m = !0), A(C);
      else {
        var B = t(u);
        B !== null && P(k, B.startTime - R);
      }
  }
  function C(R, B) {
    (m = !1), g && ((g = !1), v(G), (G = -1)), (f = !0);
    var L = d;
    try {
      for (
        x(B), h = t(l);
        h !== null && (!(h.expirationTime > B) || (R && !H()));

      ) {
        var M = h.callback;
        if (typeof M == "function") {
          (h.callback = null), (d = h.priorityLevel);
          var b = M(h.expirationTime <= B);
          (B = r.unstable_now()),
            typeof b == "function" ? (h.callback = b) : h === t(l) && n(l),
            x(B);
        } else n(l);
        h = t(l);
      }
      if (h !== null) var N = !0;
      else {
        var J = t(u);
        J !== null && P(k, J.startTime - B), (N = !1);
      }
      return N;
    } finally {
      (h = null), (d = L), (f = !1);
    }
  }
  var F = !1,
    I = null,
    G = -1,
    j = 5,
    $ = -1;
  function H() {
    return !(r.unstable_now() - $ < j);
  }
  function Q() {
    if (I !== null) {
      var R = r.unstable_now();
      $ = R;
      var B = !0;
      try {
        B = I(!0, R);
      } finally {
        B ? O() : ((F = !1), (I = null));
      }
    } else F = !1;
  }
  var O;
  if (typeof w == "function")
    O = function () {
      w(Q);
    };
  else if (typeof MessageChannel < "u") {
    var y = new MessageChannel(),
      T = y.port2;
    (y.port1.onmessage = Q),
      (O = function () {
        T.postMessage(null);
      });
  } else
    O = function () {
      _(Q, 0);
    };
  function A(R) {
    (I = R), F || ((F = !0), O());
  }
  function P(R, B) {
    G = _(function () {
      R(r.unstable_now());
    }, B);
  }
  (r.unstable_IdlePriority = 5),
    (r.unstable_ImmediatePriority = 1),
    (r.unstable_LowPriority = 4),
    (r.unstable_NormalPriority = 3),
    (r.unstable_Profiling = null),
    (r.unstable_UserBlockingPriority = 2),
    (r.unstable_cancelCallback = function (R) {
      R.callback = null;
    }),
    (r.unstable_continueExecution = function () {
      m || f || ((m = !0), A(C));
    }),
    (r.unstable_forceFrameRate = function (R) {
      0 > R || 125 < R
        ? console.error(
            "forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"
          )
        : (j = 0 < R ? Math.floor(1e3 / R) : 5);
    }),
    (r.unstable_getCurrentPriorityLevel = function () {
      return d;
    }),
    (r.unstable_getFirstCallbackNode = function () {
      return t(l);
    }),
    (r.unstable_next = function (R) {
      switch (d) {
        case 1:
        case 2:
        case 3:
          var B = 3;
          break;
        default:
          B = d;
      }
      var L = d;
      d = B;
      try {
        return R();
      } finally {
        d = L;
      }
    }),
    (r.unstable_pauseExecution = function () {}),
    (r.unstable_requestPaint = function () {}),
    (r.unstable_runWithPriority = function (R, B) {
      switch (R) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          R = 3;
      }
      var L = d;
      d = R;
      try {
        return B();
      } finally {
        d = L;
      }
    }),
    (r.unstable_scheduleCallback = function (R, B, L) {
      var M = r.unstable_now();
      switch (
        (typeof L == "object" && L !== null
          ? ((L = L.delay), (L = typeof L == "number" && 0 < L ? M + L : M))
          : (L = M),
        R)
      ) {
        case 1:
          var b = -1;
          break;
        case 2:
          b = 250;
          break;
        case 5:
          b = 1073741823;
          break;
        case 4:
          b = 1e4;
          break;
        default:
          b = 5e3;
      }
      return (
        (b = L + b),
        (R = {
          id: c++,
          callback: B,
          priorityLevel: R,
          startTime: L,
          expirationTime: b,
          sortIndex: -1,
        }),
        L > M
          ? ((R.sortIndex = L),
            e(u, R),
            t(l) === null &&
              R === t(u) &&
              (g ? (v(G), (G = -1)) : (g = !0), P(k, L - M)))
          : ((R.sortIndex = b), e(l, R), m || f || ((m = !0), A(C))),
        R
      );
    }),
    (r.unstable_shouldYield = H),
    (r.unstable_wrapCallback = function (R) {
      var B = d;
      return function () {
        var L = d;
        d = B;
        try {
          return R.apply(this, arguments);
        } finally {
          d = L;
        }
      };
    });
})(B2);
M2.exports = B2;
var t8 = M2.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var r8 = K,
  Qn = t8;
function re(r) {
  for (
    var e = "https://reactjs.org/docs/error-decoder.html?invariant=" + r, t = 1;
    t < arguments.length;
    t++
  )
    e += "&args[]=" + encodeURIComponent(arguments[t]);
  return (
    "Minified React error #" +
    r +
    "; visit " +
    e +
    " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
  );
}
var O2 = new Set(),
  lh = {};
function ll(r, e) {
  _u(r, e), _u(r + "Capture", e);
}
function _u(r, e) {
  for (lh[r] = e, r = 0; r < e.length; r++) O2.add(e[r]);
}
var no = !(
    typeof window > "u" ||
    typeof window.document > "u" ||
    typeof window.document.createElement > "u"
  ),
  hy = Object.prototype.hasOwnProperty,
  n8 =
    /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
  A1 = {},
  P1 = {};
function i8(r) {
  return hy.call(P1, r)
    ? !0
    : hy.call(A1, r)
    ? !1
    : n8.test(r)
    ? (P1[r] = !0)
    : ((A1[r] = !0), !1);
}
function s8(r, e, t, n) {
  if (t !== null && t.type === 0) return !1;
  switch (typeof e) {
    case "function":
    case "symbol":
      return !0;
    case "boolean":
      return n
        ? !1
        : t !== null
        ? !t.acceptsBooleans
        : ((r = r.toLowerCase().slice(0, 5)), r !== "data-" && r !== "aria-");
    default:
      return !1;
  }
}
function o8(r, e, t, n) {
  if (e === null || typeof e > "u" || s8(r, e, t, n)) return !0;
  if (n) return !1;
  if (t !== null)
    switch (t.type) {
      case 3:
        return !e;
      case 4:
        return e === !1;
      case 5:
        return isNaN(e);
      case 6:
        return isNaN(e) || 1 > e;
    }
  return !1;
}
function pn(r, e, t, n, i, s, o) {
  (this.acceptsBooleans = e === 2 || e === 3 || e === 4),
    (this.attributeName = n),
    (this.attributeNamespace = i),
    (this.mustUseProperty = t),
    (this.propertyName = r),
    (this.type = e),
    (this.sanitizeURL = s),
    (this.removeEmptyString = o);
}
var Hr = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style"
  .split(" ")
  .forEach(function (r) {
    Hr[r] = new pn(r, 0, !1, r, null, !1, !1);
  });
[
  ["acceptCharset", "accept-charset"],
  ["className", "class"],
  ["htmlFor", "for"],
  ["httpEquiv", "http-equiv"],
].forEach(function (r) {
  var e = r[0];
  Hr[e] = new pn(e, 1, !1, r[1], null, !1, !1);
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function (r) {
  Hr[r] = new pn(r, 2, !1, r.toLowerCase(), null, !1, !1);
});
[
  "autoReverse",
  "externalResourcesRequired",
  "focusable",
  "preserveAlpha",
].forEach(function (r) {
  Hr[r] = new pn(r, 2, !1, r, null, !1, !1);
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope"
  .split(" ")
  .forEach(function (r) {
    Hr[r] = new pn(r, 3, !1, r.toLowerCase(), null, !1, !1);
  });
["checked", "multiple", "muted", "selected"].forEach(function (r) {
  Hr[r] = new pn(r, 3, !0, r, null, !1, !1);
});
["capture", "download"].forEach(function (r) {
  Hr[r] = new pn(r, 4, !1, r, null, !1, !1);
});
["cols", "rows", "size", "span"].forEach(function (r) {
  Hr[r] = new pn(r, 6, !1, r, null, !1, !1);
});
["rowSpan", "start"].forEach(function (r) {
  Hr[r] = new pn(r, 5, !1, r.toLowerCase(), null, !1, !1);
});
var Nx = /[\-:]([a-z])/g;
function Lx(r) {
  return r[1].toUpperCase();
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height"
  .split(" ")
  .forEach(function (r) {
    var e = r.replace(Nx, Lx);
    Hr[e] = new pn(e, 1, !1, r, null, !1, !1);
  });
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type"
  .split(" ")
  .forEach(function (r) {
    var e = r.replace(Nx, Lx);
    Hr[e] = new pn(e, 1, !1, r, "http://www.w3.org/1999/xlink", !1, !1);
  });
["xml:base", "xml:lang", "xml:space"].forEach(function (r) {
  var e = r.replace(Nx, Lx);
  Hr[e] = new pn(e, 1, !1, r, "http://www.w3.org/XML/1998/namespace", !1, !1);
});
["tabIndex", "crossOrigin"].forEach(function (r) {
  Hr[r] = new pn(r, 1, !1, r.toLowerCase(), null, !1, !1);
});
Hr.xlinkHref = new pn(
  "xlinkHref",
  1,
  !1,
  "xlink:href",
  "http://www.w3.org/1999/xlink",
  !0,
  !1
);
["src", "href", "action", "formAction"].forEach(function (r) {
  Hr[r] = new pn(r, 1, !1, r.toLowerCase(), null, !0, !0);
});
function Ux(r, e, t, n) {
  var i = Hr.hasOwnProperty(e) ? Hr[e] : null;
  (i !== null
    ? i.type !== 0
    : n ||
      !(2 < e.length) ||
      (e[0] !== "o" && e[0] !== "O") ||
      (e[1] !== "n" && e[1] !== "N")) &&
    (o8(e, t, i, n) && (t = null),
    n || i === null
      ? i8(e) && (t === null ? r.removeAttribute(e) : r.setAttribute(e, "" + t))
      : i.mustUseProperty
      ? (r[i.propertyName] = t === null ? (i.type === 3 ? !1 : "") : t)
      : ((e = i.attributeName),
        (n = i.attributeNamespace),
        t === null
          ? r.removeAttribute(e)
          : ((i = i.type),
            (t = i === 3 || (i === 4 && t === !0) ? "" : "" + t),
            n ? r.setAttributeNS(n, e, t) : r.setAttribute(e, t))));
}
var fo = r8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
  Sd = Symbol.for("react.element"),
  Fl = Symbol.for("react.portal"),
  Nl = Symbol.for("react.fragment"),
  Gx = Symbol.for("react.strict_mode"),
  dy = Symbol.for("react.profiler"),
  I2 = Symbol.for("react.provider"),
  F2 = Symbol.for("react.context"),
  jx = Symbol.for("react.forward_ref"),
  fy = Symbol.for("react.suspense"),
  py = Symbol.for("react.suspense_list"),
  $x = Symbol.for("react.memo"),
  To = Symbol.for("react.lazy"),
  N2 = Symbol.for("react.offscreen"),
  C1 = Symbol.iterator;
function rc(r) {
  return r === null || typeof r != "object"
    ? null
    : ((r = (C1 && r[C1]) || r["@@iterator"]),
      typeof r == "function" ? r : null);
}
var Ut = Object.assign,
  o_;
function Cc(r) {
  if (o_ === void 0)
    try {
      throw Error();
    } catch (t) {
      var e = t.stack.trim().match(/\n( *(at )?)/);
      o_ = (e && e[1]) || "";
    }
  return (
    `
` +
    o_ +
    r
  );
}
var a_ = !1;
function l_(r, e) {
  if (!r || a_) return "";
  a_ = !0;
  var t = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    if (e)
      if (
        ((e = function () {
          throw Error();
        }),
        Object.defineProperty(e.prototype, "props", {
          set: function () {
            throw Error();
          },
        }),
        typeof Reflect == "object" && Reflect.construct)
      ) {
        try {
          Reflect.construct(e, []);
        } catch (u) {
          var n = u;
        }
        Reflect.construct(r, [], e);
      } else {
        try {
          e.call();
        } catch (u) {
          n = u;
        }
        r.call(e.prototype);
      }
    else {
      try {
        throw Error();
      } catch (u) {
        n = u;
      }
      r();
    }
  } catch (u) {
    if (u && n && typeof u.stack == "string") {
      for (
        var i = u.stack.split(`
`),
          s = n.stack.split(`
`),
          o = i.length - 1,
          a = s.length - 1;
        1 <= o && 0 <= a && i[o] !== s[a];

      )
        a--;
      for (; 1 <= o && 0 <= a; o--, a--)
        if (i[o] !== s[a]) {
          if (o !== 1 || a !== 1)
            do
              if ((o--, a--, 0 > a || i[o] !== s[a])) {
                var l =
                  `
` + i[o].replace(" at new ", " at ");
                return (
                  r.displayName &&
                    l.includes("<anonymous>") &&
                    (l = l.replace("<anonymous>", r.displayName)),
                  l
                );
              }
            while (1 <= o && 0 <= a);
          break;
        }
    }
  } finally {
    (a_ = !1), (Error.prepareStackTrace = t);
  }
  return (r = r ? r.displayName || r.name : "") ? Cc(r) : "";
}
function a8(r) {
  switch (r.tag) {
    case 5:
      return Cc(r.type);
    case 16:
      return Cc("Lazy");
    case 13:
      return Cc("Suspense");
    case 19:
      return Cc("SuspenseList");
    case 0:
    case 2:
    case 15:
      return (r = l_(r.type, !1)), r;
    case 11:
      return (r = l_(r.type.render, !1)), r;
    case 1:
      return (r = l_(r.type, !0)), r;
    default:
      return "";
  }
}
function my(r) {
  if (r == null) return null;
  if (typeof r == "function") return r.displayName || r.name || null;
  if (typeof r == "string") return r;
  switch (r) {
    case Nl:
      return "Fragment";
    case Fl:
      return "Portal";
    case dy:
      return "Profiler";
    case Gx:
      return "StrictMode";
    case fy:
      return "Suspense";
    case py:
      return "SuspenseList";
  }
  if (typeof r == "object")
    switch (r.$$typeof) {
      case F2:
        return (r.displayName || "Context") + ".Consumer";
      case I2:
        return (r._context.displayName || "Context") + ".Provider";
      case jx:
        var e = r.render;
        return (
          (r = r.displayName),
          r ||
            ((r = e.displayName || e.name || ""),
            (r = r !== "" ? "ForwardRef(" + r + ")" : "ForwardRef")),
          r
        );
      case $x:
        return (
          (e = r.displayName || null), e !== null ? e : my(r.type) || "Memo"
        );
      case To:
        (e = r._payload), (r = r._init);
        try {
          return my(r(e));
        } catch {}
    }
  return null;
}
function l8(r) {
  var e = r.type;
  switch (r.tag) {
    case 24:
      return "Cache";
    case 9:
      return (e.displayName || "Context") + ".Consumer";
    case 10:
      return (e._context.displayName || "Context") + ".Provider";
    case 18:
      return "DehydratedFragment";
    case 11:
      return (
        (r = e.render),
        (r = r.displayName || r.name || ""),
        e.displayName || (r !== "" ? "ForwardRef(" + r + ")" : "ForwardRef")
      );
    case 7:
      return "Fragment";
    case 5:
      return e;
    case 4:
      return "Portal";
    case 3:
      return "Root";
    case 6:
      return "Text";
    case 16:
      return my(e);
    case 8:
      return e === Gx ? "StrictMode" : "Mode";
    case 22:
      return "Offscreen";
    case 12:
      return "Profiler";
    case 21:
      return "Scope";
    case 13:
      return "Suspense";
    case 19:
      return "SuspenseList";
    case 25:
      return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
      if (typeof e == "function") return e.displayName || e.name || null;
      if (typeof e == "string") return e;
  }
  return null;
}
function Zo(r) {
  switch (typeof r) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return r;
    case "object":
      return r;
    default:
      return "";
  }
}
function L2(r) {
  var e = r.type;
  return (
    (r = r.nodeName) &&
    r.toLowerCase() === "input" &&
    (e === "checkbox" || e === "radio")
  );
}
function u8(r) {
  var e = L2(r) ? "checked" : "value",
    t = Object.getOwnPropertyDescriptor(r.constructor.prototype, e),
    n = "" + r[e];
  if (
    !r.hasOwnProperty(e) &&
    typeof t < "u" &&
    typeof t.get == "function" &&
    typeof t.set == "function"
  ) {
    var i = t.get,
      s = t.set;
    return (
      Object.defineProperty(r, e, {
        configurable: !0,
        get: function () {
          return i.call(this);
        },
        set: function (o) {
          (n = "" + o), s.call(this, o);
        },
      }),
      Object.defineProperty(r, e, { enumerable: t.enumerable }),
      {
        getValue: function () {
          return n;
        },
        setValue: function (o) {
          n = "" + o;
        },
        stopTracking: function () {
          (r._valueTracker = null), delete r[e];
        },
      }
    );
  }
}
function Ed(r) {
  r._valueTracker || (r._valueTracker = u8(r));
}
function U2(r) {
  if (!r) return !1;
  var e = r._valueTracker;
  if (!e) return !0;
  var t = e.getValue(),
    n = "";
  return (
    r && (n = L2(r) ? (r.checked ? "true" : "false") : r.value),
    (r = n),
    r !== t ? (e.setValue(r), !0) : !1
  );
}
function np(r) {
  if (((r = r || (typeof document < "u" ? document : void 0)), typeof r > "u"))
    return null;
  try {
    return r.activeElement || r.body;
  } catch {
    return r.body;
  }
}
function gy(r, e) {
  var t = e.checked;
  return Ut({}, e, {
    defaultChecked: void 0,
    defaultValue: void 0,
    value: void 0,
    checked: t ?? r._wrapperState.initialChecked,
  });
}
function R1(r, e) {
  var t = e.defaultValue == null ? "" : e.defaultValue,
    n = e.checked != null ? e.checked : e.defaultChecked;
  (t = Zo(e.value != null ? e.value : t)),
    (r._wrapperState = {
      initialChecked: n,
      initialValue: t,
      controlled:
        e.type === "checkbox" || e.type === "radio"
          ? e.checked != null
          : e.value != null,
    });
}
function G2(r, e) {
  (e = e.checked), e != null && Ux(r, "checked", e, !1);
}
function _y(r, e) {
  G2(r, e);
  var t = Zo(e.value),
    n = e.type;
  if (t != null)
    n === "number"
      ? ((t === 0 && r.value === "") || r.value != t) && (r.value = "" + t)
      : r.value !== "" + t && (r.value = "" + t);
  else if (n === "submit" || n === "reset") {
    r.removeAttribute("value");
    return;
  }
  e.hasOwnProperty("value")
    ? yy(r, e.type, t)
    : e.hasOwnProperty("defaultValue") && yy(r, e.type, Zo(e.defaultValue)),
    e.checked == null &&
      e.defaultChecked != null &&
      (r.defaultChecked = !!e.defaultChecked);
}
function D1(r, e, t) {
  if (e.hasOwnProperty("value") || e.hasOwnProperty("defaultValue")) {
    var n = e.type;
    if (
      !(
        (n !== "submit" && n !== "reset") ||
        (e.value !== void 0 && e.value !== null)
      )
    )
      return;
    (e = "" + r._wrapperState.initialValue),
      t || e === r.value || (r.value = e),
      (r.defaultValue = e);
  }
  (t = r.name),
    t !== "" && (r.name = ""),
    (r.defaultChecked = !!r._wrapperState.initialChecked),
    t !== "" && (r.name = t);
}
function yy(r, e, t) {
  (e !== "number" || np(r.ownerDocument) !== r) &&
    (t == null
      ? (r.defaultValue = "" + r._wrapperState.initialValue)
      : r.defaultValue !== "" + t && (r.defaultValue = "" + t));
}
var Rc = Array.isArray;
function ru(r, e, t, n) {
  if (((r = r.options), e)) {
    e = {};
    for (var i = 0; i < t.length; i++) e["$" + t[i]] = !0;
    for (t = 0; t < r.length; t++)
      (i = e.hasOwnProperty("$" + r[t].value)),
        r[t].selected !== i && (r[t].selected = i),
        i && n && (r[t].defaultSelected = !0);
  } else {
    for (t = "" + Zo(t), e = null, i = 0; i < r.length; i++) {
      if (r[i].value === t) {
        (r[i].selected = !0), n && (r[i].defaultSelected = !0);
        return;
      }
      e !== null || r[i].disabled || (e = r[i]);
    }
    e !== null && (e.selected = !0);
  }
}
function vy(r, e) {
  if (e.dangerouslySetInnerHTML != null) throw Error(re(91));
  return Ut({}, e, {
    value: void 0,
    defaultValue: void 0,
    children: "" + r._wrapperState.initialValue,
  });
}
function M1(r, e) {
  var t = e.value;
  if (t == null) {
    if (((t = e.children), (e = e.defaultValue), t != null)) {
      if (e != null) throw Error(re(92));
      if (Rc(t)) {
        if (1 < t.length) throw Error(re(93));
        t = t[0];
      }
      e = t;
    }
    e == null && (e = ""), (t = e);
  }
  r._wrapperState = { initialValue: Zo(t) };
}
function j2(r, e) {
  var t = Zo(e.value),
    n = Zo(e.defaultValue);
  t != null &&
    ((t = "" + t),
    t !== r.value && (r.value = t),
    e.defaultValue == null && r.defaultValue !== t && (r.defaultValue = t)),
    n != null && (r.defaultValue = "" + n);
}
function B1(r) {
  var e = r.textContent;
  e === r._wrapperState.initialValue && e !== "" && e !== null && (r.value = e);
}
function $2(r) {
  switch (r) {
    case "svg":
      return "http://www.w3.org/2000/svg";
    case "math":
      return "http://www.w3.org/1998/Math/MathML";
    default:
      return "http://www.w3.org/1999/xhtml";
  }
}
function xy(r, e) {
  return r == null || r === "http://www.w3.org/1999/xhtml"
    ? $2(e)
    : r === "http://www.w3.org/2000/svg" && e === "foreignObject"
    ? "http://www.w3.org/1999/xhtml"
    : r;
}
var Td,
  z2 = (function (r) {
    return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction
      ? function (e, t, n, i) {
          MSApp.execUnsafeLocalFunction(function () {
            return r(e, t, n, i);
          });
        }
      : r;
  })(function (r, e) {
    if (r.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in r)
      r.innerHTML = e;
    else {
      for (
        Td = Td || document.createElement("div"),
          Td.innerHTML = "<svg>" + e.valueOf().toString() + "</svg>",
          e = Td.firstChild;
        r.firstChild;

      )
        r.removeChild(r.firstChild);
      for (; e.firstChild; ) r.appendChild(e.firstChild);
    }
  });
function uh(r, e) {
  if (e) {
    var t = r.firstChild;
    if (t && t === r.lastChild && t.nodeType === 3) {
      t.nodeValue = e;
      return;
    }
  }
  r.textContent = e;
}
var $c = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0,
  },
  c8 = ["Webkit", "ms", "Moz", "O"];
Object.keys($c).forEach(function (r) {
  c8.forEach(function (e) {
    (e = e + r.charAt(0).toUpperCase() + r.substring(1)), ($c[e] = $c[r]);
  });
});
function W2(r, e, t) {
  return e == null || typeof e == "boolean" || e === ""
    ? ""
    : t || typeof e != "number" || e === 0 || ($c.hasOwnProperty(r) && $c[r])
    ? ("" + e).trim()
    : e + "px";
}
function H2(r, e) {
  r = r.style;
  for (var t in e)
    if (e.hasOwnProperty(t)) {
      var n = t.indexOf("--") === 0,
        i = W2(t, e[t], n);
      t === "float" && (t = "cssFloat"), n ? r.setProperty(t, i) : (r[t] = i);
    }
}
var h8 = Ut(
  { menuitem: !0 },
  {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0,
  }
);
function wy(r, e) {
  if (e) {
    if (h8[r] && (e.children != null || e.dangerouslySetInnerHTML != null))
      throw Error(re(137, r));
    if (e.dangerouslySetInnerHTML != null) {
      if (e.children != null) throw Error(re(60));
      if (
        typeof e.dangerouslySetInnerHTML != "object" ||
        !("__html" in e.dangerouslySetInnerHTML)
      )
        throw Error(re(61));
    }
    if (e.style != null && typeof e.style != "object") throw Error(re(62));
  }
}
function by(r, e) {
  if (r.indexOf("-") === -1) return typeof e.is == "string";
  switch (r) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return !1;
    default:
      return !0;
  }
}
var Sy = null;
function zx(r) {
  return (
    (r = r.target || r.srcElement || window),
    r.correspondingUseElement && (r = r.correspondingUseElement),
    r.nodeType === 3 ? r.parentNode : r
  );
}
var Ey = null,
  nu = null,
  iu = null;
function O1(r) {
  if ((r = Qh(r))) {
    if (typeof Ey != "function") throw Error(re(280));
    var e = r.stateNode;
    e && ((e = Nm(e)), Ey(r.stateNode, r.type, e));
  }
}
function V2(r) {
  nu ? (iu ? iu.push(r) : (iu = [r])) : (nu = r);
}
function X2() {
  if (nu) {
    var r = nu,
      e = iu;
    if (((iu = nu = null), O1(r), e)) for (r = 0; r < e.length; r++) O1(e[r]);
  }
}
function Y2(r, e) {
  return r(e);
}
function K2() {}
var u_ = !1;
function q2(r, e, t) {
  if (u_) return r(e, t);
  u_ = !0;
  try {
    return Y2(r, e, t);
  } finally {
    (u_ = !1), (nu !== null || iu !== null) && (K2(), X2());
  }
}
function ch(r, e) {
  var t = r.stateNode;
  if (t === null) return null;
  var n = Nm(t);
  if (n === null) return null;
  t = n[e];
  e: switch (e) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
      (n = !n.disabled) ||
        ((r = r.type),
        (n = !(
          r === "button" ||
          r === "input" ||
          r === "select" ||
          r === "textarea"
        ))),
        (r = !n);
      break e;
    default:
      r = !1;
  }
  if (r) return null;
  if (t && typeof t != "function") throw Error(re(231, e, typeof t));
  return t;
}
var Ty = !1;
if (no)
  try {
    var nc = {};
    Object.defineProperty(nc, "passive", {
      get: function () {
        Ty = !0;
      },
    }),
      window.addEventListener("test", nc, nc),
      window.removeEventListener("test", nc, nc);
  } catch {
    Ty = !1;
  }
function d8(r, e, t, n, i, s, o, a, l) {
  var u = Array.prototype.slice.call(arguments, 3);
  try {
    e.apply(t, u);
  } catch (c) {
    this.onError(c);
  }
}
var zc = !1,
  ip = null,
  sp = !1,
  ky = null,
  f8 = {
    onError: function (r) {
      (zc = !0), (ip = r);
    },
  };
function p8(r, e, t, n, i, s, o, a, l) {
  (zc = !1), (ip = null), d8.apply(f8, arguments);
}
function m8(r, e, t, n, i, s, o, a, l) {
  if ((p8.apply(this, arguments), zc)) {
    if (zc) {
      var u = ip;
      (zc = !1), (ip = null);
    } else throw Error(re(198));
    sp || ((sp = !0), (ky = u));
  }
}
function ul(r) {
  var e = r,
    t = r;
  if (r.alternate) for (; e.return; ) e = e.return;
  else {
    r = e;
    do (e = r), e.flags & 4098 && (t = e.return), (r = e.return);
    while (r);
  }
  return e.tag === 3 ? t : null;
}
function Z2(r) {
  if (r.tag === 13) {
    var e = r.memoizedState;
    if (
      (e === null && ((r = r.alternate), r !== null && (e = r.memoizedState)),
      e !== null)
    )
      return e.dehydrated;
  }
  return null;
}
function I1(r) {
  if (ul(r) !== r) throw Error(re(188));
}
function g8(r) {
  var e = r.alternate;
  if (!e) {
    if (((e = ul(r)), e === null)) throw Error(re(188));
    return e !== r ? null : r;
  }
  for (var t = r, n = e; ; ) {
    var i = t.return;
    if (i === null) break;
    var s = i.alternate;
    if (s === null) {
      if (((n = i.return), n !== null)) {
        t = n;
        continue;
      }
      break;
    }
    if (i.child === s.child) {
      for (s = i.child; s; ) {
        if (s === t) return I1(i), r;
        if (s === n) return I1(i), e;
        s = s.sibling;
      }
      throw Error(re(188));
    }
    if (t.return !== n.return) (t = i), (n = s);
    else {
      for (var o = !1, a = i.child; a; ) {
        if (a === t) {
          (o = !0), (t = i), (n = s);
          break;
        }
        if (a === n) {
          (o = !0), (n = i), (t = s);
          break;
        }
        a = a.sibling;
      }
      if (!o) {
        for (a = s.child; a; ) {
          if (a === t) {
            (o = !0), (t = s), (n = i);
            break;
          }
          if (a === n) {
            (o = !0), (n = s), (t = i);
            break;
          }
          a = a.sibling;
        }
        if (!o) throw Error(re(189));
      }
    }
    if (t.alternate !== n) throw Error(re(190));
  }
  if (t.tag !== 3) throw Error(re(188));
  return t.stateNode.current === t ? r : e;
}
function Q2(r) {
  return (r = g8(r)), r !== null ? J2(r) : null;
}
function J2(r) {
  if (r.tag === 5 || r.tag === 6) return r;
  for (r = r.child; r !== null; ) {
    var e = J2(r);
    if (e !== null) return e;
    r = r.sibling;
  }
  return null;
}
var eC = Qn.unstable_scheduleCallback,
  F1 = Qn.unstable_cancelCallback,
  _8 = Qn.unstable_shouldYield,
  y8 = Qn.unstable_requestPaint,
  Kt = Qn.unstable_now,
  v8 = Qn.unstable_getCurrentPriorityLevel,
  Wx = Qn.unstable_ImmediatePriority,
  tC = Qn.unstable_UserBlockingPriority,
  op = Qn.unstable_NormalPriority,
  x8 = Qn.unstable_LowPriority,
  rC = Qn.unstable_IdlePriority,
  Bm = null,
  vs = null;
function w8(r) {
  if (vs && typeof vs.onCommitFiberRoot == "function")
    try {
      vs.onCommitFiberRoot(Bm, r, void 0, (r.current.flags & 128) === 128);
    } catch {}
}
var Hi = Math.clz32 ? Math.clz32 : E8,
  b8 = Math.log,
  S8 = Math.LN2;
function E8(r) {
  return (r >>>= 0), r === 0 ? 32 : (31 - ((b8(r) / S8) | 0)) | 0;
}
var kd = 64,
  Ad = 4194304;
function Dc(r) {
  switch (r & -r) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return r & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return r & 130023424;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 1073741824;
    default:
      return r;
  }
}
function ap(r, e) {
  var t = r.pendingLanes;
  if (t === 0) return 0;
  var n = 0,
    i = r.suspendedLanes,
    s = r.pingedLanes,
    o = t & 268435455;
  if (o !== 0) {
    var a = o & ~i;
    a !== 0 ? (n = Dc(a)) : ((s &= o), s !== 0 && (n = Dc(s)));
  } else (o = t & ~i), o !== 0 ? (n = Dc(o)) : s !== 0 && (n = Dc(s));
  if (n === 0) return 0;
  if (
    e !== 0 &&
    e !== n &&
    !(e & i) &&
    ((i = n & -n), (s = e & -e), i >= s || (i === 16 && (s & 4194240) !== 0))
  )
    return e;
  if ((n & 4 && (n |= t & 16), (e = r.entangledLanes), e !== 0))
    for (r = r.entanglements, e &= n; 0 < e; )
      (t = 31 - Hi(e)), (i = 1 << t), (n |= r[t]), (e &= ~i);
  return n;
}
function T8(r, e) {
  switch (r) {
    case 1:
    case 2:
    case 4:
      return e + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return e + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function k8(r, e) {
  for (
    var t = r.suspendedLanes,
      n = r.pingedLanes,
      i = r.expirationTimes,
      s = r.pendingLanes;
    0 < s;

  ) {
    var o = 31 - Hi(s),
      a = 1 << o,
      l = i[o];
    l === -1
      ? (!(a & t) || a & n) && (i[o] = T8(a, e))
      : l <= e && (r.expiredLanes |= a),
      (s &= ~a);
  }
}
function Ay(r) {
  return (
    (r = r.pendingLanes & -1073741825),
    r !== 0 ? r : r & 1073741824 ? 1073741824 : 0
  );
}
function nC() {
  var r = kd;
  return (kd <<= 1), !(kd & 4194240) && (kd = 64), r;
}
function c_(r) {
  for (var e = [], t = 0; 31 > t; t++) e.push(r);
  return e;
}
function qh(r, e, t) {
  (r.pendingLanes |= e),
    e !== 536870912 && ((r.suspendedLanes = 0), (r.pingedLanes = 0)),
    (r = r.eventTimes),
    (e = 31 - Hi(e)),
    (r[e] = t);
}
function A8(r, e) {
  var t = r.pendingLanes & ~e;
  (r.pendingLanes = e),
    (r.suspendedLanes = 0),
    (r.pingedLanes = 0),
    (r.expiredLanes &= e),
    (r.mutableReadLanes &= e),
    (r.entangledLanes &= e),
    (e = r.entanglements);
  var n = r.eventTimes;
  for (r = r.expirationTimes; 0 < t; ) {
    var i = 31 - Hi(t),
      s = 1 << i;
    (e[i] = 0), (n[i] = -1), (r[i] = -1), (t &= ~s);
  }
}
function Hx(r, e) {
  var t = (r.entangledLanes |= e);
  for (r = r.entanglements; t; ) {
    var n = 31 - Hi(t),
      i = 1 << n;
    (i & e) | (r[n] & e) && (r[n] |= e), (t &= ~i);
  }
}
var st = 0;
function iC(r) {
  return (r &= -r), 1 < r ? (4 < r ? (r & 268435455 ? 16 : 536870912) : 4) : 1;
}
var sC,
  Vx,
  oC,
  aC,
  lC,
  Py = !1,
  Pd = [],
  Go = null,
  jo = null,
  $o = null,
  hh = new Map(),
  dh = new Map(),
  Ao = [],
  P8 =
    "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(
      " "
    );
function N1(r, e) {
  switch (r) {
    case "focusin":
    case "focusout":
      Go = null;
      break;
    case "dragenter":
    case "dragleave":
      jo = null;
      break;
    case "mouseover":
    case "mouseout":
      $o = null;
      break;
    case "pointerover":
    case "pointerout":
      hh.delete(e.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      dh.delete(e.pointerId);
  }
}
function ic(r, e, t, n, i, s) {
  return r === null || r.nativeEvent !== s
    ? ((r = {
        blockedOn: e,
        domEventName: t,
        eventSystemFlags: n,
        nativeEvent: s,
        targetContainers: [i],
      }),
      e !== null && ((e = Qh(e)), e !== null && Vx(e)),
      r)
    : ((r.eventSystemFlags |= n),
      (e = r.targetContainers),
      i !== null && e.indexOf(i) === -1 && e.push(i),
      r);
}
function C8(r, e, t, n, i) {
  switch (e) {
    case "focusin":
      return (Go = ic(Go, r, e, t, n, i)), !0;
    case "dragenter":
      return (jo = ic(jo, r, e, t, n, i)), !0;
    case "mouseover":
      return ($o = ic($o, r, e, t, n, i)), !0;
    case "pointerover":
      var s = i.pointerId;
      return hh.set(s, ic(hh.get(s) || null, r, e, t, n, i)), !0;
    case "gotpointercapture":
      return (
        (s = i.pointerId), dh.set(s, ic(dh.get(s) || null, r, e, t, n, i)), !0
      );
  }
  return !1;
}
function uC(r) {
  var e = Pa(r.target);
  if (e !== null) {
    var t = ul(e);
    if (t !== null) {
      if (((e = t.tag), e === 13)) {
        if (((e = Z2(t)), e !== null)) {
          (r.blockedOn = e),
            lC(r.priority, function () {
              oC(t);
            });
          return;
        }
      } else if (e === 3 && t.stateNode.current.memoizedState.isDehydrated) {
        r.blockedOn = t.tag === 3 ? t.stateNode.containerInfo : null;
        return;
      }
    }
  }
  r.blockedOn = null;
}
function Bf(r) {
  if (r.blockedOn !== null) return !1;
  for (var e = r.targetContainers; 0 < e.length; ) {
    var t = Cy(r.domEventName, r.eventSystemFlags, e[0], r.nativeEvent);
    if (t === null) {
      t = r.nativeEvent;
      var n = new t.constructor(t.type, t);
      (Sy = n), t.target.dispatchEvent(n), (Sy = null);
    } else return (e = Qh(t)), e !== null && Vx(e), (r.blockedOn = t), !1;
    e.shift();
  }
  return !0;
}
function L1(r, e, t) {
  Bf(r) && t.delete(e);
}
function R8() {
  (Py = !1),
    Go !== null && Bf(Go) && (Go = null),
    jo !== null && Bf(jo) && (jo = null),
    $o !== null && Bf($o) && ($o = null),
    hh.forEach(L1),
    dh.forEach(L1);
}
function sc(r, e) {
  r.blockedOn === e &&
    ((r.blockedOn = null),
    Py ||
      ((Py = !0),
      Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority, R8)));
}
function fh(r) {
  function e(i) {
    return sc(i, r);
  }
  if (0 < Pd.length) {
    sc(Pd[0], r);
    for (var t = 1; t < Pd.length; t++) {
      var n = Pd[t];
      n.blockedOn === r && (n.blockedOn = null);
    }
  }
  for (
    Go !== null && sc(Go, r),
      jo !== null && sc(jo, r),
      $o !== null && sc($o, r),
      hh.forEach(e),
      dh.forEach(e),
      t = 0;
    t < Ao.length;
    t++
  )
    (n = Ao[t]), n.blockedOn === r && (n.blockedOn = null);
  for (; 0 < Ao.length && ((t = Ao[0]), t.blockedOn === null); )
    uC(t), t.blockedOn === null && Ao.shift();
}
var su = fo.ReactCurrentBatchConfig,
  lp = !0;
function D8(r, e, t, n) {
  var i = st,
    s = su.transition;
  su.transition = null;
  try {
    (st = 1), Xx(r, e, t, n);
  } finally {
    (st = i), (su.transition = s);
  }
}
function M8(r, e, t, n) {
  var i = st,
    s = su.transition;
  su.transition = null;
  try {
    (st = 4), Xx(r, e, t, n);
  } finally {
    (st = i), (su.transition = s);
  }
}
function Xx(r, e, t, n) {
  if (lp) {
    var i = Cy(r, e, t, n);
    if (i === null) x_(r, e, n, up, t), N1(r, n);
    else if (C8(i, r, e, t, n)) n.stopPropagation();
    else if ((N1(r, n), e & 4 && -1 < P8.indexOf(r))) {
      for (; i !== null; ) {
        var s = Qh(i);
        if (
          (s !== null && sC(s),
          (s = Cy(r, e, t, n)),
          s === null && x_(r, e, n, up, t),
          s === i)
        )
          break;
        i = s;
      }
      i !== null && n.stopPropagation();
    } else x_(r, e, n, null, t);
  }
}
var up = null;
function Cy(r, e, t, n) {
  if (((up = null), (r = zx(n)), (r = Pa(r)), r !== null))
    if (((e = ul(r)), e === null)) r = null;
    else if (((t = e.tag), t === 13)) {
      if (((r = Z2(e)), r !== null)) return r;
      r = null;
    } else if (t === 3) {
      if (e.stateNode.current.memoizedState.isDehydrated)
        return e.tag === 3 ? e.stateNode.containerInfo : null;
      r = null;
    } else e !== r && (r = null);
  return (up = r), null;
}
function cC(r) {
  switch (r) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 4;
    case "message":
      switch (v8()) {
        case Wx:
          return 1;
        case tC:
          return 4;
        case op:
        case x8:
          return 16;
        case rC:
          return 536870912;
        default:
          return 16;
      }
    default:
      return 16;
  }
}
var Ro = null,
  Yx = null,
  Of = null;
function hC() {
  if (Of) return Of;
  var r,
    e = Yx,
    t = e.length,
    n,
    i = "value" in Ro ? Ro.value : Ro.textContent,
    s = i.length;
  for (r = 0; r < t && e[r] === i[r]; r++);
  var o = t - r;
  for (n = 1; n <= o && e[t - n] === i[s - n]; n++);
  return (Of = i.slice(r, 1 < n ? 1 - n : void 0));
}
function If(r) {
  var e = r.keyCode;
  return (
    "charCode" in r
      ? ((r = r.charCode), r === 0 && e === 13 && (r = 13))
      : (r = e),
    r === 10 && (r = 13),
    32 <= r || r === 13 ? r : 0
  );
}
function Cd() {
  return !0;
}
function U1() {
  return !1;
}
function ri(r) {
  function e(t, n, i, s, o) {
    (this._reactName = t),
      (this._targetInst = i),
      (this.type = n),
      (this.nativeEvent = s),
      (this.target = o),
      (this.currentTarget = null);
    for (var a in r)
      r.hasOwnProperty(a) && ((t = r[a]), (this[a] = t ? t(s) : s[a]));
    return (
      (this.isDefaultPrevented = (
        s.defaultPrevented != null ? s.defaultPrevented : s.returnValue === !1
      )
        ? Cd
        : U1),
      (this.isPropagationStopped = U1),
      this
    );
  }
  return (
    Ut(e.prototype, {
      preventDefault: function () {
        this.defaultPrevented = !0;
        var t = this.nativeEvent;
        t &&
          (t.preventDefault
            ? t.preventDefault()
            : typeof t.returnValue != "unknown" && (t.returnValue = !1),
          (this.isDefaultPrevented = Cd));
      },
      stopPropagation: function () {
        var t = this.nativeEvent;
        t &&
          (t.stopPropagation
            ? t.stopPropagation()
            : typeof t.cancelBubble != "unknown" && (t.cancelBubble = !0),
          (this.isPropagationStopped = Cd));
      },
      persist: function () {},
      isPersistent: Cd,
    }),
    e
  );
}
var $u = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (r) {
      return r.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0,
  },
  Kx = ri($u),
  Zh = Ut({}, $u, { view: 0, detail: 0 }),
  B8 = ri(Zh),
  h_,
  d_,
  oc,
  Om = Ut({}, Zh, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: qx,
    button: 0,
    buttons: 0,
    relatedTarget: function (r) {
      return r.relatedTarget === void 0
        ? r.fromElement === r.srcElement
          ? r.toElement
          : r.fromElement
        : r.relatedTarget;
    },
    movementX: function (r) {
      return "movementX" in r
        ? r.movementX
        : (r !== oc &&
            (oc && r.type === "mousemove"
              ? ((h_ = r.screenX - oc.screenX), (d_ = r.screenY - oc.screenY))
              : (d_ = h_ = 0),
            (oc = r)),
          h_);
    },
    movementY: function (r) {
      return "movementY" in r ? r.movementY : d_;
    },
  }),
  G1 = ri(Om),
  O8 = Ut({}, Om, { dataTransfer: 0 }),
  I8 = ri(O8),
  F8 = Ut({}, Zh, { relatedTarget: 0 }),
  f_ = ri(F8),
  N8 = Ut({}, $u, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
  L8 = ri(N8),
  U8 = Ut({}, $u, {
    clipboardData: function (r) {
      return "clipboardData" in r ? r.clipboardData : window.clipboardData;
    },
  }),
  G8 = ri(U8),
  j8 = Ut({}, $u, { data: 0 }),
  j1 = ri(j8),
  $8 = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified",
  },
  z8 = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta",
  },
  W8 = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey",
  };
function H8(r) {
  var e = this.nativeEvent;
  return e.getModifierState ? e.getModifierState(r) : (r = W8[r]) ? !!e[r] : !1;
}
function qx() {
  return H8;
}
var V8 = Ut({}, Zh, {
    key: function (r) {
      if (r.key) {
        var e = $8[r.key] || r.key;
        if (e !== "Unidentified") return e;
      }
      return r.type === "keypress"
        ? ((r = If(r)), r === 13 ? "Enter" : String.fromCharCode(r))
        : r.type === "keydown" || r.type === "keyup"
        ? z8[r.keyCode] || "Unidentified"
        : "";
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: qx,
    charCode: function (r) {
      return r.type === "keypress" ? If(r) : 0;
    },
    keyCode: function (r) {
      return r.type === "keydown" || r.type === "keyup" ? r.keyCode : 0;
    },
    which: function (r) {
      return r.type === "keypress"
        ? If(r)
        : r.type === "keydown" || r.type === "keyup"
        ? r.keyCode
        : 0;
    },
  }),
  X8 = ri(V8),
  Y8 = Ut({}, Om, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0,
  }),
  $1 = ri(Y8),
  K8 = Ut({}, Zh, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: qx,
  }),
  q8 = ri(K8),
  Z8 = Ut({}, $u, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
  Q8 = ri(Z8),
  J8 = Ut({}, Om, {
    deltaX: function (r) {
      return "deltaX" in r ? r.deltaX : "wheelDeltaX" in r ? -r.wheelDeltaX : 0;
    },
    deltaY: function (r) {
      return "deltaY" in r
        ? r.deltaY
        : "wheelDeltaY" in r
        ? -r.wheelDeltaY
        : "wheelDelta" in r
        ? -r.wheelDelta
        : 0;
    },
    deltaZ: 0,
    deltaMode: 0,
  }),
  eL = ri(J8),
  tL = [9, 13, 27, 32],
  Zx = no && "CompositionEvent" in window,
  Wc = null;
no && "documentMode" in document && (Wc = document.documentMode);
var rL = no && "TextEvent" in window && !Wc,
  dC = no && (!Zx || (Wc && 8 < Wc && 11 >= Wc)),
  z1 = " ",
  W1 = !1;
function fC(r, e) {
  switch (r) {
    case "keyup":
      return tL.indexOf(e.keyCode) !== -1;
    case "keydown":
      return e.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
      return !0;
    default:
      return !1;
  }
}
function pC(r) {
  return (r = r.detail), typeof r == "object" && "data" in r ? r.data : null;
}
var Ll = !1;
function nL(r, e) {
  switch (r) {
    case "compositionend":
      return pC(e);
    case "keypress":
      return e.which !== 32 ? null : ((W1 = !0), z1);
    case "textInput":
      return (r = e.data), r === z1 && W1 ? null : r;
    default:
      return null;
  }
}
function iL(r, e) {
  if (Ll)
    return r === "compositionend" || (!Zx && fC(r, e))
      ? ((r = hC()), (Of = Yx = Ro = null), (Ll = !1), r)
      : null;
  switch (r) {
    case "paste":
      return null;
    case "keypress":
      if (!(e.ctrlKey || e.altKey || e.metaKey) || (e.ctrlKey && e.altKey)) {
        if (e.char && 1 < e.char.length) return e.char;
        if (e.which) return String.fromCharCode(e.which);
      }
      return null;
    case "compositionend":
      return dC && e.locale !== "ko" ? null : e.data;
    default:
      return null;
  }
}
var sL = {
  color: !0,
  date: !0,
  datetime: !0,
  "datetime-local": !0,
  email: !0,
  month: !0,
  number: !0,
  password: !0,
  range: !0,
  search: !0,
  tel: !0,
  text: !0,
  time: !0,
  url: !0,
  week: !0,
};
function H1(r) {
  var e = r && r.nodeName && r.nodeName.toLowerCase();
  return e === "input" ? !!sL[r.type] : e === "textarea";
}
function mC(r, e, t, n) {
  V2(n),
    (e = cp(e, "onChange")),
    0 < e.length &&
      ((t = new Kx("onChange", "change", null, t, n)),
      r.push({ event: t, listeners: e }));
}
var Hc = null,
  ph = null;
function oL(r) {
  kC(r, 0);
}
function Im(r) {
  var e = jl(r);
  if (U2(e)) return r;
}
function aL(r, e) {
  if (r === "change") return e;
}
var gC = !1;
if (no) {
  var p_;
  if (no) {
    var m_ = "oninput" in document;
    if (!m_) {
      var V1 = document.createElement("div");
      V1.setAttribute("oninput", "return;"),
        (m_ = typeof V1.oninput == "function");
    }
    p_ = m_;
  } else p_ = !1;
  gC = p_ && (!document.documentMode || 9 < document.documentMode);
}
function X1() {
  Hc && (Hc.detachEvent("onpropertychange", _C), (ph = Hc = null));
}
function _C(r) {
  if (r.propertyName === "value" && Im(ph)) {
    var e = [];
    mC(e, ph, r, zx(r)), q2(oL, e);
  }
}
function lL(r, e, t) {
  r === "focusin"
    ? (X1(), (Hc = e), (ph = t), Hc.attachEvent("onpropertychange", _C))
    : r === "focusout" && X1();
}
function uL(r) {
  if (r === "selectionchange" || r === "keyup" || r === "keydown")
    return Im(ph);
}
function cL(r, e) {
  if (r === "click") return Im(e);
}
function hL(r, e) {
  if (r === "input" || r === "change") return Im(e);
}
function dL(r, e) {
  return (r === e && (r !== 0 || 1 / r === 1 / e)) || (r !== r && e !== e);
}
var Qi = typeof Object.is == "function" ? Object.is : dL;
function mh(r, e) {
  if (Qi(r, e)) return !0;
  if (typeof r != "object" || r === null || typeof e != "object" || e === null)
    return !1;
  var t = Object.keys(r),
    n = Object.keys(e);
  if (t.length !== n.length) return !1;
  for (n = 0; n < t.length; n++) {
    var i = t[n];
    if (!hy.call(e, i) || !Qi(r[i], e[i])) return !1;
  }
  return !0;
}
function Y1(r) {
  for (; r && r.firstChild; ) r = r.firstChild;
  return r;
}
function K1(r, e) {
  var t = Y1(r);
  r = 0;
  for (var n; t; ) {
    if (t.nodeType === 3) {
      if (((n = r + t.textContent.length), r <= e && n >= e))
        return { node: t, offset: e - r };
      r = n;
    }
    e: {
      for (; t; ) {
        if (t.nextSibling) {
          t = t.nextSibling;
          break e;
        }
        t = t.parentNode;
      }
      t = void 0;
    }
    t = Y1(t);
  }
}
function yC(r, e) {
  return r && e
    ? r === e
      ? !0
      : r && r.nodeType === 3
      ? !1
      : e && e.nodeType === 3
      ? yC(r, e.parentNode)
      : "contains" in r
      ? r.contains(e)
      : r.compareDocumentPosition
      ? !!(r.compareDocumentPosition(e) & 16)
      : !1
    : !1;
}
function vC() {
  for (var r = window, e = np(); e instanceof r.HTMLIFrameElement; ) {
    try {
      var t = typeof e.contentWindow.location.href == "string";
    } catch {
      t = !1;
    }
    if (t) r = e.contentWindow;
    else break;
    e = np(r.document);
  }
  return e;
}
function Qx(r) {
  var e = r && r.nodeName && r.nodeName.toLowerCase();
  return (
    e &&
    ((e === "input" &&
      (r.type === "text" ||
        r.type === "search" ||
        r.type === "tel" ||
        r.type === "url" ||
        r.type === "password")) ||
      e === "textarea" ||
      r.contentEditable === "true")
  );
}
function fL(r) {
  var e = vC(),
    t = r.focusedElem,
    n = r.selectionRange;
  if (
    e !== t &&
    t &&
    t.ownerDocument &&
    yC(t.ownerDocument.documentElement, t)
  ) {
    if (n !== null && Qx(t)) {
      if (
        ((e = n.start),
        (r = n.end),
        r === void 0 && (r = e),
        "selectionStart" in t)
      )
        (t.selectionStart = e), (t.selectionEnd = Math.min(r, t.value.length));
      else if (
        ((r = ((e = t.ownerDocument || document) && e.defaultView) || window),
        r.getSelection)
      ) {
        r = r.getSelection();
        var i = t.textContent.length,
          s = Math.min(n.start, i);
        (n = n.end === void 0 ? s : Math.min(n.end, i)),
          !r.extend && s > n && ((i = n), (n = s), (s = i)),
          (i = K1(t, s));
        var o = K1(t, n);
        i &&
          o &&
          (r.rangeCount !== 1 ||
            r.anchorNode !== i.node ||
            r.anchorOffset !== i.offset ||
            r.focusNode !== o.node ||
            r.focusOffset !== o.offset) &&
          ((e = e.createRange()),
          e.setStart(i.node, i.offset),
          r.removeAllRanges(),
          s > n
            ? (r.addRange(e), r.extend(o.node, o.offset))
            : (e.setEnd(o.node, o.offset), r.addRange(e)));
      }
    }
    for (e = [], r = t; (r = r.parentNode); )
      r.nodeType === 1 &&
        e.push({ element: r, left: r.scrollLeft, top: r.scrollTop });
    for (typeof t.focus == "function" && t.focus(), t = 0; t < e.length; t++)
      (r = e[t]),
        (r.element.scrollLeft = r.left),
        (r.element.scrollTop = r.top);
  }
}
var pL = no && "documentMode" in document && 11 >= document.documentMode,
  Ul = null,
  Ry = null,
  Vc = null,
  Dy = !1;
function q1(r, e, t) {
  var n = t.window === t ? t.document : t.nodeType === 9 ? t : t.ownerDocument;
  Dy ||
    Ul == null ||
    Ul !== np(n) ||
    ((n = Ul),
    "selectionStart" in n && Qx(n)
      ? (n = { start: n.selectionStart, end: n.selectionEnd })
      : ((n = (
          (n.ownerDocument && n.ownerDocument.defaultView) ||
          window
        ).getSelection()),
        (n = {
          anchorNode: n.anchorNode,
          anchorOffset: n.anchorOffset,
          focusNode: n.focusNode,
          focusOffset: n.focusOffset,
        })),
    (Vc && mh(Vc, n)) ||
      ((Vc = n),
      (n = cp(Ry, "onSelect")),
      0 < n.length &&
        ((e = new Kx("onSelect", "select", null, e, t)),
        r.push({ event: e, listeners: n }),
        (e.target = Ul))));
}
function Rd(r, e) {
  var t = {};
  return (
    (t[r.toLowerCase()] = e.toLowerCase()),
    (t["Webkit" + r] = "webkit" + e),
    (t["Moz" + r] = "moz" + e),
    t
  );
}
var Gl = {
    animationend: Rd("Animation", "AnimationEnd"),
    animationiteration: Rd("Animation", "AnimationIteration"),
    animationstart: Rd("Animation", "AnimationStart"),
    transitionend: Rd("Transition", "TransitionEnd"),
  },
  g_ = {},
  xC = {};
no &&
  ((xC = document.createElement("div").style),
  "AnimationEvent" in window ||
    (delete Gl.animationend.animation,
    delete Gl.animationiteration.animation,
    delete Gl.animationstart.animation),
  "TransitionEvent" in window || delete Gl.transitionend.transition);
function Fm(r) {
  if (g_[r]) return g_[r];
  if (!Gl[r]) return r;
  var e = Gl[r],
    t;
  for (t in e) if (e.hasOwnProperty(t) && t in xC) return (g_[r] = e[t]);
  return r;
}
var wC = Fm("animationend"),
  bC = Fm("animationiteration"),
  SC = Fm("animationstart"),
  EC = Fm("transitionend"),
  TC = new Map(),
  Z1 =
    "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(
      " "
    );
function na(r, e) {
  TC.set(r, e), ll(e, [r]);
}
for (var __ = 0; __ < Z1.length; __++) {
  var y_ = Z1[__],
    mL = y_.toLowerCase(),
    gL = y_[0].toUpperCase() + y_.slice(1);
  na(mL, "on" + gL);
}
na(wC, "onAnimationEnd");
na(bC, "onAnimationIteration");
na(SC, "onAnimationStart");
na("dblclick", "onDoubleClick");
na("focusin", "onFocus");
na("focusout", "onBlur");
na(EC, "onTransitionEnd");
_u("onMouseEnter", ["mouseout", "mouseover"]);
_u("onMouseLeave", ["mouseout", "mouseover"]);
_u("onPointerEnter", ["pointerout", "pointerover"]);
_u("onPointerLeave", ["pointerout", "pointerover"]);
ll(
  "onChange",
  "change click focusin focusout input keydown keyup selectionchange".split(" ")
);
ll(
  "onSelect",
  "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(
    " "
  )
);
ll("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
ll(
  "onCompositionEnd",
  "compositionend focusout keydown keypress keyup mousedown".split(" ")
);
ll(
  "onCompositionStart",
  "compositionstart focusout keydown keypress keyup mousedown".split(" ")
);
ll(
  "onCompositionUpdate",
  "compositionupdate focusout keydown keypress keyup mousedown".split(" ")
);
var Mc =
    "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(
      " "
    ),
  _L = new Set("cancel close invalid load scroll toggle".split(" ").concat(Mc));
function Q1(r, e, t) {
  var n = r.type || "unknown-event";
  (r.currentTarget = t), m8(n, e, void 0, r), (r.currentTarget = null);
}
function kC(r, e) {
  e = (e & 4) !== 0;
  for (var t = 0; t < r.length; t++) {
    var n = r[t],
      i = n.event;
    n = n.listeners;
    e: {
      var s = void 0;
      if (e)
        for (var o = n.length - 1; 0 <= o; o--) {
          var a = n[o],
            l = a.instance,
            u = a.currentTarget;
          if (((a = a.listener), l !== s && i.isPropagationStopped())) break e;
          Q1(i, a, u), (s = l);
        }
      else
        for (o = 0; o < n.length; o++) {
          if (
            ((a = n[o]),
            (l = a.instance),
            (u = a.currentTarget),
            (a = a.listener),
            l !== s && i.isPropagationStopped())
          )
            break e;
          Q1(i, a, u), (s = l);
        }
    }
  }
  if (sp) throw ((r = ky), (sp = !1), (ky = null), r);
}
function St(r, e) {
  var t = e[Fy];
  t === void 0 && (t = e[Fy] = new Set());
  var n = r + "__bubble";
  t.has(n) || (AC(e, r, 2, !1), t.add(n));
}
function v_(r, e, t) {
  var n = 0;
  e && (n |= 4), AC(t, r, n, e);
}
var Dd = "_reactListening" + Math.random().toString(36).slice(2);
function gh(r) {
  if (!r[Dd]) {
    (r[Dd] = !0),
      O2.forEach(function (t) {
        t !== "selectionchange" && (_L.has(t) || v_(t, !1, r), v_(t, !0, r));
      });
    var e = r.nodeType === 9 ? r : r.ownerDocument;
    e === null || e[Dd] || ((e[Dd] = !0), v_("selectionchange", !1, e));
  }
}
function AC(r, e, t, n) {
  switch (cC(e)) {
    case 1:
      var i = D8;
      break;
    case 4:
      i = M8;
      break;
    default:
      i = Xx;
  }
  (t = i.bind(null, e, t, r)),
    (i = void 0),
    !Ty ||
      (e !== "touchstart" && e !== "touchmove" && e !== "wheel") ||
      (i = !0),
    n
      ? i !== void 0
        ? r.addEventListener(e, t, { capture: !0, passive: i })
        : r.addEventListener(e, t, !0)
      : i !== void 0
      ? r.addEventListener(e, t, { passive: i })
      : r.addEventListener(e, t, !1);
}
function x_(r, e, t, n, i) {
  var s = n;
  if (!(e & 1) && !(e & 2) && n !== null)
    e: for (;;) {
      if (n === null) return;
      var o = n.tag;
      if (o === 3 || o === 4) {
        var a = n.stateNode.containerInfo;
        if (a === i || (a.nodeType === 8 && a.parentNode === i)) break;
        if (o === 4)
          for (o = n.return; o !== null; ) {
            var l = o.tag;
            if (
              (l === 3 || l === 4) &&
              ((l = o.stateNode.containerInfo),
              l === i || (l.nodeType === 8 && l.parentNode === i))
            )
              return;
            o = o.return;
          }
        for (; a !== null; ) {
          if (((o = Pa(a)), o === null)) return;
          if (((l = o.tag), l === 5 || l === 6)) {
            n = s = o;
            continue e;
          }
          a = a.parentNode;
        }
      }
      n = n.return;
    }
  q2(function () {
    var u = s,
      c = zx(t),
      h = [];
    e: {
      var d = TC.get(r);
      if (d !== void 0) {
        var f = Kx,
          m = r;
        switch (r) {
          case "keypress":
            if (If(t) === 0) break e;
          case "keydown":
          case "keyup":
            f = X8;
            break;
          case "focusin":
            (m = "focus"), (f = f_);
            break;
          case "focusout":
            (m = "blur"), (f = f_);
            break;
          case "beforeblur":
          case "afterblur":
            f = f_;
            break;
          case "click":
            if (t.button === 2) break e;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            f = G1;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            f = I8;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            f = q8;
            break;
          case wC:
          case bC:
          case SC:
            f = L8;
            break;
          case EC:
            f = Q8;
            break;
          case "scroll":
            f = B8;
            break;
          case "wheel":
            f = eL;
            break;
          case "copy":
          case "cut":
          case "paste":
            f = G8;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            f = $1;
        }
        var g = (e & 4) !== 0,
          _ = !g && r === "scroll",
          v = g ? (d !== null ? d + "Capture" : null) : d;
        g = [];
        for (var w = u, x; w !== null; ) {
          x = w;
          var k = x.stateNode;
          if (
            (x.tag === 5 &&
              k !== null &&
              ((x = k),
              v !== null && ((k = ch(w, v)), k != null && g.push(_h(w, k, x)))),
            _)
          )
            break;
          w = w.return;
        }
        0 < g.length &&
          ((d = new f(d, m, null, t, c)), h.push({ event: d, listeners: g }));
      }
    }
    if (!(e & 7)) {
      e: {
        if (
          ((d = r === "mouseover" || r === "pointerover"),
          (f = r === "mouseout" || r === "pointerout"),
          d &&
            t !== Sy &&
            (m = t.relatedTarget || t.fromElement) &&
            (Pa(m) || m[io]))
        )
          break e;
        if (
          (f || d) &&
          ((d =
            c.window === c
              ? c
              : (d = c.ownerDocument)
              ? d.defaultView || d.parentWindow
              : window),
          f
            ? ((m = t.relatedTarget || t.toElement),
              (f = u),
              (m = m ? Pa(m) : null),
              m !== null &&
                ((_ = ul(m)), m !== _ || (m.tag !== 5 && m.tag !== 6)) &&
                (m = null))
            : ((f = null), (m = u)),
          f !== m)
        ) {
          if (
            ((g = G1),
            (k = "onMouseLeave"),
            (v = "onMouseEnter"),
            (w = "mouse"),
            (r === "pointerout" || r === "pointerover") &&
              ((g = $1),
              (k = "onPointerLeave"),
              (v = "onPointerEnter"),
              (w = "pointer")),
            (_ = f == null ? d : jl(f)),
            (x = m == null ? d : jl(m)),
            (d = new g(k, w + "leave", f, t, c)),
            (d.target = _),
            (d.relatedTarget = x),
            (k = null),
            Pa(c) === u &&
              ((g = new g(v, w + "enter", m, t, c)),
              (g.target = x),
              (g.relatedTarget = _),
              (k = g)),
            (_ = k),
            f && m)
          )
            t: {
              for (g = f, v = m, w = 0, x = g; x; x = Sl(x)) w++;
              for (x = 0, k = v; k; k = Sl(k)) x++;
              for (; 0 < w - x; ) (g = Sl(g)), w--;
              for (; 0 < x - w; ) (v = Sl(v)), x--;
              for (; w--; ) {
                if (g === v || (v !== null && g === v.alternate)) break t;
                (g = Sl(g)), (v = Sl(v));
              }
              g = null;
            }
          else g = null;
          f !== null && J1(h, d, f, g, !1),
            m !== null && _ !== null && J1(h, _, m, g, !0);
        }
      }
      e: {
        if (
          ((d = u ? jl(u) : window),
          (f = d.nodeName && d.nodeName.toLowerCase()),
          f === "select" || (f === "input" && d.type === "file"))
        )
          var C = aL;
        else if (H1(d))
          if (gC) C = hL;
          else {
            C = uL;
            var F = lL;
          }
        else
          (f = d.nodeName) &&
            f.toLowerCase() === "input" &&
            (d.type === "checkbox" || d.type === "radio") &&
            (C = cL);
        if (C && (C = C(r, u))) {
          mC(h, C, t, c);
          break e;
        }
        F && F(r, d, u),
          r === "focusout" &&
            (F = d._wrapperState) &&
            F.controlled &&
            d.type === "number" &&
            yy(d, "number", d.value);
      }
      switch (((F = u ? jl(u) : window), r)) {
        case "focusin":
          (H1(F) || F.contentEditable === "true") &&
            ((Ul = F), (Ry = u), (Vc = null));
          break;
        case "focusout":
          Vc = Ry = Ul = null;
          break;
        case "mousedown":
          Dy = !0;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          (Dy = !1), q1(h, t, c);
          break;
        case "selectionchange":
          if (pL) break;
        case "keydown":
        case "keyup":
          q1(h, t, c);
      }
      var I;
      if (Zx)
        e: {
          switch (r) {
            case "compositionstart":
              var G = "onCompositionStart";
              break e;
            case "compositionend":
              G = "onCompositionEnd";
              break e;
            case "compositionupdate":
              G = "onCompositionUpdate";
              break e;
          }
          G = void 0;
        }
      else
        Ll
          ? fC(r, t) && (G = "onCompositionEnd")
          : r === "keydown" && t.keyCode === 229 && (G = "onCompositionStart");
      G &&
        (dC &&
          t.locale !== "ko" &&
          (Ll || G !== "onCompositionStart"
            ? G === "onCompositionEnd" && Ll && (I = hC())
            : ((Ro = c),
              (Yx = "value" in Ro ? Ro.value : Ro.textContent),
              (Ll = !0))),
        (F = cp(u, G)),
        0 < F.length &&
          ((G = new j1(G, r, null, t, c)),
          h.push({ event: G, listeners: F }),
          I ? (G.data = I) : ((I = pC(t)), I !== null && (G.data = I)))),
        (I = rL ? nL(r, t) : iL(r, t)) &&
          ((u = cp(u, "onBeforeInput")),
          0 < u.length &&
            ((c = new j1("onBeforeInput", "beforeinput", null, t, c)),
            h.push({ event: c, listeners: u }),
            (c.data = I)));
    }
    kC(h, e);
  });
}
function _h(r, e, t) {
  return { instance: r, listener: e, currentTarget: t };
}
function cp(r, e) {
  for (var t = e + "Capture", n = []; r !== null; ) {
    var i = r,
      s = i.stateNode;
    i.tag === 5 &&
      s !== null &&
      ((i = s),
      (s = ch(r, t)),
      s != null && n.unshift(_h(r, s, i)),
      (s = ch(r, e)),
      s != null && n.push(_h(r, s, i))),
      (r = r.return);
  }
  return n;
}
function Sl(r) {
  if (r === null) return null;
  do r = r.return;
  while (r && r.tag !== 5);
  return r || null;
}
function J1(r, e, t, n, i) {
  for (var s = e._reactName, o = []; t !== null && t !== n; ) {
    var a = t,
      l = a.alternate,
      u = a.stateNode;
    if (l !== null && l === n) break;
    a.tag === 5 &&
      u !== null &&
      ((a = u),
      i
        ? ((l = ch(t, s)), l != null && o.unshift(_h(t, l, a)))
        : i || ((l = ch(t, s)), l != null && o.push(_h(t, l, a)))),
      (t = t.return);
  }
  o.length !== 0 && r.push({ event: e, listeners: o });
}
var yL = /\r\n?/g,
  vL = /\u0000|\uFFFD/g;
function eS(r) {
  return (typeof r == "string" ? r : "" + r)
    .replace(
      yL,
      `
`
    )
    .replace(vL, "");
}
function Md(r, e, t) {
  if (((e = eS(e)), eS(r) !== e && t)) throw Error(re(425));
}
function hp() {}
var My = null,
  By = null;
function Oy(r, e) {
  return (
    r === "textarea" ||
    r === "noscript" ||
    typeof e.children == "string" ||
    typeof e.children == "number" ||
    (typeof e.dangerouslySetInnerHTML == "object" &&
      e.dangerouslySetInnerHTML !== null &&
      e.dangerouslySetInnerHTML.__html != null)
  );
}
var Iy = typeof setTimeout == "function" ? setTimeout : void 0,
  xL = typeof clearTimeout == "function" ? clearTimeout : void 0,
  tS = typeof Promise == "function" ? Promise : void 0,
  wL =
    typeof queueMicrotask == "function"
      ? queueMicrotask
      : typeof tS < "u"
      ? function (r) {
          return tS.resolve(null).then(r).catch(bL);
        }
      : Iy;
function bL(r) {
  setTimeout(function () {
    throw r;
  });
}
function w_(r, e) {
  var t = e,
    n = 0;
  do {
    var i = t.nextSibling;
    if ((r.removeChild(t), i && i.nodeType === 8))
      if (((t = i.data), t === "/$")) {
        if (n === 0) {
          r.removeChild(i), fh(e);
          return;
        }
        n--;
      } else (t !== "$" && t !== "$?" && t !== "$!") || n++;
    t = i;
  } while (t);
  fh(e);
}
function zo(r) {
  for (; r != null; r = r.nextSibling) {
    var e = r.nodeType;
    if (e === 1 || e === 3) break;
    if (e === 8) {
      if (((e = r.data), e === "$" || e === "$!" || e === "$?")) break;
      if (e === "/$") return null;
    }
  }
  return r;
}
function rS(r) {
  r = r.previousSibling;
  for (var e = 0; r; ) {
    if (r.nodeType === 8) {
      var t = r.data;
      if (t === "$" || t === "$!" || t === "$?") {
        if (e === 0) return r;
        e--;
      } else t === "/$" && e++;
    }
    r = r.previousSibling;
  }
  return null;
}
var zu = Math.random().toString(36).slice(2),
  fs = "__reactFiber$" + zu,
  yh = "__reactProps$" + zu,
  io = "__reactContainer$" + zu,
  Fy = "__reactEvents$" + zu,
  SL = "__reactListeners$" + zu,
  EL = "__reactHandles$" + zu;
function Pa(r) {
  var e = r[fs];
  if (e) return e;
  for (var t = r.parentNode; t; ) {
    if ((e = t[io] || t[fs])) {
      if (
        ((t = e.alternate),
        e.child !== null || (t !== null && t.child !== null))
      )
        for (r = rS(r); r !== null; ) {
          if ((t = r[fs])) return t;
          r = rS(r);
        }
      return e;
    }
    (r = t), (t = r.parentNode);
  }
  return null;
}
function Qh(r) {
  return (
    (r = r[fs] || r[io]),
    !r || (r.tag !== 5 && r.tag !== 6 && r.tag !== 13 && r.tag !== 3) ? null : r
  );
}
function jl(r) {
  if (r.tag === 5 || r.tag === 6) return r.stateNode;
  throw Error(re(33));
}
function Nm(r) {
  return r[yh] || null;
}
var Ny = [],
  $l = -1;
function ia(r) {
  return { current: r };
}
function Et(r) {
  0 > $l || ((r.current = Ny[$l]), (Ny[$l] = null), $l--);
}
function yt(r, e) {
  $l++, (Ny[$l] = r.current), (r.current = e);
}
var Qo = {},
  sn = ia(Qo),
  bn = ia(!1),
  Ha = Qo;
function yu(r, e) {
  var t = r.type.contextTypes;
  if (!t) return Qo;
  var n = r.stateNode;
  if (n && n.__reactInternalMemoizedUnmaskedChildContext === e)
    return n.__reactInternalMemoizedMaskedChildContext;
  var i = {},
    s;
  for (s in t) i[s] = e[s];
  return (
    n &&
      ((r = r.stateNode),
      (r.__reactInternalMemoizedUnmaskedChildContext = e),
      (r.__reactInternalMemoizedMaskedChildContext = i)),
    i
  );
}
function Sn(r) {
  return (r = r.childContextTypes), r != null;
}
function dp() {
  Et(bn), Et(sn);
}
function nS(r, e, t) {
  if (sn.current !== Qo) throw Error(re(168));
  yt(sn, e), yt(bn, t);
}
function PC(r, e, t) {
  var n = r.stateNode;
  if (((e = e.childContextTypes), typeof n.getChildContext != "function"))
    return t;
  n = n.getChildContext();
  for (var i in n) if (!(i in e)) throw Error(re(108, l8(r) || "Unknown", i));
  return Ut({}, t, n);
}
function fp(r) {
  return (
    (r =
      ((r = r.stateNode) && r.__reactInternalMemoizedMergedChildContext) || Qo),
    (Ha = sn.current),
    yt(sn, r),
    yt(bn, bn.current),
    !0
  );
}
function iS(r, e, t) {
  var n = r.stateNode;
  if (!n) throw Error(re(169));
  t
    ? ((r = PC(r, e, Ha)),
      (n.__reactInternalMemoizedMergedChildContext = r),
      Et(bn),
      Et(sn),
      yt(sn, r))
    : Et(bn),
    yt(bn, t);
}
var Ns = null,
  Lm = !1,
  b_ = !1;
function CC(r) {
  Ns === null ? (Ns = [r]) : Ns.push(r);
}
function TL(r) {
  (Lm = !0), CC(r);
}
function sa() {
  if (!b_ && Ns !== null) {
    b_ = !0;
    var r = 0,
      e = st;
    try {
      var t = Ns;
      for (st = 1; r < t.length; r++) {
        var n = t[r];
        do n = n(!0);
        while (n !== null);
      }
      (Ns = null), (Lm = !1);
    } catch (i) {
      throw (Ns !== null && (Ns = Ns.slice(r + 1)), eC(Wx, sa), i);
    } finally {
      (st = e), (b_ = !1);
    }
  }
  return null;
}
var zl = [],
  Wl = 0,
  pp = null,
  mp = 0,
  pi = [],
  mi = 0,
  Va = null,
  Vs = 1,
  Xs = "";
function _a(r, e) {
  (zl[Wl++] = mp), (zl[Wl++] = pp), (pp = r), (mp = e);
}
function RC(r, e, t) {
  (pi[mi++] = Vs), (pi[mi++] = Xs), (pi[mi++] = Va), (Va = r);
  var n = Vs;
  r = Xs;
  var i = 32 - Hi(n) - 1;
  (n &= ~(1 << i)), (t += 1);
  var s = 32 - Hi(e) + i;
  if (30 < s) {
    var o = i - (i % 5);
    (s = (n & ((1 << o) - 1)).toString(32)),
      (n >>= o),
      (i -= o),
      (Vs = (1 << (32 - Hi(e) + i)) | (t << i) | n),
      (Xs = s + r);
  } else (Vs = (1 << s) | (t << i) | n), (Xs = r);
}
function Jx(r) {
  r.return !== null && (_a(r, 1), RC(r, 1, 0));
}
function ew(r) {
  for (; r === pp; )
    (pp = zl[--Wl]), (zl[Wl] = null), (mp = zl[--Wl]), (zl[Wl] = null);
  for (; r === Va; )
    (Va = pi[--mi]),
      (pi[mi] = null),
      (Xs = pi[--mi]),
      (pi[mi] = null),
      (Vs = pi[--mi]),
      (pi[mi] = null);
}
var Yn = null,
  Vn = null,
  Pt = !1,
  $i = null;
function DC(r, e) {
  var t = xi(5, null, null, 0);
  (t.elementType = "DELETED"),
    (t.stateNode = e),
    (t.return = r),
    (e = r.deletions),
    e === null ? ((r.deletions = [t]), (r.flags |= 16)) : e.push(t);
}
function sS(r, e) {
  switch (r.tag) {
    case 5:
      var t = r.type;
      return (
        (e =
          e.nodeType !== 1 || t.toLowerCase() !== e.nodeName.toLowerCase()
            ? null
            : e),
        e !== null
          ? ((r.stateNode = e), (Yn = r), (Vn = zo(e.firstChild)), !0)
          : !1
      );
    case 6:
      return (
        (e = r.pendingProps === "" || e.nodeType !== 3 ? null : e),
        e !== null ? ((r.stateNode = e), (Yn = r), (Vn = null), !0) : !1
      );
    case 13:
      return (
        (e = e.nodeType !== 8 ? null : e),
        e !== null
          ? ((t = Va !== null ? { id: Vs, overflow: Xs } : null),
            (r.memoizedState = {
              dehydrated: e,
              treeContext: t,
              retryLane: 1073741824,
            }),
            (t = xi(18, null, null, 0)),
            (t.stateNode = e),
            (t.return = r),
            (r.child = t),
            (Yn = r),
            (Vn = null),
            !0)
          : !1
      );
    default:
      return !1;
  }
}
function Ly(r) {
  return (r.mode & 1) !== 0 && (r.flags & 128) === 0;
}
function Uy(r) {
  if (Pt) {
    var e = Vn;
    if (e) {
      var t = e;
      if (!sS(r, e)) {
        if (Ly(r)) throw Error(re(418));
        e = zo(t.nextSibling);
        var n = Yn;
        e && sS(r, e)
          ? DC(n, t)
          : ((r.flags = (r.flags & -4097) | 2), (Pt = !1), (Yn = r));
      }
    } else {
      if (Ly(r)) throw Error(re(418));
      (r.flags = (r.flags & -4097) | 2), (Pt = !1), (Yn = r);
    }
  }
}
function oS(r) {
  for (r = r.return; r !== null && r.tag !== 5 && r.tag !== 3 && r.tag !== 13; )
    r = r.return;
  Yn = r;
}
function Bd(r) {
  if (r !== Yn) return !1;
  if (!Pt) return oS(r), (Pt = !0), !1;
  var e;
  if (
    ((e = r.tag !== 3) &&
      !(e = r.tag !== 5) &&
      ((e = r.type),
      (e = e !== "head" && e !== "body" && !Oy(r.type, r.memoizedProps))),
    e && (e = Vn))
  ) {
    if (Ly(r)) throw (MC(), Error(re(418)));
    for (; e; ) DC(r, e), (e = zo(e.nextSibling));
  }
  if ((oS(r), r.tag === 13)) {
    if (((r = r.memoizedState), (r = r !== null ? r.dehydrated : null), !r))
      throw Error(re(317));
    e: {
      for (r = r.nextSibling, e = 0; r; ) {
        if (r.nodeType === 8) {
          var t = r.data;
          if (t === "/$") {
            if (e === 0) {
              Vn = zo(r.nextSibling);
              break e;
            }
            e--;
          } else (t !== "$" && t !== "$!" && t !== "$?") || e++;
        }
        r = r.nextSibling;
      }
      Vn = null;
    }
  } else Vn = Yn ? zo(r.stateNode.nextSibling) : null;
  return !0;
}
function MC() {
  for (var r = Vn; r; ) r = zo(r.nextSibling);
}
function vu() {
  (Vn = Yn = null), (Pt = !1);
}
function tw(r) {
  $i === null ? ($i = [r]) : $i.push(r);
}
var kL = fo.ReactCurrentBatchConfig;
function ac(r, e, t) {
  if (
    ((r = t.ref), r !== null && typeof r != "function" && typeof r != "object")
  ) {
    if (t._owner) {
      if (((t = t._owner), t)) {
        if (t.tag !== 1) throw Error(re(309));
        var n = t.stateNode;
      }
      if (!n) throw Error(re(147, r));
      var i = n,
        s = "" + r;
      return e !== null &&
        e.ref !== null &&
        typeof e.ref == "function" &&
        e.ref._stringRef === s
        ? e.ref
        : ((e = function (o) {
            var a = i.refs;
            o === null ? delete a[s] : (a[s] = o);
          }),
          (e._stringRef = s),
          e);
    }
    if (typeof r != "string") throw Error(re(284));
    if (!t._owner) throw Error(re(290, r));
  }
  return r;
}
function Od(r, e) {
  throw (
    ((r = Object.prototype.toString.call(e)),
    Error(
      re(
        31,
        r === "[object Object]"
          ? "object with keys {" + Object.keys(e).join(", ") + "}"
          : r
      )
    ))
  );
}
function aS(r) {
  var e = r._init;
  return e(r._payload);
}
function BC(r) {
  function e(v, w) {
    if (r) {
      var x = v.deletions;
      x === null ? ((v.deletions = [w]), (v.flags |= 16)) : x.push(w);
    }
  }
  function t(v, w) {
    if (!r) return null;
    for (; w !== null; ) e(v, w), (w = w.sibling);
    return null;
  }
  function n(v, w) {
    for (v = new Map(); w !== null; )
      w.key !== null ? v.set(w.key, w) : v.set(w.index, w), (w = w.sibling);
    return v;
  }
  function i(v, w) {
    return (v = Xo(v, w)), (v.index = 0), (v.sibling = null), v;
  }
  function s(v, w, x) {
    return (
      (v.index = x),
      r
        ? ((x = v.alternate),
          x !== null
            ? ((x = x.index), x < w ? ((v.flags |= 2), w) : x)
            : ((v.flags |= 2), w))
        : ((v.flags |= 1048576), w)
    );
  }
  function o(v) {
    return r && v.alternate === null && (v.flags |= 2), v;
  }
  function a(v, w, x, k) {
    return w === null || w.tag !== 6
      ? ((w = C_(x, v.mode, k)), (w.return = v), w)
      : ((w = i(w, x)), (w.return = v), w);
  }
  function l(v, w, x, k) {
    var C = x.type;
    return C === Nl
      ? c(v, w, x.props.children, k, x.key)
      : w !== null &&
        (w.elementType === C ||
          (typeof C == "object" &&
            C !== null &&
            C.$$typeof === To &&
            aS(C) === w.type))
      ? ((k = i(w, x.props)), (k.ref = ac(v, w, x)), (k.return = v), k)
      : ((k = $f(x.type, x.key, x.props, null, v.mode, k)),
        (k.ref = ac(v, w, x)),
        (k.return = v),
        k);
  }
  function u(v, w, x, k) {
    return w === null ||
      w.tag !== 4 ||
      w.stateNode.containerInfo !== x.containerInfo ||
      w.stateNode.implementation !== x.implementation
      ? ((w = R_(x, v.mode, k)), (w.return = v), w)
      : ((w = i(w, x.children || [])), (w.return = v), w);
  }
  function c(v, w, x, k, C) {
    return w === null || w.tag !== 7
      ? ((w = Fa(x, v.mode, k, C)), (w.return = v), w)
      : ((w = i(w, x)), (w.return = v), w);
  }
  function h(v, w, x) {
    if ((typeof w == "string" && w !== "") || typeof w == "number")
      return (w = C_("" + w, v.mode, x)), (w.return = v), w;
    if (typeof w == "object" && w !== null) {
      switch (w.$$typeof) {
        case Sd:
          return (
            (x = $f(w.type, w.key, w.props, null, v.mode, x)),
            (x.ref = ac(v, null, w)),
            (x.return = v),
            x
          );
        case Fl:
          return (w = R_(w, v.mode, x)), (w.return = v), w;
        case To:
          var k = w._init;
          return h(v, k(w._payload), x);
      }
      if (Rc(w) || rc(w))
        return (w = Fa(w, v.mode, x, null)), (w.return = v), w;
      Od(v, w);
    }
    return null;
  }
  function d(v, w, x, k) {
    var C = w !== null ? w.key : null;
    if ((typeof x == "string" && x !== "") || typeof x == "number")
      return C !== null ? null : a(v, w, "" + x, k);
    if (typeof x == "object" && x !== null) {
      switch (x.$$typeof) {
        case Sd:
          return x.key === C ? l(v, w, x, k) : null;
        case Fl:
          return x.key === C ? u(v, w, x, k) : null;
        case To:
          return (C = x._init), d(v, w, C(x._payload), k);
      }
      if (Rc(x) || rc(x)) return C !== null ? null : c(v, w, x, k, null);
      Od(v, x);
    }
    return null;
  }
  function f(v, w, x, k, C) {
    if ((typeof k == "string" && k !== "") || typeof k == "number")
      return (v = v.get(x) || null), a(w, v, "" + k, C);
    if (typeof k == "object" && k !== null) {
      switch (k.$$typeof) {
        case Sd:
          return (v = v.get(k.key === null ? x : k.key) || null), l(w, v, k, C);
        case Fl:
          return (v = v.get(k.key === null ? x : k.key) || null), u(w, v, k, C);
        case To:
          var F = k._init;
          return f(v, w, x, F(k._payload), C);
      }
      if (Rc(k) || rc(k)) return (v = v.get(x) || null), c(w, v, k, C, null);
      Od(w, k);
    }
    return null;
  }
  function m(v, w, x, k) {
    for (
      var C = null, F = null, I = w, G = (w = 0), j = null;
      I !== null && G < x.length;
      G++
    ) {
      I.index > G ? ((j = I), (I = null)) : (j = I.sibling);
      var $ = d(v, I, x[G], k);
      if ($ === null) {
        I === null && (I = j);
        break;
      }
      r && I && $.alternate === null && e(v, I),
        (w = s($, w, G)),
        F === null ? (C = $) : (F.sibling = $),
        (F = $),
        (I = j);
    }
    if (G === x.length) return t(v, I), Pt && _a(v, G), C;
    if (I === null) {
      for (; G < x.length; G++)
        (I = h(v, x[G], k)),
          I !== null &&
            ((w = s(I, w, G)), F === null ? (C = I) : (F.sibling = I), (F = I));
      return Pt && _a(v, G), C;
    }
    for (I = n(v, I); G < x.length; G++)
      (j = f(I, v, G, x[G], k)),
        j !== null &&
          (r && j.alternate !== null && I.delete(j.key === null ? G : j.key),
          (w = s(j, w, G)),
          F === null ? (C = j) : (F.sibling = j),
          (F = j));
    return (
      r &&
        I.forEach(function (H) {
          return e(v, H);
        }),
      Pt && _a(v, G),
      C
    );
  }
  function g(v, w, x, k) {
    var C = rc(x);
    if (typeof C != "function") throw Error(re(150));
    if (((x = C.call(x)), x == null)) throw Error(re(151));
    for (
      var F = (C = null), I = w, G = (w = 0), j = null, $ = x.next();
      I !== null && !$.done;
      G++, $ = x.next()
    ) {
      I.index > G ? ((j = I), (I = null)) : (j = I.sibling);
      var H = d(v, I, $.value, k);
      if (H === null) {
        I === null && (I = j);
        break;
      }
      r && I && H.alternate === null && e(v, I),
        (w = s(H, w, G)),
        F === null ? (C = H) : (F.sibling = H),
        (F = H),
        (I = j);
    }
    if ($.done) return t(v, I), Pt && _a(v, G), C;
    if (I === null) {
      for (; !$.done; G++, $ = x.next())
        ($ = h(v, $.value, k)),
          $ !== null &&
            ((w = s($, w, G)), F === null ? (C = $) : (F.sibling = $), (F = $));
      return Pt && _a(v, G), C;
    }
    for (I = n(v, I); !$.done; G++, $ = x.next())
      ($ = f(I, v, G, $.value, k)),
        $ !== null &&
          (r && $.alternate !== null && I.delete($.key === null ? G : $.key),
          (w = s($, w, G)),
          F === null ? (C = $) : (F.sibling = $),
          (F = $));
    return (
      r &&
        I.forEach(function (Q) {
          return e(v, Q);
        }),
      Pt && _a(v, G),
      C
    );
  }
  function _(v, w, x, k) {
    if (
      (typeof x == "object" &&
        x !== null &&
        x.type === Nl &&
        x.key === null &&
        (x = x.props.children),
      typeof x == "object" && x !== null)
    ) {
      switch (x.$$typeof) {
        case Sd:
          e: {
            for (var C = x.key, F = w; F !== null; ) {
              if (F.key === C) {
                if (((C = x.type), C === Nl)) {
                  if (F.tag === 7) {
                    t(v, F.sibling),
                      (w = i(F, x.props.children)),
                      (w.return = v),
                      (v = w);
                    break e;
                  }
                } else if (
                  F.elementType === C ||
                  (typeof C == "object" &&
                    C !== null &&
                    C.$$typeof === To &&
                    aS(C) === F.type)
                ) {
                  t(v, F.sibling),
                    (w = i(F, x.props)),
                    (w.ref = ac(v, F, x)),
                    (w.return = v),
                    (v = w);
                  break e;
                }
                t(v, F);
                break;
              } else e(v, F);
              F = F.sibling;
            }
            x.type === Nl
              ? ((w = Fa(x.props.children, v.mode, k, x.key)),
                (w.return = v),
                (v = w))
              : ((k = $f(x.type, x.key, x.props, null, v.mode, k)),
                (k.ref = ac(v, w, x)),
                (k.return = v),
                (v = k));
          }
          return o(v);
        case Fl:
          e: {
            for (F = x.key; w !== null; ) {
              if (w.key === F)
                if (
                  w.tag === 4 &&
                  w.stateNode.containerInfo === x.containerInfo &&
                  w.stateNode.implementation === x.implementation
                ) {
                  t(v, w.sibling),
                    (w = i(w, x.children || [])),
                    (w.return = v),
                    (v = w);
                  break e;
                } else {
                  t(v, w);
                  break;
                }
              else e(v, w);
              w = w.sibling;
            }
            (w = R_(x, v.mode, k)), (w.return = v), (v = w);
          }
          return o(v);
        case To:
          return (F = x._init), _(v, w, F(x._payload), k);
      }
      if (Rc(x)) return m(v, w, x, k);
      if (rc(x)) return g(v, w, x, k);
      Od(v, x);
    }
    return (typeof x == "string" && x !== "") || typeof x == "number"
      ? ((x = "" + x),
        w !== null && w.tag === 6
          ? (t(v, w.sibling), (w = i(w, x)), (w.return = v), (v = w))
          : (t(v, w), (w = C_(x, v.mode, k)), (w.return = v), (v = w)),
        o(v))
      : t(v, w);
  }
  return _;
}
var xu = BC(!0),
  OC = BC(!1),
  gp = ia(null),
  _p = null,
  Hl = null,
  rw = null;
function nw() {
  rw = Hl = _p = null;
}
function iw(r) {
  var e = gp.current;
  Et(gp), (r._currentValue = e);
}
function Gy(r, e, t) {
  for (; r !== null; ) {
    var n = r.alternate;
    if (
      ((r.childLanes & e) !== e
        ? ((r.childLanes |= e), n !== null && (n.childLanes |= e))
        : n !== null && (n.childLanes & e) !== e && (n.childLanes |= e),
      r === t)
    )
      break;
    r = r.return;
  }
}
function ou(r, e) {
  (_p = r),
    (rw = Hl = null),
    (r = r.dependencies),
    r !== null &&
      r.firstContext !== null &&
      (r.lanes & e && (wn = !0), (r.firstContext = null));
}
function Pi(r) {
  var e = r._currentValue;
  if (rw !== r)
    if (((r = { context: r, memoizedValue: e, next: null }), Hl === null)) {
      if (_p === null) throw Error(re(308));
      (Hl = r), (_p.dependencies = { lanes: 0, firstContext: r });
    } else Hl = Hl.next = r;
  return e;
}
var Ca = null;
function sw(r) {
  Ca === null ? (Ca = [r]) : Ca.push(r);
}
function IC(r, e, t, n) {
  var i = e.interleaved;
  return (
    i === null ? ((t.next = t), sw(e)) : ((t.next = i.next), (i.next = t)),
    (e.interleaved = t),
    so(r, n)
  );
}
function so(r, e) {
  r.lanes |= e;
  var t = r.alternate;
  for (t !== null && (t.lanes |= e), t = r, r = r.return; r !== null; )
    (r.childLanes |= e),
      (t = r.alternate),
      t !== null && (t.childLanes |= e),
      (t = r),
      (r = r.return);
  return t.tag === 3 ? t.stateNode : null;
}
var ko = !1;
function ow(r) {
  r.updateQueue = {
    baseState: r.memoizedState,
    firstBaseUpdate: null,
    lastBaseUpdate: null,
    shared: { pending: null, interleaved: null, lanes: 0 },
    effects: null,
  };
}
function FC(r, e) {
  (r = r.updateQueue),
    e.updateQueue === r &&
      (e.updateQueue = {
        baseState: r.baseState,
        firstBaseUpdate: r.firstBaseUpdate,
        lastBaseUpdate: r.lastBaseUpdate,
        shared: r.shared,
        effects: r.effects,
      });
}
function Ys(r, e) {
  return {
    eventTime: r,
    lane: e,
    tag: 0,
    payload: null,
    callback: null,
    next: null,
  };
}
function Wo(r, e, t) {
  var n = r.updateQueue;
  if (n === null) return null;
  if (((n = n.shared), Ye & 2)) {
    var i = n.pending;
    return (
      i === null ? (e.next = e) : ((e.next = i.next), (i.next = e)),
      (n.pending = e),
      so(r, t)
    );
  }
  return (
    (i = n.interleaved),
    i === null ? ((e.next = e), sw(n)) : ((e.next = i.next), (i.next = e)),
    (n.interleaved = e),
    so(r, t)
  );
}
function Ff(r, e, t) {
  if (
    ((e = e.updateQueue), e !== null && ((e = e.shared), (t & 4194240) !== 0))
  ) {
    var n = e.lanes;
    (n &= r.pendingLanes), (t |= n), (e.lanes = t), Hx(r, t);
  }
}
function lS(r, e) {
  var t = r.updateQueue,
    n = r.alternate;
  if (n !== null && ((n = n.updateQueue), t === n)) {
    var i = null,
      s = null;
    if (((t = t.firstBaseUpdate), t !== null)) {
      do {
        var o = {
          eventTime: t.eventTime,
          lane: t.lane,
          tag: t.tag,
          payload: t.payload,
          callback: t.callback,
          next: null,
        };
        s === null ? (i = s = o) : (s = s.next = o), (t = t.next);
      } while (t !== null);
      s === null ? (i = s = e) : (s = s.next = e);
    } else i = s = e;
    (t = {
      baseState: n.baseState,
      firstBaseUpdate: i,
      lastBaseUpdate: s,
      shared: n.shared,
      effects: n.effects,
    }),
      (r.updateQueue = t);
    return;
  }
  (r = t.lastBaseUpdate),
    r === null ? (t.firstBaseUpdate = e) : (r.next = e),
    (t.lastBaseUpdate = e);
}
function yp(r, e, t, n) {
  var i = r.updateQueue;
  ko = !1;
  var s = i.firstBaseUpdate,
    o = i.lastBaseUpdate,
    a = i.shared.pending;
  if (a !== null) {
    i.shared.pending = null;
    var l = a,
      u = l.next;
    (l.next = null), o === null ? (s = u) : (o.next = u), (o = l);
    var c = r.alternate;
    c !== null &&
      ((c = c.updateQueue),
      (a = c.lastBaseUpdate),
      a !== o &&
        (a === null ? (c.firstBaseUpdate = u) : (a.next = u),
        (c.lastBaseUpdate = l)));
  }
  if (s !== null) {
    var h = i.baseState;
    (o = 0), (c = u = l = null), (a = s);
    do {
      var d = a.lane,
        f = a.eventTime;
      if ((n & d) === d) {
        c !== null &&
          (c = c.next =
            {
              eventTime: f,
              lane: 0,
              tag: a.tag,
              payload: a.payload,
              callback: a.callback,
              next: null,
            });
        e: {
          var m = r,
            g = a;
          switch (((d = e), (f = t), g.tag)) {
            case 1:
              if (((m = g.payload), typeof m == "function")) {
                h = m.call(f, h, d);
                break e;
              }
              h = m;
              break e;
            case 3:
              m.flags = (m.flags & -65537) | 128;
            case 0:
              if (
                ((m = g.payload),
                (d = typeof m == "function" ? m.call(f, h, d) : m),
                d == null)
              )
                break e;
              h = Ut({}, h, d);
              break e;
            case 2:
              ko = !0;
          }
        }
        a.callback !== null &&
          a.lane !== 0 &&
          ((r.flags |= 64),
          (d = i.effects),
          d === null ? (i.effects = [a]) : d.push(a));
      } else
        (f = {
          eventTime: f,
          lane: d,
          tag: a.tag,
          payload: a.payload,
          callback: a.callback,
          next: null,
        }),
          c === null ? ((u = c = f), (l = h)) : (c = c.next = f),
          (o |= d);
      if (((a = a.next), a === null)) {
        if (((a = i.shared.pending), a === null)) break;
        (d = a),
          (a = d.next),
          (d.next = null),
          (i.lastBaseUpdate = d),
          (i.shared.pending = null);
      }
    } while (!0);
    if (
      (c === null && (l = h),
      (i.baseState = l),
      (i.firstBaseUpdate = u),
      (i.lastBaseUpdate = c),
      (e = i.shared.interleaved),
      e !== null)
    ) {
      i = e;
      do (o |= i.lane), (i = i.next);
      while (i !== e);
    } else s === null && (i.shared.lanes = 0);
    (Ya |= o), (r.lanes = o), (r.memoizedState = h);
  }
}
function uS(r, e, t) {
  if (((r = e.effects), (e.effects = null), r !== null))
    for (e = 0; e < r.length; e++) {
      var n = r[e],
        i = n.callback;
      if (i !== null) {
        if (((n.callback = null), (n = t), typeof i != "function"))
          throw Error(re(191, i));
        i.call(n);
      }
    }
}
var Jh = {},
  xs = ia(Jh),
  vh = ia(Jh),
  xh = ia(Jh);
function Ra(r) {
  if (r === Jh) throw Error(re(174));
  return r;
}
function aw(r, e) {
  switch ((yt(xh, e), yt(vh, r), yt(xs, Jh), (r = e.nodeType), r)) {
    case 9:
    case 11:
      e = (e = e.documentElement) ? e.namespaceURI : xy(null, "");
      break;
    default:
      (r = r === 8 ? e.parentNode : e),
        (e = r.namespaceURI || null),
        (r = r.tagName),
        (e = xy(e, r));
  }
  Et(xs), yt(xs, e);
}
function wu() {
  Et(xs), Et(vh), Et(xh);
}
function NC(r) {
  Ra(xh.current);
  var e = Ra(xs.current),
    t = xy(e, r.type);
  e !== t && (yt(vh, r), yt(xs, t));
}
function lw(r) {
  vh.current === r && (Et(xs), Et(vh));
}
var Dt = ia(0);
function vp(r) {
  for (var e = r; e !== null; ) {
    if (e.tag === 13) {
      var t = e.memoizedState;
      if (
        t !== null &&
        ((t = t.dehydrated), t === null || t.data === "$?" || t.data === "$!")
      )
        return e;
    } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) {
      if (e.flags & 128) return e;
    } else if (e.child !== null) {
      (e.child.return = e), (e = e.child);
      continue;
    }
    if (e === r) break;
    for (; e.sibling === null; ) {
      if (e.return === null || e.return === r) return null;
      e = e.return;
    }
    (e.sibling.return = e.return), (e = e.sibling);
  }
  return null;
}
var S_ = [];
function uw() {
  for (var r = 0; r < S_.length; r++)
    S_[r]._workInProgressVersionPrimary = null;
  S_.length = 0;
}
var Nf = fo.ReactCurrentDispatcher,
  E_ = fo.ReactCurrentBatchConfig,
  Xa = 0,
  Lt = null,
  yr = null,
  Ar = null,
  xp = !1,
  Xc = !1,
  wh = 0,
  AL = 0;
function Vr() {
  throw Error(re(321));
}
function cw(r, e) {
  if (e === null) return !1;
  for (var t = 0; t < e.length && t < r.length; t++)
    if (!Qi(r[t], e[t])) return !1;
  return !0;
}
function hw(r, e, t, n, i, s) {
  if (
    ((Xa = s),
    (Lt = e),
    (e.memoizedState = null),
    (e.updateQueue = null),
    (e.lanes = 0),
    (Nf.current = r === null || r.memoizedState === null ? DL : ML),
    (r = t(n, i)),
    Xc)
  ) {
    s = 0;
    do {
      if (((Xc = !1), (wh = 0), 25 <= s)) throw Error(re(301));
      (s += 1),
        (Ar = yr = null),
        (e.updateQueue = null),
        (Nf.current = BL),
        (r = t(n, i));
    } while (Xc);
  }
  if (
    ((Nf.current = wp),
    (e = yr !== null && yr.next !== null),
    (Xa = 0),
    (Ar = yr = Lt = null),
    (xp = !1),
    e)
  )
    throw Error(re(300));
  return r;
}
function dw() {
  var r = wh !== 0;
  return (wh = 0), r;
}
function hs() {
  var r = {
    memoizedState: null,
    baseState: null,
    baseQueue: null,
    queue: null,
    next: null,
  };
  return Ar === null ? (Lt.memoizedState = Ar = r) : (Ar = Ar.next = r), Ar;
}
function Ci() {
  if (yr === null) {
    var r = Lt.alternate;
    r = r !== null ? r.memoizedState : null;
  } else r = yr.next;
  var e = Ar === null ? Lt.memoizedState : Ar.next;
  if (e !== null) (Ar = e), (yr = r);
  else {
    if (r === null) throw Error(re(310));
    (yr = r),
      (r = {
        memoizedState: yr.memoizedState,
        baseState: yr.baseState,
        baseQueue: yr.baseQueue,
        queue: yr.queue,
        next: null,
      }),
      Ar === null ? (Lt.memoizedState = Ar = r) : (Ar = Ar.next = r);
  }
  return Ar;
}
function bh(r, e) {
  return typeof e == "function" ? e(r) : e;
}
function T_(r) {
  var e = Ci(),
    t = e.queue;
  if (t === null) throw Error(re(311));
  t.lastRenderedReducer = r;
  var n = yr,
    i = n.baseQueue,
    s = t.pending;
  if (s !== null) {
    if (i !== null) {
      var o = i.next;
      (i.next = s.next), (s.next = o);
    }
    (n.baseQueue = i = s), (t.pending = null);
  }
  if (i !== null) {
    (s = i.next), (n = n.baseState);
    var a = (o = null),
      l = null,
      u = s;
    do {
      var c = u.lane;
      if ((Xa & c) === c)
        l !== null &&
          (l = l.next =
            {
              lane: 0,
              action: u.action,
              hasEagerState: u.hasEagerState,
              eagerState: u.eagerState,
              next: null,
            }),
          (n = u.hasEagerState ? u.eagerState : r(n, u.action));
      else {
        var h = {
          lane: c,
          action: u.action,
          hasEagerState: u.hasEagerState,
          eagerState: u.eagerState,
          next: null,
        };
        l === null ? ((a = l = h), (o = n)) : (l = l.next = h),
          (Lt.lanes |= c),
          (Ya |= c);
      }
      u = u.next;
    } while (u !== null && u !== s);
    l === null ? (o = n) : (l.next = a),
      Qi(n, e.memoizedState) || (wn = !0),
      (e.memoizedState = n),
      (e.baseState = o),
      (e.baseQueue = l),
      (t.lastRenderedState = n);
  }
  if (((r = t.interleaved), r !== null)) {
    i = r;
    do (s = i.lane), (Lt.lanes |= s), (Ya |= s), (i = i.next);
    while (i !== r);
  } else i === null && (t.lanes = 0);
  return [e.memoizedState, t.dispatch];
}
function k_(r) {
  var e = Ci(),
    t = e.queue;
  if (t === null) throw Error(re(311));
  t.lastRenderedReducer = r;
  var n = t.dispatch,
    i = t.pending,
    s = e.memoizedState;
  if (i !== null) {
    t.pending = null;
    var o = (i = i.next);
    do (s = r(s, o.action)), (o = o.next);
    while (o !== i);
    Qi(s, e.memoizedState) || (wn = !0),
      (e.memoizedState = s),
      e.baseQueue === null && (e.baseState = s),
      (t.lastRenderedState = s);
  }
  return [s, n];
}
function LC() {}
function UC(r, e) {
  var t = Lt,
    n = Ci(),
    i = e(),
    s = !Qi(n.memoizedState, i);
  if (
    (s && ((n.memoizedState = i), (wn = !0)),
    (n = n.queue),
    fw($C.bind(null, t, n, r), [r]),
    n.getSnapshot !== e || s || (Ar !== null && Ar.memoizedState.tag & 1))
  ) {
    if (
      ((t.flags |= 2048),
      Sh(9, jC.bind(null, t, n, i, e), void 0, null),
      Or === null)
    )
      throw Error(re(349));
    Xa & 30 || GC(t, e, i);
  }
  return i;
}
function GC(r, e, t) {
  (r.flags |= 16384),
    (r = { getSnapshot: e, value: t }),
    (e = Lt.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (Lt.updateQueue = e),
        (e.stores = [r]))
      : ((t = e.stores), t === null ? (e.stores = [r]) : t.push(r));
}
function jC(r, e, t, n) {
  (e.value = t), (e.getSnapshot = n), zC(e) && WC(r);
}
function $C(r, e, t) {
  return t(function () {
    zC(e) && WC(r);
  });
}
function zC(r) {
  var e = r.getSnapshot;
  r = r.value;
  try {
    var t = e();
    return !Qi(r, t);
  } catch {
    return !0;
  }
}
function WC(r) {
  var e = so(r, 1);
  e !== null && Vi(e, r, 1, -1);
}
function cS(r) {
  var e = hs();
  return (
    typeof r == "function" && (r = r()),
    (e.memoizedState = e.baseState = r),
    (r = {
      pending: null,
      interleaved: null,
      lanes: 0,
      dispatch: null,
      lastRenderedReducer: bh,
      lastRenderedState: r,
    }),
    (e.queue = r),
    (r = r.dispatch = RL.bind(null, Lt, r)),
    [e.memoizedState, r]
  );
}
function Sh(r, e, t, n) {
  return (
    (r = { tag: r, create: e, destroy: t, deps: n, next: null }),
    (e = Lt.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }),
        (Lt.updateQueue = e),
        (e.lastEffect = r.next = r))
      : ((t = e.lastEffect),
        t === null
          ? (e.lastEffect = r.next = r)
          : ((n = t.next), (t.next = r), (r.next = n), (e.lastEffect = r))),
    r
  );
}
function HC() {
  return Ci().memoizedState;
}
function Lf(r, e, t, n) {
  var i = hs();
  (Lt.flags |= r),
    (i.memoizedState = Sh(1 | e, t, void 0, n === void 0 ? null : n));
}
function Um(r, e, t, n) {
  var i = Ci();
  n = n === void 0 ? null : n;
  var s = void 0;
  if (yr !== null) {
    var o = yr.memoizedState;
    if (((s = o.destroy), n !== null && cw(n, o.deps))) {
      i.memoizedState = Sh(e, t, s, n);
      return;
    }
  }
  (Lt.flags |= r), (i.memoizedState = Sh(1 | e, t, s, n));
}
function hS(r, e) {
  return Lf(8390656, 8, r, e);
}
function fw(r, e) {
  return Um(2048, 8, r, e);
}
function VC(r, e) {
  return Um(4, 2, r, e);
}
function XC(r, e) {
  return Um(4, 4, r, e);
}
function YC(r, e) {
  if (typeof e == "function")
    return (
      (r = r()),
      e(r),
      function () {
        e(null);
      }
    );
  if (e != null)
    return (
      (r = r()),
      (e.current = r),
      function () {
        e.current = null;
      }
    );
}
function KC(r, e, t) {
  return (
    (t = t != null ? t.concat([r]) : null), Um(4, 4, YC.bind(null, e, r), t)
  );
}
function pw() {}
function qC(r, e) {
  var t = Ci();
  e = e === void 0 ? null : e;
  var n = t.memoizedState;
  return n !== null && e !== null && cw(e, n[1])
    ? n[0]
    : ((t.memoizedState = [r, e]), r);
}
function ZC(r, e) {
  var t = Ci();
  e = e === void 0 ? null : e;
  var n = t.memoizedState;
  return n !== null && e !== null && cw(e, n[1])
    ? n[0]
    : ((r = r()), (t.memoizedState = [r, e]), r);
}
function QC(r, e, t) {
  return Xa & 21
    ? (Qi(t, e) || ((t = nC()), (Lt.lanes |= t), (Ya |= t), (r.baseState = !0)),
      e)
    : (r.baseState && ((r.baseState = !1), (wn = !0)), (r.memoizedState = t));
}
function PL(r, e) {
  var t = st;
  (st = t !== 0 && 4 > t ? t : 4), r(!0);
  var n = E_.transition;
  E_.transition = {};
  try {
    r(!1), e();
  } finally {
    (st = t), (E_.transition = n);
  }
}
function JC() {
  return Ci().memoizedState;
}
function CL(r, e, t) {
  var n = Vo(r);
  if (
    ((t = {
      lane: n,
      action: t,
      hasEagerState: !1,
      eagerState: null,
      next: null,
    }),
    e3(r))
  )
    t3(e, t);
  else if (((t = IC(r, e, t, n)), t !== null)) {
    var i = cn();
    Vi(t, r, n, i), r3(t, e, n);
  }
}
function RL(r, e, t) {
  var n = Vo(r),
    i = { lane: n, action: t, hasEagerState: !1, eagerState: null, next: null };
  if (e3(r)) t3(e, i);
  else {
    var s = r.alternate;
    if (
      r.lanes === 0 &&
      (s === null || s.lanes === 0) &&
      ((s = e.lastRenderedReducer), s !== null)
    )
      try {
        var o = e.lastRenderedState,
          a = s(o, t);
        if (((i.hasEagerState = !0), (i.eagerState = a), Qi(a, o))) {
          var l = e.interleaved;
          l === null
            ? ((i.next = i), sw(e))
            : ((i.next = l.next), (l.next = i)),
            (e.interleaved = i);
          return;
        }
      } catch {
      } finally {
      }
    (t = IC(r, e, i, n)),
      t !== null && ((i = cn()), Vi(t, r, n, i), r3(t, e, n));
  }
}
function e3(r) {
  var e = r.alternate;
  return r === Lt || (e !== null && e === Lt);
}
function t3(r, e) {
  Xc = xp = !0;
  var t = r.pending;
  t === null ? (e.next = e) : ((e.next = t.next), (t.next = e)),
    (r.pending = e);
}
function r3(r, e, t) {
  if (t & 4194240) {
    var n = e.lanes;
    (n &= r.pendingLanes), (t |= n), (e.lanes = t), Hx(r, t);
  }
}
var wp = {
    readContext: Pi,
    useCallback: Vr,
    useContext: Vr,
    useEffect: Vr,
    useImperativeHandle: Vr,
    useInsertionEffect: Vr,
    useLayoutEffect: Vr,
    useMemo: Vr,
    useReducer: Vr,
    useRef: Vr,
    useState: Vr,
    useDebugValue: Vr,
    useDeferredValue: Vr,
    useTransition: Vr,
    useMutableSource: Vr,
    useSyncExternalStore: Vr,
    useId: Vr,
    unstable_isNewReconciler: !1,
  },
  DL = {
    readContext: Pi,
    useCallback: function (r, e) {
      return (hs().memoizedState = [r, e === void 0 ? null : e]), r;
    },
    useContext: Pi,
    useEffect: hS,
    useImperativeHandle: function (r, e, t) {
      return (
        (t = t != null ? t.concat([r]) : null),
        Lf(4194308, 4, YC.bind(null, e, r), t)
      );
    },
    useLayoutEffect: function (r, e) {
      return Lf(4194308, 4, r, e);
    },
    useInsertionEffect: function (r, e) {
      return Lf(4, 2, r, e);
    },
    useMemo: function (r, e) {
      var t = hs();
      return (
        (e = e === void 0 ? null : e), (r = r()), (t.memoizedState = [r, e]), r
      );
    },
    useReducer: function (r, e, t) {
      var n = hs();
      return (
        (e = t !== void 0 ? t(e) : e),
        (n.memoizedState = n.baseState = e),
        (r = {
          pending: null,
          interleaved: null,
          lanes: 0,
          dispatch: null,
          lastRenderedReducer: r,
          lastRenderedState: e,
        }),
        (n.queue = r),
        (r = r.dispatch = CL.bind(null, Lt, r)),
        [n.memoizedState, r]
      );
    },
    useRef: function (r) {
      var e = hs();
      return (r = { current: r }), (e.memoizedState = r);
    },
    useState: cS,
    useDebugValue: pw,
    useDeferredValue: function (r) {
      return (hs().memoizedState = r);
    },
    useTransition: function () {
      var r = cS(!1),
        e = r[0];
      return (r = PL.bind(null, r[1])), (hs().memoizedState = r), [e, r];
    },
    useMutableSource: function () {},
    useSyncExternalStore: function (r, e, t) {
      var n = Lt,
        i = hs();
      if (Pt) {
        if (t === void 0) throw Error(re(407));
        t = t();
      } else {
        if (((t = e()), Or === null)) throw Error(re(349));
        Xa & 30 || GC(n, e, t);
      }
      i.memoizedState = t;
      var s = { value: t, getSnapshot: e };
      return (
        (i.queue = s),
        hS($C.bind(null, n, s, r), [r]),
        (n.flags |= 2048),
        Sh(9, jC.bind(null, n, s, t, e), void 0, null),
        t
      );
    },
    useId: function () {
      var r = hs(),
        e = Or.identifierPrefix;
      if (Pt) {
        var t = Xs,
          n = Vs;
        (t = (n & ~(1 << (32 - Hi(n) - 1))).toString(32) + t),
          (e = ":" + e + "R" + t),
          (t = wh++),
          0 < t && (e += "H" + t.toString(32)),
          (e += ":");
      } else (t = AL++), (e = ":" + e + "r" + t.toString(32) + ":");
      return (r.memoizedState = e);
    },
    unstable_isNewReconciler: !1,
  },
  ML = {
    readContext: Pi,
    useCallback: qC,
    useContext: Pi,
    useEffect: fw,
    useImperativeHandle: KC,
    useInsertionEffect: VC,
    useLayoutEffect: XC,
    useMemo: ZC,
    useReducer: T_,
    useRef: HC,
    useState: function () {
      return T_(bh);
    },
    useDebugValue: pw,
    useDeferredValue: function (r) {
      var e = Ci();
      return QC(e, yr.memoizedState, r);
    },
    useTransition: function () {
      var r = T_(bh)[0],
        e = Ci().memoizedState;
      return [r, e];
    },
    useMutableSource: LC,
    useSyncExternalStore: UC,
    useId: JC,
    unstable_isNewReconciler: !1,
  },
  BL = {
    readContext: Pi,
    useCallback: qC,
    useContext: Pi,
    useEffect: fw,
    useImperativeHandle: KC,
    useInsertionEffect: VC,
    useLayoutEffect: XC,
    useMemo: ZC,
    useReducer: k_,
    useRef: HC,
    useState: function () {
      return k_(bh);
    },
    useDebugValue: pw,
    useDeferredValue: function (r) {
      var e = Ci();
      return yr === null ? (e.memoizedState = r) : QC(e, yr.memoizedState, r);
    },
    useTransition: function () {
      var r = k_(bh)[0],
        e = Ci().memoizedState;
      return [r, e];
    },
    useMutableSource: LC,
    useSyncExternalStore: UC,
    useId: JC,
    unstable_isNewReconciler: !1,
  };
function Ui(r, e) {
  if (r && r.defaultProps) {
    (e = Ut({}, e)), (r = r.defaultProps);
    for (var t in r) e[t] === void 0 && (e[t] = r[t]);
    return e;
  }
  return e;
}
function jy(r, e, t, n) {
  (e = r.memoizedState),
    (t = t(n, e)),
    (t = t == null ? e : Ut({}, e, t)),
    (r.memoizedState = t),
    r.lanes === 0 && (r.updateQueue.baseState = t);
}
var Gm = {
  isMounted: function (r) {
    return (r = r._reactInternals) ? ul(r) === r : !1;
  },
  enqueueSetState: function (r, e, t) {
    r = r._reactInternals;
    var n = cn(),
      i = Vo(r),
      s = Ys(n, i);
    (s.payload = e),
      t != null && (s.callback = t),
      (e = Wo(r, s, i)),
      e !== null && (Vi(e, r, i, n), Ff(e, r, i));
  },
  enqueueReplaceState: function (r, e, t) {
    r = r._reactInternals;
    var n = cn(),
      i = Vo(r),
      s = Ys(n, i);
    (s.tag = 1),
      (s.payload = e),
      t != null && (s.callback = t),
      (e = Wo(r, s, i)),
      e !== null && (Vi(e, r, i, n), Ff(e, r, i));
  },
  enqueueForceUpdate: function (r, e) {
    r = r._reactInternals;
    var t = cn(),
      n = Vo(r),
      i = Ys(t, n);
    (i.tag = 2),
      e != null && (i.callback = e),
      (e = Wo(r, i, n)),
      e !== null && (Vi(e, r, n, t), Ff(e, r, n));
  },
};
function dS(r, e, t, n, i, s, o) {
  return (
    (r = r.stateNode),
    typeof r.shouldComponentUpdate == "function"
      ? r.shouldComponentUpdate(n, s, o)
      : e.prototype && e.prototype.isPureReactComponent
      ? !mh(t, n) || !mh(i, s)
      : !0
  );
}
function n3(r, e, t) {
  var n = !1,
    i = Qo,
    s = e.contextType;
  return (
    typeof s == "object" && s !== null
      ? (s = Pi(s))
      : ((i = Sn(e) ? Ha : sn.current),
        (n = e.contextTypes),
        (s = (n = n != null) ? yu(r, i) : Qo)),
    (e = new e(t, s)),
    (r.memoizedState = e.state !== null && e.state !== void 0 ? e.state : null),
    (e.updater = Gm),
    (r.stateNode = e),
    (e._reactInternals = r),
    n &&
      ((r = r.stateNode),
      (r.__reactInternalMemoizedUnmaskedChildContext = i),
      (r.__reactInternalMemoizedMaskedChildContext = s)),
    e
  );
}
function fS(r, e, t, n) {
  (r = e.state),
    typeof e.componentWillReceiveProps == "function" &&
      e.componentWillReceiveProps(t, n),
    typeof e.UNSAFE_componentWillReceiveProps == "function" &&
      e.UNSAFE_componentWillReceiveProps(t, n),
    e.state !== r && Gm.enqueueReplaceState(e, e.state, null);
}
function $y(r, e, t, n) {
  var i = r.stateNode;
  (i.props = t), (i.state = r.memoizedState), (i.refs = {}), ow(r);
  var s = e.contextType;
  typeof s == "object" && s !== null
    ? (i.context = Pi(s))
    : ((s = Sn(e) ? Ha : sn.current), (i.context = yu(r, s))),
    (i.state = r.memoizedState),
    (s = e.getDerivedStateFromProps),
    typeof s == "function" && (jy(r, e, s, t), (i.state = r.memoizedState)),
    typeof e.getDerivedStateFromProps == "function" ||
      typeof i.getSnapshotBeforeUpdate == "function" ||
      (typeof i.UNSAFE_componentWillMount != "function" &&
        typeof i.componentWillMount != "function") ||
      ((e = i.state),
      typeof i.componentWillMount == "function" && i.componentWillMount(),
      typeof i.UNSAFE_componentWillMount == "function" &&
        i.UNSAFE_componentWillMount(),
      e !== i.state && Gm.enqueueReplaceState(i, i.state, null),
      yp(r, t, i, n),
      (i.state = r.memoizedState)),
    typeof i.componentDidMount == "function" && (r.flags |= 4194308);
}
function bu(r, e) {
  try {
    var t = "",
      n = e;
    do (t += a8(n)), (n = n.return);
    while (n);
    var i = t;
  } catch (s) {
    i =
      `
Error generating stack: ` +
      s.message +
      `
` +
      s.stack;
  }
  return { value: r, source: e, stack: i, digest: null };
}
function A_(r, e, t) {
  return { value: r, source: null, stack: t ?? null, digest: e ?? null };
}
function zy(r, e) {
  try {
    console.error(e.value);
  } catch (t) {
    setTimeout(function () {
      throw t;
    });
  }
}
var OL = typeof WeakMap == "function" ? WeakMap : Map;
function i3(r, e, t) {
  (t = Ys(-1, t)), (t.tag = 3), (t.payload = { element: null });
  var n = e.value;
  return (
    (t.callback = function () {
      Sp || ((Sp = !0), (Jy = n)), zy(r, e);
    }),
    t
  );
}
function s3(r, e, t) {
  (t = Ys(-1, t)), (t.tag = 3);
  var n = r.type.getDerivedStateFromError;
  if (typeof n == "function") {
    var i = e.value;
    (t.payload = function () {
      return n(i);
    }),
      (t.callback = function () {
        zy(r, e);
      });
  }
  var s = r.stateNode;
  return (
    s !== null &&
      typeof s.componentDidCatch == "function" &&
      (t.callback = function () {
        zy(r, e),
          typeof n != "function" &&
            (Ho === null ? (Ho = new Set([this])) : Ho.add(this));
        var o = e.stack;
        this.componentDidCatch(e.value, {
          componentStack: o !== null ? o : "",
        });
      }),
    t
  );
}
function pS(r, e, t) {
  var n = r.pingCache;
  if (n === null) {
    n = r.pingCache = new OL();
    var i = new Set();
    n.set(e, i);
  } else (i = n.get(e)), i === void 0 && ((i = new Set()), n.set(e, i));
  i.has(t) || (i.add(t), (r = YL.bind(null, r, e, t)), e.then(r, r));
}
function mS(r) {
  do {
    var e;
    if (
      ((e = r.tag === 13) &&
        ((e = r.memoizedState), (e = e !== null ? e.dehydrated !== null : !0)),
      e)
    )
      return r;
    r = r.return;
  } while (r !== null);
  return null;
}
function gS(r, e, t, n, i) {
  return r.mode & 1
    ? ((r.flags |= 65536), (r.lanes = i), r)
    : (r === e
        ? (r.flags |= 65536)
        : ((r.flags |= 128),
          (t.flags |= 131072),
          (t.flags &= -52805),
          t.tag === 1 &&
            (t.alternate === null
              ? (t.tag = 17)
              : ((e = Ys(-1, 1)), (e.tag = 2), Wo(t, e, 1))),
          (t.lanes |= 1)),
      r);
}
var IL = fo.ReactCurrentOwner,
  wn = !1;
function on(r, e, t, n) {
  e.child = r === null ? OC(e, null, t, n) : xu(e, r.child, t, n);
}
function _S(r, e, t, n, i) {
  t = t.render;
  var s = e.ref;
  return (
    ou(e, i),
    (n = hw(r, e, t, n, s, i)),
    (t = dw()),
    r !== null && !wn
      ? ((e.updateQueue = r.updateQueue),
        (e.flags &= -2053),
        (r.lanes &= ~i),
        oo(r, e, i))
      : (Pt && t && Jx(e), (e.flags |= 1), on(r, e, n, i), e.child)
  );
}
function yS(r, e, t, n, i) {
  if (r === null) {
    var s = t.type;
    return typeof s == "function" &&
      !bw(s) &&
      s.defaultProps === void 0 &&
      t.compare === null &&
      t.defaultProps === void 0
      ? ((e.tag = 15), (e.type = s), o3(r, e, s, n, i))
      : ((r = $f(t.type, null, n, e, e.mode, i)),
        (r.ref = e.ref),
        (r.return = e),
        (e.child = r));
  }
  if (((s = r.child), !(r.lanes & i))) {
    var o = s.memoizedProps;
    if (
      ((t = t.compare), (t = t !== null ? t : mh), t(o, n) && r.ref === e.ref)
    )
      return oo(r, e, i);
  }
  return (
    (e.flags |= 1),
    (r = Xo(s, n)),
    (r.ref = e.ref),
    (r.return = e),
    (e.child = r)
  );
}
function o3(r, e, t, n, i) {
  if (r !== null) {
    var s = r.memoizedProps;
    if (mh(s, n) && r.ref === e.ref)
      if (((wn = !1), (e.pendingProps = n = s), (r.lanes & i) !== 0))
        r.flags & 131072 && (wn = !0);
      else return (e.lanes = r.lanes), oo(r, e, i);
  }
  return Wy(r, e, t, n, i);
}
function a3(r, e, t) {
  var n = e.pendingProps,
    i = n.children,
    s = r !== null ? r.memoizedState : null;
  if (n.mode === "hidden")
    if (!(e.mode & 1))
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        yt(Xl, Un),
        (Un |= t);
    else {
      if (!(t & 1073741824))
        return (
          (r = s !== null ? s.baseLanes | t : t),
          (e.lanes = e.childLanes = 1073741824),
          (e.memoizedState = {
            baseLanes: r,
            cachePool: null,
            transitions: null,
          }),
          (e.updateQueue = null),
          yt(Xl, Un),
          (Un |= r),
          null
        );
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }),
        (n = s !== null ? s.baseLanes : t),
        yt(Xl, Un),
        (Un |= n);
    }
  else
    s !== null ? ((n = s.baseLanes | t), (e.memoizedState = null)) : (n = t),
      yt(Xl, Un),
      (Un |= n);
  return on(r, e, i, t), e.child;
}
function l3(r, e) {
  var t = e.ref;
  ((r === null && t !== null) || (r !== null && r.ref !== t)) &&
    ((e.flags |= 512), (e.flags |= 2097152));
}
function Wy(r, e, t, n, i) {
  var s = Sn(t) ? Ha : sn.current;
  return (
    (s = yu(e, s)),
    ou(e, i),
    (t = hw(r, e, t, n, s, i)),
    (n = dw()),
    r !== null && !wn
      ? ((e.updateQueue = r.updateQueue),
        (e.flags &= -2053),
        (r.lanes &= ~i),
        oo(r, e, i))
      : (Pt && n && Jx(e), (e.flags |= 1), on(r, e, t, i), e.child)
  );
}
function vS(r, e, t, n, i) {
  if (Sn(t)) {
    var s = !0;
    fp(e);
  } else s = !1;
  if ((ou(e, i), e.stateNode === null))
    Uf(r, e), n3(e, t, n), $y(e, t, n, i), (n = !0);
  else if (r === null) {
    var o = e.stateNode,
      a = e.memoizedProps;
    o.props = a;
    var l = o.context,
      u = t.contextType;
    typeof u == "object" && u !== null
      ? (u = Pi(u))
      : ((u = Sn(t) ? Ha : sn.current), (u = yu(e, u)));
    var c = t.getDerivedStateFromProps,
      h =
        typeof c == "function" ||
        typeof o.getSnapshotBeforeUpdate == "function";
    h ||
      (typeof o.UNSAFE_componentWillReceiveProps != "function" &&
        typeof o.componentWillReceiveProps != "function") ||
      ((a !== n || l !== u) && fS(e, o, n, u)),
      (ko = !1);
    var d = e.memoizedState;
    (o.state = d),
      yp(e, n, o, i),
      (l = e.memoizedState),
      a !== n || d !== l || bn.current || ko
        ? (typeof c == "function" && (jy(e, t, c, n), (l = e.memoizedState)),
          (a = ko || dS(e, t, a, n, d, l, u))
            ? (h ||
                (typeof o.UNSAFE_componentWillMount != "function" &&
                  typeof o.componentWillMount != "function") ||
                (typeof o.componentWillMount == "function" &&
                  o.componentWillMount(),
                typeof o.UNSAFE_componentWillMount == "function" &&
                  o.UNSAFE_componentWillMount()),
              typeof o.componentDidMount == "function" && (e.flags |= 4194308))
            : (typeof o.componentDidMount == "function" && (e.flags |= 4194308),
              (e.memoizedProps = n),
              (e.memoizedState = l)),
          (o.props = n),
          (o.state = l),
          (o.context = u),
          (n = a))
        : (typeof o.componentDidMount == "function" && (e.flags |= 4194308),
          (n = !1));
  } else {
    (o = e.stateNode),
      FC(r, e),
      (a = e.memoizedProps),
      (u = e.type === e.elementType ? a : Ui(e.type, a)),
      (o.props = u),
      (h = e.pendingProps),
      (d = o.context),
      (l = t.contextType),
      typeof l == "object" && l !== null
        ? (l = Pi(l))
        : ((l = Sn(t) ? Ha : sn.current), (l = yu(e, l)));
    var f = t.getDerivedStateFromProps;
    (c =
      typeof f == "function" ||
      typeof o.getSnapshotBeforeUpdate == "function") ||
      (typeof o.UNSAFE_componentWillReceiveProps != "function" &&
        typeof o.componentWillReceiveProps != "function") ||
      ((a !== h || d !== l) && fS(e, o, n, l)),
      (ko = !1),
      (d = e.memoizedState),
      (o.state = d),
      yp(e, n, o, i);
    var m = e.memoizedState;
    a !== h || d !== m || bn.current || ko
      ? (typeof f == "function" && (jy(e, t, f, n), (m = e.memoizedState)),
        (u = ko || dS(e, t, u, n, d, m, l) || !1)
          ? (c ||
              (typeof o.UNSAFE_componentWillUpdate != "function" &&
                typeof o.componentWillUpdate != "function") ||
              (typeof o.componentWillUpdate == "function" &&
                o.componentWillUpdate(n, m, l),
              typeof o.UNSAFE_componentWillUpdate == "function" &&
                o.UNSAFE_componentWillUpdate(n, m, l)),
            typeof o.componentDidUpdate == "function" && (e.flags |= 4),
            typeof o.getSnapshotBeforeUpdate == "function" && (e.flags |= 1024))
          : (typeof o.componentDidUpdate != "function" ||
              (a === r.memoizedProps && d === r.memoizedState) ||
              (e.flags |= 4),
            typeof o.getSnapshotBeforeUpdate != "function" ||
              (a === r.memoizedProps && d === r.memoizedState) ||
              (e.flags |= 1024),
            (e.memoizedProps = n),
            (e.memoizedState = m)),
        (o.props = n),
        (o.state = m),
        (o.context = l),
        (n = u))
      : (typeof o.componentDidUpdate != "function" ||
          (a === r.memoizedProps && d === r.memoizedState) ||
          (e.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" ||
          (a === r.memoizedProps && d === r.memoizedState) ||
          (e.flags |= 1024),
        (n = !1));
  }
  return Hy(r, e, t, n, s, i);
}
function Hy(r, e, t, n, i, s) {
  l3(r, e);
  var o = (e.flags & 128) !== 0;
  if (!n && !o) return i && iS(e, t, !1), oo(r, e, s);
  (n = e.stateNode), (IL.current = e);
  var a =
    o && typeof t.getDerivedStateFromError != "function" ? null : n.render();
  return (
    (e.flags |= 1),
    r !== null && o
      ? ((e.child = xu(e, r.child, null, s)), (e.child = xu(e, null, a, s)))
      : on(r, e, a, s),
    (e.memoizedState = n.state),
    i && iS(e, t, !0),
    e.child
  );
}
function u3(r) {
  var e = r.stateNode;
  e.pendingContext
    ? nS(r, e.pendingContext, e.pendingContext !== e.context)
    : e.context && nS(r, e.context, !1),
    aw(r, e.containerInfo);
}
function xS(r, e, t, n, i) {
  return vu(), tw(i), (e.flags |= 256), on(r, e, t, n), e.child;
}
var Vy = { dehydrated: null, treeContext: null, retryLane: 0 };
function Xy(r) {
  return { baseLanes: r, cachePool: null, transitions: null };
}
function c3(r, e, t) {
  var n = e.pendingProps,
    i = Dt.current,
    s = !1,
    o = (e.flags & 128) !== 0,
    a;
  if (
    ((a = o) ||
      (a = r !== null && r.memoizedState === null ? !1 : (i & 2) !== 0),
    a
      ? ((s = !0), (e.flags &= -129))
      : (r === null || r.memoizedState !== null) && (i |= 1),
    yt(Dt, i & 1),
    r === null)
  )
    return (
      Uy(e),
      (r = e.memoizedState),
      r !== null && ((r = r.dehydrated), r !== null)
        ? (e.mode & 1
            ? r.data === "$!"
              ? (e.lanes = 8)
              : (e.lanes = 1073741824)
            : (e.lanes = 1),
          null)
        : ((o = n.children),
          (r = n.fallback),
          s
            ? ((n = e.mode),
              (s = e.child),
              (o = { mode: "hidden", children: o }),
              !(n & 1) && s !== null
                ? ((s.childLanes = 0), (s.pendingProps = o))
                : (s = zm(o, n, 0, null)),
              (r = Fa(r, n, t, null)),
              (s.return = e),
              (r.return = e),
              (s.sibling = r),
              (e.child = s),
              (e.child.memoizedState = Xy(t)),
              (e.memoizedState = Vy),
              r)
            : mw(e, o))
    );
  if (((i = r.memoizedState), i !== null && ((a = i.dehydrated), a !== null)))
    return FL(r, e, o, n, a, i, t);
  if (s) {
    (s = n.fallback), (o = e.mode), (i = r.child), (a = i.sibling);
    var l = { mode: "hidden", children: n.children };
    return (
      !(o & 1) && e.child !== i
        ? ((n = e.child),
          (n.childLanes = 0),
          (n.pendingProps = l),
          (e.deletions = null))
        : ((n = Xo(i, l)), (n.subtreeFlags = i.subtreeFlags & 14680064)),
      a !== null ? (s = Xo(a, s)) : ((s = Fa(s, o, t, null)), (s.flags |= 2)),
      (s.return = e),
      (n.return = e),
      (n.sibling = s),
      (e.child = n),
      (n = s),
      (s = e.child),
      (o = r.child.memoizedState),
      (o =
        o === null
          ? Xy(t)
          : {
              baseLanes: o.baseLanes | t,
              cachePool: null,
              transitions: o.transitions,
            }),
      (s.memoizedState = o),
      (s.childLanes = r.childLanes & ~t),
      (e.memoizedState = Vy),
      n
    );
  }
  return (
    (s = r.child),
    (r = s.sibling),
    (n = Xo(s, { mode: "visible", children: n.children })),
    !(e.mode & 1) && (n.lanes = t),
    (n.return = e),
    (n.sibling = null),
    r !== null &&
      ((t = e.deletions),
      t === null ? ((e.deletions = [r]), (e.flags |= 16)) : t.push(r)),
    (e.child = n),
    (e.memoizedState = null),
    n
  );
}
function mw(r, e) {
  return (
    (e = zm({ mode: "visible", children: e }, r.mode, 0, null)),
    (e.return = r),
    (r.child = e)
  );
}
function Id(r, e, t, n) {
  return (
    n !== null && tw(n),
    xu(e, r.child, null, t),
    (r = mw(e, e.pendingProps.children)),
    (r.flags |= 2),
    (e.memoizedState = null),
    r
  );
}
function FL(r, e, t, n, i, s, o) {
  if (t)
    return e.flags & 256
      ? ((e.flags &= -257), (n = A_(Error(re(422)))), Id(r, e, o, n))
      : e.memoizedState !== null
      ? ((e.child = r.child), (e.flags |= 128), null)
      : ((s = n.fallback),
        (i = e.mode),
        (n = zm({ mode: "visible", children: n.children }, i, 0, null)),
        (s = Fa(s, i, o, null)),
        (s.flags |= 2),
        (n.return = e),
        (s.return = e),
        (n.sibling = s),
        (e.child = n),
        e.mode & 1 && xu(e, r.child, null, o),
        (e.child.memoizedState = Xy(o)),
        (e.memoizedState = Vy),
        s);
  if (!(e.mode & 1)) return Id(r, e, o, null);
  if (i.data === "$!") {
    if (((n = i.nextSibling && i.nextSibling.dataset), n)) var a = n.dgst;
    return (
      (n = a), (s = Error(re(419))), (n = A_(s, n, void 0)), Id(r, e, o, n)
    );
  }
  if (((a = (o & r.childLanes) !== 0), wn || a)) {
    if (((n = Or), n !== null)) {
      switch (o & -o) {
        case 4:
          i = 2;
          break;
        case 16:
          i = 8;
          break;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          i = 32;
          break;
        case 536870912:
          i = 268435456;
          break;
        default:
          i = 0;
      }
      (i = i & (n.suspendedLanes | o) ? 0 : i),
        i !== 0 &&
          i !== s.retryLane &&
          ((s.retryLane = i), so(r, i), Vi(n, r, i, -1));
    }
    return ww(), (n = A_(Error(re(421)))), Id(r, e, o, n);
  }
  return i.data === "$?"
    ? ((e.flags |= 128),
      (e.child = r.child),
      (e = KL.bind(null, r)),
      (i._reactRetry = e),
      null)
    : ((r = s.treeContext),
      (Vn = zo(i.nextSibling)),
      (Yn = e),
      (Pt = !0),
      ($i = null),
      r !== null &&
        ((pi[mi++] = Vs),
        (pi[mi++] = Xs),
        (pi[mi++] = Va),
        (Vs = r.id),
        (Xs = r.overflow),
        (Va = e)),
      (e = mw(e, n.children)),
      (e.flags |= 4096),
      e);
}
function wS(r, e, t) {
  r.lanes |= e;
  var n = r.alternate;
  n !== null && (n.lanes |= e), Gy(r.return, e, t);
}
function P_(r, e, t, n, i) {
  var s = r.memoizedState;
  s === null
    ? (r.memoizedState = {
        isBackwards: e,
        rendering: null,
        renderingStartTime: 0,
        last: n,
        tail: t,
        tailMode: i,
      })
    : ((s.isBackwards = e),
      (s.rendering = null),
      (s.renderingStartTime = 0),
      (s.last = n),
      (s.tail = t),
      (s.tailMode = i));
}
function h3(r, e, t) {
  var n = e.pendingProps,
    i = n.revealOrder,
    s = n.tail;
  if ((on(r, e, n.children, t), (n = Dt.current), n & 2))
    (n = (n & 1) | 2), (e.flags |= 128);
  else {
    if (r !== null && r.flags & 128)
      e: for (r = e.child; r !== null; ) {
        if (r.tag === 13) r.memoizedState !== null && wS(r, t, e);
        else if (r.tag === 19) wS(r, t, e);
        else if (r.child !== null) {
          (r.child.return = r), (r = r.child);
          continue;
        }
        if (r === e) break e;
        for (; r.sibling === null; ) {
          if (r.return === null || r.return === e) break e;
          r = r.return;
        }
        (r.sibling.return = r.return), (r = r.sibling);
      }
    n &= 1;
  }
  if ((yt(Dt, n), !(e.mode & 1))) e.memoizedState = null;
  else
    switch (i) {
      case "forwards":
        for (t = e.child, i = null; t !== null; )
          (r = t.alternate),
            r !== null && vp(r) === null && (i = t),
            (t = t.sibling);
        (t = i),
          t === null
            ? ((i = e.child), (e.child = null))
            : ((i = t.sibling), (t.sibling = null)),
          P_(e, !1, i, t, s);
        break;
      case "backwards":
        for (t = null, i = e.child, e.child = null; i !== null; ) {
          if (((r = i.alternate), r !== null && vp(r) === null)) {
            e.child = i;
            break;
          }
          (r = i.sibling), (i.sibling = t), (t = i), (i = r);
        }
        P_(e, !0, t, null, s);
        break;
      case "together":
        P_(e, !1, null, null, void 0);
        break;
      default:
        e.memoizedState = null;
    }
  return e.child;
}
function Uf(r, e) {
  !(e.mode & 1) &&
    r !== null &&
    ((r.alternate = null), (e.alternate = null), (e.flags |= 2));
}
function oo(r, e, t) {
  if (
    (r !== null && (e.dependencies = r.dependencies),
    (Ya |= e.lanes),
    !(t & e.childLanes))
  )
    return null;
  if (r !== null && e.child !== r.child) throw Error(re(153));
  if (e.child !== null) {
    for (
      r = e.child, t = Xo(r, r.pendingProps), e.child = t, t.return = e;
      r.sibling !== null;

    )
      (r = r.sibling), (t = t.sibling = Xo(r, r.pendingProps)), (t.return = e);
    t.sibling = null;
  }
  return e.child;
}
function NL(r, e, t) {
  switch (e.tag) {
    case 3:
      u3(e), vu();
      break;
    case 5:
      NC(e);
      break;
    case 1:
      Sn(e.type) && fp(e);
      break;
    case 4:
      aw(e, e.stateNode.containerInfo);
      break;
    case 10:
      var n = e.type._context,
        i = e.memoizedProps.value;
      yt(gp, n._currentValue), (n._currentValue = i);
      break;
    case 13:
      if (((n = e.memoizedState), n !== null))
        return n.dehydrated !== null
          ? (yt(Dt, Dt.current & 1), (e.flags |= 128), null)
          : t & e.child.childLanes
          ? c3(r, e, t)
          : (yt(Dt, Dt.current & 1),
            (r = oo(r, e, t)),
            r !== null ? r.sibling : null);
      yt(Dt, Dt.current & 1);
      break;
    case 19:
      if (((n = (t & e.childLanes) !== 0), r.flags & 128)) {
        if (n) return h3(r, e, t);
        e.flags |= 128;
      }
      if (
        ((i = e.memoizedState),
        i !== null &&
          ((i.rendering = null), (i.tail = null), (i.lastEffect = null)),
        yt(Dt, Dt.current),
        n)
      )
        break;
      return null;
    case 22:
    case 23:
      return (e.lanes = 0), a3(r, e, t);
  }
  return oo(r, e, t);
}
var d3, Yy, f3, p3;
d3 = function (r, e) {
  for (var t = e.child; t !== null; ) {
    if (t.tag === 5 || t.tag === 6) r.appendChild(t.stateNode);
    else if (t.tag !== 4 && t.child !== null) {
      (t.child.return = t), (t = t.child);
      continue;
    }
    if (t === e) break;
    for (; t.sibling === null; ) {
      if (t.return === null || t.return === e) return;
      t = t.return;
    }
    (t.sibling.return = t.return), (t = t.sibling);
  }
};
Yy = function () {};
f3 = function (r, e, t, n) {
  var i = r.memoizedProps;
  if (i !== n) {
    (r = e.stateNode), Ra(xs.current);
    var s = null;
    switch (t) {
      case "input":
        (i = gy(r, i)), (n = gy(r, n)), (s = []);
        break;
      case "select":
        (i = Ut({}, i, { value: void 0 })),
          (n = Ut({}, n, { value: void 0 })),
          (s = []);
        break;
      case "textarea":
        (i = vy(r, i)), (n = vy(r, n)), (s = []);
        break;
      default:
        typeof i.onClick != "function" &&
          typeof n.onClick == "function" &&
          (r.onclick = hp);
    }
    wy(t, n);
    var o;
    t = null;
    for (u in i)
      if (!n.hasOwnProperty(u) && i.hasOwnProperty(u) && i[u] != null)
        if (u === "style") {
          var a = i[u];
          for (o in a) a.hasOwnProperty(o) && (t || (t = {}), (t[o] = ""));
        } else
          u !== "dangerouslySetInnerHTML" &&
            u !== "children" &&
            u !== "suppressContentEditableWarning" &&
            u !== "suppressHydrationWarning" &&
            u !== "autoFocus" &&
            (lh.hasOwnProperty(u)
              ? s || (s = [])
              : (s = s || []).push(u, null));
    for (u in n) {
      var l = n[u];
      if (
        ((a = i != null ? i[u] : void 0),
        n.hasOwnProperty(u) && l !== a && (l != null || a != null))
      )
        if (u === "style")
          if (a) {
            for (o in a)
              !a.hasOwnProperty(o) ||
                (l && l.hasOwnProperty(o)) ||
                (t || (t = {}), (t[o] = ""));
            for (o in l)
              l.hasOwnProperty(o) &&
                a[o] !== l[o] &&
                (t || (t = {}), (t[o] = l[o]));
          } else t || (s || (s = []), s.push(u, t)), (t = l);
        else
          u === "dangerouslySetInnerHTML"
            ? ((l = l ? l.__html : void 0),
              (a = a ? a.__html : void 0),
              l != null && a !== l && (s = s || []).push(u, l))
            : u === "children"
            ? (typeof l != "string" && typeof l != "number") ||
              (s = s || []).push(u, "" + l)
            : u !== "suppressContentEditableWarning" &&
              u !== "suppressHydrationWarning" &&
              (lh.hasOwnProperty(u)
                ? (l != null && u === "onScroll" && St("scroll", r),
                  s || a === l || (s = []))
                : (s = s || []).push(u, l));
    }
    t && (s = s || []).push("style", t);
    var u = s;
    (e.updateQueue = u) && (e.flags |= 4);
  }
};
p3 = function (r, e, t, n) {
  t !== n && (e.flags |= 4);
};
function lc(r, e) {
  if (!Pt)
    switch (r.tailMode) {
      case "hidden":
        e = r.tail;
        for (var t = null; e !== null; )
          e.alternate !== null && (t = e), (e = e.sibling);
        t === null ? (r.tail = null) : (t.sibling = null);
        break;
      case "collapsed":
        t = r.tail;
        for (var n = null; t !== null; )
          t.alternate !== null && (n = t), (t = t.sibling);
        n === null
          ? e || r.tail === null
            ? (r.tail = null)
            : (r.tail.sibling = null)
          : (n.sibling = null);
    }
}
function Xr(r) {
  var e = r.alternate !== null && r.alternate.child === r.child,
    t = 0,
    n = 0;
  if (e)
    for (var i = r.child; i !== null; )
      (t |= i.lanes | i.childLanes),
        (n |= i.subtreeFlags & 14680064),
        (n |= i.flags & 14680064),
        (i.return = r),
        (i = i.sibling);
  else
    for (i = r.child; i !== null; )
      (t |= i.lanes | i.childLanes),
        (n |= i.subtreeFlags),
        (n |= i.flags),
        (i.return = r),
        (i = i.sibling);
  return (r.subtreeFlags |= n), (r.childLanes = t), e;
}
function LL(r, e, t) {
  var n = e.pendingProps;
  switch ((ew(e), e.tag)) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return Xr(e), null;
    case 1:
      return Sn(e.type) && dp(), Xr(e), null;
    case 3:
      return (
        (n = e.stateNode),
        wu(),
        Et(bn),
        Et(sn),
        uw(),
        n.pendingContext &&
          ((n.context = n.pendingContext), (n.pendingContext = null)),
        (r === null || r.child === null) &&
          (Bd(e)
            ? (e.flags |= 4)
            : r === null ||
              (r.memoizedState.isDehydrated && !(e.flags & 256)) ||
              ((e.flags |= 1024), $i !== null && (rv($i), ($i = null)))),
        Yy(r, e),
        Xr(e),
        null
      );
    case 5:
      lw(e);
      var i = Ra(xh.current);
      if (((t = e.type), r !== null && e.stateNode != null))
        f3(r, e, t, n, i),
          r.ref !== e.ref && ((e.flags |= 512), (e.flags |= 2097152));
      else {
        if (!n) {
          if (e.stateNode === null) throw Error(re(166));
          return Xr(e), null;
        }
        if (((r = Ra(xs.current)), Bd(e))) {
          (n = e.stateNode), (t = e.type);
          var s = e.memoizedProps;
          switch (((n[fs] = e), (n[yh] = s), (r = (e.mode & 1) !== 0), t)) {
            case "dialog":
              St("cancel", n), St("close", n);
              break;
            case "iframe":
            case "object":
            case "embed":
              St("load", n);
              break;
            case "video":
            case "audio":
              for (i = 0; i < Mc.length; i++) St(Mc[i], n);
              break;
            case "source":
              St("error", n);
              break;
            case "img":
            case "image":
            case "link":
              St("error", n), St("load", n);
              break;
            case "details":
              St("toggle", n);
              break;
            case "input":
              R1(n, s), St("invalid", n);
              break;
            case "select":
              (n._wrapperState = { wasMultiple: !!s.multiple }),
                St("invalid", n);
              break;
            case "textarea":
              M1(n, s), St("invalid", n);
          }
          wy(t, s), (i = null);
          for (var o in s)
            if (s.hasOwnProperty(o)) {
              var a = s[o];
              o === "children"
                ? typeof a == "string"
                  ? n.textContent !== a &&
                    (s.suppressHydrationWarning !== !0 &&
                      Md(n.textContent, a, r),
                    (i = ["children", a]))
                  : typeof a == "number" &&
                    n.textContent !== "" + a &&
                    (s.suppressHydrationWarning !== !0 &&
                      Md(n.textContent, a, r),
                    (i = ["children", "" + a]))
                : lh.hasOwnProperty(o) &&
                  a != null &&
                  o === "onScroll" &&
                  St("scroll", n);
            }
          switch (t) {
            case "input":
              Ed(n), D1(n, s, !0);
              break;
            case "textarea":
              Ed(n), B1(n);
              break;
            case "select":
            case "option":
              break;
            default:
              typeof s.onClick == "function" && (n.onclick = hp);
          }
          (n = i), (e.updateQueue = n), n !== null && (e.flags |= 4);
        } else {
          (o = i.nodeType === 9 ? i : i.ownerDocument),
            r === "http://www.w3.org/1999/xhtml" && (r = $2(t)),
            r === "http://www.w3.org/1999/xhtml"
              ? t === "script"
                ? ((r = o.createElement("div")),
                  (r.innerHTML = "<script></script>"),
                  (r = r.removeChild(r.firstChild)))
                : typeof n.is == "string"
                ? (r = o.createElement(t, { is: n.is }))
                : ((r = o.createElement(t)),
                  t === "select" &&
                    ((o = r),
                    n.multiple
                      ? (o.multiple = !0)
                      : n.size && (o.size = n.size)))
              : (r = o.createElementNS(r, t)),
            (r[fs] = e),
            (r[yh] = n),
            d3(r, e, !1, !1),
            (e.stateNode = r);
          e: {
            switch (((o = by(t, n)), t)) {
              case "dialog":
                St("cancel", r), St("close", r), (i = n);
                break;
              case "iframe":
              case "object":
              case "embed":
                St("load", r), (i = n);
                break;
              case "video":
              case "audio":
                for (i = 0; i < Mc.length; i++) St(Mc[i], r);
                i = n;
                break;
              case "source":
                St("error", r), (i = n);
                break;
              case "img":
              case "image":
              case "link":
                St("error", r), St("load", r), (i = n);
                break;
              case "details":
                St("toggle", r), (i = n);
                break;
              case "input":
                R1(r, n), (i = gy(r, n)), St("invalid", r);
                break;
              case "option":
                i = n;
                break;
              case "select":
                (r._wrapperState = { wasMultiple: !!n.multiple }),
                  (i = Ut({}, n, { value: void 0 })),
                  St("invalid", r);
                break;
              case "textarea":
                M1(r, n), (i = vy(r, n)), St("invalid", r);
                break;
              default:
                i = n;
            }
            wy(t, i), (a = i);
            for (s in a)
              if (a.hasOwnProperty(s)) {
                var l = a[s];
                s === "style"
                  ? H2(r, l)
                  : s === "dangerouslySetInnerHTML"
                  ? ((l = l ? l.__html : void 0), l != null && z2(r, l))
                  : s === "children"
                  ? typeof l == "string"
                    ? (t !== "textarea" || l !== "") && uh(r, l)
                    : typeof l == "number" && uh(r, "" + l)
                  : s !== "suppressContentEditableWarning" &&
                    s !== "suppressHydrationWarning" &&
                    s !== "autoFocus" &&
                    (lh.hasOwnProperty(s)
                      ? l != null && s === "onScroll" && St("scroll", r)
                      : l != null && Ux(r, s, l, o));
              }
            switch (t) {
              case "input":
                Ed(r), D1(r, n, !1);
                break;
              case "textarea":
                Ed(r), B1(r);
                break;
              case "option":
                n.value != null && r.setAttribute("value", "" + Zo(n.value));
                break;
              case "select":
                (r.multiple = !!n.multiple),
                  (s = n.value),
                  s != null
                    ? ru(r, !!n.multiple, s, !1)
                    : n.defaultValue != null &&
                      ru(r, !!n.multiple, n.defaultValue, !0);
                break;
              default:
                typeof i.onClick == "function" && (r.onclick = hp);
            }
            switch (t) {
              case "button":
              case "input":
              case "select":
              case "textarea":
                n = !!n.autoFocus;
                break e;
              case "img":
                n = !0;
                break e;
              default:
                n = !1;
            }
          }
          n && (e.flags |= 4);
        }
        e.ref !== null && ((e.flags |= 512), (e.flags |= 2097152));
      }
      return Xr(e), null;
    case 6:
      if (r && e.stateNode != null) p3(r, e, r.memoizedProps, n);
      else {
        if (typeof n != "string" && e.stateNode === null) throw Error(re(166));
        if (((t = Ra(xh.current)), Ra(xs.current), Bd(e))) {
          if (
            ((n = e.stateNode),
            (t = e.memoizedProps),
            (n[fs] = e),
            (s = n.nodeValue !== t) && ((r = Yn), r !== null))
          )
            switch (r.tag) {
              case 3:
                Md(n.nodeValue, t, (r.mode & 1) !== 0);
                break;
              case 5:
                r.memoizedProps.suppressHydrationWarning !== !0 &&
                  Md(n.nodeValue, t, (r.mode & 1) !== 0);
            }
          s && (e.flags |= 4);
        } else
          (n = (t.nodeType === 9 ? t : t.ownerDocument).createTextNode(n)),
            (n[fs] = e),
            (e.stateNode = n);
      }
      return Xr(e), null;
    case 13:
      if (
        (Et(Dt),
        (n = e.memoizedState),
        r === null ||
          (r.memoizedState !== null && r.memoizedState.dehydrated !== null))
      ) {
        if (Pt && Vn !== null && e.mode & 1 && !(e.flags & 128))
          MC(), vu(), (e.flags |= 98560), (s = !1);
        else if (((s = Bd(e)), n !== null && n.dehydrated !== null)) {
          if (r === null) {
            if (!s) throw Error(re(318));
            if (
              ((s = e.memoizedState),
              (s = s !== null ? s.dehydrated : null),
              !s)
            )
              throw Error(re(317));
            s[fs] = e;
          } else
            vu(), !(e.flags & 128) && (e.memoizedState = null), (e.flags |= 4);
          Xr(e), (s = !1);
        } else $i !== null && (rv($i), ($i = null)), (s = !0);
        if (!s) return e.flags & 65536 ? e : null;
      }
      return e.flags & 128
        ? ((e.lanes = t), e)
        : ((n = n !== null),
          n !== (r !== null && r.memoizedState !== null) &&
            n &&
            ((e.child.flags |= 8192),
            e.mode & 1 &&
              (r === null || Dt.current & 1 ? wr === 0 && (wr = 3) : ww())),
          e.updateQueue !== null && (e.flags |= 4),
          Xr(e),
          null);
    case 4:
      return (
        wu(), Yy(r, e), r === null && gh(e.stateNode.containerInfo), Xr(e), null
      );
    case 10:
      return iw(e.type._context), Xr(e), null;
    case 17:
      return Sn(e.type) && dp(), Xr(e), null;
    case 19:
      if ((Et(Dt), (s = e.memoizedState), s === null)) return Xr(e), null;
      if (((n = (e.flags & 128) !== 0), (o = s.rendering), o === null))
        if (n) lc(s, !1);
        else {
          if (wr !== 0 || (r !== null && r.flags & 128))
            for (r = e.child; r !== null; ) {
              if (((o = vp(r)), o !== null)) {
                for (
                  e.flags |= 128,
                    lc(s, !1),
                    n = o.updateQueue,
                    n !== null && ((e.updateQueue = n), (e.flags |= 4)),
                    e.subtreeFlags = 0,
                    n = t,
                    t = e.child;
                  t !== null;

                )
                  (s = t),
                    (r = n),
                    (s.flags &= 14680066),
                    (o = s.alternate),
                    o === null
                      ? ((s.childLanes = 0),
                        (s.lanes = r),
                        (s.child = null),
                        (s.subtreeFlags = 0),
                        (s.memoizedProps = null),
                        (s.memoizedState = null),
                        (s.updateQueue = null),
                        (s.dependencies = null),
                        (s.stateNode = null))
                      : ((s.childLanes = o.childLanes),
                        (s.lanes = o.lanes),
                        (s.child = o.child),
                        (s.subtreeFlags = 0),
                        (s.deletions = null),
                        (s.memoizedProps = o.memoizedProps),
                        (s.memoizedState = o.memoizedState),
                        (s.updateQueue = o.updateQueue),
                        (s.type = o.type),
                        (r = o.dependencies),
                        (s.dependencies =
                          r === null
                            ? null
                            : {
                                lanes: r.lanes,
                                firstContext: r.firstContext,
                              })),
                    (t = t.sibling);
                return yt(Dt, (Dt.current & 1) | 2), e.child;
              }
              r = r.sibling;
            }
          s.tail !== null &&
            Kt() > Su &&
            ((e.flags |= 128), (n = !0), lc(s, !1), (e.lanes = 4194304));
        }
      else {
        if (!n)
          if (((r = vp(o)), r !== null)) {
            if (
              ((e.flags |= 128),
              (n = !0),
              (t = r.updateQueue),
              t !== null && ((e.updateQueue = t), (e.flags |= 4)),
              lc(s, !0),
              s.tail === null && s.tailMode === "hidden" && !o.alternate && !Pt)
            )
              return Xr(e), null;
          } else
            2 * Kt() - s.renderingStartTime > Su &&
              t !== 1073741824 &&
              ((e.flags |= 128), (n = !0), lc(s, !1), (e.lanes = 4194304));
        s.isBackwards
          ? ((o.sibling = e.child), (e.child = o))
          : ((t = s.last),
            t !== null ? (t.sibling = o) : (e.child = o),
            (s.last = o));
      }
      return s.tail !== null
        ? ((e = s.tail),
          (s.rendering = e),
          (s.tail = e.sibling),
          (s.renderingStartTime = Kt()),
          (e.sibling = null),
          (t = Dt.current),
          yt(Dt, n ? (t & 1) | 2 : t & 1),
          e)
        : (Xr(e), null);
    case 22:
    case 23:
      return (
        xw(),
        (n = e.memoizedState !== null),
        r !== null && (r.memoizedState !== null) !== n && (e.flags |= 8192),
        n && e.mode & 1
          ? Un & 1073741824 && (Xr(e), e.subtreeFlags & 6 && (e.flags |= 8192))
          : Xr(e),
        null
      );
    case 24:
      return null;
    case 25:
      return null;
  }
  throw Error(re(156, e.tag));
}
function UL(r, e) {
  switch ((ew(e), e.tag)) {
    case 1:
      return (
        Sn(e.type) && dp(),
        (r = e.flags),
        r & 65536 ? ((e.flags = (r & -65537) | 128), e) : null
      );
    case 3:
      return (
        wu(),
        Et(bn),
        Et(sn),
        uw(),
        (r = e.flags),
        r & 65536 && !(r & 128) ? ((e.flags = (r & -65537) | 128), e) : null
      );
    case 5:
      return lw(e), null;
    case 13:
      if (
        (Et(Dt), (r = e.memoizedState), r !== null && r.dehydrated !== null)
      ) {
        if (e.alternate === null) throw Error(re(340));
        vu();
      }
      return (
        (r = e.flags), r & 65536 ? ((e.flags = (r & -65537) | 128), e) : null
      );
    case 19:
      return Et(Dt), null;
    case 4:
      return wu(), null;
    case 10:
      return iw(e.type._context), null;
    case 22:
    case 23:
      return xw(), null;
    case 24:
      return null;
    default:
      return null;
  }
}
var Fd = !1,
  Jr = !1,
  GL = typeof WeakSet == "function" ? WeakSet : Set,
  ce = null;
function Vl(r, e) {
  var t = r.ref;
  if (t !== null)
    if (typeof t == "function")
      try {
        t(null);
      } catch (n) {
        Wt(r, e, n);
      }
    else t.current = null;
}
function Ky(r, e, t) {
  try {
    t();
  } catch (n) {
    Wt(r, e, n);
  }
}
var bS = !1;
function jL(r, e) {
  if (((My = lp), (r = vC()), Qx(r))) {
    if ("selectionStart" in r)
      var t = { start: r.selectionStart, end: r.selectionEnd };
    else
      e: {
        t = ((t = r.ownerDocument) && t.defaultView) || window;
        var n = t.getSelection && t.getSelection();
        if (n && n.rangeCount !== 0) {
          t = n.anchorNode;
          var i = n.anchorOffset,
            s = n.focusNode;
          n = n.focusOffset;
          try {
            t.nodeType, s.nodeType;
          } catch {
            t = null;
            break e;
          }
          var o = 0,
            a = -1,
            l = -1,
            u = 0,
            c = 0,
            h = r,
            d = null;
          t: for (;;) {
            for (
              var f;
              h !== t || (i !== 0 && h.nodeType !== 3) || (a = o + i),
                h !== s || (n !== 0 && h.nodeType !== 3) || (l = o + n),
                h.nodeType === 3 && (o += h.nodeValue.length),
                (f = h.firstChild) !== null;

            )
              (d = h), (h = f);
            for (;;) {
              if (h === r) break t;
              if (
                (d === t && ++u === i && (a = o),
                d === s && ++c === n && (l = o),
                (f = h.nextSibling) !== null)
              )
                break;
              (h = d), (d = h.parentNode);
            }
            h = f;
          }
          t = a === -1 || l === -1 ? null : { start: a, end: l };
        } else t = null;
      }
    t = t || { start: 0, end: 0 };
  } else t = null;
  for (
    By = { focusedElem: r, selectionRange: t }, lp = !1, ce = e;
    ce !== null;

  )
    if (((e = ce), (r = e.child), (e.subtreeFlags & 1028) !== 0 && r !== null))
      (r.return = e), (ce = r);
    else
      for (; ce !== null; ) {
        e = ce;
        try {
          var m = e.alternate;
          if (e.flags & 1024)
            switch (e.tag) {
              case 0:
              case 11:
              case 15:
                break;
              case 1:
                if (m !== null) {
                  var g = m.memoizedProps,
                    _ = m.memoizedState,
                    v = e.stateNode,
                    w = v.getSnapshotBeforeUpdate(
                      e.elementType === e.type ? g : Ui(e.type, g),
                      _
                    );
                  v.__reactInternalSnapshotBeforeUpdate = w;
                }
                break;
              case 3:
                var x = e.stateNode.containerInfo;
                x.nodeType === 1
                  ? (x.textContent = "")
                  : x.nodeType === 9 &&
                    x.documentElement &&
                    x.removeChild(x.documentElement);
                break;
              case 5:
              case 6:
              case 4:
              case 17:
                break;
              default:
                throw Error(re(163));
            }
        } catch (k) {
          Wt(e, e.return, k);
        }
        if (((r = e.sibling), r !== null)) {
          (r.return = e.return), (ce = r);
          break;
        }
        ce = e.return;
      }
  return (m = bS), (bS = !1), m;
}
function Yc(r, e, t) {
  var n = e.updateQueue;
  if (((n = n !== null ? n.lastEffect : null), n !== null)) {
    var i = (n = n.next);
    do {
      if ((i.tag & r) === r) {
        var s = i.destroy;
        (i.destroy = void 0), s !== void 0 && Ky(e, t, s);
      }
      i = i.next;
    } while (i !== n);
  }
}
function jm(r, e) {
  if (
    ((e = e.updateQueue), (e = e !== null ? e.lastEffect : null), e !== null)
  ) {
    var t = (e = e.next);
    do {
      if ((t.tag & r) === r) {
        var n = t.create;
        t.destroy = n();
      }
      t = t.next;
    } while (t !== e);
  }
}
function qy(r) {
  var e = r.ref;
  if (e !== null) {
    var t = r.stateNode;
    switch (r.tag) {
      case 5:
        r = t;
        break;
      default:
        r = t;
    }
    typeof e == "function" ? e(r) : (e.current = r);
  }
}
function m3(r) {
  var e = r.alternate;
  e !== null && ((r.alternate = null), m3(e)),
    (r.child = null),
    (r.deletions = null),
    (r.sibling = null),
    r.tag === 5 &&
      ((e = r.stateNode),
      e !== null &&
        (delete e[fs], delete e[yh], delete e[Fy], delete e[SL], delete e[EL])),
    (r.stateNode = null),
    (r.return = null),
    (r.dependencies = null),
    (r.memoizedProps = null),
    (r.memoizedState = null),
    (r.pendingProps = null),
    (r.stateNode = null),
    (r.updateQueue = null);
}
function g3(r) {
  return r.tag === 5 || r.tag === 3 || r.tag === 4;
}
function SS(r) {
  e: for (;;) {
    for (; r.sibling === null; ) {
      if (r.return === null || g3(r.return)) return null;
      r = r.return;
    }
    for (
      r.sibling.return = r.return, r = r.sibling;
      r.tag !== 5 && r.tag !== 6 && r.tag !== 18;

    ) {
      if (r.flags & 2 || r.child === null || r.tag === 4) continue e;
      (r.child.return = r), (r = r.child);
    }
    if (!(r.flags & 2)) return r.stateNode;
  }
}
function Zy(r, e, t) {
  var n = r.tag;
  if (n === 5 || n === 6)
    (r = r.stateNode),
      e
        ? t.nodeType === 8
          ? t.parentNode.insertBefore(r, e)
          : t.insertBefore(r, e)
        : (t.nodeType === 8
            ? ((e = t.parentNode), e.insertBefore(r, t))
            : ((e = t), e.appendChild(r)),
          (t = t._reactRootContainer),
          t != null || e.onclick !== null || (e.onclick = hp));
  else if (n !== 4 && ((r = r.child), r !== null))
    for (Zy(r, e, t), r = r.sibling; r !== null; ) Zy(r, e, t), (r = r.sibling);
}
function Qy(r, e, t) {
  var n = r.tag;
  if (n === 5 || n === 6)
    (r = r.stateNode), e ? t.insertBefore(r, e) : t.appendChild(r);
  else if (n !== 4 && ((r = r.child), r !== null))
    for (Qy(r, e, t), r = r.sibling; r !== null; ) Qy(r, e, t), (r = r.sibling);
}
var Lr = null,
  Gi = !1;
function go(r, e, t) {
  for (t = t.child; t !== null; ) _3(r, e, t), (t = t.sibling);
}
function _3(r, e, t) {
  if (vs && typeof vs.onCommitFiberUnmount == "function")
    try {
      vs.onCommitFiberUnmount(Bm, t);
    } catch {}
  switch (t.tag) {
    case 5:
      Jr || Vl(t, e);
    case 6:
      var n = Lr,
        i = Gi;
      (Lr = null),
        go(r, e, t),
        (Lr = n),
        (Gi = i),
        Lr !== null &&
          (Gi
            ? ((r = Lr),
              (t = t.stateNode),
              r.nodeType === 8 ? r.parentNode.removeChild(t) : r.removeChild(t))
            : Lr.removeChild(t.stateNode));
      break;
    case 18:
      Lr !== null &&
        (Gi
          ? ((r = Lr),
            (t = t.stateNode),
            r.nodeType === 8
              ? w_(r.parentNode, t)
              : r.nodeType === 1 && w_(r, t),
            fh(r))
          : w_(Lr, t.stateNode));
      break;
    case 4:
      (n = Lr),
        (i = Gi),
        (Lr = t.stateNode.containerInfo),
        (Gi = !0),
        go(r, e, t),
        (Lr = n),
        (Gi = i);
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      if (
        !Jr &&
        ((n = t.updateQueue), n !== null && ((n = n.lastEffect), n !== null))
      ) {
        i = n = n.next;
        do {
          var s = i,
            o = s.destroy;
          (s = s.tag),
            o !== void 0 && (s & 2 || s & 4) && Ky(t, e, o),
            (i = i.next);
        } while (i !== n);
      }
      go(r, e, t);
      break;
    case 1:
      if (
        !Jr &&
        (Vl(t, e),
        (n = t.stateNode),
        typeof n.componentWillUnmount == "function")
      )
        try {
          (n.props = t.memoizedProps),
            (n.state = t.memoizedState),
            n.componentWillUnmount();
        } catch (a) {
          Wt(t, e, a);
        }
      go(r, e, t);
      break;
    case 21:
      go(r, e, t);
      break;
    case 22:
      t.mode & 1
        ? ((Jr = (n = Jr) || t.memoizedState !== null), go(r, e, t), (Jr = n))
        : go(r, e, t);
      break;
    default:
      go(r, e, t);
  }
}
function ES(r) {
  var e = r.updateQueue;
  if (e !== null) {
    r.updateQueue = null;
    var t = r.stateNode;
    t === null && (t = r.stateNode = new GL()),
      e.forEach(function (n) {
        var i = qL.bind(null, r, n);
        t.has(n) || (t.add(n), n.then(i, i));
      });
  }
}
function Ii(r, e) {
  var t = e.deletions;
  if (t !== null)
    for (var n = 0; n < t.length; n++) {
      var i = t[n];
      try {
        var s = r,
          o = e,
          a = o;
        e: for (; a !== null; ) {
          switch (a.tag) {
            case 5:
              (Lr = a.stateNode), (Gi = !1);
              break e;
            case 3:
              (Lr = a.stateNode.containerInfo), (Gi = !0);
              break e;
            case 4:
              (Lr = a.stateNode.containerInfo), (Gi = !0);
              break e;
          }
          a = a.return;
        }
        if (Lr === null) throw Error(re(160));
        _3(s, o, i), (Lr = null), (Gi = !1);
        var l = i.alternate;
        l !== null && (l.return = null), (i.return = null);
      } catch (u) {
        Wt(i, e, u);
      }
    }
  if (e.subtreeFlags & 12854)
    for (e = e.child; e !== null; ) y3(e, r), (e = e.sibling);
}
function y3(r, e) {
  var t = r.alternate,
    n = r.flags;
  switch (r.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      if ((Ii(e, r), as(r), n & 4)) {
        try {
          Yc(3, r, r.return), jm(3, r);
        } catch (g) {
          Wt(r, r.return, g);
        }
        try {
          Yc(5, r, r.return);
        } catch (g) {
          Wt(r, r.return, g);
        }
      }
      break;
    case 1:
      Ii(e, r), as(r), n & 512 && t !== null && Vl(t, t.return);
      break;
    case 5:
      if (
        (Ii(e, r),
        as(r),
        n & 512 && t !== null && Vl(t, t.return),
        r.flags & 32)
      ) {
        var i = r.stateNode;
        try {
          uh(i, "");
        } catch (g) {
          Wt(r, r.return, g);
        }
      }
      if (n & 4 && ((i = r.stateNode), i != null)) {
        var s = r.memoizedProps,
          o = t !== null ? t.memoizedProps : s,
          a = r.type,
          l = r.updateQueue;
        if (((r.updateQueue = null), l !== null))
          try {
            a === "input" && s.type === "radio" && s.name != null && G2(i, s),
              by(a, o);
            var u = by(a, s);
            for (o = 0; o < l.length; o += 2) {
              var c = l[o],
                h = l[o + 1];
              c === "style"
                ? H2(i, h)
                : c === "dangerouslySetInnerHTML"
                ? z2(i, h)
                : c === "children"
                ? uh(i, h)
                : Ux(i, c, h, u);
            }
            switch (a) {
              case "input":
                _y(i, s);
                break;
              case "textarea":
                j2(i, s);
                break;
              case "select":
                var d = i._wrapperState.wasMultiple;
                i._wrapperState.wasMultiple = !!s.multiple;
                var f = s.value;
                f != null
                  ? ru(i, !!s.multiple, f, !1)
                  : d !== !!s.multiple &&
                    (s.defaultValue != null
                      ? ru(i, !!s.multiple, s.defaultValue, !0)
                      : ru(i, !!s.multiple, s.multiple ? [] : "", !1));
            }
            i[yh] = s;
          } catch (g) {
            Wt(r, r.return, g);
          }
      }
      break;
    case 6:
      if ((Ii(e, r), as(r), n & 4)) {
        if (r.stateNode === null) throw Error(re(162));
        (i = r.stateNode), (s = r.memoizedProps);
        try {
          i.nodeValue = s;
        } catch (g) {
          Wt(r, r.return, g);
        }
      }
      break;
    case 3:
      if (
        (Ii(e, r), as(r), n & 4 && t !== null && t.memoizedState.isDehydrated)
      )
        try {
          fh(e.containerInfo);
        } catch (g) {
          Wt(r, r.return, g);
        }
      break;
    case 4:
      Ii(e, r), as(r);
      break;
    case 13:
      Ii(e, r),
        as(r),
        (i = r.child),
        i.flags & 8192 &&
          ((s = i.memoizedState !== null),
          (i.stateNode.isHidden = s),
          !s ||
            (i.alternate !== null && i.alternate.memoizedState !== null) ||
            (yw = Kt())),
        n & 4 && ES(r);
      break;
    case 22:
      if (
        ((c = t !== null && t.memoizedState !== null),
        r.mode & 1 ? ((Jr = (u = Jr) || c), Ii(e, r), (Jr = u)) : Ii(e, r),
        as(r),
        n & 8192)
      ) {
        if (
          ((u = r.memoizedState !== null),
          (r.stateNode.isHidden = u) && !c && r.mode & 1)
        )
          for (ce = r, c = r.child; c !== null; ) {
            for (h = ce = c; ce !== null; ) {
              switch (((d = ce), (f = d.child), d.tag)) {
                case 0:
                case 11:
                case 14:
                case 15:
                  Yc(4, d, d.return);
                  break;
                case 1:
                  Vl(d, d.return);
                  var m = d.stateNode;
                  if (typeof m.componentWillUnmount == "function") {
                    (n = d), (t = d.return);
                    try {
                      (e = n),
                        (m.props = e.memoizedProps),
                        (m.state = e.memoizedState),
                        m.componentWillUnmount();
                    } catch (g) {
                      Wt(n, t, g);
                    }
                  }
                  break;
                case 5:
                  Vl(d, d.return);
                  break;
                case 22:
                  if (d.memoizedState !== null) {
                    kS(h);
                    continue;
                  }
              }
              f !== null ? ((f.return = d), (ce = f)) : kS(h);
            }
            c = c.sibling;
          }
        e: for (c = null, h = r; ; ) {
          if (h.tag === 5) {
            if (c === null) {
              c = h;
              try {
                (i = h.stateNode),
                  u
                    ? ((s = i.style),
                      typeof s.setProperty == "function"
                        ? s.setProperty("display", "none", "important")
                        : (s.display = "none"))
                    : ((a = h.stateNode),
                      (l = h.memoizedProps.style),
                      (o =
                        l != null && l.hasOwnProperty("display")
                          ? l.display
                          : null),
                      (a.style.display = W2("display", o)));
              } catch (g) {
                Wt(r, r.return, g);
              }
            }
          } else if (h.tag === 6) {
            if (c === null)
              try {
                h.stateNode.nodeValue = u ? "" : h.memoizedProps;
              } catch (g) {
                Wt(r, r.return, g);
              }
          } else if (
            ((h.tag !== 22 && h.tag !== 23) ||
              h.memoizedState === null ||
              h === r) &&
            h.child !== null
          ) {
            (h.child.return = h), (h = h.child);
            continue;
          }
          if (h === r) break e;
          for (; h.sibling === null; ) {
            if (h.return === null || h.return === r) break e;
            c === h && (c = null), (h = h.return);
          }
          c === h && (c = null), (h.sibling.return = h.return), (h = h.sibling);
        }
      }
      break;
    case 19:
      Ii(e, r), as(r), n & 4 && ES(r);
      break;
    case 21:
      break;
    default:
      Ii(e, r), as(r);
  }
}
function as(r) {
  var e = r.flags;
  if (e & 2) {
    try {
      e: {
        for (var t = r.return; t !== null; ) {
          if (g3(t)) {
            var n = t;
            break e;
          }
          t = t.return;
        }
        throw Error(re(160));
      }
      switch (n.tag) {
        case 5:
          var i = n.stateNode;
          n.flags & 32 && (uh(i, ""), (n.flags &= -33));
          var s = SS(r);
          Qy(r, s, i);
          break;
        case 3:
        case 4:
          var o = n.stateNode.containerInfo,
            a = SS(r);
          Zy(r, a, o);
          break;
        default:
          throw Error(re(161));
      }
    } catch (l) {
      Wt(r, r.return, l);
    }
    r.flags &= -3;
  }
  e & 4096 && (r.flags &= -4097);
}
function $L(r, e, t) {
  (ce = r), v3(r);
}
function v3(r, e, t) {
  for (var n = (r.mode & 1) !== 0; ce !== null; ) {
    var i = ce,
      s = i.child;
    if (i.tag === 22 && n) {
      var o = i.memoizedState !== null || Fd;
      if (!o) {
        var a = i.alternate,
          l = (a !== null && a.memoizedState !== null) || Jr;
        a = Fd;
        var u = Jr;
        if (((Fd = o), (Jr = l) && !u))
          for (ce = i; ce !== null; )
            (o = ce),
              (l = o.child),
              o.tag === 22 && o.memoizedState !== null
                ? AS(i)
                : l !== null
                ? ((l.return = o), (ce = l))
                : AS(i);
        for (; s !== null; ) (ce = s), v3(s), (s = s.sibling);
        (ce = i), (Fd = a), (Jr = u);
      }
      TS(r);
    } else
      i.subtreeFlags & 8772 && s !== null ? ((s.return = i), (ce = s)) : TS(r);
  }
}
function TS(r) {
  for (; ce !== null; ) {
    var e = ce;
    if (e.flags & 8772) {
      var t = e.alternate;
      try {
        if (e.flags & 8772)
          switch (e.tag) {
            case 0:
            case 11:
            case 15:
              Jr || jm(5, e);
              break;
            case 1:
              var n = e.stateNode;
              if (e.flags & 4 && !Jr)
                if (t === null) n.componentDidMount();
                else {
                  var i =
                    e.elementType === e.type
                      ? t.memoizedProps
                      : Ui(e.type, t.memoizedProps);
                  n.componentDidUpdate(
                    i,
                    t.memoizedState,
                    n.__reactInternalSnapshotBeforeUpdate
                  );
                }
              var s = e.updateQueue;
              s !== null && uS(e, s, n);
              break;
            case 3:
              var o = e.updateQueue;
              if (o !== null) {
                if (((t = null), e.child !== null))
                  switch (e.child.tag) {
                    case 5:
                      t = e.child.stateNode;
                      break;
                    case 1:
                      t = e.child.stateNode;
                  }
                uS(e, o, t);
              }
              break;
            case 5:
              var a = e.stateNode;
              if (t === null && e.flags & 4) {
                t = a;
                var l = e.memoizedProps;
                switch (e.type) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    l.autoFocus && t.focus();
                    break;
                  case "img":
                    l.src && (t.src = l.src);
                }
              }
              break;
            case 6:
              break;
            case 4:
              break;
            case 12:
              break;
            case 13:
              if (e.memoizedState === null) {
                var u = e.alternate;
                if (u !== null) {
                  var c = u.memoizedState;
                  if (c !== null) {
                    var h = c.dehydrated;
                    h !== null && fh(h);
                  }
                }
              }
              break;
            case 19:
            case 17:
            case 21:
            case 22:
            case 23:
            case 25:
              break;
            default:
              throw Error(re(163));
          }
        Jr || (e.flags & 512 && qy(e));
      } catch (d) {
        Wt(e, e.return, d);
      }
    }
    if (e === r) {
      ce = null;
      break;
    }
    if (((t = e.sibling), t !== null)) {
      (t.return = e.return), (ce = t);
      break;
    }
    ce = e.return;
  }
}
function kS(r) {
  for (; ce !== null; ) {
    var e = ce;
    if (e === r) {
      ce = null;
      break;
    }
    var t = e.sibling;
    if (t !== null) {
      (t.return = e.return), (ce = t);
      break;
    }
    ce = e.return;
  }
}
function AS(r) {
  for (; ce !== null; ) {
    var e = ce;
    try {
      switch (e.tag) {
        case 0:
        case 11:
        case 15:
          var t = e.return;
          try {
            jm(4, e);
          } catch (l) {
            Wt(e, t, l);
          }
          break;
        case 1:
          var n = e.stateNode;
          if (typeof n.componentDidMount == "function") {
            var i = e.return;
            try {
              n.componentDidMount();
            } catch (l) {
              Wt(e, i, l);
            }
          }
          var s = e.return;
          try {
            qy(e);
          } catch (l) {
            Wt(e, s, l);
          }
          break;
        case 5:
          var o = e.return;
          try {
            qy(e);
          } catch (l) {
            Wt(e, o, l);
          }
      }
    } catch (l) {
      Wt(e, e.return, l);
    }
    if (e === r) {
      ce = null;
      break;
    }
    var a = e.sibling;
    if (a !== null) {
      (a.return = e.return), (ce = a);
      break;
    }
    ce = e.return;
  }
}
var zL = Math.ceil,
  bp = fo.ReactCurrentDispatcher,
  gw = fo.ReactCurrentOwner,
  ki = fo.ReactCurrentBatchConfig,
  Ye = 0,
  Or = null,
  mr = null,
  Wr = 0,
  Un = 0,
  Xl = ia(0),
  wr = 0,
  Eh = null,
  Ya = 0,
  $m = 0,
  _w = 0,
  Kc = null,
  vn = null,
  yw = 0,
  Su = 1 / 0,
  Is = null,
  Sp = !1,
  Jy = null,
  Ho = null,
  Nd = !1,
  Do = null,
  Ep = 0,
  qc = 0,
  ev = null,
  Gf = -1,
  jf = 0;
function cn() {
  return Ye & 6 ? Kt() : Gf !== -1 ? Gf : (Gf = Kt());
}
function Vo(r) {
  return r.mode & 1
    ? Ye & 2 && Wr !== 0
      ? Wr & -Wr
      : kL.transition !== null
      ? (jf === 0 && (jf = nC()), jf)
      : ((r = st),
        r !== 0 || ((r = window.event), (r = r === void 0 ? 16 : cC(r.type))),
        r)
    : 1;
}
function Vi(r, e, t, n) {
  if (50 < qc) throw ((qc = 0), (ev = null), Error(re(185)));
  qh(r, t, n),
    (!(Ye & 2) || r !== Or) &&
      (r === Or && (!(Ye & 2) && ($m |= t), wr === 4 && Po(r, Wr)),
      En(r, n),
      t === 1 && Ye === 0 && !(e.mode & 1) && ((Su = Kt() + 500), Lm && sa()));
}
function En(r, e) {
  var t = r.callbackNode;
  k8(r, e);
  var n = ap(r, r === Or ? Wr : 0);
  if (n === 0)
    t !== null && F1(t), (r.callbackNode = null), (r.callbackPriority = 0);
  else if (((e = n & -n), r.callbackPriority !== e)) {
    if ((t != null && F1(t), e === 1))
      r.tag === 0 ? TL(PS.bind(null, r)) : CC(PS.bind(null, r)),
        wL(function () {
          !(Ye & 6) && sa();
        }),
        (t = null);
    else {
      switch (iC(n)) {
        case 1:
          t = Wx;
          break;
        case 4:
          t = tC;
          break;
        case 16:
          t = op;
          break;
        case 536870912:
          t = rC;
          break;
        default:
          t = op;
      }
      t = A3(t, x3.bind(null, r));
    }
    (r.callbackPriority = e), (r.callbackNode = t);
  }
}
function x3(r, e) {
  if (((Gf = -1), (jf = 0), Ye & 6)) throw Error(re(327));
  var t = r.callbackNode;
  if (au() && r.callbackNode !== t) return null;
  var n = ap(r, r === Or ? Wr : 0);
  if (n === 0) return null;
  if (n & 30 || n & r.expiredLanes || e) e = Tp(r, n);
  else {
    e = n;
    var i = Ye;
    Ye |= 2;
    var s = b3();
    (Or !== r || Wr !== e) && ((Is = null), (Su = Kt() + 500), Ia(r, e));
    do
      try {
        VL();
        break;
      } catch (a) {
        w3(r, a);
      }
    while (!0);
    nw(),
      (bp.current = s),
      (Ye = i),
      mr !== null ? (e = 0) : ((Or = null), (Wr = 0), (e = wr));
  }
  if (e !== 0) {
    if (
      (e === 2 && ((i = Ay(r)), i !== 0 && ((n = i), (e = tv(r, i)))), e === 1)
    )
      throw ((t = Eh), Ia(r, 0), Po(r, n), En(r, Kt()), t);
    if (e === 6) Po(r, n);
    else {
      if (
        ((i = r.current.alternate),
        !(n & 30) &&
          !WL(i) &&
          ((e = Tp(r, n)),
          e === 2 && ((s = Ay(r)), s !== 0 && ((n = s), (e = tv(r, s)))),
          e === 1))
      )
        throw ((t = Eh), Ia(r, 0), Po(r, n), En(r, Kt()), t);
      switch (((r.finishedWork = i), (r.finishedLanes = n), e)) {
        case 0:
        case 1:
          throw Error(re(345));
        case 2:
          ya(r, vn, Is);
          break;
        case 3:
          if (
            (Po(r, n), (n & 130023424) === n && ((e = yw + 500 - Kt()), 10 < e))
          ) {
            if (ap(r, 0) !== 0) break;
            if (((i = r.suspendedLanes), (i & n) !== n)) {
              cn(), (r.pingedLanes |= r.suspendedLanes & i);
              break;
            }
            r.timeoutHandle = Iy(ya.bind(null, r, vn, Is), e);
            break;
          }
          ya(r, vn, Is);
          break;
        case 4:
          if ((Po(r, n), (n & 4194240) === n)) break;
          for (e = r.eventTimes, i = -1; 0 < n; ) {
            var o = 31 - Hi(n);
            (s = 1 << o), (o = e[o]), o > i && (i = o), (n &= ~s);
          }
          if (
            ((n = i),
            (n = Kt() - n),
            (n =
              (120 > n
                ? 120
                : 480 > n
                ? 480
                : 1080 > n
                ? 1080
                : 1920 > n
                ? 1920
                : 3e3 > n
                ? 3e3
                : 4320 > n
                ? 4320
                : 1960 * zL(n / 1960)) - n),
            10 < n)
          ) {
            r.timeoutHandle = Iy(ya.bind(null, r, vn, Is), n);
            break;
          }
          ya(r, vn, Is);
          break;
        case 5:
          ya(r, vn, Is);
          break;
        default:
          throw Error(re(329));
      }
    }
  }
  return En(r, Kt()), r.callbackNode === t ? x3.bind(null, r) : null;
}
function tv(r, e) {
  var t = Kc;
  return (
    r.current.memoizedState.isDehydrated && (Ia(r, e).flags |= 256),
    (r = Tp(r, e)),
    r !== 2 && ((e = vn), (vn = t), e !== null && rv(e)),
    r
  );
}
function rv(r) {
  vn === null ? (vn = r) : vn.push.apply(vn, r);
}
function WL(r) {
  for (var e = r; ; ) {
    if (e.flags & 16384) {
      var t = e.updateQueue;
      if (t !== null && ((t = t.stores), t !== null))
        for (var n = 0; n < t.length; n++) {
          var i = t[n],
            s = i.getSnapshot;
          i = i.value;
          try {
            if (!Qi(s(), i)) return !1;
          } catch {
            return !1;
          }
        }
    }
    if (((t = e.child), e.subtreeFlags & 16384 && t !== null))
      (t.return = e), (e = t);
    else {
      if (e === r) break;
      for (; e.sibling === null; ) {
        if (e.return === null || e.return === r) return !0;
        e = e.return;
      }
      (e.sibling.return = e.return), (e = e.sibling);
    }
  }
  return !0;
}
function Po(r, e) {
  for (
    e &= ~_w,
      e &= ~$m,
      r.suspendedLanes |= e,
      r.pingedLanes &= ~e,
      r = r.expirationTimes;
    0 < e;

  ) {
    var t = 31 - Hi(e),
      n = 1 << t;
    (r[t] = -1), (e &= ~n);
  }
}
function PS(r) {
  if (Ye & 6) throw Error(re(327));
  au();
  var e = ap(r, 0);
  if (!(e & 1)) return En(r, Kt()), null;
  var t = Tp(r, e);
  if (r.tag !== 0 && t === 2) {
    var n = Ay(r);
    n !== 0 && ((e = n), (t = tv(r, n)));
  }
  if (t === 1) throw ((t = Eh), Ia(r, 0), Po(r, e), En(r, Kt()), t);
  if (t === 6) throw Error(re(345));
  return (
    (r.finishedWork = r.current.alternate),
    (r.finishedLanes = e),
    ya(r, vn, Is),
    En(r, Kt()),
    null
  );
}
function vw(r, e) {
  var t = Ye;
  Ye |= 1;
  try {
    return r(e);
  } finally {
    (Ye = t), Ye === 0 && ((Su = Kt() + 500), Lm && sa());
  }
}
function Ka(r) {
  Do !== null && Do.tag === 0 && !(Ye & 6) && au();
  var e = Ye;
  Ye |= 1;
  var t = ki.transition,
    n = st;
  try {
    if (((ki.transition = null), (st = 1), r)) return r();
  } finally {
    (st = n), (ki.transition = t), (Ye = e), !(Ye & 6) && sa();
  }
}
function xw() {
  (Un = Xl.current), Et(Xl);
}
function Ia(r, e) {
  (r.finishedWork = null), (r.finishedLanes = 0);
  var t = r.timeoutHandle;
  if ((t !== -1 && ((r.timeoutHandle = -1), xL(t)), mr !== null))
    for (t = mr.return; t !== null; ) {
      var n = t;
      switch ((ew(n), n.tag)) {
        case 1:
          (n = n.type.childContextTypes), n != null && dp();
          break;
        case 3:
          wu(), Et(bn), Et(sn), uw();
          break;
        case 5:
          lw(n);
          break;
        case 4:
          wu();
          break;
        case 13:
          Et(Dt);
          break;
        case 19:
          Et(Dt);
          break;
        case 10:
          iw(n.type._context);
          break;
        case 22:
        case 23:
          xw();
      }
      t = t.return;
    }
  if (
    ((Or = r),
    (mr = r = Xo(r.current, null)),
    (Wr = Un = e),
    (wr = 0),
    (Eh = null),
    (_w = $m = Ya = 0),
    (vn = Kc = null),
    Ca !== null)
  ) {
    for (e = 0; e < Ca.length; e++)
      if (((t = Ca[e]), (n = t.interleaved), n !== null)) {
        t.interleaved = null;
        var i = n.next,
          s = t.pending;
        if (s !== null) {
          var o = s.next;
          (s.next = i), (n.next = o);
        }
        t.pending = n;
      }
    Ca = null;
  }
  return r;
}
function w3(r, e) {
  do {
    var t = mr;
    try {
      if ((nw(), (Nf.current = wp), xp)) {
        for (var n = Lt.memoizedState; n !== null; ) {
          var i = n.queue;
          i !== null && (i.pending = null), (n = n.next);
        }
        xp = !1;
      }
      if (
        ((Xa = 0),
        (Ar = yr = Lt = null),
        (Xc = !1),
        (wh = 0),
        (gw.current = null),
        t === null || t.return === null)
      ) {
        (wr = 1), (Eh = e), (mr = null);
        break;
      }
      e: {
        var s = r,
          o = t.return,
          a = t,
          l = e;
        if (
          ((e = Wr),
          (a.flags |= 32768),
          l !== null && typeof l == "object" && typeof l.then == "function")
        ) {
          var u = l,
            c = a,
            h = c.tag;
          if (!(c.mode & 1) && (h === 0 || h === 11 || h === 15)) {
            var d = c.alternate;
            d
              ? ((c.updateQueue = d.updateQueue),
                (c.memoizedState = d.memoizedState),
                (c.lanes = d.lanes))
              : ((c.updateQueue = null), (c.memoizedState = null));
          }
          var f = mS(o);
          if (f !== null) {
            (f.flags &= -257),
              gS(f, o, a, s, e),
              f.mode & 1 && pS(s, u, e),
              (e = f),
              (l = u);
            var m = e.updateQueue;
            if (m === null) {
              var g = new Set();
              g.add(l), (e.updateQueue = g);
            } else m.add(l);
            break e;
          } else {
            if (!(e & 1)) {
              pS(s, u, e), ww();
              break e;
            }
            l = Error(re(426));
          }
        } else if (Pt && a.mode & 1) {
          var _ = mS(o);
          if (_ !== null) {
            !(_.flags & 65536) && (_.flags |= 256),
              gS(_, o, a, s, e),
              tw(bu(l, a));
            break e;
          }
        }
        (s = l = bu(l, a)),
          wr !== 4 && (wr = 2),
          Kc === null ? (Kc = [s]) : Kc.push(s),
          (s = o);
        do {
          switch (s.tag) {
            case 3:
              (s.flags |= 65536), (e &= -e), (s.lanes |= e);
              var v = i3(s, l, e);
              lS(s, v);
              break e;
            case 1:
              a = l;
              var w = s.type,
                x = s.stateNode;
              if (
                !(s.flags & 128) &&
                (typeof w.getDerivedStateFromError == "function" ||
                  (x !== null &&
                    typeof x.componentDidCatch == "function" &&
                    (Ho === null || !Ho.has(x))))
              ) {
                (s.flags |= 65536), (e &= -e), (s.lanes |= e);
                var k = s3(s, a, e);
                lS(s, k);
                break e;
              }
          }
          s = s.return;
        } while (s !== null);
      }
      E3(t);
    } catch (C) {
      (e = C), mr === t && t !== null && (mr = t = t.return);
      continue;
    }
    break;
  } while (!0);
}
function b3() {
  var r = bp.current;
  return (bp.current = wp), r === null ? wp : r;
}
function ww() {
  (wr === 0 || wr === 3 || wr === 2) && (wr = 4),
    Or === null || (!(Ya & 268435455) && !($m & 268435455)) || Po(Or, Wr);
}
function Tp(r, e) {
  var t = Ye;
  Ye |= 2;
  var n = b3();
  (Or !== r || Wr !== e) && ((Is = null), Ia(r, e));
  do
    try {
      HL();
      break;
    } catch (i) {
      w3(r, i);
    }
  while (!0);
  if ((nw(), (Ye = t), (bp.current = n), mr !== null)) throw Error(re(261));
  return (Or = null), (Wr = 0), wr;
}
function HL() {
  for (; mr !== null; ) S3(mr);
}
function VL() {
  for (; mr !== null && !_8(); ) S3(mr);
}
function S3(r) {
  var e = k3(r.alternate, r, Un);
  (r.memoizedProps = r.pendingProps),
    e === null ? E3(r) : (mr = e),
    (gw.current = null);
}
function E3(r) {
  var e = r;
  do {
    var t = e.alternate;
    if (((r = e.return), e.flags & 32768)) {
      if (((t = UL(t, e)), t !== null)) {
        (t.flags &= 32767), (mr = t);
        return;
      }
      if (r !== null)
        (r.flags |= 32768), (r.subtreeFlags = 0), (r.deletions = null);
      else {
        (wr = 6), (mr = null);
        return;
      }
    } else if (((t = LL(t, e, Un)), t !== null)) {
      mr = t;
      return;
    }
    if (((e = e.sibling), e !== null)) {
      mr = e;
      return;
    }
    mr = e = r;
  } while (e !== null);
  wr === 0 && (wr = 5);
}
function ya(r, e, t) {
  var n = st,
    i = ki.transition;
  try {
    (ki.transition = null), (st = 1), XL(r, e, t, n);
  } finally {
    (ki.transition = i), (st = n);
  }
  return null;
}
function XL(r, e, t, n) {
  do au();
  while (Do !== null);
  if (Ye & 6) throw Error(re(327));
  t = r.finishedWork;
  var i = r.finishedLanes;
  if (t === null) return null;
  if (((r.finishedWork = null), (r.finishedLanes = 0), t === r.current))
    throw Error(re(177));
  (r.callbackNode = null), (r.callbackPriority = 0);
  var s = t.lanes | t.childLanes;
  if (
    (A8(r, s),
    r === Or && ((mr = Or = null), (Wr = 0)),
    (!(t.subtreeFlags & 2064) && !(t.flags & 2064)) ||
      Nd ||
      ((Nd = !0),
      A3(op, function () {
        return au(), null;
      })),
    (s = (t.flags & 15990) !== 0),
    t.subtreeFlags & 15990 || s)
  ) {
    (s = ki.transition), (ki.transition = null);
    var o = st;
    st = 1;
    var a = Ye;
    (Ye |= 4),
      (gw.current = null),
      jL(r, t),
      y3(t, r),
      fL(By),
      (lp = !!My),
      (By = My = null),
      (r.current = t),
      $L(t),
      y8(),
      (Ye = a),
      (st = o),
      (ki.transition = s);
  } else r.current = t;
  if (
    (Nd && ((Nd = !1), (Do = r), (Ep = i)),
    (s = r.pendingLanes),
    s === 0 && (Ho = null),
    w8(t.stateNode),
    En(r, Kt()),
    e !== null)
  )
    for (n = r.onRecoverableError, t = 0; t < e.length; t++)
      (i = e[t]), n(i.value, { componentStack: i.stack, digest: i.digest });
  if (Sp) throw ((Sp = !1), (r = Jy), (Jy = null), r);
  return (
    Ep & 1 && r.tag !== 0 && au(),
    (s = r.pendingLanes),
    s & 1 ? (r === ev ? qc++ : ((qc = 0), (ev = r))) : (qc = 0),
    sa(),
    null
  );
}
function au() {
  if (Do !== null) {
    var r = iC(Ep),
      e = ki.transition,
      t = st;
    try {
      if (((ki.transition = null), (st = 16 > r ? 16 : r), Do === null))
        var n = !1;
      else {
        if (((r = Do), (Do = null), (Ep = 0), Ye & 6)) throw Error(re(331));
        var i = Ye;
        for (Ye |= 4, ce = r.current; ce !== null; ) {
          var s = ce,
            o = s.child;
          if (ce.flags & 16) {
            var a = s.deletions;
            if (a !== null) {
              for (var l = 0; l < a.length; l++) {
                var u = a[l];
                for (ce = u; ce !== null; ) {
                  var c = ce;
                  switch (c.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Yc(8, c, s);
                  }
                  var h = c.child;
                  if (h !== null) (h.return = c), (ce = h);
                  else
                    for (; ce !== null; ) {
                      c = ce;
                      var d = c.sibling,
                        f = c.return;
                      if ((m3(c), c === u)) {
                        ce = null;
                        break;
                      }
                      if (d !== null) {
                        (d.return = f), (ce = d);
                        break;
                      }
                      ce = f;
                    }
                }
              }
              var m = s.alternate;
              if (m !== null) {
                var g = m.child;
                if (g !== null) {
                  m.child = null;
                  do {
                    var _ = g.sibling;
                    (g.sibling = null), (g = _);
                  } while (g !== null);
                }
              }
              ce = s;
            }
          }
          if (s.subtreeFlags & 2064 && o !== null) (o.return = s), (ce = o);
          else
            e: for (; ce !== null; ) {
              if (((s = ce), s.flags & 2048))
                switch (s.tag) {
                  case 0:
                  case 11:
                  case 15:
                    Yc(9, s, s.return);
                }
              var v = s.sibling;
              if (v !== null) {
                (v.return = s.return), (ce = v);
                break e;
              }
              ce = s.return;
            }
        }
        var w = r.current;
        for (ce = w; ce !== null; ) {
          o = ce;
          var x = o.child;
          if (o.subtreeFlags & 2064 && x !== null) (x.return = o), (ce = x);
          else
            e: for (o = w; ce !== null; ) {
              if (((a = ce), a.flags & 2048))
                try {
                  switch (a.tag) {
                    case 0:
                    case 11:
                    case 15:
                      jm(9, a);
                  }
                } catch (C) {
                  Wt(a, a.return, C);
                }
              if (a === o) {
                ce = null;
                break e;
              }
              var k = a.sibling;
              if (k !== null) {
                (k.return = a.return), (ce = k);
                break e;
              }
              ce = a.return;
            }
        }
        if (
          ((Ye = i), sa(), vs && typeof vs.onPostCommitFiberRoot == "function")
        )
          try {
            vs.onPostCommitFiberRoot(Bm, r);
          } catch {}
        n = !0;
      }
      return n;
    } finally {
      (st = t), (ki.transition = e);
    }
  }
  return !1;
}
function CS(r, e, t) {
  (e = bu(t, e)),
    (e = i3(r, e, 1)),
    (r = Wo(r, e, 1)),
    (e = cn()),
    r !== null && (qh(r, 1, e), En(r, e));
}
function Wt(r, e, t) {
  if (r.tag === 3) CS(r, r, t);
  else
    for (; e !== null; ) {
      if (e.tag === 3) {
        CS(e, r, t);
        break;
      } else if (e.tag === 1) {
        var n = e.stateNode;
        if (
          typeof e.type.getDerivedStateFromError == "function" ||
          (typeof n.componentDidCatch == "function" &&
            (Ho === null || !Ho.has(n)))
        ) {
          (r = bu(t, r)),
            (r = s3(e, r, 1)),
            (e = Wo(e, r, 1)),
            (r = cn()),
            e !== null && (qh(e, 1, r), En(e, r));
          break;
        }
      }
      e = e.return;
    }
}
function YL(r, e, t) {
  var n = r.pingCache;
  n !== null && n.delete(e),
    (e = cn()),
    (r.pingedLanes |= r.suspendedLanes & t),
    Or === r &&
      (Wr & t) === t &&
      (wr === 4 || (wr === 3 && (Wr & 130023424) === Wr && 500 > Kt() - yw)
        ? Ia(r, 0)
        : (_w |= t)),
    En(r, e);
}
function T3(r, e) {
  e === 0 &&
    (r.mode & 1
      ? ((e = Ad), (Ad <<= 1), !(Ad & 130023424) && (Ad = 4194304))
      : (e = 1));
  var t = cn();
  (r = so(r, e)), r !== null && (qh(r, e, t), En(r, t));
}
function KL(r) {
  var e = r.memoizedState,
    t = 0;
  e !== null && (t = e.retryLane), T3(r, t);
}
function qL(r, e) {
  var t = 0;
  switch (r.tag) {
    case 13:
      var n = r.stateNode,
        i = r.memoizedState;
      i !== null && (t = i.retryLane);
      break;
    case 19:
      n = r.stateNode;
      break;
    default:
      throw Error(re(314));
  }
  n !== null && n.delete(e), T3(r, t);
}
var k3;
k3 = function (r, e, t) {
  if (r !== null)
    if (r.memoizedProps !== e.pendingProps || bn.current) wn = !0;
    else {
      if (!(r.lanes & t) && !(e.flags & 128)) return (wn = !1), NL(r, e, t);
      wn = !!(r.flags & 131072);
    }
  else (wn = !1), Pt && e.flags & 1048576 && RC(e, mp, e.index);
  switch (((e.lanes = 0), e.tag)) {
    case 2:
      var n = e.type;
      Uf(r, e), (r = e.pendingProps);
      var i = yu(e, sn.current);
      ou(e, t), (i = hw(null, e, n, r, i, t));
      var s = dw();
      return (
        (e.flags |= 1),
        typeof i == "object" &&
        i !== null &&
        typeof i.render == "function" &&
        i.$$typeof === void 0
          ? ((e.tag = 1),
            (e.memoizedState = null),
            (e.updateQueue = null),
            Sn(n) ? ((s = !0), fp(e)) : (s = !1),
            (e.memoizedState =
              i.state !== null && i.state !== void 0 ? i.state : null),
            ow(e),
            (i.updater = Gm),
            (e.stateNode = i),
            (i._reactInternals = e),
            $y(e, n, r, t),
            (e = Hy(null, e, n, !0, s, t)))
          : ((e.tag = 0), Pt && s && Jx(e), on(null, e, i, t), (e = e.child)),
        e
      );
    case 16:
      n = e.elementType;
      e: {
        switch (
          (Uf(r, e),
          (r = e.pendingProps),
          (i = n._init),
          (n = i(n._payload)),
          (e.type = n),
          (i = e.tag = QL(n)),
          (r = Ui(n, r)),
          i)
        ) {
          case 0:
            e = Wy(null, e, n, r, t);
            break e;
          case 1:
            e = vS(null, e, n, r, t);
            break e;
          case 11:
            e = _S(null, e, n, r, t);
            break e;
          case 14:
            e = yS(null, e, n, Ui(n.type, r), t);
            break e;
        }
        throw Error(re(306, n, ""));
      }
      return e;
    case 0:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : Ui(n, i)),
        Wy(r, e, n, i, t)
      );
    case 1:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : Ui(n, i)),
        vS(r, e, n, i, t)
      );
    case 3:
      e: {
        if ((u3(e), r === null)) throw Error(re(387));
        (n = e.pendingProps),
          (s = e.memoizedState),
          (i = s.element),
          FC(r, e),
          yp(e, n, null, t);
        var o = e.memoizedState;
        if (((n = o.element), s.isDehydrated))
          if (
            ((s = {
              element: n,
              isDehydrated: !1,
              cache: o.cache,
              pendingSuspenseBoundaries: o.pendingSuspenseBoundaries,
              transitions: o.transitions,
            }),
            (e.updateQueue.baseState = s),
            (e.memoizedState = s),
            e.flags & 256)
          ) {
            (i = bu(Error(re(423)), e)), (e = xS(r, e, n, t, i));
            break e;
          } else if (n !== i) {
            (i = bu(Error(re(424)), e)), (e = xS(r, e, n, t, i));
            break e;
          } else
            for (
              Vn = zo(e.stateNode.containerInfo.firstChild),
                Yn = e,
                Pt = !0,
                $i = null,
                t = OC(e, null, n, t),
                e.child = t;
              t;

            )
              (t.flags = (t.flags & -3) | 4096), (t = t.sibling);
        else {
          if ((vu(), n === i)) {
            e = oo(r, e, t);
            break e;
          }
          on(r, e, n, t);
        }
        e = e.child;
      }
      return e;
    case 5:
      return (
        NC(e),
        r === null && Uy(e),
        (n = e.type),
        (i = e.pendingProps),
        (s = r !== null ? r.memoizedProps : null),
        (o = i.children),
        Oy(n, i) ? (o = null) : s !== null && Oy(n, s) && (e.flags |= 32),
        l3(r, e),
        on(r, e, o, t),
        e.child
      );
    case 6:
      return r === null && Uy(e), null;
    case 13:
      return c3(r, e, t);
    case 4:
      return (
        aw(e, e.stateNode.containerInfo),
        (n = e.pendingProps),
        r === null ? (e.child = xu(e, null, n, t)) : on(r, e, n, t),
        e.child
      );
    case 11:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : Ui(n, i)),
        _S(r, e, n, i, t)
      );
    case 7:
      return on(r, e, e.pendingProps, t), e.child;
    case 8:
      return on(r, e, e.pendingProps.children, t), e.child;
    case 12:
      return on(r, e, e.pendingProps.children, t), e.child;
    case 10:
      e: {
        if (
          ((n = e.type._context),
          (i = e.pendingProps),
          (s = e.memoizedProps),
          (o = i.value),
          yt(gp, n._currentValue),
          (n._currentValue = o),
          s !== null)
        )
          if (Qi(s.value, o)) {
            if (s.children === i.children && !bn.current) {
              e = oo(r, e, t);
              break e;
            }
          } else
            for (s = e.child, s !== null && (s.return = e); s !== null; ) {
              var a = s.dependencies;
              if (a !== null) {
                o = s.child;
                for (var l = a.firstContext; l !== null; ) {
                  if (l.context === n) {
                    if (s.tag === 1) {
                      (l = Ys(-1, t & -t)), (l.tag = 2);
                      var u = s.updateQueue;
                      if (u !== null) {
                        u = u.shared;
                        var c = u.pending;
                        c === null
                          ? (l.next = l)
                          : ((l.next = c.next), (c.next = l)),
                          (u.pending = l);
                      }
                    }
                    (s.lanes |= t),
                      (l = s.alternate),
                      l !== null && (l.lanes |= t),
                      Gy(s.return, t, e),
                      (a.lanes |= t);
                    break;
                  }
                  l = l.next;
                }
              } else if (s.tag === 10) o = s.type === e.type ? null : s.child;
              else if (s.tag === 18) {
                if (((o = s.return), o === null)) throw Error(re(341));
                (o.lanes |= t),
                  (a = o.alternate),
                  a !== null && (a.lanes |= t),
                  Gy(o, t, e),
                  (o = s.sibling);
              } else o = s.child;
              if (o !== null) o.return = s;
              else
                for (o = s; o !== null; ) {
                  if (o === e) {
                    o = null;
                    break;
                  }
                  if (((s = o.sibling), s !== null)) {
                    (s.return = o.return), (o = s);
                    break;
                  }
                  o = o.return;
                }
              s = o;
            }
        on(r, e, i.children, t), (e = e.child);
      }
      return e;
    case 9:
      return (
        (i = e.type),
        (n = e.pendingProps.children),
        ou(e, t),
        (i = Pi(i)),
        (n = n(i)),
        (e.flags |= 1),
        on(r, e, n, t),
        e.child
      );
    case 14:
      return (
        (n = e.type),
        (i = Ui(n, e.pendingProps)),
        (i = Ui(n.type, i)),
        yS(r, e, n, i, t)
      );
    case 15:
      return o3(r, e, e.type, e.pendingProps, t);
    case 17:
      return (
        (n = e.type),
        (i = e.pendingProps),
        (i = e.elementType === n ? i : Ui(n, i)),
        Uf(r, e),
        (e.tag = 1),
        Sn(n) ? ((r = !0), fp(e)) : (r = !1),
        ou(e, t),
        n3(e, n, i),
        $y(e, n, i, t),
        Hy(null, e, n, !0, r, t)
      );
    case 19:
      return h3(r, e, t);
    case 22:
      return a3(r, e, t);
  }
  throw Error(re(156, e.tag));
};
function A3(r, e) {
  return eC(r, e);
}
function ZL(r, e, t, n) {
  (this.tag = r),
    (this.key = t),
    (this.sibling =
      this.child =
      this.return =
      this.stateNode =
      this.type =
      this.elementType =
        null),
    (this.index = 0),
    (this.ref = null),
    (this.pendingProps = e),
    (this.dependencies =
      this.memoizedState =
      this.updateQueue =
      this.memoizedProps =
        null),
    (this.mode = n),
    (this.subtreeFlags = this.flags = 0),
    (this.deletions = null),
    (this.childLanes = this.lanes = 0),
    (this.alternate = null);
}
function xi(r, e, t, n) {
  return new ZL(r, e, t, n);
}
function bw(r) {
  return (r = r.prototype), !(!r || !r.isReactComponent);
}
function QL(r) {
  if (typeof r == "function") return bw(r) ? 1 : 0;
  if (r != null) {
    if (((r = r.$$typeof), r === jx)) return 11;
    if (r === $x) return 14;
  }
  return 2;
}
function Xo(r, e) {
  var t = r.alternate;
  return (
    t === null
      ? ((t = xi(r.tag, e, r.key, r.mode)),
        (t.elementType = r.elementType),
        (t.type = r.type),
        (t.stateNode = r.stateNode),
        (t.alternate = r),
        (r.alternate = t))
      : ((t.pendingProps = e),
        (t.type = r.type),
        (t.flags = 0),
        (t.subtreeFlags = 0),
        (t.deletions = null)),
    (t.flags = r.flags & 14680064),
    (t.childLanes = r.childLanes),
    (t.lanes = r.lanes),
    (t.child = r.child),
    (t.memoizedProps = r.memoizedProps),
    (t.memoizedState = r.memoizedState),
    (t.updateQueue = r.updateQueue),
    (e = r.dependencies),
    (t.dependencies =
      e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }),
    (t.sibling = r.sibling),
    (t.index = r.index),
    (t.ref = r.ref),
    t
  );
}
function $f(r, e, t, n, i, s) {
  var o = 2;
  if (((n = r), typeof r == "function")) bw(r) && (o = 1);
  else if (typeof r == "string") o = 5;
  else
    e: switch (r) {
      case Nl:
        return Fa(t.children, i, s, e);
      case Gx:
        (o = 8), (i |= 8);
        break;
      case dy:
        return (
          (r = xi(12, t, e, i | 2)), (r.elementType = dy), (r.lanes = s), r
        );
      case fy:
        return (r = xi(13, t, e, i)), (r.elementType = fy), (r.lanes = s), r;
      case py:
        return (r = xi(19, t, e, i)), (r.elementType = py), (r.lanes = s), r;
      case N2:
        return zm(t, i, s, e);
      default:
        if (typeof r == "object" && r !== null)
          switch (r.$$typeof) {
            case I2:
              o = 10;
              break e;
            case F2:
              o = 9;
              break e;
            case jx:
              o = 11;
              break e;
            case $x:
              o = 14;
              break e;
            case To:
              (o = 16), (n = null);
              break e;
          }
        throw Error(re(130, r == null ? r : typeof r, ""));
    }
  return (
    (e = xi(o, t, e, i)), (e.elementType = r), (e.type = n), (e.lanes = s), e
  );
}
function Fa(r, e, t, n) {
  return (r = xi(7, r, n, e)), (r.lanes = t), r;
}
function zm(r, e, t, n) {
  return (
    (r = xi(22, r, n, e)),
    (r.elementType = N2),
    (r.lanes = t),
    (r.stateNode = { isHidden: !1 }),
    r
  );
}
function C_(r, e, t) {
  return (r = xi(6, r, null, e)), (r.lanes = t), r;
}
function R_(r, e, t) {
  return (
    (e = xi(4, r.children !== null ? r.children : [], r.key, e)),
    (e.lanes = t),
    (e.stateNode = {
      containerInfo: r.containerInfo,
      pendingChildren: null,
      implementation: r.implementation,
    }),
    e
  );
}
function JL(r, e, t, n, i) {
  (this.tag = e),
    (this.containerInfo = r),
    (this.finishedWork =
      this.pingCache =
      this.current =
      this.pendingChildren =
        null),
    (this.timeoutHandle = -1),
    (this.callbackNode = this.pendingContext = this.context = null),
    (this.callbackPriority = 0),
    (this.eventTimes = c_(0)),
    (this.expirationTimes = c_(-1)),
    (this.entangledLanes =
      this.finishedLanes =
      this.mutableReadLanes =
      this.expiredLanes =
      this.pingedLanes =
      this.suspendedLanes =
      this.pendingLanes =
        0),
    (this.entanglements = c_(0)),
    (this.identifierPrefix = n),
    (this.onRecoverableError = i),
    (this.mutableSourceEagerHydrationData = null);
}
function Sw(r, e, t, n, i, s, o, a, l) {
  return (
    (r = new JL(r, e, t, a, l)),
    e === 1 ? ((e = 1), s === !0 && (e |= 8)) : (e = 0),
    (s = xi(3, null, null, e)),
    (r.current = s),
    (s.stateNode = r),
    (s.memoizedState = {
      element: n,
      isDehydrated: t,
      cache: null,
      transitions: null,
      pendingSuspenseBoundaries: null,
    }),
    ow(s),
    r
  );
}
function e4(r, e, t) {
  var n = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
  return {
    $$typeof: Fl,
    key: n == null ? null : "" + n,
    children: r,
    containerInfo: e,
    implementation: t,
  };
}
function P3(r) {
  if (!r) return Qo;
  r = r._reactInternals;
  e: {
    if (ul(r) !== r || r.tag !== 1) throw Error(re(170));
    var e = r;
    do {
      switch (e.tag) {
        case 3:
          e = e.stateNode.context;
          break e;
        case 1:
          if (Sn(e.type)) {
            e = e.stateNode.__reactInternalMemoizedMergedChildContext;
            break e;
          }
      }
      e = e.return;
    } while (e !== null);
    throw Error(re(171));
  }
  if (r.tag === 1) {
    var t = r.type;
    if (Sn(t)) return PC(r, t, e);
  }
  return e;
}
function C3(r, e, t, n, i, s, o, a, l) {
  return (
    (r = Sw(t, n, !0, r, i, s, o, a, l)),
    (r.context = P3(null)),
    (t = r.current),
    (n = cn()),
    (i = Vo(t)),
    (s = Ys(n, i)),
    (s.callback = e ?? null),
    Wo(t, s, i),
    (r.current.lanes = i),
    qh(r, i, n),
    En(r, n),
    r
  );
}
function Wm(r, e, t, n) {
  var i = e.current,
    s = cn(),
    o = Vo(i);
  return (
    (t = P3(t)),
    e.context === null ? (e.context = t) : (e.pendingContext = t),
    (e = Ys(s, o)),
    (e.payload = { element: r }),
    (n = n === void 0 ? null : n),
    n !== null && (e.callback = n),
    (r = Wo(i, e, o)),
    r !== null && (Vi(r, i, o, s), Ff(r, i, o)),
    o
  );
}
function kp(r) {
  if (((r = r.current), !r.child)) return null;
  switch (r.child.tag) {
    case 5:
      return r.child.stateNode;
    default:
      return r.child.stateNode;
  }
}
function RS(r, e) {
  if (((r = r.memoizedState), r !== null && r.dehydrated !== null)) {
    var t = r.retryLane;
    r.retryLane = t !== 0 && t < e ? t : e;
  }
}
function Ew(r, e) {
  RS(r, e), (r = r.alternate) && RS(r, e);
}
function t4() {
  return null;
}
var R3 =
  typeof reportError == "function"
    ? reportError
    : function (r) {
        console.error(r);
      };
function Tw(r) {
  this._internalRoot = r;
}
Hm.prototype.render = Tw.prototype.render = function (r) {
  var e = this._internalRoot;
  if (e === null) throw Error(re(409));
  Wm(r, e, null, null);
};
Hm.prototype.unmount = Tw.prototype.unmount = function () {
  var r = this._internalRoot;
  if (r !== null) {
    this._internalRoot = null;
    var e = r.containerInfo;
    Ka(function () {
      Wm(null, r, null, null);
    }),
      (e[io] = null);
  }
};
function Hm(r) {
  this._internalRoot = r;
}
Hm.prototype.unstable_scheduleHydration = function (r) {
  if (r) {
    var e = aC();
    r = { blockedOn: null, target: r, priority: e };
    for (var t = 0; t < Ao.length && e !== 0 && e < Ao[t].priority; t++);
    Ao.splice(t, 0, r), t === 0 && uC(r);
  }
};
function kw(r) {
  return !(!r || (r.nodeType !== 1 && r.nodeType !== 9 && r.nodeType !== 11));
}
function Vm(r) {
  return !(
    !r ||
    (r.nodeType !== 1 &&
      r.nodeType !== 9 &&
      r.nodeType !== 11 &&
      (r.nodeType !== 8 || r.nodeValue !== " react-mount-point-unstable "))
  );
}
function DS() {}
function r4(r, e, t, n, i) {
  if (i) {
    if (typeof n == "function") {
      var s = n;
      n = function () {
        var u = kp(o);
        s.call(u);
      };
    }
    var o = C3(e, n, r, 0, null, !1, !1, "", DS);
    return (
      (r._reactRootContainer = o),
      (r[io] = o.current),
      gh(r.nodeType === 8 ? r.parentNode : r),
      Ka(),
      o
    );
  }
  for (; (i = r.lastChild); ) r.removeChild(i);
  if (typeof n == "function") {
    var a = n;
    n = function () {
      var u = kp(l);
      a.call(u);
    };
  }
  var l = Sw(r, 0, !1, null, null, !1, !1, "", DS);
  return (
    (r._reactRootContainer = l),
    (r[io] = l.current),
    gh(r.nodeType === 8 ? r.parentNode : r),
    Ka(function () {
      Wm(e, l, t, n);
    }),
    l
  );
}
function Xm(r, e, t, n, i) {
  var s = t._reactRootContainer;
  if (s) {
    var o = s;
    if (typeof i == "function") {
      var a = i;
      i = function () {
        var l = kp(o);
        a.call(l);
      };
    }
    Wm(e, o, r, i);
  } else o = r4(t, e, r, i, n);
  return kp(o);
}
sC = function (r) {
  switch (r.tag) {
    case 3:
      var e = r.stateNode;
      if (e.current.memoizedState.isDehydrated) {
        var t = Dc(e.pendingLanes);
        t !== 0 &&
          (Hx(e, t | 1), En(e, Kt()), !(Ye & 6) && ((Su = Kt() + 500), sa()));
      }
      break;
    case 13:
      Ka(function () {
        var n = so(r, 1);
        if (n !== null) {
          var i = cn();
          Vi(n, r, 1, i);
        }
      }),
        Ew(r, 1);
  }
};
Vx = function (r) {
  if (r.tag === 13) {
    var e = so(r, 134217728);
    if (e !== null) {
      var t = cn();
      Vi(e, r, 134217728, t);
    }
    Ew(r, 134217728);
  }
};
oC = function (r) {
  if (r.tag === 13) {
    var e = Vo(r),
      t = so(r, e);
    if (t !== null) {
      var n = cn();
      Vi(t, r, e, n);
    }
    Ew(r, e);
  }
};
aC = function () {
  return st;
};
lC = function (r, e) {
  var t = st;
  try {
    return (st = r), e();
  } finally {
    st = t;
  }
};
Ey = function (r, e, t) {
  switch (e) {
    case "input":
      if ((_y(r, t), (e = t.name), t.type === "radio" && e != null)) {
        for (t = r; t.parentNode; ) t = t.parentNode;
        for (
          t = t.querySelectorAll(
            "input[name=" + JSON.stringify("" + e) + '][type="radio"]'
          ),
            e = 0;
          e < t.length;
          e++
        ) {
          var n = t[e];
          if (n !== r && n.form === r.form) {
            var i = Nm(n);
            if (!i) throw Error(re(90));
            U2(n), _y(n, i);
          }
        }
      }
      break;
    case "textarea":
      j2(r, t);
      break;
    case "select":
      (e = t.value), e != null && ru(r, !!t.multiple, e, !1);
  }
};
Y2 = vw;
K2 = Ka;
var n4 = { usingClientEntryPoint: !1, Events: [Qh, jl, Nm, V2, X2, vw] },
  uc = {
    findFiberByHostInstance: Pa,
    bundleType: 0,
    version: "18.3.1",
    rendererPackageName: "react-dom",
  },
  i4 = {
    bundleType: uc.bundleType,
    version: uc.version,
    rendererPackageName: uc.rendererPackageName,
    rendererConfig: uc.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: fo.ReactCurrentDispatcher,
    findHostInstanceByFiber: function (r) {
      return (r = Q2(r)), r === null ? null : r.stateNode;
    },
    findFiberByHostInstance: uc.findFiberByHostInstance || t4,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: "18.3.1-next-f1338f8080-20240426",
  };
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
  var Ld = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!Ld.isDisabled && Ld.supportsFiber)
    try {
      (Bm = Ld.inject(i4)), (vs = Ld);
    } catch {}
}
ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = n4;
ti.createPortal = function (r, e) {
  var t = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
  if (!kw(e)) throw Error(re(200));
  return e4(r, e, null, t);
};
ti.createRoot = function (r, e) {
  if (!kw(r)) throw Error(re(299));
  var t = !1,
    n = "",
    i = R3;
  return (
    e != null &&
      (e.unstable_strictMode === !0 && (t = !0),
      e.identifierPrefix !== void 0 && (n = e.identifierPrefix),
      e.onRecoverableError !== void 0 && (i = e.onRecoverableError)),
    (e = Sw(r, 1, !1, null, null, t, !1, n, i)),
    (r[io] = e.current),
    gh(r.nodeType === 8 ? r.parentNode : r),
    new Tw(e)
  );
};
ti.findDOMNode = function (r) {
  if (r == null) return null;
  if (r.nodeType === 1) return r;
  var e = r._reactInternals;
  if (e === void 0)
    throw typeof r.render == "function"
      ? Error(re(188))
      : ((r = Object.keys(r).join(",")), Error(re(268, r)));
  return (r = Q2(e)), (r = r === null ? null : r.stateNode), r;
};
ti.flushSync = function (r) {
  return Ka(r);
};
ti.hydrate = function (r, e, t) {
  if (!Vm(e)) throw Error(re(200));
  return Xm(null, r, e, !0, t);
};
ti.hydrateRoot = function (r, e, t) {
  if (!kw(r)) throw Error(re(405));
  var n = (t != null && t.hydratedSources) || null,
    i = !1,
    s = "",
    o = R3;
  if (
    (t != null &&
      (t.unstable_strictMode === !0 && (i = !0),
      t.identifierPrefix !== void 0 && (s = t.identifierPrefix),
      t.onRecoverableError !== void 0 && (o = t.onRecoverableError)),
    (e = C3(e, null, r, 1, t ?? null, i, !1, s, o)),
    (r[io] = e.current),
    gh(r),
    n)
  )
    for (r = 0; r < n.length; r++)
      (t = n[r]),
        (i = t._getVersion),
        (i = i(t._source)),
        e.mutableSourceEagerHydrationData == null
          ? (e.mutableSourceEagerHydrationData = [t, i])
          : e.mutableSourceEagerHydrationData.push(t, i);
  return new Hm(e);
};
ti.render = function (r, e, t) {
  if (!Vm(e)) throw Error(re(200));
  return Xm(null, r, e, !1, t);
};
ti.unmountComponentAtNode = function (r) {
  if (!Vm(r)) throw Error(re(40));
  return r._reactRootContainer
    ? (Ka(function () {
        Xm(null, null, r, !1, function () {
          (r._reactRootContainer = null), (r[io] = null);
        });
      }),
      !0)
    : !1;
};
ti.unstable_batchedUpdates = vw;
ti.unstable_renderSubtreeIntoContainer = function (r, e, t, n) {
  if (!Vm(t)) throw Error(re(200));
  if (r == null || r._reactInternals === void 0) throw Error(re(38));
  return Xm(r, e, t, !1, n);
};
ti.version = "18.3.1-next-f1338f8080-20240426";
function D3() {
  if (
    !(
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" ||
      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"
    )
  )
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D3);
    } catch (r) {
      console.error(r);
    }
}
D3(), (D2.exports = ti);
var M3 = D2.exports,
  B3,
  MS = M3;
(B3 = MS.createRoot), MS.hydrateRoot;
function Ke(r) {
  for (
    var e = arguments.length, t = new Array(e > 1 ? e - 1 : 0), n = 1;
    n < e;
    n++
  )
    t[n - 1] = arguments[n];
  throw new Error(
    typeof r == "number"
      ? "[MobX] minified error nr: " +
        r +
        (t.length ? " " + t.map(String).join(",") : "") +
        ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts"
      : "[MobX] " + r
  );
}
var s4 = {};
function Ym() {
  return typeof globalThis < "u"
    ? globalThis
    : typeof window < "u"
    ? window
    : typeof global < "u"
    ? global
    : typeof self < "u"
    ? self
    : s4;
}
var O3 = Object.assign,
  Ap = Object.getOwnPropertyDescriptor,
  ws = Object.defineProperty,
  Km = Object.prototype,
  nv = [];
Object.freeze(nv);
var I3 = {};
Object.freeze(I3);
var o4 = typeof Proxy < "u",
  a4 = Object.toString();
function F3() {
  o4 || Ke("Proxy not available");
}
function N3(r) {
  var e = !1;
  return function () {
    if (!e) return (e = !0), r.apply(this, arguments);
  };
}
var Yl = function () {};
function Ji(r) {
  return typeof r == "function";
}
function qa(r) {
  var e = typeof r;
  switch (e) {
    case "string":
    case "symbol":
    case "number":
      return !0;
  }
  return !1;
}
function qm(r) {
  return r !== null && typeof r == "object";
}
function ao(r) {
  if (!qm(r)) return !1;
  var e = Object.getPrototypeOf(r);
  if (e == null) return !0;
  var t = Object.hasOwnProperty.call(e, "constructor") && e.constructor;
  return typeof t == "function" && t.toString() === a4;
}
function L3(r) {
  var e = r == null ? void 0 : r.constructor;
  return e
    ? e.name === "GeneratorFunction" || e.displayName === "GeneratorFunction"
    : !1;
}
function ed(r, e, t) {
  ws(r, e, { enumerable: !1, writable: !0, configurable: !0, value: t });
}
function U3(r, e, t) {
  ws(r, e, { enumerable: !1, writable: !1, configurable: !0, value: t });
}
function cl(r, e) {
  var t = "isMobX" + r;
  return (
    (e.prototype[t] = !0),
    function (n) {
      return qm(n) && n[t] === !0;
    }
  );
}
function Wu(r) {
  return r != null && Object.prototype.toString.call(r) === "[object Map]";
}
function l4(r) {
  var e = Object.getPrototypeOf(r),
    t = Object.getPrototypeOf(e),
    n = Object.getPrototypeOf(t);
  return n === null;
}
function js(r) {
  return r != null && Object.prototype.toString.call(r) === "[object Set]";
}
var G3 = typeof Object.getOwnPropertySymbols < "u";
function u4(r) {
  var e = Object.keys(r);
  if (!G3) return e;
  var t = Object.getOwnPropertySymbols(r);
  return t.length
    ? [].concat(
        e,
        t.filter(function (n) {
          return Km.propertyIsEnumerable.call(r, n);
        })
      )
    : e;
}
var Eu =
  typeof Reflect < "u" && Reflect.ownKeys
    ? Reflect.ownKeys
    : G3
    ? function (r) {
        return Object.getOwnPropertyNames(r).concat(
          Object.getOwnPropertySymbols(r)
        );
      }
    : Object.getOwnPropertyNames;
function j3(r) {
  return r === null ? null : typeof r == "object" ? "" + r : r;
}
function Ks(r, e) {
  return Km.hasOwnProperty.call(r, e);
}
var c4 =
  Object.getOwnPropertyDescriptors ||
  function (e) {
    var t = {};
    return (
      Eu(e).forEach(function (n) {
        t[n] = Ap(e, n);
      }),
      t
    );
  };
function $n(r, e) {
  return !!(r & e);
}
function zn(r, e, t) {
  return t ? (r |= e) : (r &= ~e), r;
}
function BS(r, e) {
  (e == null || e > r.length) && (e = r.length);
  for (var t = 0, n = Array(e); t < e; t++) n[t] = r[t];
  return n;
}
function h4(r, e) {
  for (var t = 0; t < e.length; t++) {
    var n = e[t];
    (n.enumerable = n.enumerable || !1),
      (n.configurable = !0),
      "value" in n && (n.writable = !0),
      Object.defineProperty(r, f4(n.key), n);
  }
}
function Hu(r, e, t) {
  return (
    e && h4(r.prototype, e),
    Object.defineProperty(r, "prototype", { writable: !1 }),
    r
  );
}
function Kl(r, e) {
  var t = (typeof Symbol < "u" && r[Symbol.iterator]) || r["@@iterator"];
  if (t) return (t = t.call(r)).next.bind(t);
  if (Array.isArray(r) || (t = p4(r)) || e) {
    t && (r = t);
    var n = 0;
    return function () {
      return n >= r.length ? { done: !0 } : { done: !1, value: r[n++] };
    };
  }
  throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Za() {
  return (
    (Za = Object.assign
      ? Object.assign.bind()
      : function (r) {
          for (var e = 1; e < arguments.length; e++) {
            var t = arguments[e];
            for (var n in t) ({}).hasOwnProperty.call(t, n) && (r[n] = t[n]);
          }
          return r;
        }),
    Za.apply(null, arguments)
  );
}
function $3(r, e) {
  (r.prototype = Object.create(e.prototype)),
    (r.prototype.constructor = r),
    iv(r, e);
}
function iv(r, e) {
  return (
    (iv = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (t, n) {
          return (t.__proto__ = n), t;
        }),
    iv(r, e)
  );
}
function d4(r, e) {
  if (typeof r != "object" || !r) return r;
  var t = r[Symbol.toPrimitive];
  if (t !== void 0) {
    var n = t.call(r, e);
    if (typeof n != "object") return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(r);
}
function f4(r) {
  var e = d4(r, "string");
  return typeof e == "symbol" ? e : e + "";
}
function p4(r, e) {
  if (r) {
    if (typeof r == "string") return BS(r, e);
    var t = {}.toString.call(r).slice(8, -1);
    return (
      t === "Object" && r.constructor && (t = r.constructor.name),
      t === "Map" || t === "Set"
        ? Array.from(r)
        : t === "Arguments" ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)
        ? BS(r, e)
        : void 0
    );
  }
}
var _s = Symbol("mobx-stored-annotations");
function bs(r) {
  function e(t, n) {
    if (rd(n)) return r.decorate_20223_(t, n);
    td(t, n, r);
  }
  return Object.assign(e, r);
}
function td(r, e, t) {
  Ks(r, _s) || ed(r, _s, Za({}, r[_s])), S4(t) || (r[_s][e] = t);
}
function m4(r) {
  return Ks(r, _s) || ed(r, _s, Za({}, r[_s])), r[_s];
}
function rd(r) {
  return typeof r == "object" && typeof r.kind == "string";
}
var Te = Symbol("mobx administration"),
  oa = (function () {
    function r(t) {
      t === void 0 && (t = "Atom"),
        (this.name_ = void 0),
        (this.flags_ = 0),
        (this.observers_ = new Set()),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = Qe.NOT_TRACKING_),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        (this.name_ = t);
    }
    var e = r.prototype;
    return (
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (n) {
            return n();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (n) {
            return n();
          });
      }),
      (e.reportObserved = function () {
        return iR(this);
      }),
      (e.reportChanged = function () {
        wi(), sR(this), bi();
      }),
      (e.toString = function () {
        return this.name_;
      }),
      Hu(r, [
        {
          key: "isBeingObserved",
          get: function () {
            return $n(this.flags_, r.isBeingObservedMask_);
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.isBeingObservedMask_, n);
          },
        },
        {
          key: "isPendingUnobservation",
          get: function () {
            return $n(this.flags_, r.isPendingUnobservationMask_);
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.isPendingUnobservationMask_, n);
          },
        },
        {
          key: "diffValue",
          get: function () {
            return $n(this.flags_, r.diffValueMask_) ? 1 : 0;
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.diffValueMask_, n === 1);
          },
        },
      ])
    );
  })();
oa.isBeingObservedMask_ = 1;
oa.isPendingUnobservationMask_ = 2;
oa.diffValueMask_ = 4;
var Aw = cl("Atom", oa);
function z3(r, e, t) {
  e === void 0 && (e = Yl), t === void 0 && (t = Yl);
  var n = new oa(r);
  return e !== Yl && AU(n, e), t !== Yl && cR(n, t), n;
}
function g4(r, e) {
  return r === e;
}
function _4(r, e) {
  return Ow(r, e);
}
function y4(r, e) {
  return Ow(r, e, 1);
}
function v4(r, e) {
  return Object.is
    ? Object.is(r, e)
    : r === e
    ? r !== 0 || 1 / r === 1 / e
    : r !== r && e !== e;
}
var Pp = { identity: g4, structural: _4, default: v4, shallow: y4 };
function Qa(r, e, t) {
  return mR(r)
    ? r
    : Array.isArray(r)
    ? gr.array(r, { name: t })
    : ao(r)
    ? gr.object(r, void 0, { name: t })
    : Wu(r)
    ? gr.map(r, { name: t })
    : js(r)
    ? gr.set(r, { name: t })
    : typeof r == "function" && !kh(r) && !Ah(r)
    ? L3(r)
      ? Tu(r)
      : Th(t, r)
    : r;
}
function x4(r, e, t) {
  if (r == null || rg(r) || tg(r) || dl(r) || ps(r)) return r;
  if (Array.isArray(r)) return gr.array(r, { name: t, deep: !1 });
  if (ao(r)) return gr.object(r, void 0, { name: t, deep: !1 });
  if (Wu(r)) return gr.map(r, { name: t, deep: !1 });
  if (js(r)) return gr.set(r, { name: t, deep: !1 });
}
function Zm(r) {
  return r;
}
function w4(r, e) {
  return Ow(r, e) ? e : r;
}
var b4 = "override";
function S4(r) {
  return r.annotationType_ === b4;
}
function nd(r, e) {
  return {
    annotationType_: r,
    options_: e,
    make_: E4,
    extend_: T4,
    decorate_20223_: k4,
  };
}
function E4(r, e, t, n) {
  var i;
  if ((i = this.options_) != null && i.bound)
    return this.extend_(r, e, t, !1) === null ? 0 : 1;
  if (n === r.target_) return this.extend_(r, e, t, !1) === null ? 0 : 2;
  if (kh(t.value)) return 1;
  var s = W3(r, this, e, t, !1);
  return ws(n, e, s), 2;
}
function T4(r, e, t, n) {
  var i = W3(r, this, e, t);
  return r.defineProperty_(e, i, n);
}
function k4(r, e) {
  var t = e.kind,
    n = e.name,
    i = e.addInitializer,
    s = this,
    o = function (u) {
      var c, h, d, f;
      return Ja(
        (c = (h = s.options_) == null ? void 0 : h.name) != null
          ? c
          : n.toString(),
        u,
        (d = (f = s.options_) == null ? void 0 : f.autoAction) != null ? d : !1
      );
    };
  if (t == "field")
    return function (l) {
      var u,
        c = l;
      return (
        kh(c) || (c = o(c)),
        (u = s.options_) != null &&
          u.bound &&
          ((c = c.bind(this)), (c.isMobxAction = !0)),
        c
      );
    };
  if (t == "method") {
    var a;
    return (
      kh(r) || (r = o(r)),
      (a = this.options_) != null &&
        a.bound &&
        i(function () {
          var l = this,
            u = l[n].bind(l);
          (u.isMobxAction = !0), (l[n] = u);
        }),
      r
    );
  }
  Ke(
    "Cannot apply '" +
      s.annotationType_ +
      "' to '" +
      String(n) +
      "' (kind: " +
      t +
      "):" +
      (`
'` +
        s.annotationType_ +
        "' can only be used on properties with a function value.")
  );
}
function A4(r, e, t, n) {
  e.annotationType_, n.value;
}
function W3(r, e, t, n, i) {
  var s, o, a, l, u, c, h;
  i === void 0 && (i = oe.safeDescriptors), A4(r, e, t, n);
  var d = n.value;
  if ((s = e.options_) != null && s.bound) {
    var f;
    d = d.bind((f = r.proxy_) != null ? f : r.target_);
  }
  return {
    value: Ja(
      (o = (a = e.options_) == null ? void 0 : a.name) != null
        ? o
        : t.toString(),
      d,
      (l = (u = e.options_) == null ? void 0 : u.autoAction) != null ? l : !1,
      (c = e.options_) != null && c.bound
        ? (h = r.proxy_) != null
          ? h
          : r.target_
        : void 0
    ),
    configurable: i ? r.isPlainObject_ : !0,
    enumerable: !1,
    writable: !i,
  };
}
function H3(r, e) {
  return {
    annotationType_: r,
    options_: e,
    make_: P4,
    extend_: C4,
    decorate_20223_: R4,
  };
}
function P4(r, e, t, n) {
  var i;
  if (n === r.target_) return this.extend_(r, e, t, !1) === null ? 0 : 2;
  if (
    (i = this.options_) != null &&
    i.bound &&
    (!Ks(r.target_, e) || !Ah(r.target_[e])) &&
    this.extend_(r, e, t, !1) === null
  )
    return 0;
  if (Ah(t.value)) return 1;
  var s = V3(r, this, e, t, !1, !1);
  return ws(n, e, s), 2;
}
function C4(r, e, t, n) {
  var i,
    s = V3(r, this, e, t, (i = this.options_) == null ? void 0 : i.bound);
  return r.defineProperty_(e, s, n);
}
function R4(r, e) {
  var t,
    n = e.name,
    i = e.addInitializer;
  return (
    Ah(r) || (r = Tu(r)),
    (t = this.options_) != null &&
      t.bound &&
      i(function () {
        var s = this,
          o = s[n].bind(s);
        (o.isMobXFlow = !0), (s[n] = o);
      }),
    r
  );
}
function D4(r, e, t, n) {
  e.annotationType_, n.value;
}
function V3(r, e, t, n, i, s) {
  s === void 0 && (s = oe.safeDescriptors), D4(r, e, t, n);
  var o = n.value;
  if ((Ah(o) || (o = Tu(o)), i)) {
    var a;
    (o = o.bind((a = r.proxy_) != null ? a : r.target_)), (o.isMobXFlow = !0);
  }
  return {
    value: o,
    configurable: s ? r.isPlainObject_ : !0,
    enumerable: !1,
    writable: !s,
  };
}
function Pw(r, e) {
  return {
    annotationType_: r,
    options_: e,
    make_: M4,
    extend_: B4,
    decorate_20223_: O4,
  };
}
function M4(r, e, t) {
  return this.extend_(r, e, t, !1) === null ? 0 : 1;
}
function B4(r, e, t, n) {
  return (
    I4(r, this, e, t),
    r.defineComputedProperty_(
      e,
      Za({}, this.options_, { get: t.get, set: t.set }),
      n
    )
  );
}
function O4(r, e) {
  var t = this,
    n = e.name,
    i = e.addInitializer;
  return (
    i(function () {
      var s = fl(this)[Te],
        o = Za({}, t.options_, { get: r, context: this });
      o.name || (o.name = "ObservableObject." + n.toString()),
        s.values_.set(n, new es(o));
    }),
    function () {
      return this[Te].getObservablePropValue_(n);
    }
  );
}
function I4(r, e, t, n) {
  e.annotationType_, n.get;
}
function Qm(r, e) {
  return {
    annotationType_: r,
    options_: e,
    make_: F4,
    extend_: N4,
    decorate_20223_: L4,
  };
}
function F4(r, e, t) {
  return this.extend_(r, e, t, !1) === null ? 0 : 1;
}
function N4(r, e, t, n) {
  var i, s;
  return (
    U4(r, this),
    r.defineObservableProperty_(
      e,
      t.value,
      (i = (s = this.options_) == null ? void 0 : s.enhancer) != null ? i : Qa,
      n
    )
  );
}
function L4(r, e) {
  var t = this,
    n = e.kind,
    i = e.name,
    s = new WeakSet();
  function o(a, l) {
    var u,
      c,
      h = fl(a)[Te],
      d = new Na(
        l,
        (u = (c = t.options_) == null ? void 0 : c.enhancer) != null ? u : Qa,
        "ObservableObject." + i.toString(),
        !1
      );
    h.values_.set(i, d), s.add(a);
  }
  if (n == "accessor")
    return {
      get: function () {
        return (
          s.has(this) || o(this, r.get.call(this)),
          this[Te].getObservablePropValue_(i)
        );
      },
      set: function (l) {
        return (
          s.has(this) || o(this, l), this[Te].setObservablePropValue_(i, l)
        );
      },
      init: function (l) {
        return s.has(this) || o(this, l), l;
      },
    };
}
function U4(r, e, t, n) {
  e.annotationType_;
}
var G4 = "true",
  j4 = X3();
function X3(r) {
  return {
    annotationType_: G4,
    options_: r,
    make_: $4,
    extend_: z4,
    decorate_20223_: W4,
  };
}
function $4(r, e, t, n) {
  var i, s;
  if (t.get) return Jm.make_(r, e, t, n);
  if (t.set) {
    var o = Ja(e.toString(), t.set);
    return n === r.target_
      ? r.defineProperty_(e, {
          configurable: oe.safeDescriptors ? r.isPlainObject_ : !0,
          set: o,
        }) === null
        ? 0
        : 2
      : (ws(n, e, { configurable: !0, set: o }), 2);
  }
  if (n !== r.target_ && typeof t.value == "function") {
    var a;
    if (L3(t.value)) {
      var l,
        u = (l = this.options_) != null && l.autoBind ? Tu.bound : Tu;
      return u.make_(r, e, t, n);
    }
    var c = (a = this.options_) != null && a.autoBind ? Th.bound : Th;
    return c.make_(r, e, t, n);
  }
  var h = ((i = this.options_) == null ? void 0 : i.deep) === !1 ? gr.ref : gr;
  if (
    typeof t.value == "function" &&
    (s = this.options_) != null &&
    s.autoBind
  ) {
    var d;
    t.value = t.value.bind((d = r.proxy_) != null ? d : r.target_);
  }
  return h.make_(r, e, t, n);
}
function z4(r, e, t, n) {
  var i, s;
  if (t.get) return Jm.extend_(r, e, t, n);
  if (t.set)
    return r.defineProperty_(
      e,
      {
        configurable: oe.safeDescriptors ? r.isPlainObject_ : !0,
        set: Ja(e.toString(), t.set),
      },
      n
    );
  if (
    typeof t.value == "function" &&
    (i = this.options_) != null &&
    i.autoBind
  ) {
    var o;
    t.value = t.value.bind((o = r.proxy_) != null ? o : r.target_);
  }
  var a = ((s = this.options_) == null ? void 0 : s.deep) === !1 ? gr.ref : gr;
  return a.extend_(r, e, t, n);
}
function W4(r, e) {
  Ke("'" + this.annotationType_ + "' cannot be used as a decorator");
}
var H4 = "observable",
  V4 = "observable.ref",
  X4 = "observable.shallow",
  Y4 = "observable.struct",
  Y3 = { deep: !0, name: void 0, defaultDecorator: void 0, proxy: !0 };
Object.freeze(Y3);
function Ud(r) {
  return r || Y3;
}
var sv = Qm(H4),
  K4 = Qm(V4, { enhancer: Zm }),
  q4 = Qm(X4, { enhancer: x4 }),
  Z4 = Qm(Y4, { enhancer: w4 }),
  K3 = bs(sv);
function Gd(r) {
  return r.deep === !0 ? Qa : r.deep === !1 ? Zm : J4(r.defaultDecorator);
}
function Q4(r) {
  var e;
  return r ? ((e = r.defaultDecorator) != null ? e : X3(r)) : void 0;
}
function J4(r) {
  var e, t;
  return r && (e = (t = r.options_) == null ? void 0 : t.enhancer) != null
    ? e
    : Qa;
}
function q3(r, e, t) {
  if (rd(e)) return sv.decorate_20223_(r, e);
  if (qa(e)) {
    td(r, e, sv);
    return;
  }
  return mR(r)
    ? r
    : ao(r)
    ? gr.object(r, e, t)
    : Array.isArray(r)
    ? gr.array(r, e)
    : Wu(r)
    ? gr.map(r, e)
    : js(r)
    ? gr.set(r, e)
    : typeof r == "object" && r !== null
    ? r
    : gr.box(r, e);
}
O3(q3, K3);
var eU = {
    box: function (e, t) {
      var n = Ud(t);
      return new Na(e, Gd(n), n.name, !0, n.equals);
    },
    array: function (e, t) {
      var n = Ud(t);
      return (oe.useProxies === !1 || n.proxy === !1 ? ZU : jU)(
        e,
        Gd(n),
        n.name
      );
    },
    map: function (e, t) {
      var n = Ud(t);
      return new _R(e, Gd(n), n.name);
    },
    set: function (e, t) {
      var n = Ud(t);
      return new yR(e, Gd(n), n.name);
    },
    object: function (e, t, n) {
      return aa(function () {
        return dR(
          oe.useProxies === !1 || (n == null ? void 0 : n.proxy) === !1
            ? fl({}, n)
            : NU({}, n),
          e,
          t
        );
      });
    },
    ref: bs(K4),
    shallow: bs(q4),
    deep: K3,
    struct: bs(Z4),
  },
  gr = O3(q3, eU),
  Z3 = "computed",
  tU = "computed.struct",
  ov = Pw(Z3),
  rU = Pw(tU, { equals: Pp.structural }),
  Jm = function (e, t) {
    if (rd(t)) return ov.decorate_20223_(e, t);
    if (qa(t)) return td(e, t, ov);
    if (ao(e)) return bs(Pw(Z3, e));
    var n = ao(t) ? t : {};
    return (n.get = e), n.name || (n.name = e.name || ""), new es(n);
  };
Object.assign(Jm, ov);
Jm.struct = bs(rU);
var OS,
  IS,
  Cp = 0,
  nU = 1,
  iU =
    (OS =
      (IS = Ap(function () {}, "name")) == null ? void 0 : IS.configurable) !=
    null
      ? OS
      : !1,
  FS = { value: "action", configurable: !0, writable: !1, enumerable: !1 };
function Ja(r, e, t, n) {
  t === void 0 && (t = !1);
  function i() {
    return sU(r, t, e, n || this, arguments);
  }
  return (
    (i.isMobxAction = !0),
    (i.toString = function () {
      return e.toString();
    }),
    iU && ((FS.value = r), ws(i, "name", FS)),
    i
  );
}
function sU(r, e, t, n, i) {
  var s = oU(r, e);
  try {
    return t.apply(n, i);
  } catch (o) {
    throw ((s.error_ = o), o);
  } finally {
    aU(s);
  }
}
function oU(r, e, t, n) {
  var i = !1,
    s = 0,
    o = oe.trackingDerivation,
    a = !e || !o;
  wi();
  var l = oe.allowStateChanges;
  a && (hl(), (l = Cw(!0)));
  var u = Dw(!0),
    c = {
      runAsAction_: a,
      prevDerivation_: o,
      prevAllowStateChanges_: l,
      prevAllowStateReads_: u,
      notifySpy_: i,
      startTime_: s,
      actionId_: nU++,
      parentActionId_: Cp,
    };
  return (Cp = c.actionId_), c;
}
function aU(r) {
  Cp !== r.actionId_ && Ke(30),
    (Cp = r.parentActionId_),
    r.error_ !== void 0 && (oe.suppressReactionErrors = !0),
    Rw(r.prevAllowStateChanges_),
    Zc(r.prevAllowStateReads_),
    bi(),
    r.runAsAction_ && qs(r.prevDerivation_),
    (oe.suppressReactionErrors = !1);
}
function Cw(r) {
  var e = oe.allowStateChanges;
  return (oe.allowStateChanges = r), e;
}
function Rw(r) {
  oe.allowStateChanges = r;
}
var Na = (function (r) {
    function e(n, i, s, o, a) {
      var l;
      return (
        s === void 0 && (s = "ObservableValue"),
        a === void 0 && (a = Pp.default),
        (l = r.call(this, s) || this),
        (l.enhancer = void 0),
        (l.name_ = void 0),
        (l.equals = void 0),
        (l.hasUnreportedChange_ = !1),
        (l.interceptors_ = void 0),
        (l.changeListeners_ = void 0),
        (l.value_ = void 0),
        (l.dehancer = void 0),
        (l.enhancer = i),
        (l.name_ = s),
        (l.equals = a),
        (l.value_ = i(n, void 0, s)),
        l
      );
    }
    $3(e, r);
    var t = e.prototype;
    return (
      (t.dehanceValue = function (i) {
        return this.dehancer !== void 0 ? this.dehancer(i) : i;
      }),
      (t.set = function (i) {
        this.value_,
          (i = this.prepareNewValue_(i)),
          i !== oe.UNCHANGED && this.setNewValue_(i);
      }),
      (t.prepareNewValue_ = function (i) {
        if (_i(this)) {
          var s = yi(this, { object: this, type: Ss, newValue: i });
          if (!s) return oe.UNCHANGED;
          i = s.newValue;
        }
        return (
          (i = this.enhancer(i, this.value_, this.name_)),
          this.equals(this.value_, i) ? oe.UNCHANGED : i
        );
      }),
      (t.setNewValue_ = function (i) {
        var s = this.value_;
        (this.value_ = i),
          this.reportChanged(),
          Xi(this) &&
            Yi(this, { type: Ss, object: this, newValue: i, oldValue: s });
      }),
      (t.get = function () {
        return this.reportObserved(), this.dehanceValue(this.value_);
      }),
      (t.intercept_ = function (i) {
        return id(this, i);
      }),
      (t.observe_ = function (i, s) {
        return (
          s &&
            i({
              observableKind: "value",
              debugObjectName: this.name_,
              object: this,
              type: Ss,
              newValue: this.value_,
              oldValue: void 0,
            }),
          sd(this, i)
        );
      }),
      (t.raw = function () {
        return this.value_;
      }),
      (t.toJSON = function () {
        return this.get();
      }),
      (t.toString = function () {
        return this.name_ + "[" + this.value_ + "]";
      }),
      (t.valueOf = function () {
        return j3(this.get());
      }),
      (t[Symbol.toPrimitive] = function () {
        return this.valueOf();
      }),
      e
    );
  })(oa),
  es = (function () {
    function r(t) {
      (this.dependenciesState_ = Qe.NOT_TRACKING_),
        (this.observing_ = []),
        (this.newObserving_ = null),
        (this.observers_ = new Set()),
        (this.runId_ = 0),
        (this.lastAccessedBy_ = 0),
        (this.lowestObserverState_ = Qe.UP_TO_DATE_),
        (this.unboundDepsCount_ = 0),
        (this.value_ = new Dp(null)),
        (this.name_ = void 0),
        (this.triggeredBy_ = void 0),
        (this.flags_ = 0),
        (this.derivation = void 0),
        (this.setter_ = void 0),
        (this.isTracing_ = Rp.NONE),
        (this.scope_ = void 0),
        (this.equals_ = void 0),
        (this.requiresReaction_ = void 0),
        (this.keepAlive_ = void 0),
        (this.onBOL = void 0),
        (this.onBUOL = void 0),
        t.get || Ke(31),
        (this.derivation = t.get),
        (this.name_ = t.name || "ComputedValue"),
        t.set && (this.setter_ = Ja("ComputedValue-setter", t.set)),
        (this.equals_ =
          t.equals ||
          (t.compareStructural || t.struct ? Pp.structural : Pp.default)),
        (this.scope_ = t.context),
        (this.requiresReaction_ = t.requiresReaction),
        (this.keepAlive_ = !!t.keepAlive);
    }
    var e = r.prototype;
    return (
      (e.onBecomeStale_ = function () {
        dU(this);
      }),
      (e.onBO = function () {
        this.onBOL &&
          this.onBOL.forEach(function (n) {
            return n();
          });
      }),
      (e.onBUO = function () {
        this.onBUOL &&
          this.onBUOL.forEach(function (n) {
            return n();
          });
      }),
      (e.get = function () {
        if (
          (this.isComputing && Ke(32, this.name_, this.derivation),
          oe.inBatch === 0 && this.observers_.size === 0 && !this.keepAlive_)
        )
          av(this) &&
            (this.warnAboutUntrackedRead_(),
            wi(),
            (this.value_ = this.computeValue_(!1)),
            bi());
        else if ((iR(this), av(this))) {
          var n = oe.trackingContext;
          this.keepAlive_ && !n && (oe.trackingContext = this),
            this.trackAndCompute() && hU(this),
            (oe.trackingContext = n);
        }
        var i = this.value_;
        if (zf(i)) throw i.cause;
        return i;
      }),
      (e.set = function (n) {
        if (this.setter_) {
          this.isRunningSetter && Ke(33, this.name_),
            (this.isRunningSetter = !0);
          try {
            this.setter_.call(this.scope_, n);
          } finally {
            this.isRunningSetter = !1;
          }
        } else Ke(34, this.name_);
      }),
      (e.trackAndCompute = function () {
        var n = this.value_,
          i = this.dependenciesState_ === Qe.NOT_TRACKING_,
          s = this.computeValue_(!0),
          o = i || zf(n) || zf(s) || !this.equals_(n, s);
        return o && (this.value_ = s), o;
      }),
      (e.computeValue_ = function (n) {
        this.isComputing = !0;
        var i = Cw(!1),
          s;
        if (n) s = Q3(this, this.derivation, this.scope_);
        else if (oe.disableErrorBoundaries === !0)
          s = this.derivation.call(this.scope_);
        else
          try {
            s = this.derivation.call(this.scope_);
          } catch (o) {
            s = new Dp(o);
          }
        return Rw(i), (this.isComputing = !1), s;
      }),
      (e.suspend_ = function () {
        this.keepAlive_ || (lv(this), (this.value_ = void 0));
      }),
      (e.observe_ = function (n, i) {
        var s = this,
          o = !0,
          a = void 0;
        return bU(function () {
          var l = s.get();
          if (!o || i) {
            var u = hl();
            n({
              observableKind: "computed",
              debugObjectName: s.name_,
              type: Ss,
              object: s,
              newValue: l,
              oldValue: a,
            }),
              qs(u);
          }
          (o = !1), (a = l);
        });
      }),
      (e.warnAboutUntrackedRead_ = function () {}),
      (e.toString = function () {
        return this.name_ + "[" + this.derivation.toString() + "]";
      }),
      (e.valueOf = function () {
        return j3(this.get());
      }),
      (e[Symbol.toPrimitive] = function () {
        return this.valueOf();
      }),
      Hu(r, [
        {
          key: "isComputing",
          get: function () {
            return $n(this.flags_, r.isComputingMask_);
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.isComputingMask_, n);
          },
        },
        {
          key: "isRunningSetter",
          get: function () {
            return $n(this.flags_, r.isRunningSetterMask_);
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.isRunningSetterMask_, n);
          },
        },
        {
          key: "isBeingObserved",
          get: function () {
            return $n(this.flags_, r.isBeingObservedMask_);
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.isBeingObservedMask_, n);
          },
        },
        {
          key: "isPendingUnobservation",
          get: function () {
            return $n(this.flags_, r.isPendingUnobservationMask_);
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.isPendingUnobservationMask_, n);
          },
        },
        {
          key: "diffValue",
          get: function () {
            return $n(this.flags_, r.diffValueMask_) ? 1 : 0;
          },
          set: function (n) {
            this.flags_ = zn(this.flags_, r.diffValueMask_, n === 1);
          },
        },
      ])
    );
  })();
es.isComputingMask_ = 1;
es.isRunningSetterMask_ = 2;
es.isBeingObservedMask_ = 4;
es.isPendingUnobservationMask_ = 8;
es.diffValueMask_ = 16;
var eg = cl("ComputedValue", es),
  Qe;
(function (r) {
  (r[(r.NOT_TRACKING_ = -1)] = "NOT_TRACKING_"),
    (r[(r.UP_TO_DATE_ = 0)] = "UP_TO_DATE_"),
    (r[(r.POSSIBLY_STALE_ = 1)] = "POSSIBLY_STALE_"),
    (r[(r.STALE_ = 2)] = "STALE_");
})(Qe || (Qe = {}));
var Rp;
(function (r) {
  (r[(r.NONE = 0)] = "NONE"),
    (r[(r.LOG = 1)] = "LOG"),
    (r[(r.BREAK = 2)] = "BREAK");
})(Rp || (Rp = {}));
var Dp = function (e) {
  (this.cause = void 0), (this.cause = e);
};
function zf(r) {
  return r instanceof Dp;
}
function av(r) {
  switch (r.dependenciesState_) {
    case Qe.UP_TO_DATE_:
      return !1;
    case Qe.NOT_TRACKING_:
    case Qe.STALE_:
      return !0;
    case Qe.POSSIBLY_STALE_: {
      for (
        var e = Dw(!0), t = hl(), n = r.observing_, i = n.length, s = 0;
        s < i;
        s++
      ) {
        var o = n[s];
        if (eg(o)) {
          if (oe.disableErrorBoundaries) o.get();
          else
            try {
              o.get();
            } catch {
              return qs(t), Zc(e), !0;
            }
          if (r.dependenciesState_ === Qe.STALE_) return qs(t), Zc(e), !0;
        }
      }
      return eR(r), qs(t), Zc(e), !1;
    }
  }
}
function Q3(r, e, t) {
  var n = Dw(!0);
  eR(r),
    (r.newObserving_ = new Array(r.runId_ === 0 ? 100 : r.observing_.length)),
    (r.unboundDepsCount_ = 0),
    (r.runId_ = ++oe.runId);
  var i = oe.trackingDerivation;
  (oe.trackingDerivation = r), oe.inBatch++;
  var s;
  if (oe.disableErrorBoundaries === !0) s = e.call(t);
  else
    try {
      s = e.call(t);
    } catch (o) {
      s = new Dp(o);
    }
  return oe.inBatch--, (oe.trackingDerivation = i), lU(r), Zc(n), s;
}
function lU(r) {
  for (
    var e = r.observing_,
      t = (r.observing_ = r.newObserving_),
      n = Qe.UP_TO_DATE_,
      i = 0,
      s = r.unboundDepsCount_,
      o = 0;
    o < s;
    o++
  ) {
    var a = t[o];
    a.diffValue === 0 && ((a.diffValue = 1), i !== o && (t[i] = a), i++),
      a.dependenciesState_ > n && (n = a.dependenciesState_);
  }
  for (t.length = i, r.newObserving_ = null, s = e.length; s--; ) {
    var l = e[s];
    l.diffValue === 0 && rR(l, r), (l.diffValue = 0);
  }
  for (; i--; ) {
    var u = t[i];
    u.diffValue === 1 && ((u.diffValue = 0), cU(u, r));
  }
  n !== Qe.UP_TO_DATE_ && ((r.dependenciesState_ = n), r.onBecomeStale_());
}
function lv(r) {
  var e = r.observing_;
  r.observing_ = [];
  for (var t = e.length; t--; ) rR(e[t], r);
  r.dependenciesState_ = Qe.NOT_TRACKING_;
}
function J3(r) {
  var e = hl();
  try {
    return r();
  } finally {
    qs(e);
  }
}
function hl() {
  var r = oe.trackingDerivation;
  return (oe.trackingDerivation = null), r;
}
function qs(r) {
  oe.trackingDerivation = r;
}
function Dw(r) {
  var e = oe.allowStateReads;
  return (oe.allowStateReads = r), e;
}
function Zc(r) {
  oe.allowStateReads = r;
}
function eR(r) {
  if (r.dependenciesState_ !== Qe.UP_TO_DATE_) {
    r.dependenciesState_ = Qe.UP_TO_DATE_;
    for (var e = r.observing_, t = e.length; t--; )
      e[t].lowestObserverState_ = Qe.UP_TO_DATE_;
  }
}
var Wf = function () {
    (this.version = 6),
      (this.UNCHANGED = {}),
      (this.trackingDerivation = null),
      (this.trackingContext = null),
      (this.runId = 0),
      (this.mobxGuid = 0),
      (this.inBatch = 0),
      (this.pendingUnobservations = []),
      (this.pendingReactions = []),
      (this.isRunningReactions = !1),
      (this.allowStateChanges = !1),
      (this.allowStateReads = !0),
      (this.enforceActions = !0),
      (this.spyListeners = []),
      (this.globalReactionErrorHandlers = []),
      (this.computedRequiresReaction = !1),
      (this.reactionRequiresObservable = !1),
      (this.observableRequiresReaction = !1),
      (this.disableErrorBoundaries = !1),
      (this.suppressReactionErrors = !1),
      (this.useProxies = !0),
      (this.verifyProxies = !1),
      (this.safeDescriptors = !0);
  },
  Hf = !0,
  tR = !1,
  oe = (function () {
    var r = Ym();
    return (
      r.__mobxInstanceCount > 0 && !r.__mobxGlobals && (Hf = !1),
      r.__mobxGlobals &&
        r.__mobxGlobals.version !== new Wf().version &&
        (Hf = !1),
      Hf
        ? r.__mobxGlobals
          ? ((r.__mobxInstanceCount += 1),
            r.__mobxGlobals.UNCHANGED || (r.__mobxGlobals.UNCHANGED = {}),
            r.__mobxGlobals)
          : ((r.__mobxInstanceCount = 1), (r.__mobxGlobals = new Wf()))
        : (setTimeout(function () {
            tR || Ke(35);
          }, 1),
          new Wf())
    );
  })();
function uU() {
  if (
    ((oe.pendingReactions.length || oe.inBatch || oe.isRunningReactions) &&
      Ke(36),
    (tR = !0),
    Hf)
  ) {
    var r = Ym();
    --r.__mobxInstanceCount === 0 && (r.__mobxGlobals = void 0),
      (oe = new Wf());
  }
}
function cU(r, e) {
  r.observers_.add(e),
    r.lowestObserverState_ > e.dependenciesState_ &&
      (r.lowestObserverState_ = e.dependenciesState_);
}
function rR(r, e) {
  r.observers_.delete(e), r.observers_.size === 0 && nR(r);
}
function nR(r) {
  r.isPendingUnobservation === !1 &&
    ((r.isPendingUnobservation = !0), oe.pendingUnobservations.push(r));
}
function wi() {
  oe.inBatch++;
}
function bi() {
  if (--oe.inBatch === 0) {
    oR();
    for (var r = oe.pendingUnobservations, e = 0; e < r.length; e++) {
      var t = r[e];
      (t.isPendingUnobservation = !1),
        t.observers_.size === 0 &&
          (t.isBeingObserved && ((t.isBeingObserved = !1), t.onBUO()),
          t instanceof es && t.suspend_());
    }
    oe.pendingUnobservations = [];
  }
}
function iR(r) {
  var e = oe.trackingDerivation;
  return e !== null
    ? (e.runId_ !== r.lastAccessedBy_ &&
        ((r.lastAccessedBy_ = e.runId_),
        (e.newObserving_[e.unboundDepsCount_++] = r),
        !r.isBeingObserved &&
          oe.trackingContext &&
          ((r.isBeingObserved = !0), r.onBO())),
      r.isBeingObserved)
    : (r.observers_.size === 0 && oe.inBatch > 0 && nR(r), !1);
}
function sR(r) {
  r.lowestObserverState_ !== Qe.STALE_ &&
    ((r.lowestObserverState_ = Qe.STALE_),
    r.observers_.forEach(function (e) {
      e.dependenciesState_ === Qe.UP_TO_DATE_ && e.onBecomeStale_(),
        (e.dependenciesState_ = Qe.STALE_);
    }));
}
function hU(r) {
  r.lowestObserverState_ !== Qe.STALE_ &&
    ((r.lowestObserverState_ = Qe.STALE_),
    r.observers_.forEach(function (e) {
      e.dependenciesState_ === Qe.POSSIBLY_STALE_
        ? (e.dependenciesState_ = Qe.STALE_)
        : e.dependenciesState_ === Qe.UP_TO_DATE_ &&
          (r.lowestObserverState_ = Qe.UP_TO_DATE_);
    }));
}
function dU(r) {
  r.lowestObserverState_ === Qe.UP_TO_DATE_ &&
    ((r.lowestObserverState_ = Qe.POSSIBLY_STALE_),
    r.observers_.forEach(function (e) {
      e.dependenciesState_ === Qe.UP_TO_DATE_ &&
        ((e.dependenciesState_ = Qe.POSSIBLY_STALE_), e.onBecomeStale_());
    }));
}
var lo = (function () {
  function r(t, n, i, s) {
    t === void 0 && (t = "Reaction"),
      (this.name_ = void 0),
      (this.onInvalidate_ = void 0),
      (this.errorHandler_ = void 0),
      (this.requiresObservable_ = void 0),
      (this.observing_ = []),
      (this.newObserving_ = []),
      (this.dependenciesState_ = Qe.NOT_TRACKING_),
      (this.runId_ = 0),
      (this.unboundDepsCount_ = 0),
      (this.flags_ = 0),
      (this.isTracing_ = Rp.NONE),
      (this.name_ = t),
      (this.onInvalidate_ = n),
      (this.errorHandler_ = i),
      (this.requiresObservable_ = s);
  }
  var e = r.prototype;
  return (
    (e.onBecomeStale_ = function () {
      this.schedule_();
    }),
    (e.schedule_ = function () {
      this.isScheduled ||
        ((this.isScheduled = !0), oe.pendingReactions.push(this), oR());
    }),
    (e.runReaction_ = function () {
      if (!this.isDisposed) {
        wi(), (this.isScheduled = !1);
        var n = oe.trackingContext;
        if (((oe.trackingContext = this), av(this))) {
          this.isTrackPending = !0;
          try {
            this.onInvalidate_();
          } catch (i) {
            this.reportExceptionInDerivation_(i);
          }
        }
        (oe.trackingContext = n), bi();
      }
    }),
    (e.track = function (n) {
      if (!this.isDisposed) {
        wi(), (this.isRunning = !0);
        var i = oe.trackingContext;
        oe.trackingContext = this;
        var s = Q3(this, n, void 0);
        (oe.trackingContext = i),
          (this.isRunning = !1),
          (this.isTrackPending = !1),
          this.isDisposed && lv(this),
          zf(s) && this.reportExceptionInDerivation_(s.cause),
          bi();
      }
    }),
    (e.reportExceptionInDerivation_ = function (n) {
      var i = this;
      if (this.errorHandler_) {
        this.errorHandler_(n, this);
        return;
      }
      if (oe.disableErrorBoundaries) throw n;
      var s = "[mobx] uncaught error in '" + this + "'";
      oe.suppressReactionErrors || console.error(s, n),
        oe.globalReactionErrorHandlers.forEach(function (o) {
          return o(n, i);
        });
    }),
    (e.dispose = function () {
      this.isDisposed ||
        ((this.isDisposed = !0), this.isRunning || (wi(), lv(this), bi()));
    }),
    (e.getDisposer_ = function (n) {
      var i = this,
        s = function o() {
          i.dispose(),
            n == null ||
              n.removeEventListener == null ||
              n.removeEventListener("abort", o);
        };
      return (
        n == null ||
          n.addEventListener == null ||
          n.addEventListener("abort", s),
        (s[Te] = this),
        s
      );
    }),
    (e.toString = function () {
      return "Reaction[" + this.name_ + "]";
    }),
    (e.trace = function (n) {}),
    Hu(r, [
      {
        key: "isDisposed",
        get: function () {
          return $n(this.flags_, r.isDisposedMask_);
        },
        set: function (n) {
          this.flags_ = zn(this.flags_, r.isDisposedMask_, n);
        },
      },
      {
        key: "isScheduled",
        get: function () {
          return $n(this.flags_, r.isScheduledMask_);
        },
        set: function (n) {
          this.flags_ = zn(this.flags_, r.isScheduledMask_, n);
        },
      },
      {
        key: "isTrackPending",
        get: function () {
          return $n(this.flags_, r.isTrackPendingMask_);
        },
        set: function (n) {
          this.flags_ = zn(this.flags_, r.isTrackPendingMask_, n);
        },
      },
      {
        key: "isRunning",
        get: function () {
          return $n(this.flags_, r.isRunningMask_);
        },
        set: function (n) {
          this.flags_ = zn(this.flags_, r.isRunningMask_, n);
        },
      },
      {
        key: "diffValue",
        get: function () {
          return $n(this.flags_, r.diffValueMask_) ? 1 : 0;
        },
        set: function (n) {
          this.flags_ = zn(this.flags_, r.diffValueMask_, n === 1);
        },
      },
    ])
  );
})();
lo.isDisposedMask_ = 1;
lo.isScheduledMask_ = 2;
lo.isTrackPendingMask_ = 4;
lo.isRunningMask_ = 8;
lo.diffValueMask_ = 16;
var fU = 100,
  uv = function (e) {
    return e();
  };
function oR() {
  oe.inBatch > 0 || oe.isRunningReactions || uv(pU);
}
function pU() {
  oe.isRunningReactions = !0;
  for (var r = oe.pendingReactions, e = 0; r.length > 0; ) {
    ++e === fU &&
      (console.error("[mobx] cycle in reaction: " + r[0]), r.splice(0));
    for (var t = r.splice(0), n = 0, i = t.length; n < i; n++)
      t[n].runReaction_();
  }
  oe.isRunningReactions = !1;
}
var Mp = cl("Reaction", lo);
function mU(r) {
  var e = uv;
  uv = function (n) {
    return r(function () {
      return e(n);
    });
  };
}
function Qc() {
  return !1;
}
function gU(r) {
  return (
    console.warn("[mobx.spy] Is a no-op in production builds"), function () {}
  );
}
var aR = "action",
  _U = "action.bound",
  lR = "autoAction",
  yU = "autoAction.bound",
  vU = "<unnamed action>",
  cv = nd(aR),
  xU = nd(_U, { bound: !0 }),
  hv = nd(lR, { autoAction: !0 }),
  wU = nd(yU, { autoAction: !0, bound: !0 });
function uR(r) {
  var e = function (n, i) {
    if (Ji(n)) return Ja(n.name || vU, n, r);
    if (Ji(i)) return Ja(n, i, r);
    if (rd(i)) return (r ? hv : cv).decorate_20223_(n, i);
    if (qa(i)) return td(n, i, r ? hv : cv);
    if (qa(n)) return bs(nd(r ? lR : aR, { name: n, autoAction: r }));
  };
  return e;
}
var ql = uR(!1);
Object.assign(ql, cv);
var Th = uR(!0);
Object.assign(Th, hv);
ql.bound = bs(xU);
Th.bound = bs(wU);
function kh(r) {
  return Ji(r) && r.isMobxAction === !0;
}
function bU(r, e) {
  var t, n, i, s;
  e === void 0 && (e = I3);
  var o = (t = (n = e) == null ? void 0 : n.name) != null ? t : "Autorun",
    a = !e.scheduler && !e.delay,
    l;
  if (a)
    l = new lo(
      o,
      function () {
        this.track(h);
      },
      e.onError,
      e.requiresObservable
    );
  else {
    var u = EU(e),
      c = !1;
    l = new lo(
      o,
      function () {
        c ||
          ((c = !0),
          u(function () {
            (c = !1), l.isDisposed || l.track(h);
          }));
      },
      e.onError,
      e.requiresObservable
    );
  }
  function h() {
    r(l);
  }
  return (
    ((i = e) != null && (i = i.signal) != null && i.aborted) || l.schedule_(),
    l.getDisposer_((s = e) == null ? void 0 : s.signal)
  );
}
var SU = function (e) {
  return e();
};
function EU(r) {
  return r.scheduler
    ? r.scheduler
    : r.delay
    ? function (e) {
        return setTimeout(e, r.delay);
      }
    : SU;
}
var TU = "onBO",
  kU = "onBUO";
function AU(r, e, t) {
  return hR(TU, r, e, t);
}
function cR(r, e, t) {
  return hR(kU, r, e, t);
}
function hR(r, e, t, n) {
  var i = Ip(e),
    s = Ji(n) ? n : t,
    o = r + "L";
  return (
    i[o] ? i[o].add(s) : (i[o] = new Set([s])),
    function () {
      var a = i[o];
      a && (a.delete(s), a.size === 0 && delete i[o]);
    }
  );
}
var PU = "never",
  jd = "always",
  CU = "observed";
function RU(r) {
  r.isolateGlobalState === !0 && uU();
  var e = r.useProxies,
    t = r.enforceActions;
  if (
    (e !== void 0 &&
      (oe.useProxies = e === jd ? !0 : e === PU ? !1 : typeof Proxy < "u"),
    e === "ifavailable" && (oe.verifyProxies = !0),
    t !== void 0)
  ) {
    var n = t === jd ? jd : t === CU;
    (oe.enforceActions = n), (oe.allowStateChanges = !(n === !0 || n === jd));
  }
  [
    "computedRequiresReaction",
    "reactionRequiresObservable",
    "observableRequiresReaction",
    "disableErrorBoundaries",
    "safeDescriptors",
  ].forEach(function (i) {
    i in r && (oe[i] = !!r[i]);
  }),
    (oe.allowStateReads = !oe.observableRequiresReaction),
    r.reactionScheduler && mU(r.reactionScheduler);
}
function dR(r, e, t, n) {
  var i = c4(e);
  return (
    aa(function () {
      var s = fl(r, n)[Te];
      Eu(i).forEach(function (o) {
        s.extend_(o, i[o], t && o in t ? t[o] : !0);
      });
    }),
    r
  );
}
function DU(r, e) {
  return fR(Ip(r, e));
}
function fR(r) {
  var e = { name: r.name_ };
  return (
    r.observing_ &&
      r.observing_.length > 0 &&
      (e.dependencies = MU(r.observing_).map(fR)),
    e
  );
}
function MU(r) {
  return Array.from(new Set(r));
}
var BU = 0;
function pR() {
  this.message = "FLOW_CANCELLED";
}
pR.prototype = Object.create(Error.prototype);
var D_ = H3("flow"),
  OU = H3("flow.bound", { bound: !0 }),
  Tu = Object.assign(function (e, t) {
    if (rd(t)) return D_.decorate_20223_(e, t);
    if (qa(t)) return td(e, t, D_);
    var n = e,
      i = n.name || "<unnamed flow>",
      s = function () {
        var a = this,
          l = arguments,
          u = ++BU,
          c = ql(i + " - runid: " + u + " - init", n).apply(a, l),
          h,
          d = void 0,
          f = new Promise(function (m, g) {
            var _ = 0;
            h = g;
            function v(k) {
              d = void 0;
              var C;
              try {
                C = ql(i + " - runid: " + u + " - yield " + _++, c.next).call(
                  c,
                  k
                );
              } catch (F) {
                return g(F);
              }
              x(C);
            }
            function w(k) {
              d = void 0;
              var C;
              try {
                C = ql(i + " - runid: " + u + " - yield " + _++, c.throw).call(
                  c,
                  k
                );
              } catch (F) {
                return g(F);
              }
              x(C);
            }
            function x(k) {
              if (Ji(k == null ? void 0 : k.then)) {
                k.then(x, g);
                return;
              }
              return k.done
                ? m(k.value)
                : ((d = Promise.resolve(k.value)), d.then(v, w));
            }
            v(void 0);
          });
        return (
          (f.cancel = ql(i + " - runid: " + u + " - cancel", function () {
            try {
              d && NS(d);
              var m = c.return(void 0),
                g = Promise.resolve(m.value);
              g.then(Yl, Yl), NS(g), h(new pR());
            } catch (_) {
              h(_);
            }
          })),
          f
        );
      };
    return (s.isMobXFlow = !0), s;
  }, D_);
Tu.bound = bs(OU);
function NS(r) {
  Ji(r.cancel) && r.cancel();
}
function Ah(r) {
  return (r == null ? void 0 : r.isMobXFlow) === !0;
}
function IU(r, e) {
  return r ? rg(r) || !!r[Te] || Aw(r) || Mp(r) || eg(r) : !1;
}
function mR(r) {
  return IU(r);
}
function $s(r, e) {
  e === void 0 && (e = void 0), wi();
  try {
    return r.apply(e);
  } finally {
    bi();
  }
}
function El(r) {
  return r[Te];
}
var FU = {
  has: function (e, t) {
    return El(e).has_(t);
  },
  get: function (e, t) {
    return El(e).get_(t);
  },
  set: function (e, t, n) {
    var i;
    return qa(t) ? ((i = El(e).set_(t, n, !0)) != null ? i : !0) : !1;
  },
  deleteProperty: function (e, t) {
    var n;
    return qa(t) ? ((n = El(e).delete_(t, !0)) != null ? n : !0) : !1;
  },
  defineProperty: function (e, t, n) {
    var i;
    return (i = El(e).defineProperty_(t, n)) != null ? i : !0;
  },
  ownKeys: function (e) {
    return El(e).ownKeys_();
  },
  preventExtensions: function (e) {
    Ke(13);
  },
};
function NU(r, e) {
  var t, n;
  return (
    F3(),
    (r = fl(r, e)),
    (n = (t = r[Te]).proxy_) != null ? n : (t.proxy_ = new Proxy(r, FU))
  );
}
function _i(r) {
  return r.interceptors_ !== void 0 && r.interceptors_.length > 0;
}
function id(r, e) {
  var t = r.interceptors_ || (r.interceptors_ = []);
  return (
    t.push(e),
    N3(function () {
      var n = t.indexOf(e);
      n !== -1 && t.splice(n, 1);
    })
  );
}
function yi(r, e) {
  var t = hl();
  try {
    for (
      var n = [].concat(r.interceptors_ || []), i = 0, s = n.length;
      i < s && ((e = n[i](e)), e && !e.type && Ke(14), !!e);
      i++
    );
    return e;
  } finally {
    qs(t);
  }
}
function Xi(r) {
  return r.changeListeners_ !== void 0 && r.changeListeners_.length > 0;
}
function sd(r, e) {
  var t = r.changeListeners_ || (r.changeListeners_ = []);
  return (
    t.push(e),
    N3(function () {
      var n = t.indexOf(e);
      n !== -1 && t.splice(n, 1);
    })
  );
}
function Yi(r, e) {
  var t = hl(),
    n = r.changeListeners_;
  if (n) {
    n = n.slice();
    for (var i = 0, s = n.length; i < s; i++) n[i](e);
    qs(t);
  }
}
function LU(r, e, t) {
  return (
    aa(function () {
      var n,
        i = fl(r, t)[Te];
      (n = e) != null || (e = m4(r)),
        Eu(e).forEach(function (s) {
          return i.make_(s, e[s]);
        });
    }),
    r
  );
}
var M_ = Symbol("mobx-keys");
function ts(r, e, t) {
  return ao(r)
    ? dR(r, r, e, t)
    : (aa(function () {
        var n = fl(r, t)[Te];
        if (!r[M_]) {
          var i = Object.getPrototypeOf(r),
            s = new Set([].concat(Eu(r), Eu(i)));
          s.delete("constructor"), s.delete(Te), ed(i, M_, s);
        }
        r[M_].forEach(function (o) {
          return n.make_(o, e && o in e ? e[o] : !0);
        });
      }),
      r);
}
var LS = "splice",
  Ss = "update",
  UU = 1e4,
  GU = {
    get: function (e, t) {
      var n = e[Te];
      return t === Te
        ? n
        : t === "length"
        ? n.getArrayLength_()
        : typeof t == "string" && !isNaN(t)
        ? n.get_(parseInt(t))
        : Ks(Bp, t)
        ? Bp[t]
        : e[t];
    },
    set: function (e, t, n) {
      var i = e[Te];
      return (
        t === "length" && i.setArrayLength_(n),
        typeof t == "symbol" || isNaN(t) ? (e[t] = n) : i.set_(parseInt(t), n),
        !0
      );
    },
    preventExtensions: function () {
      Ke(15);
    },
  },
  Mw = (function () {
    function r(t, n, i, s) {
      t === void 0 && (t = "ObservableArray"),
        (this.owned_ = void 0),
        (this.legacyMode_ = void 0),
        (this.atom_ = void 0),
        (this.values_ = []),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.enhancer_ = void 0),
        (this.dehancer = void 0),
        (this.proxy_ = void 0),
        (this.lastKnownLength_ = 0),
        (this.owned_ = i),
        (this.legacyMode_ = s),
        (this.atom_ = new oa(t)),
        (this.enhancer_ = function (o, a) {
          return n(o, a, "ObservableArray[..]");
        });
    }
    var e = r.prototype;
    return (
      (e.dehanceValue_ = function (n) {
        return this.dehancer !== void 0 ? this.dehancer(n) : n;
      }),
      (e.dehanceValues_ = function (n) {
        return this.dehancer !== void 0 && n.length > 0
          ? n.map(this.dehancer)
          : n;
      }),
      (e.intercept_ = function (n) {
        return id(this, n);
      }),
      (e.observe_ = function (n, i) {
        return (
          i === void 0 && (i = !1),
          i &&
            n({
              observableKind: "array",
              object: this.proxy_,
              debugObjectName: this.atom_.name_,
              type: "splice",
              index: 0,
              added: this.values_.slice(),
              addedCount: this.values_.length,
              removed: [],
              removedCount: 0,
            }),
          sd(this, n)
        );
      }),
      (e.getArrayLength_ = function () {
        return this.atom_.reportObserved(), this.values_.length;
      }),
      (e.setArrayLength_ = function (n) {
        (typeof n != "number" || isNaN(n) || n < 0) && Ke("Out of range: " + n);
        var i = this.values_.length;
        if (n !== i)
          if (n > i) {
            for (var s = new Array(n - i), o = 0; o < n - i; o++) s[o] = void 0;
            this.spliceWithArray_(i, 0, s);
          } else this.spliceWithArray_(n, i - n);
      }),
      (e.updateArrayLength_ = function (n, i) {
        n !== this.lastKnownLength_ && Ke(16),
          (this.lastKnownLength_ += i),
          this.legacyMode_ && i > 0 && bR(n + i + 1);
      }),
      (e.spliceWithArray_ = function (n, i, s) {
        var o = this;
        this.atom_;
        var a = this.values_.length;
        if (
          (n === void 0
            ? (n = 0)
            : n > a
            ? (n = a)
            : n < 0 && (n = Math.max(0, a + n)),
          arguments.length === 1
            ? (i = a - n)
            : i == null
            ? (i = 0)
            : (i = Math.max(0, Math.min(i, a - n))),
          s === void 0 && (s = nv),
          _i(this))
        ) {
          var l = yi(this, {
            object: this.proxy_,
            type: LS,
            index: n,
            removedCount: i,
            added: s,
          });
          if (!l) return nv;
          (i = l.removedCount), (s = l.added);
        }
        if (
          ((s =
            s.length === 0
              ? s
              : s.map(function (h) {
                  return o.enhancer_(h, void 0);
                })),
          this.legacyMode_)
        ) {
          var u = s.length - i;
          this.updateArrayLength_(a, u);
        }
        var c = this.spliceItemsIntoValues_(n, i, s);
        return (
          (i !== 0 || s.length !== 0) && this.notifyArraySplice_(n, s, c),
          this.dehanceValues_(c)
        );
      }),
      (e.spliceItemsIntoValues_ = function (n, i, s) {
        if (s.length < UU) {
          var o;
          return (o = this.values_).splice.apply(o, [n, i].concat(s));
        } else {
          var a = this.values_.slice(n, n + i),
            l = this.values_.slice(n + i);
          this.values_.length += s.length - i;
          for (var u = 0; u < s.length; u++) this.values_[n + u] = s[u];
          for (var c = 0; c < l.length; c++)
            this.values_[n + s.length + c] = l[c];
          return a;
        }
      }),
      (e.notifyArrayChildUpdate_ = function (n, i, s) {
        var o = !this.owned_ && Qc(),
          a = Xi(this),
          l =
            a || o
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  type: Ss,
                  debugObjectName: this.atom_.name_,
                  index: n,
                  newValue: i,
                  oldValue: s,
                }
              : null;
        this.atom_.reportChanged(), a && Yi(this, l);
      }),
      (e.notifyArraySplice_ = function (n, i, s) {
        var o = !this.owned_ && Qc(),
          a = Xi(this),
          l =
            a || o
              ? {
                  observableKind: "array",
                  object: this.proxy_,
                  debugObjectName: this.atom_.name_,
                  type: LS,
                  index: n,
                  removed: s,
                  added: i,
                  removedCount: s.length,
                  addedCount: i.length,
                }
              : null;
        this.atom_.reportChanged(), a && Yi(this, l);
      }),
      (e.get_ = function (n) {
        if (this.legacyMode_ && n >= this.values_.length) {
          console.warn("[mobx] Out of bounds read: " + n);
          return;
        }
        return this.atom_.reportObserved(), this.dehanceValue_(this.values_[n]);
      }),
      (e.set_ = function (n, i) {
        var s = this.values_;
        if (
          (this.legacyMode_ && n > s.length && Ke(17, n, s.length),
          n < s.length)
        ) {
          this.atom_;
          var o = s[n];
          if (_i(this)) {
            var a = yi(this, {
              type: Ss,
              object: this.proxy_,
              index: n,
              newValue: i,
            });
            if (!a) return;
            i = a.newValue;
          }
          i = this.enhancer_(i, o);
          var l = i !== o;
          l && ((s[n] = i), this.notifyArrayChildUpdate_(n, i, o));
        } else {
          for (
            var u = new Array(n + 1 - s.length), c = 0;
            c < u.length - 1;
            c++
          )
            u[c] = void 0;
          (u[u.length - 1] = i), this.spliceWithArray_(s.length, 0, u);
        }
      }),
      r
    );
  })();
function jU(r, e, t, n) {
  return (
    t === void 0 && (t = "ObservableArray"),
    n === void 0 && (n = !1),
    F3(),
    aa(function () {
      var i = new Mw(t, e, n, !1);
      U3(i.values_, Te, i);
      var s = new Proxy(i.values_, GU);
      return (i.proxy_ = s), r && r.length && i.spliceWithArray_(0, 0, r), s;
    })
  );
}
var Bp = {
  clear: function () {
    return this.splice(0);
  },
  replace: function (e) {
    var t = this[Te];
    return t.spliceWithArray_(0, t.values_.length, e);
  },
  toJSON: function () {
    return this.slice();
  },
  splice: function (e, t) {
    for (
      var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), s = 2;
      s < n;
      s++
    )
      i[s - 2] = arguments[s];
    var o = this[Te];
    switch (arguments.length) {
      case 0:
        return [];
      case 1:
        return o.spliceWithArray_(e);
      case 2:
        return o.spliceWithArray_(e, t);
    }
    return o.spliceWithArray_(e, t, i);
  },
  spliceWithArray: function (e, t, n) {
    return this[Te].spliceWithArray_(e, t, n);
  },
  push: function () {
    for (
      var e = this[Te], t = arguments.length, n = new Array(t), i = 0;
      i < t;
      i++
    )
      n[i] = arguments[i];
    return e.spliceWithArray_(e.values_.length, 0, n), e.values_.length;
  },
  pop: function () {
    return this.splice(Math.max(this[Te].values_.length - 1, 0), 1)[0];
  },
  shift: function () {
    return this.splice(0, 1)[0];
  },
  unshift: function () {
    for (
      var e = this[Te], t = arguments.length, n = new Array(t), i = 0;
      i < t;
      i++
    )
      n[i] = arguments[i];
    return e.spliceWithArray_(0, 0, n), e.values_.length;
  },
  reverse: function () {
    return (
      oe.trackingDerivation && Ke(37, "reverse"),
      this.replace(this.slice().reverse()),
      this
    );
  },
  sort: function () {
    oe.trackingDerivation && Ke(37, "sort");
    var e = this.slice();
    return e.sort.apply(e, arguments), this.replace(e), this;
  },
  remove: function (e) {
    var t = this[Te],
      n = t.dehanceValues_(t.values_).indexOf(e);
    return n > -1 ? (this.splice(n, 1), !0) : !1;
  },
};
vt("at", ni);
vt("concat", ni);
vt("flat", ni);
vt("includes", ni);
vt("indexOf", ni);
vt("join", ni);
vt("lastIndexOf", ni);
vt("slice", ni);
vt("toString", ni);
vt("toLocaleString", ni);
vt("toSorted", ni);
vt("toSpliced", ni);
vt("with", ni);
vt("every", ns);
vt("filter", ns);
vt("find", ns);
vt("findIndex", ns);
vt("findLast", ns);
vt("findLastIndex", ns);
vt("flatMap", ns);
vt("forEach", ns);
vt("map", ns);
vt("some", ns);
vt("toReversed", ns);
vt("reduce", gR);
vt("reduceRight", gR);
function vt(r, e) {
  typeof Array.prototype[r] == "function" && (Bp[r] = e(r));
}
function ni(r) {
  return function () {
    var e = this[Te];
    e.atom_.reportObserved();
    var t = e.dehanceValues_(e.values_);
    return t[r].apply(t, arguments);
  };
}
function ns(r) {
  return function (e, t) {
    var n = this,
      i = this[Te];
    i.atom_.reportObserved();
    var s = i.dehanceValues_(i.values_);
    return s[r](function (o, a) {
      return e.call(t, o, a, n);
    });
  };
}
function gR(r) {
  return function () {
    var e = this,
      t = this[Te];
    t.atom_.reportObserved();
    var n = t.dehanceValues_(t.values_),
      i = arguments[0];
    return (
      (arguments[0] = function (s, o, a) {
        return i(s, o, a, e);
      }),
      n[r].apply(n, arguments)
    );
  };
}
var $U = cl("ObservableArrayAdministration", Mw);
function tg(r) {
  return qm(r) && $U(r[Te]);
}
var zU = {},
  Mo = "add",
  Op = "delete",
  _R = (function () {
    function r(t, n, i) {
      var s = this;
      n === void 0 && (n = Qa),
        i === void 0 && (i = "ObservableMap"),
        (this.enhancer_ = void 0),
        (this.name_ = void 0),
        (this[Te] = zU),
        (this.data_ = void 0),
        (this.hasMap_ = void 0),
        (this.keysAtom_ = void 0),
        (this.interceptors_ = void 0),
        (this.changeListeners_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = n),
        (this.name_ = i),
        Ji(Map) || Ke(18),
        aa(function () {
          (s.keysAtom_ = z3("ObservableMap.keys()")),
            (s.data_ = new Map()),
            (s.hasMap_ = new Map()),
            t && s.merge(t);
        });
    }
    var e = r.prototype;
    return (
      (e.has_ = function (n) {
        return this.data_.has(n);
      }),
      (e.has = function (n) {
        var i = this;
        if (!oe.trackingDerivation) return this.has_(n);
        var s = this.hasMap_.get(n);
        if (!s) {
          var o = (s = new Na(this.has_(n), Zm, "ObservableMap.key?", !1));
          this.hasMap_.set(n, o),
            cR(o, function () {
              return i.hasMap_.delete(n);
            });
        }
        return s.get();
      }),
      (e.set = function (n, i) {
        var s = this.has_(n);
        if (_i(this)) {
          var o = yi(this, {
            type: s ? Ss : Mo,
            object: this,
            newValue: i,
            name: n,
          });
          if (!o) return this;
          i = o.newValue;
        }
        return s ? this.updateValue_(n, i) : this.addValue_(n, i), this;
      }),
      (e.delete = function (n) {
        var i = this;
        if ((this.keysAtom_, _i(this))) {
          var s = yi(this, { type: Op, object: this, name: n });
          if (!s) return !1;
        }
        if (this.has_(n)) {
          var o = Qc(),
            a = Xi(this),
            l =
              a || o
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: Op,
                    object: this,
                    oldValue: this.data_.get(n).value_,
                    name: n,
                  }
                : null;
          return (
            $s(function () {
              var u;
              i.keysAtom_.reportChanged(),
                (u = i.hasMap_.get(n)) == null || u.setNewValue_(!1);
              var c = i.data_.get(n);
              c.setNewValue_(void 0), i.data_.delete(n);
            }),
            a && Yi(this, l),
            !0
          );
        }
        return !1;
      }),
      (e.updateValue_ = function (n, i) {
        var s = this.data_.get(n);
        if (((i = s.prepareNewValue_(i)), i !== oe.UNCHANGED)) {
          var o = Qc(),
            a = Xi(this),
            l =
              a || o
                ? {
                    observableKind: "map",
                    debugObjectName: this.name_,
                    type: Ss,
                    object: this,
                    oldValue: s.value_,
                    name: n,
                    newValue: i,
                  }
                : null;
          s.setNewValue_(i), a && Yi(this, l);
        }
      }),
      (e.addValue_ = function (n, i) {
        var s = this;
        this.keysAtom_,
          $s(function () {
            var u,
              c = new Na(i, s.enhancer_, "ObservableMap.key", !1);
            s.data_.set(n, c),
              (i = c.value_),
              (u = s.hasMap_.get(n)) == null || u.setNewValue_(!0),
              s.keysAtom_.reportChanged();
          });
        var o = Qc(),
          a = Xi(this),
          l =
            a || o
              ? {
                  observableKind: "map",
                  debugObjectName: this.name_,
                  type: Mo,
                  object: this,
                  name: n,
                  newValue: i,
                }
              : null;
        a && Yi(this, l);
      }),
      (e.get = function (n) {
        return this.has(n)
          ? this.dehanceValue_(this.data_.get(n).get())
          : this.dehanceValue_(void 0);
      }),
      (e.dehanceValue_ = function (n) {
        return this.dehancer !== void 0 ? this.dehancer(n) : n;
      }),
      (e.keys = function () {
        return this.keysAtom_.reportObserved(), this.data_.keys();
      }),
      (e.values = function () {
        var n = this,
          i = this.keys();
        return US({
          next: function () {
            var o = i.next(),
              a = o.done,
              l = o.value;
            return { done: a, value: a ? void 0 : n.get(l) };
          },
        });
      }),
      (e.entries = function () {
        var n = this,
          i = this.keys();
        return US({
          next: function () {
            var o = i.next(),
              a = o.done,
              l = o.value;
            return { done: a, value: a ? void 0 : [l, n.get(l)] };
          },
        });
      }),
      (e[Symbol.iterator] = function () {
        return this.entries();
      }),
      (e.forEach = function (n, i) {
        for (var s = Kl(this), o; !(o = s()).done; ) {
          var a = o.value,
            l = a[0],
            u = a[1];
          n.call(i, u, l, this);
        }
      }),
      (e.merge = function (n) {
        var i = this;
        return (
          dl(n) && (n = new Map(n)),
          $s(function () {
            ao(n)
              ? u4(n).forEach(function (s) {
                  return i.set(s, n[s]);
                })
              : Array.isArray(n)
              ? n.forEach(function (s) {
                  var o = s[0],
                    a = s[1];
                  return i.set(o, a);
                })
              : Wu(n)
              ? (l4(n) || Ke(19, n),
                n.forEach(function (s, o) {
                  return i.set(o, s);
                }))
              : n != null && Ke(20, n);
          }),
          this
        );
      }),
      (e.clear = function () {
        var n = this;
        $s(function () {
          J3(function () {
            for (var i = Kl(n.keys()), s; !(s = i()).done; ) {
              var o = s.value;
              n.delete(o);
            }
          });
        });
      }),
      (e.replace = function (n) {
        var i = this;
        return (
          $s(function () {
            for (
              var s = WU(n), o = new Map(), a = !1, l = Kl(i.data_.keys()), u;
              !(u = l()).done;

            ) {
              var c = u.value;
              if (!s.has(c)) {
                var h = i.delete(c);
                if (h) a = !0;
                else {
                  var d = i.data_.get(c);
                  o.set(c, d);
                }
              }
            }
            for (var f = Kl(s.entries()), m; !(m = f()).done; ) {
              var g = m.value,
                _ = g[0],
                v = g[1],
                w = i.data_.has(_);
              if ((i.set(_, v), i.data_.has(_))) {
                var x = i.data_.get(_);
                o.set(_, x), w || (a = !0);
              }
            }
            if (!a)
              if (i.data_.size !== o.size) i.keysAtom_.reportChanged();
              else
                for (
                  var k = i.data_.keys(),
                    C = o.keys(),
                    F = k.next(),
                    I = C.next();
                  !F.done;

                ) {
                  if (F.value !== I.value) {
                    i.keysAtom_.reportChanged();
                    break;
                  }
                  (F = k.next()), (I = C.next());
                }
            i.data_ = o;
          }),
          this
        );
      }),
      (e.toString = function () {
        return "[object ObservableMap]";
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.observe_ = function (n, i) {
        return sd(this, n);
      }),
      (e.intercept_ = function (n) {
        return id(this, n);
      }),
      Hu(r, [
        {
          key: "size",
          get: function () {
            return this.keysAtom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: Symbol.toStringTag,
          get: function () {
            return "Map";
          },
        },
      ])
    );
  })(),
  dl = cl("ObservableMap", _R);
function US(r) {
  return (r[Symbol.toStringTag] = "MapIterator"), Iw(r);
}
function WU(r) {
  if (Wu(r) || dl(r)) return r;
  if (Array.isArray(r)) return new Map(r);
  if (ao(r)) {
    var e = new Map();
    for (var t in r) e.set(t, r[t]);
    return e;
  } else return Ke(21, r);
}
var HU = {},
  yR = (function () {
    function r(t, n, i) {
      var s = this;
      n === void 0 && (n = Qa),
        i === void 0 && (i = "ObservableSet"),
        (this.name_ = void 0),
        (this[Te] = HU),
        (this.data_ = new Set()),
        (this.atom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.dehancer = void 0),
        (this.enhancer_ = void 0),
        (this.name_ = i),
        Ji(Set) || Ke(22),
        (this.enhancer_ = function (o, a) {
          return n(o, a, i);
        }),
        aa(function () {
          (s.atom_ = z3(s.name_)), t && s.replace(t);
        });
    }
    var e = r.prototype;
    return (
      (e.dehanceValue_ = function (n) {
        return this.dehancer !== void 0 ? this.dehancer(n) : n;
      }),
      (e.clear = function () {
        var n = this;
        $s(function () {
          J3(function () {
            for (var i = Kl(n.data_.values()), s; !(s = i()).done; ) {
              var o = s.value;
              n.delete(o);
            }
          });
        });
      }),
      (e.forEach = function (n, i) {
        for (var s = Kl(this), o; !(o = s()).done; ) {
          var a = o.value;
          n.call(i, a, a, this);
        }
      }),
      (e.add = function (n) {
        var i = this;
        if ((this.atom_, _i(this))) {
          var s = yi(this, { type: Mo, object: this, newValue: n });
          if (!s) return this;
        }
        if (!this.has(n)) {
          $s(function () {
            i.data_.add(i.enhancer_(n, void 0)), i.atom_.reportChanged();
          });
          var o = !1,
            a = Xi(this),
            l =
              a || o
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: Mo,
                    object: this,
                    newValue: n,
                  }
                : null;
          a && Yi(this, l);
        }
        return this;
      }),
      (e.delete = function (n) {
        var i = this;
        if (_i(this)) {
          var s = yi(this, { type: Op, object: this, oldValue: n });
          if (!s) return !1;
        }
        if (this.has(n)) {
          var o = !1,
            a = Xi(this),
            l =
              a || o
                ? {
                    observableKind: "set",
                    debugObjectName: this.name_,
                    type: Op,
                    object: this,
                    oldValue: n,
                  }
                : null;
          return (
            $s(function () {
              i.atom_.reportChanged(), i.data_.delete(n);
            }),
            a && Yi(this, l),
            !0
          );
        }
        return !1;
      }),
      (e.has = function (n) {
        return (
          this.atom_.reportObserved(), this.data_.has(this.dehanceValue_(n))
        );
      }),
      (e.entries = function () {
        var n = 0,
          i = Array.from(this.keys()),
          s = Array.from(this.values());
        return GS({
          next: function () {
            var a = n;
            return (
              (n += 1),
              a < s.length
                ? { value: [i[a], s[a]], done: !1 }
                : { value: void 0, done: !0 }
            );
          },
        });
      }),
      (e.keys = function () {
        return this.values();
      }),
      (e.values = function () {
        this.atom_.reportObserved();
        var n = this,
          i = 0,
          s = Array.from(this.data_.values());
        return GS({
          next: function () {
            return i < s.length
              ? { value: n.dehanceValue_(s[i++]), done: !1 }
              : { value: void 0, done: !0 };
          },
        });
      }),
      (e.intersection = function (n) {
        if (js(n) && !ps(n)) return n.intersection(this);
        var i = new Set(this);
        return i.intersection(n);
      }),
      (e.union = function (n) {
        if (js(n) && !ps(n)) return n.union(this);
        var i = new Set(this);
        return i.union(n);
      }),
      (e.difference = function (n) {
        return new Set(this).difference(n);
      }),
      (e.symmetricDifference = function (n) {
        if (js(n) && !ps(n)) return n.symmetricDifference(this);
        var i = new Set(this);
        return i.symmetricDifference(n);
      }),
      (e.isSubsetOf = function (n) {
        return new Set(this).isSubsetOf(n);
      }),
      (e.isSupersetOf = function (n) {
        return new Set(this).isSupersetOf(n);
      }),
      (e.isDisjointFrom = function (n) {
        if (js(n) && !ps(n)) return n.isDisjointFrom(this);
        var i = new Set(this);
        return i.isDisjointFrom(n);
      }),
      (e.replace = function (n) {
        var i = this;
        return (
          ps(n) && (n = new Set(n)),
          $s(function () {
            Array.isArray(n)
              ? (i.clear(),
                n.forEach(function (s) {
                  return i.add(s);
                }))
              : js(n)
              ? (i.clear(),
                n.forEach(function (s) {
                  return i.add(s);
                }))
              : n != null && Ke("Cannot initialize set from " + n);
          }),
          this
        );
      }),
      (e.observe_ = function (n, i) {
        return sd(this, n);
      }),
      (e.intercept_ = function (n) {
        return id(this, n);
      }),
      (e.toJSON = function () {
        return Array.from(this);
      }),
      (e.toString = function () {
        return "[object ObservableSet]";
      }),
      (e[Symbol.iterator] = function () {
        return this.values();
      }),
      Hu(r, [
        {
          key: "size",
          get: function () {
            return this.atom_.reportObserved(), this.data_.size;
          },
        },
        {
          key: Symbol.toStringTag,
          get: function () {
            return "Set";
          },
        },
      ])
    );
  })(),
  ps = cl("ObservableSet", yR);
function GS(r) {
  return (r[Symbol.toStringTag] = "SetIterator"), Iw(r);
}
var jS = Object.create(null),
  $S = "remove",
  vR = (function () {
    function r(t, n, i, s) {
      n === void 0 && (n = new Map()),
        s === void 0 && (s = j4),
        (this.target_ = void 0),
        (this.values_ = void 0),
        (this.name_ = void 0),
        (this.defaultAnnotation_ = void 0),
        (this.keysAtom_ = void 0),
        (this.changeListeners_ = void 0),
        (this.interceptors_ = void 0),
        (this.proxy_ = void 0),
        (this.isPlainObject_ = void 0),
        (this.appliedAnnotations_ = void 0),
        (this.pendingKeys_ = void 0),
        (this.target_ = t),
        (this.values_ = n),
        (this.name_ = i),
        (this.defaultAnnotation_ = s),
        (this.keysAtom_ = new oa("ObservableObject.keys")),
        (this.isPlainObject_ = ao(this.target_));
    }
    var e = r.prototype;
    return (
      (e.getObservablePropValue_ = function (n) {
        return this.values_.get(n).get();
      }),
      (e.setObservablePropValue_ = function (n, i) {
        var s = this.values_.get(n);
        if (s instanceof es) return s.set(i), !0;
        if (_i(this)) {
          var o = yi(this, {
            type: Ss,
            object: this.proxy_ || this.target_,
            name: n,
            newValue: i,
          });
          if (!o) return null;
          i = o.newValue;
        }
        if (((i = s.prepareNewValue_(i)), i !== oe.UNCHANGED)) {
          var a = Xi(this),
            l = !1,
            u =
              a || l
                ? {
                    type: Ss,
                    observableKind: "object",
                    debugObjectName: this.name_,
                    object: this.proxy_ || this.target_,
                    oldValue: s.value_,
                    name: n,
                    newValue: i,
                  }
                : null;
          s.setNewValue_(i), a && Yi(this, u);
        }
        return !0;
      }),
      (e.get_ = function (n) {
        return (
          oe.trackingDerivation && !Ks(this.target_, n) && this.has_(n),
          this.target_[n]
        );
      }),
      (e.set_ = function (n, i, s) {
        return (
          s === void 0 && (s = !1),
          Ks(this.target_, n)
            ? this.values_.has(n)
              ? this.setObservablePropValue_(n, i)
              : s
              ? Reflect.set(this.target_, n, i)
              : ((this.target_[n] = i), !0)
            : this.extend_(
                n,
                { value: i, enumerable: !0, writable: !0, configurable: !0 },
                this.defaultAnnotation_,
                s
              )
        );
      }),
      (e.has_ = function (n) {
        if (!oe.trackingDerivation) return n in this.target_;
        this.pendingKeys_ || (this.pendingKeys_ = new Map());
        var i = this.pendingKeys_.get(n);
        return (
          i ||
            ((i = new Na(n in this.target_, Zm, "ObservableObject.key?", !1)),
            this.pendingKeys_.set(n, i)),
          i.get()
        );
      }),
      (e.make_ = function (n, i) {
        if ((i === !0 && (i = this.defaultAnnotation_), i !== !1)) {
          if (!(n in this.target_)) {
            var s;
            if ((s = this.target_[_s]) != null && s[n]) return;
            Ke(1, i.annotationType_, this.name_ + "." + n.toString());
          }
          for (var o = this.target_; o && o !== Km; ) {
            var a = Ap(o, n);
            if (a) {
              var l = i.make_(this, n, a, o);
              if (l === 0) return;
              if (l === 1) break;
            }
            o = Object.getPrototypeOf(o);
          }
          WS(this, i, n);
        }
      }),
      (e.extend_ = function (n, i, s, o) {
        if (
          (o === void 0 && (o = !1),
          s === !0 && (s = this.defaultAnnotation_),
          s === !1)
        )
          return this.defineProperty_(n, i, o);
        var a = s.extend_(this, n, i, o);
        return a && WS(this, s, n), a;
      }),
      (e.defineProperty_ = function (n, i, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          wi();
          var o = this.delete_(n);
          if (!o) return o;
          if (_i(this)) {
            var a = yi(this, {
              object: this.proxy_ || this.target_,
              name: n,
              type: Mo,
              newValue: i.value,
            });
            if (!a) return null;
            var l = a.newValue;
            i.value !== l && (i = Za({}, i, { value: l }));
          }
          if (s) {
            if (!Reflect.defineProperty(this.target_, n, i)) return !1;
          } else ws(this.target_, n, i);
          this.notifyPropertyAddition_(n, i.value);
        } finally {
          bi();
        }
        return !0;
      }),
      (e.defineObservableProperty_ = function (n, i, s, o) {
        o === void 0 && (o = !1), this.keysAtom_;
        try {
          wi();
          var a = this.delete_(n);
          if (!a) return a;
          if (_i(this)) {
            var l = yi(this, {
              object: this.proxy_ || this.target_,
              name: n,
              type: Mo,
              newValue: i,
            });
            if (!l) return null;
            i = l.newValue;
          }
          var u = zS(n),
            c = {
              configurable: oe.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !0,
              get: u.get,
              set: u.set,
            };
          if (o) {
            if (!Reflect.defineProperty(this.target_, n, c)) return !1;
          } else ws(this.target_, n, c);
          var h = new Na(i, s, "ObservableObject.key", !1);
          this.values_.set(n, h), this.notifyPropertyAddition_(n, h.value_);
        } finally {
          bi();
        }
        return !0;
      }),
      (e.defineComputedProperty_ = function (n, i, s) {
        s === void 0 && (s = !1), this.keysAtom_;
        try {
          wi();
          var o = this.delete_(n);
          if (!o) return o;
          if (_i(this)) {
            var a = yi(this, {
              object: this.proxy_ || this.target_,
              name: n,
              type: Mo,
              newValue: void 0,
            });
            if (!a) return null;
          }
          i.name || (i.name = "ObservableObject.key"),
            (i.context = this.proxy_ || this.target_);
          var l = zS(n),
            u = {
              configurable: oe.safeDescriptors ? this.isPlainObject_ : !0,
              enumerable: !1,
              get: l.get,
              set: l.set,
            };
          if (s) {
            if (!Reflect.defineProperty(this.target_, n, u)) return !1;
          } else ws(this.target_, n, u);
          this.values_.set(n, new es(i)),
            this.notifyPropertyAddition_(n, void 0);
        } finally {
          bi();
        }
        return !0;
      }),
      (e.delete_ = function (n, i) {
        if ((i === void 0 && (i = !1), this.keysAtom_, !Ks(this.target_, n)))
          return !0;
        if (_i(this)) {
          var s = yi(this, {
            object: this.proxy_ || this.target_,
            name: n,
            type: $S,
          });
          if (!s) return null;
        }
        try {
          var o;
          wi();
          var a = Xi(this),
            l = !1,
            u = this.values_.get(n),
            c = void 0;
          if (!u && (a || l)) {
            var h;
            c = (h = Ap(this.target_, n)) == null ? void 0 : h.value;
          }
          if (i) {
            if (!Reflect.deleteProperty(this.target_, n)) return !1;
          } else delete this.target_[n];
          if (
            (u &&
              (this.values_.delete(n),
              u instanceof Na && (c = u.value_),
              sR(u)),
            this.keysAtom_.reportChanged(),
            (o = this.pendingKeys_) == null ||
              (o = o.get(n)) == null ||
              o.set(n in this.target_),
            a || l)
          ) {
            var d = {
              type: $S,
              observableKind: "object",
              object: this.proxy_ || this.target_,
              debugObjectName: this.name_,
              oldValue: c,
              name: n,
            };
            a && Yi(this, d);
          }
        } finally {
          bi();
        }
        return !0;
      }),
      (e.observe_ = function (n, i) {
        return sd(this, n);
      }),
      (e.intercept_ = function (n) {
        return id(this, n);
      }),
      (e.notifyPropertyAddition_ = function (n, i) {
        var s,
          o = Xi(this),
          a = !1;
        if (o || a) {
          var l =
            o || a
              ? {
                  type: Mo,
                  observableKind: "object",
                  debugObjectName: this.name_,
                  object: this.proxy_ || this.target_,
                  name: n,
                  newValue: i,
                }
              : null;
          o && Yi(this, l);
        }
        (s = this.pendingKeys_) == null || (s = s.get(n)) == null || s.set(!0),
          this.keysAtom_.reportChanged();
      }),
      (e.ownKeys_ = function () {
        return this.keysAtom_.reportObserved(), Eu(this.target_);
      }),
      (e.keys_ = function () {
        return this.keysAtom_.reportObserved(), Object.keys(this.target_);
      }),
      r
    );
  })();
function fl(r, e) {
  var t;
  if (Ks(r, Te)) return r;
  var n = (t = e == null ? void 0 : e.name) != null ? t : "ObservableObject",
    i = new vR(r, new Map(), String(n), Q4(e));
  return ed(r, Te, i), r;
}
var VU = cl("ObservableObjectAdministration", vR);
function zS(r) {
  return (
    jS[r] ||
    (jS[r] = {
      get: function () {
        return this[Te].getObservablePropValue_(r);
      },
      set: function (t) {
        return this[Te].setObservablePropValue_(r, t);
      },
    })
  );
}
function rg(r) {
  return qm(r) ? VU(r[Te]) : !1;
}
function WS(r, e, t) {
  var n;
  (n = r.target_[_s]) == null || delete n[t];
}
var XU = wR(0),
  YU = (function () {
    var r = !1,
      e = {};
    return (
      Object.defineProperty(e, "0", {
        set: function () {
          r = !0;
        },
      }),
      (Object.create(e)[0] = 1),
      r === !1
    );
  })(),
  B_ = 0,
  xR = function () {};
function KU(r, e) {
  Object.setPrototypeOf
    ? Object.setPrototypeOf(r.prototype, e)
    : r.prototype.__proto__ !== void 0
    ? (r.prototype.__proto__ = e)
    : (r.prototype = e);
}
KU(xR, Array.prototype);
var Bw = (function (r) {
  function e(n, i, s, o) {
    var a;
    return (
      s === void 0 && (s = "ObservableArray"),
      o === void 0 && (o = !1),
      (a = r.call(this) || this),
      aa(function () {
        var l = new Mw(s, i, o, !0);
        (l.proxy_ = a),
          U3(a, Te, l),
          n && n.length && a.spliceWithArray(0, 0, n),
          YU && Object.defineProperty(a, "0", XU);
      }),
      a
    );
  }
  $3(e, r);
  var t = e.prototype;
  return (
    (t.concat = function () {
      this[Te].atom_.reportObserved();
      for (var i = arguments.length, s = new Array(i), o = 0; o < i; o++)
        s[o] = arguments[o];
      return Array.prototype.concat.apply(
        this.slice(),
        s.map(function (a) {
          return tg(a) ? a.slice() : a;
        })
      );
    }),
    (t[Symbol.iterator] = function () {
      var n = this,
        i = 0;
      return Iw({
        next: function () {
          return i < n.length
            ? { value: n[i++], done: !1 }
            : { done: !0, value: void 0 };
        },
      });
    }),
    Hu(e, [
      {
        key: "length",
        get: function () {
          return this[Te].getArrayLength_();
        },
        set: function (i) {
          this[Te].setArrayLength_(i);
        },
      },
      {
        key: Symbol.toStringTag,
        get: function () {
          return "Array";
        },
      },
    ])
  );
})(xR);
Object.entries(Bp).forEach(function (r) {
  var e = r[0],
    t = r[1];
  e !== "concat" && ed(Bw.prototype, e, t);
});
function wR(r) {
  return {
    enumerable: !1,
    configurable: !0,
    get: function () {
      return this[Te].get_(r);
    },
    set: function (t) {
      this[Te].set_(r, t);
    },
  };
}
function qU(r) {
  ws(Bw.prototype, "" + r, wR(r));
}
function bR(r) {
  if (r > B_) {
    for (var e = B_; e < r + 100; e++) qU(e);
    B_ = r;
  }
}
bR(1e3);
function ZU(r, e, t) {
  return new Bw(r, e, t);
}
function Ip(r, e) {
  if (typeof r == "object" && r !== null) {
    if (tg(r)) return e !== void 0 && Ke(23), r[Te].atom_;
    if (ps(r)) return r.atom_;
    if (dl(r)) {
      if (e === void 0) return r.keysAtom_;
      var t = r.data_.get(e) || r.hasMap_.get(e);
      return t || Ke(25, e, dv(r)), t;
    }
    if (rg(r)) {
      if (!e) return Ke(26);
      var n = r[Te].values_.get(e);
      return n || Ke(27, e, dv(r)), n;
    }
    if (Aw(r) || eg(r) || Mp(r)) return r;
  } else if (Ji(r) && Mp(r[Te])) return r[Te];
  Ke(28);
}
function QU(r, e) {
  if ((r || Ke(29), Aw(r) || eg(r) || Mp(r) || dl(r) || ps(r))) return r;
  if (r[Te]) return r[Te];
  Ke(24, r);
}
function dv(r, e) {
  var t;
  if (e !== void 0) t = Ip(r, e);
  else {
    if (kh(r)) return r.name;
    rg(r) || dl(r) || ps(r) ? (t = QU(r)) : (t = Ip(r));
  }
  return t.name_;
}
function aa(r) {
  var e = hl(),
    t = Cw(!0);
  wi();
  try {
    return r();
  } finally {
    bi(), Rw(t), qs(e);
  }
}
var HS = Km.toString;
function Ow(r, e, t) {
  return t === void 0 && (t = -1), fv(r, e, t);
}
function fv(r, e, t, n, i) {
  if (r === e) return r !== 0 || 1 / r === 1 / e;
  if (r == null || e == null) return !1;
  if (r !== r) return e !== e;
  var s = typeof r;
  if (s !== "function" && s !== "object" && typeof e != "object") return !1;
  var o = HS.call(r);
  if (o !== HS.call(e)) return !1;
  switch (o) {
    case "[object RegExp]":
    case "[object String]":
      return "" + r == "" + e;
    case "[object Number]":
      return +r != +r ? +e != +e : +r == 0 ? 1 / +r === 1 / e : +r == +e;
    case "[object Date]":
    case "[object Boolean]":
      return +r == +e;
    case "[object Symbol]":
      return (
        typeof Symbol < "u" && Symbol.valueOf.call(r) === Symbol.valueOf.call(e)
      );
    case "[object Map]":
    case "[object Set]":
      t >= 0 && t++;
      break;
  }
  (r = VS(r)), (e = VS(e));
  var a = o === "[object Array]";
  if (!a) {
    if (typeof r != "object" || typeof e != "object") return !1;
    var l = r.constructor,
      u = e.constructor;
    if (
      l !== u &&
      !(Ji(l) && l instanceof l && Ji(u) && u instanceof u) &&
      "constructor" in r &&
      "constructor" in e
    )
      return !1;
  }
  if (t === 0) return !1;
  t < 0 && (t = -1), (n = n || []), (i = i || []);
  for (var c = n.length; c--; ) if (n[c] === r) return i[c] === e;
  if ((n.push(r), i.push(e), a)) {
    if (((c = r.length), c !== e.length)) return !1;
    for (; c--; ) if (!fv(r[c], e[c], t - 1, n, i)) return !1;
  } else {
    var h = Object.keys(r),
      d;
    if (((c = h.length), Object.keys(e).length !== c)) return !1;
    for (; c--; )
      if (((d = h[c]), !(Ks(e, d) && fv(r[d], e[d], t - 1, n, i)))) return !1;
  }
  return n.pop(), i.pop(), !0;
}
function VS(r) {
  return tg(r)
    ? r.slice()
    : Wu(r) || dl(r) || js(r) || ps(r)
    ? Array.from(r.entries())
    : r;
}
var XS,
  JU = ((XS = Ym().Iterator) == null ? void 0 : XS.prototype) || {};
function Iw(r) {
  return (r[Symbol.iterator] = e6), Object.assign(Object.create(JU), r);
}
function e6() {
  return this;
}
["Symbol", "Map", "Set"].forEach(function (r) {
  var e = Ym();
  typeof e[r] > "u" &&
    Ke("MobX requires global '" + r + "' to be available or polyfilled");
});
typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ == "object" &&
  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
    spy: gU,
    extras: { getDebugName: dv },
    $mobx: Te,
  });
class t6 {
  constructor() {
    he(this, "z", 0);
    he(this, "windows", {
      state: "closed",
      roadmap: "closed",
      whitepaper: "closed",
      tokenomics: "closed",
      milestones: "closed",
      memes: "closed",
      cantClose: "closed",
      player: window.innerWidth <= 800 ? "closed" : "opened",
      shutdown: "closed",
      TTT: "closed",
      paint: "closed",
      memeGen: "closed",
      airdrop: "closed",
      minesweeper: "closed",
      changeWallpaper: "closed",
      staking: "closed",
      wack: "closed",
      thimbles: "closed",
      flappy: "closed",
      flappyLeaderboard: "closed",
      chat: "closed",
    });
    ts(this, { windows: gr });
  }
  getMaxZ() {
    return (this.z = this.z + 1), this.z;
  }
  async setWindowStatus(e, t) {
    this.windows[e] = t;
  }
  getWindowStatus(e) {
    return this.windows[e];
  }
  getOpenedWindows() {
    return Object.entries(this.windows)
      .filter(([t, n]) => n !== "closed" && !["", ""].includes(t))
      .map(([t]) => t);
  }
}
const ue = new t6();
if (!K.useState)
  throw new Error("mobx-react-lite requires React with Hooks support");
if (!LU)
  throw new Error(
    "mobx-react-lite@3 requires mobx at least version 6 to be available"
  );
function r6(r) {
  r();
}
function n6(r) {
  r || (r = r6), RU({ reactionScheduler: r });
}
function i6(r) {
  return DU(r);
}
var s6 = 1e4,
  o6 = 1e4,
  a6 = (function () {
    function r(e) {
      var t = this;
      Object.defineProperty(this, "finalize", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: e,
      }),
        Object.defineProperty(this, "registrations", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: new Map(),
        }),
        Object.defineProperty(this, "sweepTimeout", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: void 0,
        }),
        Object.defineProperty(this, "sweep", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function (n) {
            n === void 0 && (n = s6),
              clearTimeout(t.sweepTimeout),
              (t.sweepTimeout = void 0);
            var i = Date.now();
            t.registrations.forEach(function (s, o) {
              i - s.registeredAt >= n &&
                (t.finalize(s.value), t.registrations.delete(o));
            }),
              t.registrations.size > 0 && t.scheduleSweep();
          },
        }),
        Object.defineProperty(this, "finalizeAllImmediately", {
          enumerable: !0,
          configurable: !0,
          writable: !0,
          value: function () {
            t.sweep(0);
          },
        });
    }
    return (
      Object.defineProperty(r.prototype, "register", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e, t, n) {
          this.registrations.set(n, { value: t, registeredAt: Date.now() }),
            this.scheduleSweep();
        },
      }),
      Object.defineProperty(r.prototype, "unregister", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function (e) {
          this.registrations.delete(e);
        },
      }),
      Object.defineProperty(r.prototype, "scheduleSweep", {
        enumerable: !1,
        configurable: !0,
        writable: !0,
        value: function () {
          this.sweepTimeout === void 0 &&
            (this.sweepTimeout = setTimeout(this.sweep, o6));
        },
      }),
      r
    );
  })(),
  l6 = typeof FinalizationRegistry < "u" ? FinalizationRegistry : a6,
  pv = new l6(function (r) {
    var e;
    (e = r.reaction) === null || e === void 0 || e.dispose(),
      (r.reaction = null);
  }),
  SR = { exports: {} },
  ER = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var ku = K;
function u6(r, e) {
  return (r === e && (r !== 0 || 1 / r === 1 / e)) || (r !== r && e !== e);
}
var c6 = typeof Object.is == "function" ? Object.is : u6,
  h6 = ku.useState,
  d6 = ku.useEffect,
  f6 = ku.useLayoutEffect,
  p6 = ku.useDebugValue;
function m6(r, e) {
  var t = e(),
    n = h6({ inst: { value: t, getSnapshot: e } }),
    i = n[0].inst,
    s = n[1];
  return (
    f6(
      function () {
        (i.value = t), (i.getSnapshot = e), O_(i) && s({ inst: i });
      },
      [r, t, e]
    ),
    d6(
      function () {
        return (
          O_(i) && s({ inst: i }),
          r(function () {
            O_(i) && s({ inst: i });
          })
        );
      },
      [r]
    ),
    p6(t),
    t
  );
}
function O_(r) {
  var e = r.getSnapshot;
  r = r.value;
  try {
    var t = e();
    return !c6(r, t);
  } catch {
    return !0;
  }
}
function g6(r, e) {
  return e();
}
var _6 =
  typeof window > "u" ||
  typeof window.document > "u" ||
  typeof window.document.createElement > "u"
    ? g6
    : m6;
ER.useSyncExternalStore =
  ku.useSyncExternalStore !== void 0 ? ku.useSyncExternalStore : _6;
SR.exports = ER;
var y6 = SR.exports;
function YS(r) {
  r.reaction = new lo("observer".concat(r.name), function () {
    var e;
    (r.stateVersion = Symbol()),
      (e = r.onStoreChange) === null || e === void 0 || e.call(r);
  });
}
function v6(r, e) {
  e === void 0 && (e = "observed");
  var t = cy.useRef(null);
  if (!t.current) {
    var n = {
      reaction: null,
      onStoreChange: null,
      stateVersion: Symbol(),
      name: e,
      subscribe: function (a) {
        return (
          pv.unregister(n),
          (n.onStoreChange = a),
          n.reaction || (YS(n), (n.stateVersion = Symbol())),
          function () {
            var l;
            (n.onStoreChange = null),
              (l = n.reaction) === null || l === void 0 || l.dispose(),
              (n.reaction = null);
          }
        );
      },
      getSnapshot: function () {
        return n.stateVersion;
      },
    };
    t.current = n;
  }
  var i = t.current;
  i.reaction || (YS(i), pv.register(t, i, i)),
    cy.useDebugValue(i.reaction, i6),
    y6.useSyncExternalStore(i.subscribe, i.getSnapshot, i.getSnapshot);
  var s, o;
  if (
    (i.reaction.track(function () {
      try {
        s = r();
      } catch (a) {
        o = a;
      }
    }),
    o)
  )
    throw o;
  return s;
}
var I_,
  F_,
  TR = typeof Symbol == "function" && Symbol.for,
  x6 =
    (F_ =
      (I_ = Object.getOwnPropertyDescriptor(function () {}, "name")) === null ||
      I_ === void 0
        ? void 0
        : I_.configurable) !== null && F_ !== void 0
      ? F_
      : !1,
  KS = TR
    ? Symbol.for("react.forward_ref")
    : typeof K.forwardRef == "function" &&
      K.forwardRef(function (r) {
        return null;
      }).$$typeof,
  qS = TR
    ? Symbol.for("react.memo")
    : typeof K.memo == "function" &&
      K.memo(function (r) {
        return null;
      }).$$typeof;
function mn(r, e) {
  var t;
  if (qS && r.$$typeof === qS)
    throw new Error(
      "[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you."
    );
  var n = (t = void 0) !== null && t !== void 0 ? t : !1,
    i = r,
    s = r.displayName || r.name;
  if (
    KS &&
    r.$$typeof === KS &&
    ((n = !0), (i = r.render), typeof i != "function")
  )
    throw new Error(
      "[mobx-react-lite] `render` property of ForwardRef was not a function"
    );
  var o = function (a, l) {
    return v6(function () {
      return i(a, l);
    }, s);
  };
  return (
    (o.displayName = r.displayName),
    x6 &&
      Object.defineProperty(o, "name", {
        value: r.name,
        writable: !0,
        configurable: !0,
      }),
    r.contextTypes && (o.contextTypes = r.contextTypes),
    n && (o = K.forwardRef(o)),
    (o = K.memo(o)),
    b6(r, o),
    o
  );
}
var w6 = { $$typeof: !0, render: !0, compare: !0, type: !0, displayName: !0 };
function b6(r, e) {
  Object.keys(r).forEach(function (t) {
    w6[t] || Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));
  });
}
var N_;
n6(M3.unstable_batchedUpdates);
N_ = pv.finalizeAllImmediately;
class S6 {
  constructor() {
    he(this, "wallet", localStorage.getItem("walletConnected") || "");
    he(this, "getProvider", () => {
      var e;
      if ("phantom" in window) {
        const t = (e = window.phantom) == null ? void 0 : e.solana;
        if (t != null && t.isPhantom) return t;
      }
      return !1;
    });
    he(this, "connectWallet", async () => {
      const e = this.getProvider();
      if ((e || window.open("https://phantom.app/", "_blank"), !this.wallet)) {
        const t = await e.connect();
        (this.wallet = t.publicKey.toString()),
          localStorage.setItem("walletConnected", t.publicKey.toString());
      }
    });
    he(this, "disconnectWallet", async () => {
      const e = this.getProvider();
      e || window.open("https://phantom.app/", "_blank"),
        this.wallet &&
          (await e.disconnect(),
          (this.wallet = !1),
          localStorage.removeItem("walletConnected"));
    });
    he(this, "changeWalletConnectedStatus", async () => {
      const e = this.getProvider();
      if ((e || window.open("https://phantom.app/", "_blank"), this.wallet))
        await e.disconnect(),
          (this.wallet = !1),
          localStorage.removeItem("walletConnected");
      else {
        const t = await e.connect();
        (this.wallet = t.publicKey.toString()),
          localStorage.setItem("walletConnected", t.publicKey.toString());
      }
    });
    ts(this);
  }
}
const Re = new S6();
class E6 {
  constructor() {
    he(this, "wallpaper", localStorage.getItem("wallpaper") || 1);
    ts(this);
  }
}
const mv = new E6(),
  T6 = mn((r) => {
    const [e, t] = K.useState(+localStorage.getItem("wallpaper") || 2);
    return (
      K.useEffect(() => {
        t(+mv.wallpaper);
      }, [mv.wallpaper]),
      p.jsxs("div", {
        className: "Desctop",
        style: { backgroundImage: `url('/img/wallpapers/${e}-min.webp')` },
        children: [
          e === 1 &&
            p.jsx("div", {
              className: "Desctop_bg free_img",
              children: p.jsx("div", {
                className: "Desctop_bg_inner",
                children: p.jsx("video", {
                  autoPlay: !0,
                  muted: !0,
                  loop: !0,
                  playsInline: !0,
                  children: p.jsx("source", {
                    src: "/img/wallpapers/1.mp4",
                    type: "video/mp4",
                  }),
                }),
              }),
            }),
          p.jsxs("div", {
            className: "Desctop_links",
            children: [
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("state", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/stateLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "$knut State",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("roadmap", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/roadmapLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Roadmap",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("whitepaper", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/whitepaperLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Whitepaper",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("tokenomics", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/tokenomicsLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Tokenomics",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("milestones", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/milestonesLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Milestones",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("memes", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/memesLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Memes",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("TTT", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/TTTLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Tic-tac-toe",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("paint", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/paintLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "knutPaint",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("staking", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/stakingLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Staking",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("thimbles", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/thimblesLink.png",
                      className: "Desctop_link_img Desctop_link_img_ball",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Thimbles",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("flappy", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/flappyLink.png",
                      className: "Desctop_link_img Desctop_link_img_ball",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Flappy Knut",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("memeGen", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/memeGenLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Meme Generator",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("minesweeper", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/minesweeperLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Mine sweeper",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: () => {
                  ue.setWindowStatus("chart", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/chartLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Chart",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("snake", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/snakeLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Snake",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("wack", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/wackLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Wack-a-Knut",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  ue.setWindowStatus("team", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/teamLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Backers",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("chat", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/chatLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Chat",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Desctop_link",
                onClick: async () => {
                  Re.wallet || (await Re.connectWallet()),
                    ue.setWindowStatus("calendar", "opened");
                },
                children: [
                  p.jsx("div", {
                    className: "Desctop_link_img_wrapper",
                    children: p.jsx("img", {
                      src: "/img/links/calendarLink.png",
                      className: "Desctop_link_img",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_arrow free_img",
                    children: p.jsx("img", {
                      src: "/img/links/arrow.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: "Desctop_link_text",
                    children: "Giveaway Calendar",
                  }),
                ],
              }),
            ],
          }),
        ],
      })
    );
  }),
  k6 = ({ onClick: r }) =>
    p.jsx("div", {
      className: "Pusk_wrapper free_img",
      onClick: r,
      children: p.jsxs("div", {
        className: "Pusk window",
        children: [
          p.jsxs("div", {
            className: "Pusk_name",
            children: [
              p.jsx("div", {
                className: "Pusk_name_decor free_img",
                children: p.jsx("div", { className: "Pusk_name_decor_inner" }),
              }),
              p.jsx("div", {
                className: "Pusk_name_text free_img",
                children: "$knut",
              }),
            ],
          }),
          p.jsxs("div", {
            className: "Pusk_links",
            children: [
              p.jsxs("div", {
                className: "Pusk_top",
                children: [
                  p.jsxs("div", {
                    className: "Pusk_link Pusk_link_header",
                    children: [
                      p.jsx("div", { className: "Pusk_link_del" }),
                      "Features",
                    ],
                  }),
                  p.jsx("div", { className: "Pusk_hr" }),
                  p.jsxs("a", {
                    className: "Pusk_link",
                    onClick: () => {
                      ue.setWindowStatus("changeWallpaper", "opened");
                    },
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/links/changeWallpaperLink.png",
                          alt: "decor",
                        }),
                      }),
                      "Change wallpaper",
                    ],
                  }),
                  p.jsxs("a", {
                    className: "Pusk_link",
                    onClick: () => {
                      Re.connectWallet(), ue.setWindowStatus("chat", "opened");
                    },
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/links/chatLink.png",
                          alt: "decor",
                        }),
                      }),
                      "Chat",
                    ],
                  }),
                  p.jsxs("div", {
                    className: "Pusk_link Pusk_link_header",
                    children: [
                      p.jsx("div", { className: "Pusk_link_del" }),
                      "Socials",
                    ],
                  }),
                  p.jsx("div", { className: "Pusk_hr" }),
                  p.jsxs("a", {
                    href: "https://x.com/knutfanpage?s=21&t=H7dk8e7qY0TSyg4v3SbSFw",
                    target: "_blank",
                    className: "Pusk_link",
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/media/x.png",
                          alt: "decor",
                        }),
                      }),
                      "Twitter",
                    ],
                  }),
                  p.jsxs("a", {
                    href: "https://t.me/knutonsol",
                    target: "_blank",
                    className: "Pusk_link",
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/media/tg.png",
                          alt: "decor",
                        }),
                      }),
                      "Telegram",
                    ],
                  }),
                  p.jsxs("a", {
                    href: "https://dexscreener.com/solana/8ztb9xdw33yjhfwlxc9u9jox6sbd4x2rzsxm5g1z78e3",
                    target: "_blank",
                    className: "Pusk_link",
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/media/bird.png",
                          alt: "decor",
                        }),
                      }),
                      "DEXscreener",
                    ],
                  }),
                  p.jsxs("a", {
                    href: "https://discord.gg/kSsdkkHmNU",
                    target: "_blank",
                    className: "Pusk_link",
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/media/bird.png",
                          alt: "decor",
                        }),
                      }),
                      "Discord",
                    ],
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Pusk_bot",
                children: [
                  p.jsx("div", { className: "Pusk_hr" }),
                  p.jsxs("div", {
                    className: "Pusk_link",
                    onClick: () => {
                      ue.setWindowStatus("shutdown", "opened");
                    },
                    children: [
                      p.jsx("div", {
                        className: "Pusk_link_img",
                        children: p.jsx("img", {
                          src: "/img/links/shutdownLink.png",
                          alt: "decor",
                        }),
                      }),
                      "Shut Down",
                    ],
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    }),
  A6 = (r) => {
    const [e, t] = K.useState(!1),
      [n, i] = K.useState(ZS());
    let s;
    return (
      K.useEffect(
        () => (
          (s = setInterval(() => {
            i(ZS());
          }, 1e3)),
          () => {
            clearInterval(s);
          }
        ),
        []
      ),
      p.jsxs(p.Fragment, {
        children: [
          e &&
            p.jsx(k6, {
              onClick: () => {
                t(!1);
              },
            }),
          p.jsx("div", {
            className: "TaskPanel_wrapper free_img",
            children: p.jsxs("div", {
              className: "TaskPanel window",
              children: [
                p.jsxs("div", {
                  className: "TaskPanel_left",
                  children: [
                    p.jsxs("div", {
                      className: "TaskPanel_left_left",
                      children: [
                        p.jsxs("button", {
                          className: `TaskPanel_tab TaskPanel_win ${
                            e && "buttonPressed"
                          }`,
                          onClick: () => {
                            t(!e);
                          },
                          children: [
                            p.jsx("div", {
                              className: "TaskPanel_win_img_pc",
                              children: p.jsx("img", {
                                src: "/img/logo.png",
                                alt: "decor",
                              }),
                            }),
                            p.jsx("div", {
                              className: "TaskPanel_win_img_mob",
                              children: p.jsx("img", {
                                src: "/img/burger.png",
                                alt: "decor",
                              }),
                            }),
                            p.jsx("div", {
                              className: "TaskPanel_tab_text",
                              children: "$Knut",
                            }),
                          ],
                        }),
                        ue.getOpenedWindows().map((o, a) =>
                          p.jsxs(
                            "button",
                            {
                              className: "TaskPanel_tab",
                              onClick: () => {
                                ue.setWindowStatus(
                                  o,
                                  ue.getWindowStatus(o) === "opened"
                                    ? "minimized"
                                    : "opened"
                                );
                              },
                              children: [
                                p.jsx("img", {
                                  src: `/img/links/${o}Link.png`,
                                  alt: "decor",
                                }),
                                p.jsx("div", {
                                  className: "TaskPanel_tab_text",
                                  children: C6(o),
                                }),
                              ],
                            },
                            `tab-${a}`
                          )
                        ),
                      ],
                    }),
                    p.jsx("div", {
                      className: "TaskPanel_left_right",
                      children: p.jsxs("button", {
                        className: "TaskPanel_tab",
                        onClick: () => {
                          Re.changeWalletConnectedStatus();
                        },
                        children: [
                          p.jsx("img", {
                            src: "/img/phantom.png",
                            alt: "decor",
                          }),
                          p.jsx("div", {
                            className: "TaskPanel_tab_text TaskPanel_tab_ph",
                            children: Re.wallet
                              ? p.jsxs(p.Fragment, {
                                  children: [
                                    Re.wallet.slice(0, 4),
                                    "...",
                                    Re.wallet.slice(-4),
                                  ],
                                })
                              : p.jsx(p.Fragment, {
                                  children: "Connect Phantom",
                                }),
                          }),
                        ],
                      }),
                    }),
                  ],
                }),
                p.jsxs("div", {
                  className: "TaskPanel_right",
                  children: [
                    p.jsxs("div", {
                      className: "TaskPanel_media",
                      children: [
                        p.jsx("a", {
                          href: "https://x.com/knutfanpage?s=21&t=H7dk8e7qY0TSyg4v3SbSFw",
                          target: "_blank",
                          children: p.jsx("img", {
                            src: "/img/media/x.png",
                            alt: "decor",
                          }),
                        }),
                        p.jsx("a", {
                          href: "https://t.me/knutonsol",
                          target: "_blank",
                          children: p.jsx("img", {
                            src: "/img/media/tg.png",
                            alt: "decor",
                          }),
                        }),
                        p.jsx("a", {
                          href: "https://dexscreener.com/solana/8ztb9xdw33yjhfwlxc9u9jox6sbd4x2rzsxm5g1z78e3",
                          target: "_blank",
                          children: p.jsx("img", {
                            src: "/img/media/bird.png",
                            alt: "decor",
                          }),
                        }),
                        p.jsx("a", {
                          href: "https://discord.gg/kSsdkkHmNU",
                          target: "_blank",
                          children: p.jsx("img", {
                            src: "/img/media/ds.png",
                            alt: "decor",
                          }),
                        }),
                      ],
                    }),
                    p.jsx("div", { className: "TaskPanel_vl" }),
                    p.jsxs("div", {
                      className: "TaskPanel_stat likeButton",
                      children: [
                        p.jsx("div", {
                          className: "TaskPanel_vol",
                          onClick: () => {
                            ue.setWindowStatus("player", "opened");
                          },
                          children: p.jsx("img", {
                            src: "/img/volume.png",
                            alt: "decor",
                          }),
                        }),
                        p.jsx("div", {
                          className: "TaskPanel_time",
                          children: n,
                        }),
                      ],
                    }),
                  ],
                }),
              ],
            }),
          }),
        ],
      })
    );
  },
  P6 = mn(A6);
function ZS() {
  const r = new Date();
  let e = r.getHours();
  const t = r.getMinutes().toString().padStart(2, "0"),
    n = e >= 12 ? "PM" : "AM";
  return (e = e % 12 || 12), `${e.toString().padStart(2, "0")}:${t} ${n}`;
}
function C6(r) {
  return r === "flappyLeaderboard" ||
    r === "wackLeaderboard" ||
    r === "snakeLeaderboard" ||
    r === "tttLeaderboard" ||
    r === "minesweeperLeaderboard"
    ? "Leaderboard"
    : r === "team"
    ? "Backers"
    : r && r.charAt(0).toUpperCase() + r.slice(1);
}
const pt = mn(({ children: r, type: e }) => {
  const [t, n] = K.useState(0),
    [i, s] = K.useState(0),
    [o, a] = K.useState(!1),
    l = K.useRef(null),
    u = K.useRef({ offsetX: 0, offsetY: 0 }),
    [c, h] = K.useState(0);
  K.useEffect(() => {
    d();
  }, []);
  const d = () => {
      h(ue.getMaxZ());
    },
    f = (_) => {
      a(!0),
        (u.current.offsetX = _.clientX - t),
        (u.current.offsetY = _.clientY - i),
        d();
    },
    m = (_) => {
      o && (n(_.clientX - u.current.offsetX), s(_.clientY - u.current.offsetY));
    },
    g = () => {
      a(!1);
    };
  return (
    cy.useEffect(
      () => (
        o
          ? (window.addEventListener("mousemove", m),
            window.addEventListener("mouseup", g))
          : (window.removeEventListener("mousemove", m),
            window.removeEventListener("mouseup", g)),
        () => {
          window.removeEventListener("mousemove", m),
            window.removeEventListener("mouseup", g);
        }
      ),
      [o]
    ),
    p.jsxs("div", {
      className: `Window window Window_${e}`,
      ref: l,
      style: { transform: `translate(${t}px, ${i}px)`, zIndex: c },
      onMouseDown: f,
      children: [
        p.jsxs("div", {
          className: "title-bar",
          children: [
            p.jsxs("div", {
              className: "title-bar-text",
              children: [
                p.jsx("img", { src: `/img/links/${e}Link.png`, alt: "decor" }),
                e === "state" && "$knut State",
                e === "roadmap" && "Roadmap",
                e === "whitepaper" && "Whitepaper",
                e === "tokenomics" && "Tokenomics",
                e === "milestones" && "Milestones",
                e === "memes" && "Memes",
                e === "shutdown" && "Shut Down",
                e === "cantClose" && "Error",
                e === "player" && "$knut player",
                e === "TTT" && "Tic-tac-toe",
                e === "paint" && "knutPaint",
                e === "memeGen" && "Meme Generator",
                e === "airdrop" && "Airdrop",
                e === "thimbles" && "Thimbles",
                e === "thimbleswm" && "Icebergs",
                e === "flappy" && "Flappy Knut",
                e === "flappyLeaderboard" && "Leaderboard",
                e === "snakeLeaderboard" && "Leaderboard",
                e === "wackLeaderboard" && "Leaderboard",
                e === "tttLeaderboard" && "Leaderboard",
                e === "minesweeperLeaderboard" && "Leaderboard",
                e === "bugreport" && "Bugreport",
                e === "minesweeper" && "Minesweeper",
                e === "chart" && "Chart",
                e === "snake" && "Snake",
                e === "changeWallpaper" && "Change wallpaper",
                e === "staking" && "Staking",
                e === "wack" && "Wack-a-Knut",
                e === "chat" && "Chat",
                e === "quests" && "Quests",
                e === "team" && "Backers",
                e === "calendar" && "Giveaway calendar",
              ],
            }),
            p.jsxs("div", {
              className: "title-bar-controls",
              children: [
                !["cantClose", "player", "shutdown"].includes(e) &&
                  p.jsxs(p.Fragment, {
                    children: [
                      p.jsx("button", {
                        "aria-label": "Minimize",
                        onClick: () => {
                          ue.setWindowStatus(e, "minimized");
                        },
                      }),
                      p.jsx("button", { "aria-label": "Maximize" }),
                    ],
                  }),
                p.jsx("button", {
                  "aria-label": "Close",
                  onClick: () => {
                    ue.setWindowStatus(e, "closed");
                  },
                }),
              ],
            }),
          ],
        }),
        p.jsx("div", {
          onMouseDown: (_) => {
            d(), _.stopPropagation();
          },
          children: r,
        }),
      ],
    })
  );
});
class R6 {
  constructor() {
    he(this, "currentBear", 1);
    ts(this);
  }
  incBear() {
    (this.currentBear < 9 || ue.getWindowStatus("state") === "opened") &&
      (this.currentBear = this.currentBear + 1);
  }
  killBear() {
    this.currentBear = 9;
  }
}
const Fp = new R6();
function kR(r, e) {
  return function () {
    return r.apply(e, arguments);
  };
}
const { toString: D6 } = Object.prototype,
  { getPrototypeOf: Fw } = Object,
  ng = ((r) => (e) => {
    const t = D6.call(e);
    return r[t] || (r[t] = t.slice(8, -1).toLowerCase());
  })(Object.create(null)),
  is = (r) => ((r = r.toLowerCase()), (e) => ng(e) === r),
  ig = (r) => (e) => typeof e === r,
  { isArray: Vu } = Array,
  Ph = ig("undefined");
function M6(r) {
  return (
    r !== null &&
    !Ph(r) &&
    r.constructor !== null &&
    !Ph(r.constructor) &&
    Kn(r.constructor.isBuffer) &&
    r.constructor.isBuffer(r)
  );
}
const AR = is("ArrayBuffer");
function B6(r) {
  let e;
  return (
    typeof ArrayBuffer < "u" && ArrayBuffer.isView
      ? (e = ArrayBuffer.isView(r))
      : (e = r && r.buffer && AR(r.buffer)),
    e
  );
}
const O6 = ig("string"),
  Kn = ig("function"),
  PR = ig("number"),
  sg = (r) => r !== null && typeof r == "object",
  I6 = (r) => r === !0 || r === !1,
  Vf = (r) => {
    if (ng(r) !== "object") return !1;
    const e = Fw(r);
    return (
      (e === null ||
        e === Object.prototype ||
        Object.getPrototypeOf(e) === null) &&
      !(Symbol.toStringTag in r) &&
      !(Symbol.iterator in r)
    );
  },
  F6 = is("Date"),
  N6 = is("File"),
  L6 = is("Blob"),
  U6 = is("FileList"),
  G6 = (r) => sg(r) && Kn(r.pipe),
  j6 = (r) => {
    let e;
    return (
      r &&
      ((typeof FormData == "function" && r instanceof FormData) ||
        (Kn(r.append) &&
          ((e = ng(r)) === "formdata" ||
            (e === "object" &&
              Kn(r.toString) &&
              r.toString() === "[object FormData]"))))
    );
  },
  $6 = is("URLSearchParams"),
  [z6, W6, H6, V6] = ["ReadableStream", "Request", "Response", "Headers"].map(
    is
  ),
  X6 = (r) =>
    r.trim ? r.trim() : r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
function od(r, e, { allOwnKeys: t = !1 } = {}) {
  if (r === null || typeof r > "u") return;
  let n, i;
  if ((typeof r != "object" && (r = [r]), Vu(r)))
    for (n = 0, i = r.length; n < i; n++) e.call(null, r[n], n, r);
  else {
    const s = t ? Object.getOwnPropertyNames(r) : Object.keys(r),
      o = s.length;
    let a;
    for (n = 0; n < o; n++) (a = s[n]), e.call(null, r[a], a, r);
  }
}
function CR(r, e) {
  e = e.toLowerCase();
  const t = Object.keys(r);
  let n = t.length,
    i;
  for (; n-- > 0; ) if (((i = t[n]), e === i.toLowerCase())) return i;
  return null;
}
const Da =
    typeof globalThis < "u"
      ? globalThis
      : typeof self < "u"
      ? self
      : typeof window < "u"
      ? window
      : global,
  RR = (r) => !Ph(r) && r !== Da;
function gv() {
  const { caseless: r } = (RR(this) && this) || {},
    e = {},
    t = (n, i) => {
      const s = (r && CR(e, i)) || i;
      Vf(e[s]) && Vf(n)
        ? (e[s] = gv(e[s], n))
        : Vf(n)
        ? (e[s] = gv({}, n))
        : Vu(n)
        ? (e[s] = n.slice())
        : (e[s] = n);
    };
  for (let n = 0, i = arguments.length; n < i; n++)
    arguments[n] && od(arguments[n], t);
  return e;
}
const Y6 = (r, e, t, { allOwnKeys: n } = {}) => (
    od(
      e,
      (i, s) => {
        t && Kn(i) ? (r[s] = kR(i, t)) : (r[s] = i);
      },
      { allOwnKeys: n }
    ),
    r
  ),
  K6 = (r) => (r.charCodeAt(0) === 65279 && (r = r.slice(1)), r),
  q6 = (r, e, t, n) => {
    (r.prototype = Object.create(e.prototype, n)),
      (r.prototype.constructor = r),
      Object.defineProperty(r, "super", { value: e.prototype }),
      t && Object.assign(r.prototype, t);
  },
  Z6 = (r, e, t, n) => {
    let i, s, o;
    const a = {};
    if (((e = e || {}), r == null)) return e;
    do {
      for (i = Object.getOwnPropertyNames(r), s = i.length; s-- > 0; )
        (o = i[s]), (!n || n(o, r, e)) && !a[o] && ((e[o] = r[o]), (a[o] = !0));
      r = t !== !1 && Fw(r);
    } while (r && (!t || t(r, e)) && r !== Object.prototype);
    return e;
  },
  Q6 = (r, e, t) => {
    (r = String(r)),
      (t === void 0 || t > r.length) && (t = r.length),
      (t -= e.length);
    const n = r.indexOf(e, t);
    return n !== -1 && n === t;
  },
  J6 = (r) => {
    if (!r) return null;
    if (Vu(r)) return r;
    let e = r.length;
    if (!PR(e)) return null;
    const t = new Array(e);
    for (; e-- > 0; ) t[e] = r[e];
    return t;
  },
  eG = (
    (r) => (e) =>
      r && e instanceof r
  )(typeof Uint8Array < "u" && Fw(Uint8Array)),
  tG = (r, e) => {
    const n = (r && r[Symbol.iterator]).call(r);
    let i;
    for (; (i = n.next()) && !i.done; ) {
      const s = i.value;
      e.call(r, s[0], s[1]);
    }
  },
  rG = (r, e) => {
    let t;
    const n = [];
    for (; (t = r.exec(e)) !== null; ) n.push(t);
    return n;
  },
  nG = is("HTMLFormElement"),
  iG = (r) =>
    r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g, function (t, n, i) {
      return n.toUpperCase() + i;
    }),
  QS = (
    ({ hasOwnProperty: r }) =>
    (e, t) =>
      r.call(e, t)
  )(Object.prototype),
  sG = is("RegExp"),
  DR = (r, e) => {
    const t = Object.getOwnPropertyDescriptors(r),
      n = {};
    od(t, (i, s) => {
      let o;
      (o = e(i, s, r)) !== !1 && (n[s] = o || i);
    }),
      Object.defineProperties(r, n);
  },
  oG = (r) => {
    DR(r, (e, t) => {
      if (Kn(r) && ["arguments", "caller", "callee"].indexOf(t) !== -1)
        return !1;
      const n = r[t];
      if (Kn(n)) {
        if (((e.enumerable = !1), "writable" in e)) {
          e.writable = !1;
          return;
        }
        e.set ||
          (e.set = () => {
            throw Error("Can not rewrite read-only method '" + t + "'");
          });
      }
    });
  },
  aG = (r, e) => {
    const t = {},
      n = (i) => {
        i.forEach((s) => {
          t[s] = !0;
        });
      };
    return Vu(r) ? n(r) : n(String(r).split(e)), t;
  },
  lG = () => {},
  uG = (r, e) => (r != null && Number.isFinite((r = +r)) ? r : e),
  L_ = "abcdefghijklmnopqrstuvwxyz",
  JS = "0123456789",
  MR = { DIGIT: JS, ALPHA: L_, ALPHA_DIGIT: L_ + L_.toUpperCase() + JS },
  cG = (r = 16, e = MR.ALPHA_DIGIT) => {
    let t = "";
    const { length: n } = e;
    for (; r--; ) t += e[(Math.random() * n) | 0];
    return t;
  };
function hG(r) {
  return !!(
    r &&
    Kn(r.append) &&
    r[Symbol.toStringTag] === "FormData" &&
    r[Symbol.iterator]
  );
}
const dG = (r) => {
    const e = new Array(10),
      t = (n, i) => {
        if (sg(n)) {
          if (e.indexOf(n) >= 0) return;
          if (!("toJSON" in n)) {
            e[i] = n;
            const s = Vu(n) ? [] : {};
            return (
              od(n, (o, a) => {
                const l = t(o, i + 1);
                !Ph(l) && (s[a] = l);
              }),
              (e[i] = void 0),
              s
            );
          }
        }
        return n;
      };
    return t(r, 0);
  },
  fG = is("AsyncFunction"),
  pG = (r) => r && (sg(r) || Kn(r)) && Kn(r.then) && Kn(r.catch),
  BR = ((r, e) =>
    r
      ? setImmediate
      : e
      ? ((t, n) => (
          Da.addEventListener(
            "message",
            ({ source: i, data: s }) => {
              i === Da && s === t && n.length && n.shift()();
            },
            !1
          ),
          (i) => {
            n.push(i), Da.postMessage(t, "*");
          }
        ))(`axios@${Math.random()}`, [])
      : (t) => setTimeout(t))(
    typeof setImmediate == "function",
    Kn(Da.postMessage)
  ),
  mG =
    typeof queueMicrotask < "u"
      ? queueMicrotask.bind(Da)
      : (typeof process < "u" && process.nextTick) || BR,
  Z = {
    isArray: Vu,
    isArrayBuffer: AR,
    isBuffer: M6,
    isFormData: j6,
    isArrayBufferView: B6,
    isString: O6,
    isNumber: PR,
    isBoolean: I6,
    isObject: sg,
    isPlainObject: Vf,
    isReadableStream: z6,
    isRequest: W6,
    isResponse: H6,
    isHeaders: V6,
    isUndefined: Ph,
    isDate: F6,
    isFile: N6,
    isBlob: L6,
    isRegExp: sG,
    isFunction: Kn,
    isStream: G6,
    isURLSearchParams: $6,
    isTypedArray: eG,
    isFileList: U6,
    forEach: od,
    merge: gv,
    extend: Y6,
    trim: X6,
    stripBOM: K6,
    inherits: q6,
    toFlatObject: Z6,
    kindOf: ng,
    kindOfTest: is,
    endsWith: Q6,
    toArray: J6,
    forEachEntry: tG,
    matchAll: rG,
    isHTMLForm: nG,
    hasOwnProperty: QS,
    hasOwnProp: QS,
    reduceDescriptors: DR,
    freezeMethods: oG,
    toObjectSet: aG,
    toCamelCase: iG,
    noop: lG,
    toFiniteNumber: uG,
    findKey: CR,
    global: Da,
    isContextDefined: RR,
    ALPHABET: MR,
    generateString: cG,
    isSpecCompliantForm: hG,
    toJSONObject: dG,
    isAsyncFn: fG,
    isThenable: pG,
    setImmediate: BR,
    asap: mG,
  };
function Me(r, e, t, n, i) {
  Error.call(this),
    Error.captureStackTrace
      ? Error.captureStackTrace(this, this.constructor)
      : (this.stack = new Error().stack),
    (this.message = r),
    (this.name = "AxiosError"),
    e && (this.code = e),
    t && (this.config = t),
    n && (this.request = n),
    i && ((this.response = i), (this.status = i.status ? i.status : null));
}
Z.inherits(Me, Error, {
  toJSON: function () {
    return {
      message: this.message,
      name: this.name,
      description: this.description,
      number: this.number,
      fileName: this.fileName,
      lineNumber: this.lineNumber,
      columnNumber: this.columnNumber,
      stack: this.stack,
      config: Z.toJSONObject(this.config),
      code: this.code,
      status: this.status,
    };
  },
});
const OR = Me.prototype,
  IR = {};
[
  "ERR_BAD_OPTION_VALUE",
  "ERR_BAD_OPTION",
  "ECONNABORTED",
  "ETIMEDOUT",
  "ERR_NETWORK",
  "ERR_FR_TOO_MANY_REDIRECTS",
  "ERR_DEPRECATED",
  "ERR_BAD_RESPONSE",
  "ERR_BAD_REQUEST",
  "ERR_CANCELED",
  "ERR_NOT_SUPPORT",
  "ERR_INVALID_URL",
].forEach((r) => {
  IR[r] = { value: r };
});
Object.defineProperties(Me, IR);
Object.defineProperty(OR, "isAxiosError", { value: !0 });
Me.from = (r, e, t, n, i, s) => {
  const o = Object.create(OR);
  return (
    Z.toFlatObject(
      r,
      o,
      function (l) {
        return l !== Error.prototype;
      },
      (a) => a !== "isAxiosError"
    ),
    Me.call(o, r.message, e, t, n, i),
    (o.cause = r),
    (o.name = r.name),
    s && Object.assign(o, s),
    o
  );
};
const gG = null;
function _v(r) {
  return Z.isPlainObject(r) || Z.isArray(r);
}
function FR(r) {
  return Z.endsWith(r, "[]") ? r.slice(0, -2) : r;
}
function eE(r, e, t) {
  return r
    ? r
        .concat(e)
        .map(function (i, s) {
          return (i = FR(i)), !t && s ? "[" + i + "]" : i;
        })
        .join(t ? "." : "")
    : e;
}
function _G(r) {
  return Z.isArray(r) && !r.some(_v);
}
const yG = Z.toFlatObject(Z, {}, null, function (e) {
  return /^is[A-Z]/.test(e);
});
function og(r, e, t) {
  if (!Z.isObject(r)) throw new TypeError("target must be an object");
  (e = e || new FormData()),
    (t = Z.toFlatObject(
      t,
      { metaTokens: !0, dots: !1, indexes: !1 },
      !1,
      function (g, _) {
        return !Z.isUndefined(_[g]);
      }
    ));
  const n = t.metaTokens,
    i = t.visitor || c,
    s = t.dots,
    o = t.indexes,
    l = (t.Blob || (typeof Blob < "u" && Blob)) && Z.isSpecCompliantForm(e);
  if (!Z.isFunction(i)) throw new TypeError("visitor must be a function");
  function u(m) {
    if (m === null) return "";
    if (Z.isDate(m)) return m.toISOString();
    if (!l && Z.isBlob(m))
      throw new Me("Blob is not supported. Use a Buffer instead.");
    return Z.isArrayBuffer(m) || Z.isTypedArray(m)
      ? l && typeof Blob == "function"
        ? new Blob([m])
        : Buffer.from(m)
      : m;
  }
  function c(m, g, _) {
    let v = m;
    if (m && !_ && typeof m == "object") {
      if (Z.endsWith(g, "{}"))
        (g = n ? g : g.slice(0, -2)), (m = JSON.stringify(m));
      else if (
        (Z.isArray(m) && _G(m)) ||
        ((Z.isFileList(m) || Z.endsWith(g, "[]")) && (v = Z.toArray(m)))
      )
        return (
          (g = FR(g)),
          v.forEach(function (x, k) {
            !(Z.isUndefined(x) || x === null) &&
              e.append(
                o === !0 ? eE([g], k, s) : o === null ? g : g + "[]",
                u(x)
              );
          }),
          !1
        );
    }
    return _v(m) ? !0 : (e.append(eE(_, g, s), u(m)), !1);
  }
  const h = [],
    d = Object.assign(yG, {
      defaultVisitor: c,
      convertValue: u,
      isVisitable: _v,
    });
  function f(m, g) {
    if (!Z.isUndefined(m)) {
      if (h.indexOf(m) !== -1)
        throw Error("Circular reference detected in " + g.join("."));
      h.push(m),
        Z.forEach(m, function (v, w) {
          (!(Z.isUndefined(v) || v === null) &&
            i.call(e, v, Z.isString(w) ? w.trim() : w, g, d)) === !0 &&
            f(v, g ? g.concat(w) : [w]);
        }),
        h.pop();
    }
  }
  if (!Z.isObject(r)) throw new TypeError("data must be an object");
  return f(r), e;
}
function tE(r) {
  const e = {
    "!": "%21",
    "'": "%27",
    "(": "%28",
    ")": "%29",
    "~": "%7E",
    "%20": "+",
    "%00": "\0",
  };
  return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g, function (n) {
    return e[n];
  });
}
function Nw(r, e) {
  (this._pairs = []), r && og(r, this, e);
}
const NR = Nw.prototype;
NR.append = function (e, t) {
  this._pairs.push([e, t]);
};
NR.toString = function (e) {
  const t = e
    ? function (n) {
        return e.call(this, n, tE);
      }
    : tE;
  return this._pairs
    .map(function (i) {
      return t(i[0]) + "=" + t(i[1]);
    }, "")
    .join("&");
};
function vG(r) {
  return encodeURIComponent(r)
    .replace(/%3A/gi, ":")
    .replace(/%24/g, "$")
    .replace(/%2C/gi, ",")
    .replace(/%20/g, "+")
    .replace(/%5B/gi, "[")
    .replace(/%5D/gi, "]");
}
function LR(r, e, t) {
  if (!e) return r;
  const n = (t && t.encode) || vG,
    i = t && t.serialize;
  let s;
  if (
    (i
      ? (s = i(e, t))
      : (s = Z.isURLSearchParams(e) ? e.toString() : new Nw(e, t).toString(n)),
    s)
  ) {
    const o = r.indexOf("#");
    o !== -1 && (r = r.slice(0, o)),
      (r += (r.indexOf("?") === -1 ? "?" : "&") + s);
  }
  return r;
}
class rE {
  constructor() {
    this.handlers = [];
  }
  use(e, t, n) {
    return (
      this.handlers.push({
        fulfilled: e,
        rejected: t,
        synchronous: n ? n.synchronous : !1,
        runWhen: n ? n.runWhen : null,
      }),
      this.handlers.length - 1
    );
  }
  eject(e) {
    this.handlers[e] && (this.handlers[e] = null);
  }
  clear() {
    this.handlers && (this.handlers = []);
  }
  forEach(e) {
    Z.forEach(this.handlers, function (n) {
      n !== null && e(n);
    });
  }
}
const UR = {
    silentJSONParsing: !0,
    forcedJSONParsing: !0,
    clarifyTimeoutError: !1,
  },
  xG = typeof URLSearchParams < "u" ? URLSearchParams : Nw,
  wG = typeof FormData < "u" ? FormData : null,
  bG = typeof Blob < "u" ? Blob : null,
  SG = {
    isBrowser: !0,
    classes: { URLSearchParams: xG, FormData: wG, Blob: bG },
    protocols: ["http", "https", "file", "blob", "url", "data"],
  },
  Lw = typeof window < "u" && typeof document < "u",
  yv = (typeof navigator == "object" && navigator) || void 0,
  EG =
    Lw &&
    (!yv || ["ReactNative", "NativeScript", "NS"].indexOf(yv.product) < 0),
  TG =
    typeof WorkerGlobalScope < "u" &&
    self instanceof WorkerGlobalScope &&
    typeof self.importScripts == "function",
  kG = (Lw && window.location.href) || "http://localhost",
  AG = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        hasBrowserEnv: Lw,
        hasStandardBrowserEnv: EG,
        hasStandardBrowserWebWorkerEnv: TG,
        navigator: yv,
        origin: kG,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  Tn = { ...AG, ...SG };
function PG(r, e) {
  return og(
    r,
    new Tn.classes.URLSearchParams(),
    Object.assign(
      {
        visitor: function (t, n, i, s) {
          return Tn.isNode && Z.isBuffer(t)
            ? (this.append(n, t.toString("base64")), !1)
            : s.defaultVisitor.apply(this, arguments);
        },
      },
      e
    )
  );
}
function CG(r) {
  return Z.matchAll(/\w+|\[(\w*)]/g, r).map((e) =>
    e[0] === "[]" ? "" : e[1] || e[0]
  );
}
function RG(r) {
  const e = {},
    t = Object.keys(r);
  let n;
  const i = t.length;
  let s;
  for (n = 0; n < i; n++) (s = t[n]), (e[s] = r[s]);
  return e;
}
function GR(r) {
  function e(t, n, i, s) {
    let o = t[s++];
    if (o === "__proto__") return !0;
    const a = Number.isFinite(+o),
      l = s >= t.length;
    return (
      (o = !o && Z.isArray(i) ? i.length : o),
      l
        ? (Z.hasOwnProp(i, o) ? (i[o] = [i[o], n]) : (i[o] = n), !a)
        : ((!i[o] || !Z.isObject(i[o])) && (i[o] = []),
          e(t, n, i[o], s) && Z.isArray(i[o]) && (i[o] = RG(i[o])),
          !a)
    );
  }
  if (Z.isFormData(r) && Z.isFunction(r.entries)) {
    const t = {};
    return (
      Z.forEachEntry(r, (n, i) => {
        e(CG(n), i, t, 0);
      }),
      t
    );
  }
  return null;
}
function DG(r, e, t) {
  if (Z.isString(r))
    try {
      return (e || JSON.parse)(r), Z.trim(r);
    } catch (n) {
      if (n.name !== "SyntaxError") throw n;
    }
  return (0, JSON.stringify)(r);
}
const ad = {
  transitional: UR,
  adapter: ["xhr", "http", "fetch"],
  transformRequest: [
    function (e, t) {
      const n = t.getContentType() || "",
        i = n.indexOf("application/json") > -1,
        s = Z.isObject(e);
      if ((s && Z.isHTMLForm(e) && (e = new FormData(e)), Z.isFormData(e)))
        return i ? JSON.stringify(GR(e)) : e;
      if (
        Z.isArrayBuffer(e) ||
        Z.isBuffer(e) ||
        Z.isStream(e) ||
        Z.isFile(e) ||
        Z.isBlob(e) ||
        Z.isReadableStream(e)
      )
        return e;
      if (Z.isArrayBufferView(e)) return e.buffer;
      if (Z.isURLSearchParams(e))
        return (
          t.setContentType(
            "application/x-www-form-urlencoded;charset=utf-8",
            !1
          ),
          e.toString()
        );
      let a;
      if (s) {
        if (n.indexOf("application/x-www-form-urlencoded") > -1)
          return PG(e, this.formSerializer).toString();
        if ((a = Z.isFileList(e)) || n.indexOf("multipart/form-data") > -1) {
          const l = this.env && this.env.FormData;
          return og(
            a ? { "files[]": e } : e,
            l && new l(),
            this.formSerializer
          );
        }
      }
      return s || i ? (t.setContentType("application/json", !1), DG(e)) : e;
    },
  ],
  transformResponse: [
    function (e) {
      const t = this.transitional || ad.transitional,
        n = t && t.forcedJSONParsing,
        i = this.responseType === "json";
      if (Z.isResponse(e) || Z.isReadableStream(e)) return e;
      if (e && Z.isString(e) && ((n && !this.responseType) || i)) {
        const o = !(t && t.silentJSONParsing) && i;
        try {
          return JSON.parse(e);
        } catch (a) {
          if (o)
            throw a.name === "SyntaxError"
              ? Me.from(a, Me.ERR_BAD_RESPONSE, this, null, this.response)
              : a;
        }
      }
      return e;
    },
  ],
  timeout: 0,
  xsrfCookieName: "XSRF-TOKEN",
  xsrfHeaderName: "X-XSRF-TOKEN",
  maxContentLength: -1,
  maxBodyLength: -1,
  env: { FormData: Tn.classes.FormData, Blob: Tn.classes.Blob },
  validateStatus: function (e) {
    return e >= 200 && e < 300;
  },
  headers: {
    common: {
      Accept: "application/json, text/plain, */*",
      "Content-Type": void 0,
    },
  },
};
Z.forEach(["delete", "get", "head", "post", "put", "patch"], (r) => {
  ad.headers[r] = {};
});
const MG = Z.toObjectSet([
    "age",
    "authorization",
    "content-length",
    "content-type",
    "etag",
    "expires",
    "from",
    "host",
    "if-modified-since",
    "if-unmodified-since",
    "last-modified",
    "location",
    "max-forwards",
    "proxy-authorization",
    "referer",
    "retry-after",
    "user-agent",
  ]),
  BG = (r) => {
    const e = {};
    let t, n, i;
    return (
      r &&
        r
          .split(
            `
`
          )
          .forEach(function (o) {
            (i = o.indexOf(":")),
              (t = o.substring(0, i).trim().toLowerCase()),
              (n = o.substring(i + 1).trim()),
              !(!t || (e[t] && MG[t])) &&
                (t === "set-cookie"
                  ? e[t]
                    ? e[t].push(n)
                    : (e[t] = [n])
                  : (e[t] = e[t] ? e[t] + ", " + n : n));
          }),
      e
    );
  },
  nE = Symbol("internals");
function cc(r) {
  return r && String(r).trim().toLowerCase();
}
function Xf(r) {
  return r === !1 || r == null ? r : Z.isArray(r) ? r.map(Xf) : String(r);
}
function OG(r) {
  const e = Object.create(null),
    t = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let n;
  for (; (n = t.exec(r)); ) e[n[1]] = n[2];
  return e;
}
const IG = (r) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());
function U_(r, e, t, n, i) {
  if (Z.isFunction(n)) return n.call(this, e, t);
  if ((i && (e = t), !!Z.isString(e))) {
    if (Z.isString(n)) return e.indexOf(n) !== -1;
    if (Z.isRegExp(n)) return n.test(e);
  }
}
function FG(r) {
  return r
    .trim()
    .toLowerCase()
    .replace(/([a-z\d])(\w*)/g, (e, t, n) => t.toUpperCase() + n);
}
function NG(r, e) {
  const t = Z.toCamelCase(" " + e);
  ["get", "set", "has"].forEach((n) => {
    Object.defineProperty(r, n + t, {
      value: function (i, s, o) {
        return this[n].call(this, e, i, s, o);
      },
      configurable: !0,
    });
  });
}
class kn {
  constructor(e) {
    e && this.set(e);
  }
  set(e, t, n) {
    const i = this;
    function s(a, l, u) {
      const c = cc(l);
      if (!c) throw new Error("header name must be a non-empty string");
      const h = Z.findKey(i, c);
      (!h || i[h] === void 0 || u === !0 || (u === void 0 && i[h] !== !1)) &&
        (i[h || l] = Xf(a));
    }
    const o = (a, l) => Z.forEach(a, (u, c) => s(u, c, l));
    if (Z.isPlainObject(e) || e instanceof this.constructor) o(e, t);
    else if (Z.isString(e) && (e = e.trim()) && !IG(e)) o(BG(e), t);
    else if (Z.isHeaders(e)) for (const [a, l] of e.entries()) s(l, a, n);
    else e != null && s(t, e, n);
    return this;
  }
  get(e, t) {
    if (((e = cc(e)), e)) {
      const n = Z.findKey(this, e);
      if (n) {
        const i = this[n];
        if (!t) return i;
        if (t === !0) return OG(i);
        if (Z.isFunction(t)) return t.call(this, i, n);
        if (Z.isRegExp(t)) return t.exec(i);
        throw new TypeError("parser must be boolean|regexp|function");
      }
    }
  }
  has(e, t) {
    if (((e = cc(e)), e)) {
      const n = Z.findKey(this, e);
      return !!(n && this[n] !== void 0 && (!t || U_(this, this[n], n, t)));
    }
    return !1;
  }
  delete(e, t) {
    const n = this;
    let i = !1;
    function s(o) {
      if (((o = cc(o)), o)) {
        const a = Z.findKey(n, o);
        a && (!t || U_(n, n[a], a, t)) && (delete n[a], (i = !0));
      }
    }
    return Z.isArray(e) ? e.forEach(s) : s(e), i;
  }
  clear(e) {
    const t = Object.keys(this);
    let n = t.length,
      i = !1;
    for (; n--; ) {
      const s = t[n];
      (!e || U_(this, this[s], s, e, !0)) && (delete this[s], (i = !0));
    }
    return i;
  }
  normalize(e) {
    const t = this,
      n = {};
    return (
      Z.forEach(this, (i, s) => {
        const o = Z.findKey(n, s);
        if (o) {
          (t[o] = Xf(i)), delete t[s];
          return;
        }
        const a = e ? FG(s) : String(s).trim();
        a !== s && delete t[s], (t[a] = Xf(i)), (n[a] = !0);
      }),
      this
    );
  }
  concat(...e) {
    return this.constructor.concat(this, ...e);
  }
  toJSON(e) {
    const t = Object.create(null);
    return (
      Z.forEach(this, (n, i) => {
        n != null && n !== !1 && (t[i] = e && Z.isArray(n) ? n.join(", ") : n);
      }),
      t
    );
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([e, t]) => e + ": " + t).join(`
`);
  }
  get [Symbol.toStringTag]() {
    return "AxiosHeaders";
  }
  static from(e) {
    return e instanceof this ? e : new this(e);
  }
  static concat(e, ...t) {
    const n = new this(e);
    return t.forEach((i) => n.set(i)), n;
  }
  static accessor(e) {
    const n = (this[nE] = this[nE] = { accessors: {} }).accessors,
      i = this.prototype;
    function s(o) {
      const a = cc(o);
      n[a] || (NG(i, o), (n[a] = !0));
    }
    return Z.isArray(e) ? e.forEach(s) : s(e), this;
  }
}
kn.accessor([
  "Content-Type",
  "Content-Length",
  "Accept",
  "Accept-Encoding",
  "User-Agent",
  "Authorization",
]);
Z.reduceDescriptors(kn.prototype, ({ value: r }, e) => {
  let t = e[0].toUpperCase() + e.slice(1);
  return {
    get: () => r,
    set(n) {
      this[t] = n;
    },
  };
});
Z.freezeMethods(kn);
function G_(r, e) {
  const t = this || ad,
    n = e || t,
    i = kn.from(n.headers);
  let s = n.data;
  return (
    Z.forEach(r, function (a) {
      s = a.call(t, s, i.normalize(), e ? e.status : void 0);
    }),
    i.normalize(),
    s
  );
}
function jR(r) {
  return !!(r && r.__CANCEL__);
}
function Xu(r, e, t) {
  Me.call(this, r ?? "canceled", Me.ERR_CANCELED, e, t),
    (this.name = "CanceledError");
}
Z.inherits(Xu, Me, { __CANCEL__: !0 });
function $R(r, e, t) {
  const n = t.config.validateStatus;
  !t.status || !n || n(t.status)
    ? r(t)
    : e(
        new Me(
          "Request failed with status code " + t.status,
          [Me.ERR_BAD_REQUEST, Me.ERR_BAD_RESPONSE][
            Math.floor(t.status / 100) - 4
          ],
          t.config,
          t.request,
          t
        )
      );
}
function LG(r) {
  const e = /^([-+\w]{1,25})(:?\/\/|:)/.exec(r);
  return (e && e[1]) || "";
}
function UG(r, e) {
  r = r || 10;
  const t = new Array(r),
    n = new Array(r);
  let i = 0,
    s = 0,
    o;
  return (
    (e = e !== void 0 ? e : 1e3),
    function (l) {
      const u = Date.now(),
        c = n[s];
      o || (o = u), (t[i] = l), (n[i] = u);
      let h = s,
        d = 0;
      for (; h !== i; ) (d += t[h++]), (h = h % r);
      if (((i = (i + 1) % r), i === s && (s = (s + 1) % r), u - o < e)) return;
      const f = c && u - c;
      return f ? Math.round((d * 1e3) / f) : void 0;
    }
  );
}
function GG(r, e) {
  let t = 0,
    n = 1e3 / e,
    i,
    s;
  const o = (u, c = Date.now()) => {
    (t = c), (i = null), s && (clearTimeout(s), (s = null)), r.apply(null, u);
  };
  return [
    (...u) => {
      const c = Date.now(),
        h = c - t;
      h >= n
        ? o(u, c)
        : ((i = u),
          s ||
            (s = setTimeout(() => {
              (s = null), o(i);
            }, n - h)));
    },
    () => i && o(i),
  ];
}
const Np = (r, e, t = 3) => {
    let n = 0;
    const i = UG(50, 250);
    return GG((s) => {
      const o = s.loaded,
        a = s.lengthComputable ? s.total : void 0,
        l = o - n,
        u = i(l),
        c = o <= a;
      n = o;
      const h = {
        loaded: o,
        total: a,
        progress: a ? o / a : void 0,
        bytes: l,
        rate: u || void 0,
        estimated: u && a && c ? (a - o) / u : void 0,
        event: s,
        lengthComputable: a != null,
        [e ? "download" : "upload"]: !0,
      };
      r(h);
    }, t);
  },
  iE = (r, e) => {
    const t = r != null;
    return [(n) => e[0]({ lengthComputable: t, total: r, loaded: n }), e[1]];
  },
  sE =
    (r) =>
    (...e) =>
      Z.asap(() => r(...e)),
  jG = Tn.hasStandardBrowserEnv
    ? (function () {
        const e =
            Tn.navigator && /(msie|trident)/i.test(Tn.navigator.userAgent),
          t = document.createElement("a");
        let n;
        function i(s) {
          let o = s;
          return (
            e && (t.setAttribute("href", o), (o = t.href)),
            t.setAttribute("href", o),
            {
              href: t.href,
              protocol: t.protocol ? t.protocol.replace(/:$/, "") : "",
              host: t.host,
              search: t.search ? t.search.replace(/^\?/, "") : "",
              hash: t.hash ? t.hash.replace(/^#/, "") : "",
              hostname: t.hostname,
              port: t.port,
              pathname:
                t.pathname.charAt(0) === "/" ? t.pathname : "/" + t.pathname,
            }
          );
        }
        return (
          (n = i(window.location.href)),
          function (o) {
            const a = Z.isString(o) ? i(o) : o;
            return a.protocol === n.protocol && a.host === n.host;
          }
        );
      })()
    : (function () {
        return function () {
          return !0;
        };
      })(),
  $G = Tn.hasStandardBrowserEnv
    ? {
        write(r, e, t, n, i, s) {
          const o = [r + "=" + encodeURIComponent(e)];
          Z.isNumber(t) && o.push("expires=" + new Date(t).toGMTString()),
            Z.isString(n) && o.push("path=" + n),
            Z.isString(i) && o.push("domain=" + i),
            s === !0 && o.push("secure"),
            (document.cookie = o.join("; "));
        },
        read(r) {
          const e = document.cookie.match(
            new RegExp("(^|;\\s*)(" + r + ")=([^;]*)")
          );
          return e ? decodeURIComponent(e[3]) : null;
        },
        remove(r) {
          this.write(r, "", Date.now() - 864e5);
        },
      }
    : {
        write() {},
        read() {
          return null;
        },
        remove() {},
      };
function zG(r) {
  return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(r);
}
function WG(r, e) {
  return e ? r.replace(/\/?\/$/, "") + "/" + e.replace(/^\/+/, "") : r;
}
function zR(r, e) {
  return r && !zG(e) ? WG(r, e) : e;
}
const oE = (r) => (r instanceof kn ? { ...r } : r);
function el(r, e) {
  e = e || {};
  const t = {};
  function n(u, c, h) {
    return Z.isPlainObject(u) && Z.isPlainObject(c)
      ? Z.merge.call({ caseless: h }, u, c)
      : Z.isPlainObject(c)
      ? Z.merge({}, c)
      : Z.isArray(c)
      ? c.slice()
      : c;
  }
  function i(u, c, h) {
    if (Z.isUndefined(c)) {
      if (!Z.isUndefined(u)) return n(void 0, u, h);
    } else return n(u, c, h);
  }
  function s(u, c) {
    if (!Z.isUndefined(c)) return n(void 0, c);
  }
  function o(u, c) {
    if (Z.isUndefined(c)) {
      if (!Z.isUndefined(u)) return n(void 0, u);
    } else return n(void 0, c);
  }
  function a(u, c, h) {
    if (h in e) return n(u, c);
    if (h in r) return n(void 0, u);
  }
  const l = {
    url: s,
    method: s,
    data: s,
    baseURL: o,
    transformRequest: o,
    transformResponse: o,
    paramsSerializer: o,
    timeout: o,
    timeoutMessage: o,
    withCredentials: o,
    withXSRFToken: o,
    adapter: o,
    responseType: o,
    xsrfCookieName: o,
    xsrfHeaderName: o,
    onUploadProgress: o,
    onDownloadProgress: o,
    decompress: o,
    maxContentLength: o,
    maxBodyLength: o,
    beforeRedirect: o,
    transport: o,
    httpAgent: o,
    httpsAgent: o,
    cancelToken: o,
    socketPath: o,
    responseEncoding: o,
    validateStatus: a,
    headers: (u, c) => i(oE(u), oE(c), !0),
  };
  return (
    Z.forEach(Object.keys(Object.assign({}, r, e)), function (c) {
      const h = l[c] || i,
        d = h(r[c], e[c], c);
      (Z.isUndefined(d) && h !== a) || (t[c] = d);
    }),
    t
  );
}
const WR = (r) => {
    const e = el({}, r);
    let {
      data: t,
      withXSRFToken: n,
      xsrfHeaderName: i,
      xsrfCookieName: s,
      headers: o,
      auth: a,
    } = e;
    (e.headers = o = kn.from(o)),
      (e.url = LR(zR(e.baseURL, e.url), r.params, r.paramsSerializer)),
      a &&
        o.set(
          "Authorization",
          "Basic " +
            btoa(
              (a.username || "") +
                ":" +
                (a.password ? unescape(encodeURIComponent(a.password)) : "")
            )
        );
    let l;
    if (Z.isFormData(t)) {
      if (Tn.hasStandardBrowserEnv || Tn.hasStandardBrowserWebWorkerEnv)
        o.setContentType(void 0);
      else if ((l = o.getContentType()) !== !1) {
        const [u, ...c] = l
          ? l
              .split(";")
              .map((h) => h.trim())
              .filter(Boolean)
          : [];
        o.setContentType([u || "multipart/form-data", ...c].join("; "));
      }
    }
    if (
      Tn.hasStandardBrowserEnv &&
      (n && Z.isFunction(n) && (n = n(e)), n || (n !== !1 && jG(e.url)))
    ) {
      const u = i && s && $G.read(s);
      u && o.set(i, u);
    }
    return e;
  },
  HG = typeof XMLHttpRequest < "u",
  VG =
    HG &&
    function (r) {
      return new Promise(function (t, n) {
        const i = WR(r);
        let s = i.data;
        const o = kn.from(i.headers).normalize();
        let { responseType: a, onUploadProgress: l, onDownloadProgress: u } = i,
          c,
          h,
          d,
          f,
          m;
        function g() {
          f && f(),
            m && m(),
            i.cancelToken && i.cancelToken.unsubscribe(c),
            i.signal && i.signal.removeEventListener("abort", c);
        }
        let _ = new XMLHttpRequest();
        _.open(i.method.toUpperCase(), i.url, !0), (_.timeout = i.timeout);
        function v() {
          if (!_) return;
          const x = kn.from(
              "getAllResponseHeaders" in _ && _.getAllResponseHeaders()
            ),
            C = {
              data:
                !a || a === "text" || a === "json"
                  ? _.responseText
                  : _.response,
              status: _.status,
              statusText: _.statusText,
              headers: x,
              config: r,
              request: _,
            };
          $R(
            function (I) {
              t(I), g();
            },
            function (I) {
              n(I), g();
            },
            C
          ),
            (_ = null);
        }
        "onloadend" in _
          ? (_.onloadend = v)
          : (_.onreadystatechange = function () {
              !_ ||
                _.readyState !== 4 ||
                (_.status === 0 &&
                  !(_.responseURL && _.responseURL.indexOf("file:") === 0)) ||
                setTimeout(v);
            }),
          (_.onabort = function () {
            _ &&
              (n(new Me("Request aborted", Me.ECONNABORTED, r, _)), (_ = null));
          }),
          (_.onerror = function () {
            n(new Me("Network Error", Me.ERR_NETWORK, r, _)), (_ = null);
          }),
          (_.ontimeout = function () {
            let k = i.timeout
              ? "timeout of " + i.timeout + "ms exceeded"
              : "timeout exceeded";
            const C = i.transitional || UR;
            i.timeoutErrorMessage && (k = i.timeoutErrorMessage),
              n(
                new Me(
                  k,
                  C.clarifyTimeoutError ? Me.ETIMEDOUT : Me.ECONNABORTED,
                  r,
                  _
                )
              ),
              (_ = null);
          }),
          s === void 0 && o.setContentType(null),
          "setRequestHeader" in _ &&
            Z.forEach(o.toJSON(), function (k, C) {
              _.setRequestHeader(C, k);
            }),
          Z.isUndefined(i.withCredentials) ||
            (_.withCredentials = !!i.withCredentials),
          a && a !== "json" && (_.responseType = i.responseType),
          u && (([d, m] = Np(u, !0)), _.addEventListener("progress", d)),
          l &&
            _.upload &&
            (([h, f] = Np(l)),
            _.upload.addEventListener("progress", h),
            _.upload.addEventListener("loadend", f)),
          (i.cancelToken || i.signal) &&
            ((c = (x) => {
              _ &&
                (n(!x || x.type ? new Xu(null, r, _) : x),
                _.abort(),
                (_ = null));
            }),
            i.cancelToken && i.cancelToken.subscribe(c),
            i.signal &&
              (i.signal.aborted ? c() : i.signal.addEventListener("abort", c)));
        const w = LG(i.url);
        if (w && Tn.protocols.indexOf(w) === -1) {
          n(new Me("Unsupported protocol " + w + ":", Me.ERR_BAD_REQUEST, r));
          return;
        }
        _.send(s || null);
      });
    },
  XG = (r, e) => {
    const { length: t } = (r = r ? r.filter(Boolean) : []);
    if (e || t) {
      let n = new AbortController(),
        i;
      const s = function (u) {
        if (!i) {
          (i = !0), a();
          const c = u instanceof Error ? u : this.reason;
          n.abort(
            c instanceof Me ? c : new Xu(c instanceof Error ? c.message : c)
          );
        }
      };
      let o =
        e &&
        setTimeout(() => {
          (o = null), s(new Me(`timeout ${e} of ms exceeded`, Me.ETIMEDOUT));
        }, e);
      const a = () => {
        r &&
          (o && clearTimeout(o),
          (o = null),
          r.forEach((u) => {
            u.unsubscribe
              ? u.unsubscribe(s)
              : u.removeEventListener("abort", s);
          }),
          (r = null));
      };
      r.forEach((u) => u.addEventListener("abort", s));
      const { signal: l } = n;
      return (l.unsubscribe = () => Z.asap(a)), l;
    }
  },
  YG = function* (r, e) {
    let t = r.byteLength;
    if (t < e) {
      yield r;
      return;
    }
    let n = 0,
      i;
    for (; n < t; ) (i = n + e), yield r.slice(n, i), (n = i);
  },
  KG = async function* (r, e) {
    for await (const t of qG(r)) yield* YG(t, e);
  },
  qG = async function* (r) {
    if (r[Symbol.asyncIterator]) {
      yield* r;
      return;
    }
    const e = r.getReader();
    try {
      for (;;) {
        const { done: t, value: n } = await e.read();
        if (t) break;
        yield n;
      }
    } finally {
      await e.cancel();
    }
  },
  aE = (r, e, t, n) => {
    const i = KG(r, e);
    let s = 0,
      o,
      a = (l) => {
        o || ((o = !0), n && n(l));
      };
    return new ReadableStream(
      {
        async pull(l) {
          try {
            const { done: u, value: c } = await i.next();
            if (u) {
              a(), l.close();
              return;
            }
            let h = c.byteLength;
            if (t) {
              let d = (s += h);
              t(d);
            }
            l.enqueue(new Uint8Array(c));
          } catch (u) {
            throw (a(u), u);
          }
        },
        cancel(l) {
          return a(l), i.return();
        },
      },
      { highWaterMark: 2 }
    );
  },
  ag =
    typeof fetch == "function" &&
    typeof Request == "function" &&
    typeof Response == "function",
  HR = ag && typeof ReadableStream == "function",
  ZG =
    ag &&
    (typeof TextEncoder == "function"
      ? (
          (r) => (e) =>
            r.encode(e)
        )(new TextEncoder())
      : async (r) => new Uint8Array(await new Response(r).arrayBuffer())),
  VR = (r, ...e) => {
    try {
      return !!r(...e);
    } catch {
      return !1;
    }
  },
  QG =
    HR &&
    VR(() => {
      let r = !1;
      const e = new Request(Tn.origin, {
        body: new ReadableStream(),
        method: "POST",
        get duplex() {
          return (r = !0), "half";
        },
      }).headers.has("Content-Type");
      return r && !e;
    }),
  lE = 64 * 1024,
  vv = HR && VR(() => Z.isReadableStream(new Response("").body)),
  Lp = { stream: vv && ((r) => r.body) };
ag &&
  ((r) => {
    ["text", "arrayBuffer", "blob", "formData", "stream"].forEach((e) => {
      !Lp[e] &&
        (Lp[e] = Z.isFunction(r[e])
          ? (t) => t[e]()
          : (t, n) => {
              throw new Me(
                `Response type '${e}' is not supported`,
                Me.ERR_NOT_SUPPORT,
                n
              );
            });
    });
  })(new Response());
const JG = async (r) => {
    if (r == null) return 0;
    if (Z.isBlob(r)) return r.size;
    if (Z.isSpecCompliantForm(r))
      return (
        await new Request(Tn.origin, { method: "POST", body: r }).arrayBuffer()
      ).byteLength;
    if (Z.isArrayBufferView(r) || Z.isArrayBuffer(r)) return r.byteLength;
    if ((Z.isURLSearchParams(r) && (r = r + ""), Z.isString(r)))
      return (await ZG(r)).byteLength;
  },
  ej = async (r, e) => {
    const t = Z.toFiniteNumber(r.getContentLength());
    return t ?? JG(e);
  },
  tj =
    ag &&
    (async (r) => {
      let {
        url: e,
        method: t,
        data: n,
        signal: i,
        cancelToken: s,
        timeout: o,
        onDownloadProgress: a,
        onUploadProgress: l,
        responseType: u,
        headers: c,
        withCredentials: h = "same-origin",
        fetchOptions: d,
      } = WR(r);
      u = u ? (u + "").toLowerCase() : "text";
      let f = XG([i, s && s.toAbortSignal()], o),
        m;
      const g =
        f &&
        f.unsubscribe &&
        (() => {
          f.unsubscribe();
        });
      let _;
      try {
        if (
          l &&
          QG &&
          t !== "get" &&
          t !== "head" &&
          (_ = await ej(c, n)) !== 0
        ) {
          let C = new Request(e, { method: "POST", body: n, duplex: "half" }),
            F;
          if (
            (Z.isFormData(n) &&
              (F = C.headers.get("content-type")) &&
              c.setContentType(F),
            C.body)
          ) {
            const [I, G] = iE(_, Np(sE(l)));
            n = aE(C.body, lE, I, G);
          }
        }
        Z.isString(h) || (h = h ? "include" : "omit");
        const v = "credentials" in Request.prototype;
        m = new Request(e, {
          ...d,
          signal: f,
          method: t.toUpperCase(),
          headers: c.normalize().toJSON(),
          body: n,
          duplex: "half",
          credentials: v ? h : void 0,
        });
        let w = await fetch(m);
        const x = vv && (u === "stream" || u === "response");
        if (vv && (a || (x && g))) {
          const C = {};
          ["status", "statusText", "headers"].forEach((j) => {
            C[j] = w[j];
          });
          const F = Z.toFiniteNumber(w.headers.get("content-length")),
            [I, G] = (a && iE(F, Np(sE(a), !0))) || [];
          w = new Response(
            aE(w.body, lE, I, () => {
              G && G(), g && g();
            }),
            C
          );
        }
        u = u || "text";
        let k = await Lp[Z.findKey(Lp, u) || "text"](w, r);
        return (
          !x && g && g(),
          await new Promise((C, F) => {
            $R(C, F, {
              data: k,
              headers: kn.from(w.headers),
              status: w.status,
              statusText: w.statusText,
              config: r,
              request: m,
            });
          })
        );
      } catch (v) {
        throw (
          (g && g(),
          v && v.name === "TypeError" && /fetch/i.test(v.message)
            ? Object.assign(new Me("Network Error", Me.ERR_NETWORK, r, m), {
                cause: v.cause || v,
              })
            : Me.from(v, v && v.code, r, m))
        );
      }
    }),
  xv = { http: gG, xhr: VG, fetch: tj };
Z.forEach(xv, (r, e) => {
  if (r) {
    try {
      Object.defineProperty(r, "name", { value: e });
    } catch {}
    Object.defineProperty(r, "adapterName", { value: e });
  }
});
const uE = (r) => `- ${r}`,
  rj = (r) => Z.isFunction(r) || r === null || r === !1,
  XR = {
    getAdapter: (r) => {
      r = Z.isArray(r) ? r : [r];
      const { length: e } = r;
      let t, n;
      const i = {};
      for (let s = 0; s < e; s++) {
        t = r[s];
        let o;
        if (
          ((n = t),
          !rj(t) && ((n = xv[(o = String(t)).toLowerCase()]), n === void 0))
        )
          throw new Me(`Unknown adapter '${o}'`);
        if (n) break;
        i[o || "#" + s] = n;
      }
      if (!n) {
        const s = Object.entries(i).map(
          ([a, l]) =>
            `adapter ${a} ` +
            (l === !1
              ? "is not supported by the environment"
              : "is not available in the build")
        );
        let o = e
          ? s.length > 1
            ? `since :
` +
              s.map(uE).join(`
`)
            : " " + uE(s[0])
          : "as no adapter specified";
        throw new Me(
          "There is no suitable adapter to dispatch the request " + o,
          "ERR_NOT_SUPPORT"
        );
      }
      return n;
    },
    adapters: xv,
  };
function j_(r) {
  if (
    (r.cancelToken && r.cancelToken.throwIfRequested(),
    r.signal && r.signal.aborted)
  )
    throw new Xu(null, r);
}
function cE(r) {
  return (
    j_(r),
    (r.headers = kn.from(r.headers)),
    (r.data = G_.call(r, r.transformRequest)),
    ["post", "put", "patch"].indexOf(r.method) !== -1 &&
      r.headers.setContentType("application/x-www-form-urlencoded", !1),
    XR.getAdapter(r.adapter || ad.adapter)(r).then(
      function (n) {
        return (
          j_(r),
          (n.data = G_.call(r, r.transformResponse, n)),
          (n.headers = kn.from(n.headers)),
          n
        );
      },
      function (n) {
        return (
          jR(n) ||
            (j_(r),
            n &&
              n.response &&
              ((n.response.data = G_.call(r, r.transformResponse, n.response)),
              (n.response.headers = kn.from(n.response.headers)))),
          Promise.reject(n)
        );
      }
    )
  );
}
const YR = "1.7.7",
  Uw = {};
["object", "boolean", "number", "function", "string", "symbol"].forEach(
  (r, e) => {
    Uw[r] = function (n) {
      return typeof n === r || "a" + (e < 1 ? "n " : " ") + r;
    };
  }
);
const hE = {};
Uw.transitional = function (e, t, n) {
  function i(s, o) {
    return (
      "[Axios v" +
      YR +
      "] Transitional option '" +
      s +
      "'" +
      o +
      (n ? ". " + n : "")
    );
  }
  return (s, o, a) => {
    if (e === !1)
      throw new Me(
        i(o, " has been removed" + (t ? " in " + t : "")),
        Me.ERR_DEPRECATED
      );
    return (
      t &&
        !hE[o] &&
        ((hE[o] = !0),
        console.warn(
          i(
            o,
            " has been deprecated since v" +
              t +
              " and will be removed in the near future"
          )
        )),
      e ? e(s, o, a) : !0
    );
  };
};
function nj(r, e, t) {
  if (typeof r != "object")
    throw new Me("options must be an object", Me.ERR_BAD_OPTION_VALUE);
  const n = Object.keys(r);
  let i = n.length;
  for (; i-- > 0; ) {
    const s = n[i],
      o = e[s];
    if (o) {
      const a = r[s],
        l = a === void 0 || o(a, s, r);
      if (l !== !0)
        throw new Me("option " + s + " must be " + l, Me.ERR_BAD_OPTION_VALUE);
      continue;
    }
    if (t !== !0) throw new Me("Unknown option " + s, Me.ERR_BAD_OPTION);
  }
}
const wv = { assertOptions: nj, validators: Uw },
  _o = wv.validators;
class La {
  constructor(e) {
    (this.defaults = e),
      (this.interceptors = { request: new rE(), response: new rE() });
  }
  async request(e, t) {
    try {
      return await this._request(e, t);
    } catch (n) {
      if (n instanceof Error) {
        let i;
        Error.captureStackTrace
          ? Error.captureStackTrace((i = {}))
          : (i = new Error());
        const s = i.stack ? i.stack.replace(/^.+\n/, "") : "";
        try {
          n.stack
            ? s &&
              !String(n.stack).endsWith(s.replace(/^.+\n.+\n/, "")) &&
              (n.stack +=
                `
` + s)
            : (n.stack = s);
        } catch {}
      }
      throw n;
    }
  }
  _request(e, t) {
    typeof e == "string" ? ((t = t || {}), (t.url = e)) : (t = e || {}),
      (t = el(this.defaults, t));
    const { transitional: n, paramsSerializer: i, headers: s } = t;
    n !== void 0 &&
      wv.assertOptions(
        n,
        {
          silentJSONParsing: _o.transitional(_o.boolean),
          forcedJSONParsing: _o.transitional(_o.boolean),
          clarifyTimeoutError: _o.transitional(_o.boolean),
        },
        !1
      ),
      i != null &&
        (Z.isFunction(i)
          ? (t.paramsSerializer = { serialize: i })
          : wv.assertOptions(
              i,
              { encode: _o.function, serialize: _o.function },
              !0
            )),
      (t.method = (t.method || this.defaults.method || "get").toLowerCase());
    let o = s && Z.merge(s.common, s[t.method]);
    s &&
      Z.forEach(
        ["delete", "get", "head", "post", "put", "patch", "common"],
        (m) => {
          delete s[m];
        }
      ),
      (t.headers = kn.concat(o, s));
    const a = [];
    let l = !0;
    this.interceptors.request.forEach(function (g) {
      (typeof g.runWhen == "function" && g.runWhen(t) === !1) ||
        ((l = l && g.synchronous), a.unshift(g.fulfilled, g.rejected));
    });
    const u = [];
    this.interceptors.response.forEach(function (g) {
      u.push(g.fulfilled, g.rejected);
    });
    let c,
      h = 0,
      d;
    if (!l) {
      const m = [cE.bind(this), void 0];
      for (
        m.unshift.apply(m, a),
          m.push.apply(m, u),
          d = m.length,
          c = Promise.resolve(t);
        h < d;

      )
        c = c.then(m[h++], m[h++]);
      return c;
    }
    d = a.length;
    let f = t;
    for (h = 0; h < d; ) {
      const m = a[h++],
        g = a[h++];
      try {
        f = m(f);
      } catch (_) {
        g.call(this, _);
        break;
      }
    }
    try {
      c = cE.call(this, f);
    } catch (m) {
      return Promise.reject(m);
    }
    for (h = 0, d = u.length; h < d; ) c = c.then(u[h++], u[h++]);
    return c;
  }
  getUri(e) {
    e = el(this.defaults, e);
    const t = zR(e.baseURL, e.url);
    return LR(t, e.params, e.paramsSerializer);
  }
}
Z.forEach(["delete", "get", "head", "options"], function (e) {
  La.prototype[e] = function (t, n) {
    return this.request(
      el(n || {}, { method: e, url: t, data: (n || {}).data })
    );
  };
});
Z.forEach(["post", "put", "patch"], function (e) {
  function t(n) {
    return function (s, o, a) {
      return this.request(
        el(a || {}, {
          method: e,
          headers: n ? { "Content-Type": "multipart/form-data" } : {},
          url: s,
          data: o,
        })
      );
    };
  }
  (La.prototype[e] = t()), (La.prototype[e + "Form"] = t(!0));
});
class Gw {
  constructor(e) {
    if (typeof e != "function")
      throw new TypeError("executor must be a function.");
    let t;
    this.promise = new Promise(function (s) {
      t = s;
    });
    const n = this;
    this.promise.then((i) => {
      if (!n._listeners) return;
      let s = n._listeners.length;
      for (; s-- > 0; ) n._listeners[s](i);
      n._listeners = null;
    }),
      (this.promise.then = (i) => {
        let s;
        const o = new Promise((a) => {
          n.subscribe(a), (s = a);
        }).then(i);
        return (
          (o.cancel = function () {
            n.unsubscribe(s);
          }),
          o
        );
      }),
      e(function (s, o, a) {
        n.reason || ((n.reason = new Xu(s, o, a)), t(n.reason));
      });
  }
  throwIfRequested() {
    if (this.reason) throw this.reason;
  }
  subscribe(e) {
    if (this.reason) {
      e(this.reason);
      return;
    }
    this._listeners ? this._listeners.push(e) : (this._listeners = [e]);
  }
  unsubscribe(e) {
    if (!this._listeners) return;
    const t = this._listeners.indexOf(e);
    t !== -1 && this._listeners.splice(t, 1);
  }
  toAbortSignal() {
    const e = new AbortController(),
      t = (n) => {
        e.abort(n);
      };
    return (
      this.subscribe(t),
      (e.signal.unsubscribe = () => this.unsubscribe(t)),
      e.signal
    );
  }
  static source() {
    let e;
    return {
      token: new Gw(function (i) {
        e = i;
      }),
      cancel: e,
    };
  }
}
function ij(r) {
  return function (t) {
    return r.apply(null, t);
  };
}
function sj(r) {
  return Z.isObject(r) && r.isAxiosError === !0;
}
const bv = {
  Continue: 100,
  SwitchingProtocols: 101,
  Processing: 102,
  EarlyHints: 103,
  Ok: 200,
  Created: 201,
  Accepted: 202,
  NonAuthoritativeInformation: 203,
  NoContent: 204,
  ResetContent: 205,
  PartialContent: 206,
  MultiStatus: 207,
  AlreadyReported: 208,
  ImUsed: 226,
  MultipleChoices: 300,
  MovedPermanently: 301,
  Found: 302,
  SeeOther: 303,
  NotModified: 304,
  UseProxy: 305,
  Unused: 306,
  TemporaryRedirect: 307,
  PermanentRedirect: 308,
  BadRequest: 400,
  Unauthorized: 401,
  PaymentRequired: 402,
  Forbidden: 403,
  NotFound: 404,
  MethodNotAllowed: 405,
  NotAcceptable: 406,
  ProxyAuthenticationRequired: 407,
  RequestTimeout: 408,
  Conflict: 409,
  Gone: 410,
  LengthRequired: 411,
  PreconditionFailed: 412,
  PayloadTooLarge: 413,
  UriTooLong: 414,
  UnsupportedMediaType: 415,
  RangeNotSatisfiable: 416,
  ExpectationFailed: 417,
  ImATeapot: 418,
  MisdirectedRequest: 421,
  UnprocessableEntity: 422,
  Locked: 423,
  FailedDependency: 424,
  TooEarly: 425,
  UpgradeRequired: 426,
  PreconditionRequired: 428,
  TooManyRequests: 429,
  RequestHeaderFieldsTooLarge: 431,
  UnavailableForLegalReasons: 451,
  InternalServerError: 500,
  NotImplemented: 501,
  BadGateway: 502,
  ServiceUnavailable: 503,
  GatewayTimeout: 504,
  HttpVersionNotSupported: 505,
  VariantAlsoNegotiates: 506,
  InsufficientStorage: 507,
  LoopDetected: 508,
  NotExtended: 510,
  NetworkAuthenticationRequired: 511,
};
Object.entries(bv).forEach(([r, e]) => {
  bv[e] = r;
});
function KR(r) {
  const e = new La(r),
    t = kR(La.prototype.request, e);
  return (
    Z.extend(t, La.prototype, e, { allOwnKeys: !0 }),
    Z.extend(t, e, null, { allOwnKeys: !0 }),
    (t.create = function (i) {
      return KR(el(r, i));
    }),
    t
  );
}
const _r = KR(ad);
_r.Axios = La;
_r.CanceledError = Xu;
_r.CancelToken = Gw;
_r.isCancel = jR;
_r.VERSION = YR;
_r.toFormData = og;
_r.AxiosError = Me;
_r.Cancel = _r.CanceledError;
_r.all = function (e) {
  return Promise.all(e);
};
_r.spread = ij;
_r.isAxiosError = sj;
_r.mergeConfig = el;
_r.AxiosHeaders = kn;
_r.formToJSON = (r) => GR(Z.isHTMLForm(r) ? new FormData(r) : r);
_r.getAdapter = XR.getAdapter;
_r.HttpStatusCode = bv;
_r.default = _r;
const oj = "https://api.knut.wtf",
  tn = _r.create({ baseURL: oj });
let aj = class {
  constructor() {
    he(this, "me", { quests: [] });
    he(this, "getMe", async () => {
      await Re.connectWallet();
      const e = await tn.get(`/user/me?wallet=${Re.wallet}`);
      this.me = e.data;
    });
    ts(this);
  }
};
const Bc = new aj();
class lj {
  constructor() {
    he(this, "quests", []);
    he(this, "rerender", 0);
    he(this, "initQuests", async () => {
      const e = await tn.get("/quests");
      this.quests = e.data;
    });
    he(this, "completeQuest", (e) => {
      localStorage.setItem(`quest_${e}Completed`, !0),
        (this.rerender = Math.random());
    });
    he(this, "claimReward", async (e) => {
      Re.connectWallet,
        await tn.post("/quests/claim", { art: e, wallet: Re.wallet }),
        Bc.getMe();
    });
    ts(this);
  }
}
const xr = new lj(),
  uj = (r) => (
    K.useEffect(() => {
      xr.completeQuest("state");
    }, []),
    p.jsx(pt, {
      type: "state",
      children: p.jsxs("div", {
        className: "State",
        children: [
          p.jsx("img", {
            src: `/img/bears/${Fp.currentBear}.svg`,
            alt: "decor",
          }),
          Fp.currentBear === 9 &&
            p.jsxs("div", {
              className: "State_explore",
              children: [
                p.jsx("div", {
                  className: "State_explore_large",
                  children: "RIP :(",
                }),
                p.jsx("button", {
                  onClick: () => {
                    window.open(
                      "https://dexscreener.com/solana/8ztb9xdw33yjhfwlxc9u9jox6sbd4x2rzsxm5g1z78e3",
                      "_blank"
                    );
                  },
                  children: "Explore DEXscreener",
                }),
              ],
            }),
        ],
      }),
    })
  ),
  cj = mn(uj),
  hj = (r) => (
    K.useEffect(() => {
      xr.completeQuest("roadmap");
    }, []),
    p.jsx(pt, {
      type: "roadmap",
      children: p.jsxs("div", {
        className: "Roadmap",
        children: [
          p.jsx("div", {
            className: "Roadmap_header",
            children: "$KNUT - Steak Baby Roadmap",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: 'Year 1: "The $KNUT"',
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- From $10K MC to GG EZ Moon.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Community rallies hardmemes go brrr.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Zoo-Meta prep.",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: 'Year 2: "MrGigaSer"',
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Tokenomics: Degenerate but genius.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Staking? Soon.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- First partnerships: Zoo Gang grows.",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: 'Year 3: "Steak Prep"',
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Big Apes : $PNUT, $FRED, $MOODENG, $KNUT",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Everyone doing the $KNUT shuffle.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- **Treasury fattening up**GG easy $5M.",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: 'Year 4: "Steak Baby Era"',
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Charity Flex: Polar bear vibes.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- 5M Treasury: Knut keeps printing.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Community = Degens United.",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: 'Year 5: "Binance or Bust"',
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Mainstream listing hype.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Zoo-Meta takeover: $KNUT is king.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Steak? Now.  Maybe.",
          }),
          p.jsx("div", {
            className: "Roadmap_header",
            children: "Scaling the $KNUT Empire: Everything, but Better",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "$KNUT isnt here to playits here to dominate. Scaling isnt just about building; its about outbuilding, outmemeing, and outlasting everyone else in the Web3 tundra.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Were creating everything that already exists, but cooler, slicker, and with STEAKS. DeFi? Ours. NFTs? Done better. P2E games? Zoo-level wild. Think social platforms, staking protocols, charitable initiatives, DEXs, multi-chain integrations, and utility tools**all with the **KNUT flair and memecoin vibe.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Our secret sauce? We combine relentless community power, battle-tested tokenomics, and a zero-prisoner mentality to crush competitors. We dont just follow trends; we take the best of whats out there, make it unstoppable, and slap a polar bear logo on it.",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: "Well scale with:",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "- Cross-chain dominance: From Ethereum to Solana and beyond.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- NFT ecosystems: Zoo-Meta drops that actually slap.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "- Web3 marketplaces: Degenerate shopping sprees for the community.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "- Game-changing DeFi protocols: Staking? Steakified. Farming? Yielded.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "- Education platforms: Because even degens need DYOR tools.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "- Global outreach: Memes, marketing, and mainstream partnerships.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "The world is building Web3were building Web3 better. $KNUT isnt just scaling; its creating an empire. Well claim the Arctic, Web3, and everything in between.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Because if theyve built it, well build it better.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "$KNUT forever. Wagmi. Steak soon.",
          }),
          p.jsx("div", {
            className: "Roadmap_header",
            children: "The Ultimate Guide to Cooking Steak",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Steak is an art form, and whether youre a grill master or a kitchen newbie, theres a cooking method for you. Heres a breakdown of the most popular ways to cook steakbecause no matter the style, the goal is always perfection.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 1. Grilling (Classic Steakhouse Style)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Best For: Ribeye, T-bone, or Sirloin.",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Steps:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "1. Preheat your grill to high heat.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "2. Season your steak with salt, pepper, and olive oil.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "3. Sear for 3-5 minutes per side for medium-rare (internal temp: 130F/54C).",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "4. Rest for 5-10 minutes before serving.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: For grill marks, rotate your steak 45 halfway through searing each side.",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 2. Pan-Seared (Quick and Flavorful)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Best For: Filet Mignon, Strip Steak.",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Steps:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "1. Heat a heavy skillet (cast iron is ideal) until smoking hot.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "2. Add oil and lay your seasoned steak in the pan.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "3. Sear for 3-4 minutes per side. Add butter, garlic, and herbs (like rosemary) for a butter-basted finish.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "4. Rest before serving.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: Spoon melted butter over the steak while it cooks for extra flavor.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 3. Sous Vide (Precision Cooking)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Best For: All cuts, especially thick ones.",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Steps:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "1. Season your steak and seal it in a vacuum bag.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "2. Cook in a sous vide bath at your desired temperature (e.g., 129F/54C for medium-rare) for 1-3 hours.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "3. Finish with a hot sear in a skillet or grill for a crispy crust.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: Sous vide ensures perfect doneness, so focus on the sear for the ultimate steak.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 4. Broiling (Oven Magic)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Best For: Flank Steak, Skirt Steak.",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "STEPS:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "1. Preheat your ovens broiler and place the steak on a rack over a baking sheet.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "2. Broil 3-4 inches from the heat source for 4-6 minutes per side.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "3. Let it rest before slicing.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: Use a marinade to tenderize tougher cuts before broiling.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 5. Reverse Searing (Best for Thick Cuts)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Best For: Tomahawk, Porterhouse.",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Steps:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "1. Preheat your oven to 275F (135C).",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "2. Slowly cook the steak on a wire rack until it reaches 10F below your desired doneness.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "3. Sear in a hot skillet for 1-2 minutes per side.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: This method gives you an even cook with a perfect crust.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 6. Smoking (For the BBQ Enthusiast)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Best For: Brisket-style cuts or any fatty steak.",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Steps:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "1. Preheat your smoker to 225F (107C).",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "2. Season your steak generously and smoke for 30-60 minutes.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "3. Finish with a high-heat sear if needed.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: Add wood chips (like hickory or mesquite) for smoky flavor.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " 7. Steak Tartare (No Cooking Required!)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Best For: High-quality, super fresh cuts (e.g., tenderloin).",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Steps:" }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "1. Dice the steak finely.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "2. Mix with raw egg yolk, capers, mustard, and seasonings.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "3. Serve cold with toast or crackers.",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Pro Tip: Always use steak-grade meat and keep it chilled.",
          }),
          "---",
          p.jsx("div", {
            className: "Roadmap_phase",
            children: " Steak Doneness Temperatures:",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Rare: 120-125F (49-52C)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Medium-Rare: 130-135F (54-57C)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Medium: 140-145F (60-63C)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Medium-Well: 150-155F (65-68C)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "- Well-Done: 160F+ (71C+)",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children:
              "No matter how you cook it, rest your steak for 5-10 minutes before slicingit locks in those juices and ensures maximum flavor. Now grab your favorite cut, fire up your tools, and get cooking! Steak baby, soon!",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children: "Thx 4 reading",
          }),
          p.jsx("div", { className: "Roadmap_step", children: "Wp rip xx" }),
        ],
      }),
    })
  ),
  dj = [
    "Smart Contracts",
    "Decentralized Finance (DeFi)",
    "NFTs (Non-Fungible Tokens)",
    "Blockchain",
    "Ledger",
    "Hashing",
    "Crypto Mining",
    "Consensus Mechanisms",
    "Proof of Work (PoW)",
    "Proof of Stake (PoS)",
    "Validator Nodes",
    "Forks (Hard Fork, Soft Fork)",
    "Tokenomics",
    "Crypto Wallets",
    "Staking",
    "Governance Tokens",
    "Utility Tokens",
    "Stablecoins",
    "Liquidity Pools",
    "Yield Farming",
    "Encryption",
    "Cryptographic Keys",
    "Private Keys",
    "Public Keys",
    "Digital Signatures",
    "Multi-Signature Wallets",
    "Zero-Knowledge Proofs",
    "Layer 1 Blockchains",
    "Layer 2 Solutions",
    "Gas Fees",
    "On-Chain Transactions",
    "Off-Chain Transactions",
    "Blockchain Scalability",
    "Oracles",
    "Sharding",
    "51_ Attack",
    "Byzantine Fault Tolerance",
    "Secure Hash Algorithm (SHA)",
    "Merkle Trees",
    "Block Rewards",
    "Liquidity Mining",
    "Flash Loans",
    "Token Swaps",
    "Automated Market Makers (AMMs)",
    "Decentralized Exchanges (DEXs)",
    "Centralized Exchanges (CEXs)",
    "Initial Coin Offering (ICO)",
    "Initial DEX Offering (IDO)",
    "Airdrops",
    "Crypto Lending",
    "Borrowing",
    "Collateralization",
    "Synthetic Assets",
    "Perpetual Contracts",
    "Derivatives",
    "Market Cap",
    "Trading Volume",
    "Slippage",
    "Arbitrage",
    "Crypto Indices",
    "FRED",
    "HARAMBE",
    "PNUT",
  ].sort(() => Math.random() - 0.5),
  fj = (r) => {
    const [e, t] = K.useState("");
    return (
      K.useEffect(() => {
        xr.completeQuest("whitepaper");
      }, []),
      p.jsx(pt, {
        type: "whitepaper",
        children: p.jsx("div", {
          className: "Whitepaper",
          children: e
            ? p.jsxs(p.Fragment, {
                children: [
                  p.jsx("div", {
                    className: "free_img Whitepaper_back",
                    children: p.jsx("img", {
                      src: "/img/cross.png",
                      alt: "",
                      onClick: () => {
                        t("");
                      },
                    }),
                  }),
                  p.jsx("img", {
                    src: `/img/whitepapers/${e}.webp`,
                    className: "Whitepaper_content",
                    alt: "",
                  }),
                ],
              })
            : p.jsx("div", {
                className: "Whitepaper_list",
                children: dj.map((n, i) =>
                  p.jsxs("div", {
                    className: "Whitepaper_element",
                    onClick: () => {
                      n === "FRED" && xr.completeQuest("find-fred"),
                        n === "HARAMBE" && xr.completeQuest("find-harambe"),
                        n === "PNUT" && xr.completeQuest("find-pnut"),
                        t(n);
                    },
                    children: [
                      p.jsx("img", { src: "/img/folder.png", alt: "" }),
                      p.jsx("div", {
                        className: "Whitepaper_element_name",
                        children: n,
                      }),
                    ],
                  })
                ),
              }),
        }),
      })
    );
  };
function Fs(r) {
  if (r === void 0)
    throw new ReferenceError(
      "this hasn't been initialised - super() hasn't been called"
    );
  return r;
}
function qR(r, e) {
  (r.prototype = Object.create(e.prototype)),
    (r.prototype.constructor = r),
    (r.__proto__ = e);
}
/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */ var qn = {
    autoSleep: 120,
    force3D: "auto",
    nullTargetWarn: 1,
    units: { lineHeight: "" },
  },
  Au = { duration: 0.5, overwrite: !1, delay: 0 },
  jw,
  rn,
  Ct,
  Si = 1e8,
  _t = 1 / Si,
  Sv = Math.PI * 2,
  pj = Sv / 4,
  mj = 0,
  ZR = Math.sqrt,
  gj = Math.cos,
  _j = Math.sin,
  Ir = function (e) {
    return typeof e == "string";
  },
  Ht = function (e) {
    return typeof e == "function";
  },
  uo = function (e) {
    return typeof e == "number";
  },
  $w = function (e) {
    return typeof e > "u";
  },
  Ts = function (e) {
    return typeof e == "object";
  },
  An = function (e) {
    return e !== !1;
  },
  zw = function () {
    return typeof window < "u";
  },
  $d = function (e) {
    return Ht(e) || Ir(e);
  },
  QR =
    (typeof ArrayBuffer == "function" && ArrayBuffer.isView) || function () {},
  nn = Array.isArray,
  Ev = /(?:-?\.?\d|\.)+/gi,
  JR = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,
  Zl = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g,
  $_ = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,
  eD = /[+-]=-?[.\d]+/,
  tD = /[^,'"\[\]\s]+/gi,
  yj = /^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,
  Mt,
  ds,
  Tv,
  Ww,
  Jn = {},
  Up = {},
  rD,
  nD = function (e) {
    return (Up = tl(e, Jn)) && Mn;
  },
  Hw = function (e, t) {
    return console.warn(
      "Invalid property",
      e,
      "set to",
      t,
      "Missing plugin? gsap.registerPlugin()"
    );
  },
  Ch = function (e, t) {
    return !t && console.warn(e);
  },
  iD = function (e, t) {
    return (e && (Jn[e] = t) && Up && (Up[e] = t)) || Jn;
  },
  Rh = function () {
    return 0;
  },
  vj = { suppressEvents: !0, isStart: !0, kill: !1 },
  Yf = { suppressEvents: !0, kill: !1 },
  xj = { suppressEvents: !0 },
  Vw = {},
  Yo = [],
  kv = {},
  sD,
  Gn = {},
  z_ = {},
  dE = 30,
  Kf = [],
  Xw = "",
  Yw = function (e) {
    var t = e[0],
      n,
      i;
    if ((Ts(t) || Ht(t) || (e = [e]), !(n = (t._gsap || {}).harness))) {
      for (i = Kf.length; i-- && !Kf[i].targetTest(t); );
      n = Kf[i];
    }
    for (i = e.length; i--; )
      (e[i] && (e[i]._gsap || (e[i]._gsap = new CD(e[i], n)))) ||
        e.splice(i, 1);
    return e;
  },
  Ua = function (e) {
    return e._gsap || Yw(Ei(e))[0]._gsap;
  },
  oD = function (e, t, n) {
    return (n = e[t]) && Ht(n)
      ? e[t]()
      : ($w(n) && e.getAttribute && e.getAttribute(t)) || n;
  },
  Pn = function (e, t) {
    return (e = e.split(",")).forEach(t) || e;
  },
  Yt = function (e) {
    return Math.round(e * 1e5) / 1e5 || 0;
  },
  Rr = function (e) {
    return Math.round(e * 1e7) / 1e7 || 0;
  },
  lu = function (e, t) {
    var n = t.charAt(0),
      i = parseFloat(t.substr(2));
    return (
      (e = parseFloat(e)),
      n === "+" ? e + i : n === "-" ? e - i : n === "*" ? e * i : e / i
    );
  },
  wj = function (e, t) {
    for (var n = t.length, i = 0; e.indexOf(t[i]) < 0 && ++i < n; );
    return i < n;
  },
  Gp = function () {
    var e = Yo.length,
      t = Yo.slice(0),
      n,
      i;
    for (kv = {}, Yo.length = 0, n = 0; n < e; n++)
      (i = t[n]),
        i && i._lazy && (i.render(i._lazy[0], i._lazy[1], !0)._lazy = 0);
  },
  aD = function (e, t, n, i) {
    Yo.length && !rn && Gp(),
      e.render(t, n, rn && t < 0 && (e._initted || e._startAt)),
      Yo.length && !rn && Gp();
  },
  lD = function (e) {
    var t = parseFloat(e);
    return (t || t === 0) && (e + "").match(tD).length < 2
      ? t
      : Ir(e)
      ? e.trim()
      : e;
  },
  uD = function (e) {
    return e;
  },
  Ri = function (e, t) {
    for (var n in t) n in e || (e[n] = t[n]);
    return e;
  },
  bj = function (e) {
    return function (t, n) {
      for (var i in n)
        i in t || (i === "duration" && e) || i === "ease" || (t[i] = n[i]);
    };
  },
  tl = function (e, t) {
    for (var n in t) e[n] = t[n];
    return e;
  },
  fE = function r(e, t) {
    for (var n in t)
      n !== "__proto__" &&
        n !== "constructor" &&
        n !== "prototype" &&
        (e[n] = Ts(t[n]) ? r(e[n] || (e[n] = {}), t[n]) : t[n]);
    return e;
  },
  jp = function (e, t) {
    var n = {},
      i;
    for (i in e) i in t || (n[i] = e[i]);
    return n;
  },
  Jc = function (e) {
    var t = e.parent || Mt,
      n = e.keyframes ? bj(nn(e.keyframes)) : Ri;
    if (An(e.inherit))
      for (; t; ) n(e, t.vars.defaults), (t = t.parent || t._dp);
    return e;
  },
  Sj = function (e, t) {
    for (var n = e.length, i = n === t.length; i && n-- && e[n] === t[n]; );
    return n < 0;
  },
  cD = function (e, t, n, i, s) {
    var o = e[i],
      a;
    if (s) for (a = t[s]; o && o[s] > a; ) o = o._prev;
    return (
      o ? ((t._next = o._next), (o._next = t)) : ((t._next = e[n]), (e[n] = t)),
      t._next ? (t._next._prev = t) : (e[i] = t),
      (t._prev = o),
      (t.parent = t._dp = e),
      t
    );
  },
  lg = function (e, t, n, i) {
    n === void 0 && (n = "_first"), i === void 0 && (i = "_last");
    var s = t._prev,
      o = t._next;
    s ? (s._next = o) : e[n] === t && (e[n] = o),
      o ? (o._prev = s) : e[i] === t && (e[i] = s),
      (t._next = t._prev = t.parent = null);
  },
  Jo = function (e, t) {
    e.parent &&
      (!t || e.parent.autoRemoveChildren) &&
      e.parent.remove &&
      e.parent.remove(e),
      (e._act = 0);
  },
  Ga = function (e, t) {
    if (e && (!t || t._end > e._dur || t._start < 0))
      for (var n = e; n; ) (n._dirty = 1), (n = n.parent);
    return e;
  },
  Ej = function (e) {
    for (var t = e.parent; t && t.parent; )
      (t._dirty = 1), t.totalDuration(), (t = t.parent);
    return e;
  },
  Av = function (e, t, n, i) {
    return (
      e._startAt &&
      (rn
        ? e._startAt.revert(Yf)
        : (e.vars.immediateRender && !e.vars.autoRevert) ||
          e._startAt.render(t, !0, i))
    );
  },
  Tj = function r(e) {
    return !e || (e._ts && r(e.parent));
  },
  pE = function (e) {
    return e._repeat ? Pu(e._tTime, (e = e.duration() + e._rDelay)) * e : 0;
  },
  Pu = function (e, t) {
    var n = Math.floor((e /= t));
    return e && n === e ? n - 1 : n;
  },
  $p = function (e, t) {
    return (
      (e - t._start) * t._ts +
      (t._ts >= 0 ? 0 : t._dirty ? t.totalDuration() : t._tDur)
    );
  },
  ug = function (e) {
    return (e._end = Rr(
      e._start + (e._tDur / Math.abs(e._ts || e._rts || _t) || 0)
    ));
  },
  cg = function (e, t) {
    var n = e._dp;
    return (
      n &&
        n.smoothChildTiming &&
        e._ts &&
        ((e._start = Rr(
          n._time -
            (e._ts > 0
              ? t / e._ts
              : ((e._dirty ? e.totalDuration() : e._tDur) - t) / -e._ts)
        )),
        ug(e),
        n._dirty || Ga(n, e)),
      e
    );
  },
  hD = function (e, t) {
    var n;
    if (
      ((t._time ||
        (!t._dur && t._initted) ||
        (t._start < e._time && (t._dur || !t.add))) &&
        ((n = $p(e.rawTime(), t)),
        (!t._dur || ld(0, t.totalDuration(), n) - t._tTime > _t) &&
          t.render(n, !0)),
      Ga(e, t)._dp && e._initted && e._time >= e._dur && e._ts)
    ) {
      if (e._dur < e.duration())
        for (n = e; n._dp; )
          n.rawTime() >= 0 && n.totalTime(n._tTime), (n = n._dp);
      e._zTime = -_t;
    }
  },
  ms = function (e, t, n, i) {
    return (
      t.parent && Jo(t),
      (t._start = Rr(
        (uo(n) ? n : n || e !== Mt ? li(e, n, t) : e._time) + t._delay
      )),
      (t._end = Rr(
        t._start + (t.totalDuration() / Math.abs(t.timeScale()) || 0)
      )),
      cD(e, t, "_first", "_last", e._sort ? "_start" : 0),
      Pv(t) || (e._recent = t),
      i || hD(e, t),
      e._ts < 0 && cg(e, e._tTime),
      e
    );
  },
  dD = function (e, t) {
    return (
      (Jn.ScrollTrigger || Hw("scrollTrigger", t)) &&
      Jn.ScrollTrigger.create(t, e)
    );
  },
  fD = function (e, t, n, i, s) {
    if ((qw(e, t, s), !e._initted)) return 1;
    if (
      !n &&
      e._pt &&
      !rn &&
      ((e._dur && e.vars.lazy !== !1) || (!e._dur && e.vars.lazy)) &&
      sD !== Wn.frame
    )
      return Yo.push(e), (e._lazy = [s, i]), 1;
  },
  kj = function r(e) {
    var t = e.parent;
    return t && t._ts && t._initted && !t._lock && (t.rawTime() < 0 || r(t));
  },
  Pv = function (e) {
    var t = e.data;
    return t === "isFromStart" || t === "isStart";
  },
  Aj = function (e, t, n, i) {
    var s = e.ratio,
      o =
        t < 0 ||
        (!t &&
          ((!e._start && kj(e) && !(!e._initted && Pv(e))) ||
            ((e._ts < 0 || e._dp._ts < 0) && !Pv(e))))
          ? 0
          : 1,
      a = e._rDelay,
      l = 0,
      u,
      c,
      h;
    if (
      (a &&
        e._repeat &&
        ((l = ld(0, e._tDur, t)),
        (c = Pu(l, a)),
        e._yoyo && c & 1 && (o = 1 - o),
        c !== Pu(e._tTime, a) &&
          ((s = 1 - o), e.vars.repeatRefresh && e._initted && e.invalidate())),
      o !== s || rn || i || e._zTime === _t || (!t && e._zTime))
    ) {
      if (!e._initted && fD(e, t, i, n, l)) return;
      for (
        h = e._zTime,
          e._zTime = t || (n ? _t : 0),
          n || (n = t && !h),
          e.ratio = o,
          e._from && (o = 1 - o),
          e._time = 0,
          e._tTime = l,
          u = e._pt;
        u;

      )
        u.r(o, u.d), (u = u._next);
      t < 0 && Av(e, t, n, !0),
        e._onUpdate && !n && Xn(e, "onUpdate"),
        l && e._repeat && !n && e.parent && Xn(e, "onRepeat"),
        (t >= e._tDur || t < 0) &&
          e.ratio === o &&
          (o && Jo(e, 1),
          !n &&
            !rn &&
            (Xn(e, o ? "onComplete" : "onReverseComplete", !0),
            e._prom && e._prom()));
    } else e._zTime || (e._zTime = t);
  },
  Pj = function (e, t, n) {
    var i;
    if (n > t)
      for (i = e._first; i && i._start <= n; ) {
        if (i.data === "isPause" && i._start > t) return i;
        i = i._next;
      }
    else
      for (i = e._last; i && i._start >= n; ) {
        if (i.data === "isPause" && i._start < t) return i;
        i = i._prev;
      }
  },
  Cu = function (e, t, n, i) {
    var s = e._repeat,
      o = Rr(t) || 0,
      a = e._tTime / e._tDur;
    return (
      a && !i && (e._time *= o / e._dur),
      (e._dur = o),
      (e._tDur = s ? (s < 0 ? 1e10 : Rr(o * (s + 1) + e._rDelay * s)) : o),
      a > 0 && !i && cg(e, (e._tTime = e._tDur * a)),
      e.parent && ug(e),
      n || Ga(e.parent, e),
      e
    );
  },
  mE = function (e) {
    return e instanceof an ? Ga(e) : Cu(e, e._dur);
  },
  Cj = { _start: 0, endTime: Rh, totalDuration: Rh },
  li = function r(e, t, n) {
    var i = e.labels,
      s = e._recent || Cj,
      o = e.duration() >= Si ? s.endTime(!1) : e._dur,
      a,
      l,
      u;
    return Ir(t) && (isNaN(t) || t in i)
      ? ((l = t.charAt(0)),
        (u = t.substr(-1) === "%"),
        (a = t.indexOf("=")),
        l === "<" || l === ">"
          ? (a >= 0 && (t = t.replace(/=/, "")),
            (l === "<" ? s._start : s.endTime(s._repeat >= 0)) +
              (parseFloat(t.substr(1)) || 0) *
                (u ? (a < 0 ? s : n).totalDuration() / 100 : 1))
          : a < 0
          ? (t in i || (i[t] = o), i[t])
          : ((l = parseFloat(t.charAt(a - 1) + t.substr(a + 1))),
            u && n && (l = (l / 100) * (nn(n) ? n[0] : n).totalDuration()),
            a > 1 ? r(e, t.substr(0, a - 1), n) + l : o + l))
      : t == null
      ? o
      : +t;
  },
  eh = function (e, t, n) {
    var i = uo(t[1]),
      s = (i ? 2 : 1) + (e < 2 ? 0 : 1),
      o = t[s],
      a,
      l;
    if ((i && (o.duration = t[1]), (o.parent = n), e)) {
      for (a = o, l = n; l && !("immediateRender" in a); )
        (a = l.vars.defaults || {}), (l = An(l.vars.inherit) && l.parent);
      (o.immediateRender = An(a.immediateRender)),
        e < 2 ? (o.runBackwards = 1) : (o.startAt = t[s - 1]);
    }
    return new pr(t[0], o, t[s + 1]);
  },
  la = function (e, t) {
    return e || e === 0 ? t(e) : t;
  },
  ld = function (e, t, n) {
    return n < e ? e : n > t ? t : n;
  },
  en = function (e, t) {
    return !Ir(e) || !(t = yj.exec(e)) ? "" : t[1];
  },
  Rj = function (e, t, n) {
    return la(n, function (i) {
      return ld(e, t, i);
    });
  },
  Cv = [].slice,
  pD = function (e, t) {
    return (
      e &&
      Ts(e) &&
      "length" in e &&
      ((!t && !e.length) || (e.length - 1 in e && Ts(e[0]))) &&
      !e.nodeType &&
      e !== ds
    );
  },
  Dj = function (e, t, n) {
    return (
      n === void 0 && (n = []),
      e.forEach(function (i) {
        var s;
        return (Ir(i) && !t) || pD(i, 1)
          ? (s = n).push.apply(s, Ei(i))
          : n.push(i);
      }) || n
    );
  },
  Ei = function (e, t, n) {
    return Ct && !t && Ct.selector
      ? Ct.selector(e)
      : Ir(e) && !n && (Tv || !Ru())
      ? Cv.call((t || Ww).querySelectorAll(e), 0)
      : nn(e)
      ? Dj(e, n)
      : pD(e)
      ? Cv.call(e, 0)
      : e
      ? [e]
      : [];
  },
  Rv = function (e) {
    return (
      (e = Ei(e)[0] || Ch("Invalid scope") || {}),
      function (t) {
        var n = e.current || e.nativeElement || e;
        return Ei(
          t,
          n.querySelectorAll
            ? n
            : n === e
            ? Ch("Invalid scope") || Ww.createElement("div")
            : e
        );
      }
    );
  },
  mD = function (e) {
    return e.sort(function () {
      return 0.5 - Math.random();
    });
  },
  gD = function (e) {
    if (Ht(e)) return e;
    var t = Ts(e) ? e : { each: e },
      n = ja(t.ease),
      i = t.from || 0,
      s = parseFloat(t.base) || 0,
      o = {},
      a = i > 0 && i < 1,
      l = isNaN(i) || a,
      u = t.axis,
      c = i,
      h = i;
    return (
      Ir(i)
        ? (c = h = { center: 0.5, edges: 0.5, end: 1 }[i] || 0)
        : !a && l && ((c = i[0]), (h = i[1])),
      function (d, f, m) {
        var g = (m || t).length,
          _ = o[g],
          v,
          w,
          x,
          k,
          C,
          F,
          I,
          G,
          j;
        if (!_) {
          if (((j = t.grid === "auto" ? 0 : (t.grid || [1, Si])[1]), !j)) {
            for (
              I = -Si;
              I < (I = m[j++].getBoundingClientRect().left) && j < g;

            );
            j < g && j--;
          }
          for (
            _ = o[g] = [],
              v = l ? Math.min(j, g) * c - 0.5 : i % j,
              w = j === Si ? 0 : l ? (g * h) / j - 0.5 : (i / j) | 0,
              I = 0,
              G = Si,
              F = 0;
            F < g;
            F++
          )
            (x = (F % j) - v),
              (k = w - ((F / j) | 0)),
              (_[F] = C = u ? Math.abs(u === "y" ? k : x) : ZR(x * x + k * k)),
              C > I && (I = C),
              C < G && (G = C);
          i === "random" && mD(_),
            (_.max = I - G),
            (_.min = G),
            (_.v = g =
              (parseFloat(t.amount) ||
                parseFloat(t.each) *
                  (j > g
                    ? g - 1
                    : u
                    ? u === "y"
                      ? g / j
                      : j
                    : Math.max(j, g / j)) ||
                0) * (i === "edges" ? -1 : 1)),
            (_.b = g < 0 ? s - g : s),
            (_.u = en(t.amount || t.each) || 0),
            (n = n && g < 0 ? kD(n) : n);
        }
        return (
          (g = (_[d] - _.min) / _.max || 0),
          Rr(_.b + (n ? n(g) : g) * _.v) + _.u
        );
      }
    );
  },
  Dv = function (e) {
    var t = Math.pow(10, ((e + "").split(".")[1] || "").length);
    return function (n) {
      var i = Rr(Math.round(parseFloat(n) / e) * e * t);
      return (i - (i % 1)) / t + (uo(n) ? 0 : en(n));
    };
  },
  _D = function (e, t) {
    var n = nn(e),
      i,
      s;
    return (
      !n &&
        Ts(e) &&
        ((i = n = e.radius || Si),
        e.values
          ? ((e = Ei(e.values)), (s = !uo(e[0])) && (i *= i))
          : (e = Dv(e.increment))),
      la(
        t,
        n
          ? Ht(e)
            ? function (o) {
                return (s = e(o)), Math.abs(s - o) <= i ? s : o;
              }
            : function (o) {
                for (
                  var a = parseFloat(s ? o.x : o),
                    l = parseFloat(s ? o.y : 0),
                    u = Si,
                    c = 0,
                    h = e.length,
                    d,
                    f;
                  h--;

                )
                  s
                    ? ((d = e[h].x - a), (f = e[h].y - l), (d = d * d + f * f))
                    : (d = Math.abs(e[h] - a)),
                    d < u && ((u = d), (c = h));
                return (
                  (c = !i || u <= i ? e[c] : o),
                  s || c === o || uo(o) ? c : c + en(o)
                );
              }
          : Dv(e)
      )
    );
  },
  yD = function (e, t, n, i) {
    return la(nn(e) ? !t : n === !0 ? !!(n = 0) : !i, function () {
      return nn(e)
        ? e[~~(Math.random() * e.length)]
        : (n = n || 1e-5) &&
            (i = n < 1 ? Math.pow(10, (n + "").length - 2) : 1) &&
            Math.floor(
              Math.round((e - n / 2 + Math.random() * (t - e + n * 0.99)) / n) *
                n *
                i
            ) / i;
    });
  },
  Mj = function () {
    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
      t[n] = arguments[n];
    return function (i) {
      return t.reduce(function (s, o) {
        return o(s);
      }, i);
    };
  },
  Bj = function (e, t) {
    return function (n) {
      return e(parseFloat(n)) + (t || en(n));
    };
  },
  Oj = function (e, t, n) {
    return xD(e, t, 0, 1, n);
  },
  vD = function (e, t, n) {
    return la(n, function (i) {
      return e[~~t(i)];
    });
  },
  Ij = function r(e, t, n) {
    var i = t - e;
    return nn(e)
      ? vD(e, r(0, e.length), t)
      : la(n, function (s) {
          return ((i + ((s - e) % i)) % i) + e;
        });
  },
  Fj = function r(e, t, n) {
    var i = t - e,
      s = i * 2;
    return nn(e)
      ? vD(e, r(0, e.length - 1), t)
      : la(n, function (o) {
          return (o = (s + ((o - e) % s)) % s || 0), e + (o > i ? s - o : o);
        });
  },
  Dh = function (e) {
    for (var t = 0, n = "", i, s, o, a; ~(i = e.indexOf("random(", t)); )
      (o = e.indexOf(")", i)),
        (a = e.charAt(i + 7) === "["),
        (s = e.substr(i + 7, o - i - 7).match(a ? tD : Ev)),
        (n +=
          e.substr(t, i - t) + yD(a ? s : +s[0], a ? 0 : +s[1], +s[2] || 1e-5)),
        (t = o + 1);
    return n + e.substr(t, e.length - t);
  },
  xD = function (e, t, n, i, s) {
    var o = t - e,
      a = i - n;
    return la(s, function (l) {
      return n + (((l - e) / o) * a || 0);
    });
  },
  Nj = function r(e, t, n, i) {
    var s = isNaN(e + t)
      ? 0
      : function (f) {
          return (1 - f) * e + f * t;
        };
    if (!s) {
      var o = Ir(e),
        a = {},
        l,
        u,
        c,
        h,
        d;
      if ((n === !0 && (i = 1) && (n = null), o))
        (e = { p: e }), (t = { p: t });
      else if (nn(e) && !nn(t)) {
        for (c = [], h = e.length, d = h - 2, u = 1; u < h; u++)
          c.push(r(e[u - 1], e[u]));
        h--,
          (s = function (m) {
            m *= h;
            var g = Math.min(d, ~~m);
            return c[g](m - g);
          }),
          (n = t);
      } else i || (e = tl(nn(e) ? [] : {}, e));
      if (!c) {
        for (l in t) Kw.call(a, e, l, "get", t[l]);
        s = function (m) {
          return Jw(m, a) || (o ? e.p : e);
        };
      }
    }
    return la(n, s);
  },
  gE = function (e, t, n) {
    var i = e.labels,
      s = Si,
      o,
      a,
      l;
    for (o in i)
      (a = i[o] - t),
        a < 0 == !!n && a && s > (a = Math.abs(a)) && ((l = o), (s = a));
    return l;
  },
  Xn = function (e, t, n) {
    var i = e.vars,
      s = i[t],
      o = Ct,
      a = e._ctx,
      l,
      u,
      c;
    if (s)
      return (
        (l = i[t + "Params"]),
        (u = i.callbackScope || e),
        n && Yo.length && Gp(),
        a && (Ct = a),
        (c = l ? s.apply(u, l) : s.call(u)),
        (Ct = o),
        c
      );
  },
  Oc = function (e) {
    return (
      Jo(e),
      e.scrollTrigger && e.scrollTrigger.kill(!!rn),
      e.progress() < 1 && Xn(e, "onInterrupt"),
      e
    );
  },
  Ql,
  wD = [],
  bD = function (e) {
    if (e)
      if (((e = (!e.name && e.default) || e), zw() || e.headless)) {
        var t = e.name,
          n = Ht(e),
          i =
            t && !n && e.init
              ? function () {
                  this._props = [];
                }
              : e,
          s = {
            init: Rh,
            render: Jw,
            add: Kw,
            kill: Jj,
            modifier: Qj,
            rawVars: 0,
          },
          o = {
            targetTest: 0,
            get: 0,
            getSetter: Qw,
            aliases: {},
            register: 0,
          };
        if ((Ru(), e !== i)) {
          if (Gn[t]) return;
          Ri(i, Ri(jp(e, s), o)),
            tl(i.prototype, tl(s, jp(e, o))),
            (Gn[(i.prop = t)] = i),
            e.targetTest && (Kf.push(i), (Vw[t] = 1)),
            (t =
              (t === "css" ? "CSS" : t.charAt(0).toUpperCase() + t.substr(1)) +
              "Plugin");
        }
        iD(t, i), e.register && e.register(Mn, i, Cn);
      } else wD.push(e);
  },
  ut = 255,
  Ic = {
    aqua: [0, ut, ut],
    lime: [0, ut, 0],
    silver: [192, 192, 192],
    black: [0, 0, 0],
    maroon: [128, 0, 0],
    teal: [0, 128, 128],
    blue: [0, 0, ut],
    navy: [0, 0, 128],
    white: [ut, ut, ut],
    olive: [128, 128, 0],
    yellow: [ut, ut, 0],
    orange: [ut, 165, 0],
    gray: [128, 128, 128],
    purple: [128, 0, 128],
    green: [0, 128, 0],
    red: [ut, 0, 0],
    pink: [ut, 192, 203],
    cyan: [0, ut, ut],
    transparent: [ut, ut, ut, 0],
  },
  W_ = function (e, t, n) {
    return (
      (e += e < 0 ? 1 : e > 1 ? -1 : 0),
      ((e * 6 < 1
        ? t + (n - t) * e * 6
        : e < 0.5
        ? n
        : e * 3 < 2
        ? t + (n - t) * (2 / 3 - e) * 6
        : t) *
        ut +
        0.5) |
        0
    );
  },
  SD = function (e, t, n) {
    var i = e ? (uo(e) ? [e >> 16, (e >> 8) & ut, e & ut] : 0) : Ic.black,
      s,
      o,
      a,
      l,
      u,
      c,
      h,
      d,
      f,
      m;
    if (!i) {
      if ((e.substr(-1) === "," && (e = e.substr(0, e.length - 1)), Ic[e]))
        i = Ic[e];
      else if (e.charAt(0) === "#") {
        if (
          (e.length < 6 &&
            ((s = e.charAt(1)),
            (o = e.charAt(2)),
            (a = e.charAt(3)),
            (e =
              "#" +
              s +
              s +
              o +
              o +
              a +
              a +
              (e.length === 5 ? e.charAt(4) + e.charAt(4) : ""))),
          e.length === 9)
        )
          return (
            (i = parseInt(e.substr(1, 6), 16)),
            [i >> 16, (i >> 8) & ut, i & ut, parseInt(e.substr(7), 16) / 255]
          );
        (e = parseInt(e.substr(1), 16)), (i = [e >> 16, (e >> 8) & ut, e & ut]);
      } else if (e.substr(0, 3) === "hsl") {
        if (((i = m = e.match(Ev)), !t))
          (l = (+i[0] % 360) / 360),
            (u = +i[1] / 100),
            (c = +i[2] / 100),
            (o = c <= 0.5 ? c * (u + 1) : c + u - c * u),
            (s = c * 2 - o),
            i.length > 3 && (i[3] *= 1),
            (i[0] = W_(l + 1 / 3, s, o)),
            (i[1] = W_(l, s, o)),
            (i[2] = W_(l - 1 / 3, s, o));
        else if (~e.indexOf("="))
          return (i = e.match(JR)), n && i.length < 4 && (i[3] = 1), i;
      } else i = e.match(Ev) || Ic.transparent;
      i = i.map(Number);
    }
    return (
      t &&
        !m &&
        ((s = i[0] / ut),
        (o = i[1] / ut),
        (a = i[2] / ut),
        (h = Math.max(s, o, a)),
        (d = Math.min(s, o, a)),
        (c = (h + d) / 2),
        h === d
          ? (l = u = 0)
          : ((f = h - d),
            (u = c > 0.5 ? f / (2 - h - d) : f / (h + d)),
            (l =
              h === s
                ? (o - a) / f + (o < a ? 6 : 0)
                : h === o
                ? (a - s) / f + 2
                : (s - o) / f + 4),
            (l *= 60)),
        (i[0] = ~~(l + 0.5)),
        (i[1] = ~~(u * 100 + 0.5)),
        (i[2] = ~~(c * 100 + 0.5))),
      n && i.length < 4 && (i[3] = 1),
      i
    );
  },
  ED = function (e) {
    var t = [],
      n = [],
      i = -1;
    return (
      e.split(Ko).forEach(function (s) {
        var o = s.match(Zl) || [];
        t.push.apply(t, o), n.push((i += o.length + 1));
      }),
      (t.c = n),
      t
    );
  },
  _E = function (e, t, n) {
    var i = "",
      s = (e + i).match(Ko),
      o = t ? "hsla(" : "rgba(",
      a = 0,
      l,
      u,
      c,
      h;
    if (!s) return e;
    if (
      ((s = s.map(function (d) {
        return (
          (d = SD(d, t, 1)) &&
          o +
            (t ? d[0] + "," + d[1] + "%," + d[2] + "%," + d[3] : d.join(",")) +
            ")"
        );
      })),
      n && ((c = ED(e)), (l = n.c), l.join(i) !== c.c.join(i)))
    )
      for (u = e.replace(Ko, "1").split(Zl), h = u.length - 1; a < h; a++)
        i +=
          u[a] +
          (~l.indexOf(a)
            ? s.shift() || o + "0,0,0,0)"
            : (c.length ? c : s.length ? s : n).shift());
    if (!u)
      for (u = e.split(Ko), h = u.length - 1; a < h; a++) i += u[a] + s[a];
    return i + u[h];
  },
  Ko = (function () {
    var r =
        "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",
      e;
    for (e in Ic) r += "|" + e + "\\b";
    return new RegExp(r + ")", "gi");
  })(),
  Lj = /hsl[a]?\(/,
  TD = function (e) {
    var t = e.join(" "),
      n;
    if (((Ko.lastIndex = 0), Ko.test(t)))
      return (
        (n = Lj.test(t)),
        (e[1] = _E(e[1], n)),
        (e[0] = _E(e[0], n, ED(e[1]))),
        !0
      );
  },
  Mh,
  Wn = (function () {
    var r = Date.now,
      e = 500,
      t = 33,
      n = r(),
      i = n,
      s = 1e3 / 240,
      o = s,
      a = [],
      l,
      u,
      c,
      h,
      d,
      f,
      m = function g(_) {
        var v = r() - i,
          w = _ === !0,
          x,
          k,
          C,
          F;
        if (
          ((v > e || v < 0) && (n += v - t),
          (i += v),
          (C = i - n),
          (x = C - o),
          (x > 0 || w) &&
            ((F = ++h.frame),
            (d = C - h.time * 1e3),
            (h.time = C = C / 1e3),
            (o += x + (x >= s ? 4 : s - x)),
            (k = 1)),
          w || (l = u(g)),
          k)
        )
          for (f = 0; f < a.length; f++) a[f](C, d, F, _);
      };
    return (
      (h = {
        time: 0,
        frame: 0,
        tick: function () {
          m(!0);
        },
        deltaRatio: function (_) {
          return d / (1e3 / (_ || 60));
        },
        wake: function () {
          rD &&
            (!Tv &&
              zw() &&
              ((ds = Tv = window),
              (Ww = ds.document || {}),
              (Jn.gsap = Mn),
              (ds.gsapVersions || (ds.gsapVersions = [])).push(Mn.version),
              nD(Up || ds.GreenSockGlobals || (!ds.gsap && ds) || {}),
              wD.forEach(bD)),
            (c = typeof requestAnimationFrame < "u" && requestAnimationFrame),
            l && h.sleep(),
            (u =
              c ||
              function (_) {
                return setTimeout(_, (o - h.time * 1e3 + 1) | 0);
              }),
            (Mh = 1),
            m(2));
        },
        sleep: function () {
          (c ? cancelAnimationFrame : clearTimeout)(l), (Mh = 0), (u = Rh);
        },
        lagSmoothing: function (_, v) {
          (e = _ || 1 / 0), (t = Math.min(v || 33, e));
        },
        fps: function (_) {
          (s = 1e3 / (_ || 240)), (o = h.time * 1e3 + s);
        },
        add: function (_, v, w) {
          var x = v
            ? function (k, C, F, I) {
                _(k, C, F, I), h.remove(x);
              }
            : _;
          return h.remove(_), a[w ? "unshift" : "push"](x), Ru(), x;
        },
        remove: function (_, v) {
          ~(v = a.indexOf(_)) && a.splice(v, 1) && f >= v && f--;
        },
        _listeners: a,
      }),
      h
    );
  })(),
  Ru = function () {
    return !Mh && Wn.wake();
  },
  Ve = {},
  Uj = /^[\d.\-M][\d.\-,\s]/,
  Gj = /["']/g,
  jj = function (e) {
    for (
      var t = {},
        n = e.substr(1, e.length - 3).split(":"),
        i = n[0],
        s = 1,
        o = n.length,
        a,
        l,
        u;
      s < o;
      s++
    )
      (l = n[s]),
        (a = s !== o - 1 ? l.lastIndexOf(",") : l.length),
        (u = l.substr(0, a)),
        (t[i] = isNaN(u) ? u.replace(Gj, "").trim() : +u),
        (i = l.substr(a + 1).trim());
    return t;
  },
  $j = function (e) {
    var t = e.indexOf("(") + 1,
      n = e.indexOf(")"),
      i = e.indexOf("(", t);
    return e.substring(t, ~i && i < n ? e.indexOf(")", n + 1) : n);
  },
  zj = function (e) {
    var t = (e + "").split("("),
      n = Ve[t[0]];
    return n && t.length > 1 && n.config
      ? n.config.apply(
          null,
          ~e.indexOf("{") ? [jj(t[1])] : $j(e).split(",").map(lD)
        )
      : Ve._CE && Uj.test(e)
      ? Ve._CE("", e)
      : n;
  },
  kD = function (e) {
    return function (t) {
      return 1 - e(1 - t);
    };
  },
  AD = function r(e, t) {
    for (var n = e._first, i; n; )
      n instanceof an
        ? r(n, t)
        : n.vars.yoyoEase &&
          (!n._yoyo || !n._repeat) &&
          n._yoyo !== t &&
          (n.timeline
            ? r(n.timeline, t)
            : ((i = n._ease),
              (n._ease = n._yEase),
              (n._yEase = i),
              (n._yoyo = t))),
        (n = n._next);
  },
  ja = function (e, t) {
    return (e && (Ht(e) ? e : Ve[e] || zj(e))) || t;
  },
  pl = function (e, t, n, i) {
    n === void 0 &&
      (n = function (l) {
        return 1 - t(1 - l);
      }),
      i === void 0 &&
        (i = function (l) {
          return l < 0.5 ? t(l * 2) / 2 : 1 - t((1 - l) * 2) / 2;
        });
    var s = { easeIn: t, easeOut: n, easeInOut: i },
      o;
    return (
      Pn(e, function (a) {
        (Ve[a] = Jn[a] = s), (Ve[(o = a.toLowerCase())] = n);
        for (var l in s)
          Ve[
            o + (l === "easeIn" ? ".in" : l === "easeOut" ? ".out" : ".inOut")
          ] = Ve[a + "." + l] = s[l];
      }),
      s
    );
  },
  PD = function (e) {
    return function (t) {
      return t < 0.5 ? (1 - e(1 - t * 2)) / 2 : 0.5 + e((t - 0.5) * 2) / 2;
    };
  },
  H_ = function r(e, t, n) {
    var i = t >= 1 ? t : 1,
      s = (n || (e ? 0.3 : 0.45)) / (t < 1 ? t : 1),
      o = (s / Sv) * (Math.asin(1 / i) || 0),
      a = function (c) {
        return c === 1 ? 1 : i * Math.pow(2, -10 * c) * _j((c - o) * s) + 1;
      },
      l =
        e === "out"
          ? a
          : e === "in"
          ? function (u) {
              return 1 - a(1 - u);
            }
          : PD(a);
    return (
      (s = Sv / s),
      (l.config = function (u, c) {
        return r(e, u, c);
      }),
      l
    );
  },
  V_ = function r(e, t) {
    t === void 0 && (t = 1.70158);
    var n = function (o) {
        return o ? --o * o * ((t + 1) * o + t) + 1 : 0;
      },
      i =
        e === "out"
          ? n
          : e === "in"
          ? function (s) {
              return 1 - n(1 - s);
            }
          : PD(n);
    return (
      (i.config = function (s) {
        return r(e, s);
      }),
      i
    );
  };
Pn("Linear,Quad,Cubic,Quart,Quint,Strong", function (r, e) {
  var t = e < 5 ? e + 1 : e;
  pl(
    r + ",Power" + (t - 1),
    e
      ? function (n) {
          return Math.pow(n, t);
        }
      : function (n) {
          return n;
        },
    function (n) {
      return 1 - Math.pow(1 - n, t);
    },
    function (n) {
      return n < 0.5
        ? Math.pow(n * 2, t) / 2
        : 1 - Math.pow((1 - n) * 2, t) / 2;
    }
  );
});
Ve.Linear.easeNone = Ve.none = Ve.Linear.easeIn;
pl("Elastic", H_("in"), H_("out"), H_());
(function (r, e) {
  var t = 1 / e,
    n = 2 * t,
    i = 2.5 * t,
    s = function (a) {
      return a < t
        ? r * a * a
        : a < n
        ? r * Math.pow(a - 1.5 / e, 2) + 0.75
        : a < i
        ? r * (a -= 2.25 / e) * a + 0.9375
        : r * Math.pow(a - 2.625 / e, 2) + 0.984375;
    };
  pl(
    "Bounce",
    function (o) {
      return 1 - s(1 - o);
    },
    s
  );
})(7.5625, 2.75);
pl("Expo", function (r) {
  return r ? Math.pow(2, 10 * (r - 1)) : 0;
});
pl("Circ", function (r) {
  return -(ZR(1 - r * r) - 1);
});
pl("Sine", function (r) {
  return r === 1 ? 1 : -gj(r * pj) + 1;
});
pl("Back", V_("in"), V_("out"), V_());
Ve.SteppedEase =
  Ve.steps =
  Jn.SteppedEase =
    {
      config: function (e, t) {
        e === void 0 && (e = 1);
        var n = 1 / e,
          i = e + (t ? 0 : 1),
          s = t ? 1 : 0,
          o = 1 - _t;
        return function (a) {
          return (((i * ld(0, o, a)) | 0) + s) * n;
        };
      },
    };
Au.ease = Ve["quad.out"];
Pn(
  "onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",
  function (r) {
    return (Xw += r + "," + r + "Params,");
  }
);
var CD = function (e, t) {
    (this.id = mj++),
      (e._gsap = this),
      (this.target = e),
      (this.harness = t),
      (this.get = t ? t.get : oD),
      (this.set = t ? t.getSetter : Qw);
  },
  Bh = (function () {
    function r(t) {
      (this.vars = t),
        (this._delay = +t.delay || 0),
        (this._repeat = t.repeat === 1 / 0 ? -2 : t.repeat || 0) &&
          ((this._rDelay = t.repeatDelay || 0),
          (this._yoyo = !!t.yoyo || !!t.yoyoEase)),
        (this._ts = 1),
        Cu(this, +t.duration, 1, 1),
        (this.data = t.data),
        Ct && ((this._ctx = Ct), Ct.data.push(this)),
        Mh || Wn.wake();
    }
    var e = r.prototype;
    return (
      (e.delay = function (n) {
        return n || n === 0
          ? (this.parent &&
              this.parent.smoothChildTiming &&
              this.startTime(this._start + n - this._delay),
            (this._delay = n),
            this)
          : this._delay;
      }),
      (e.duration = function (n) {
        return arguments.length
          ? this.totalDuration(
              this._repeat > 0 ? n + (n + this._rDelay) * this._repeat : n
            )
          : this.totalDuration() && this._dur;
      }),
      (e.totalDuration = function (n) {
        return arguments.length
          ? ((this._dirty = 0),
            Cu(
              this,
              this._repeat < 0
                ? n
                : (n - this._repeat * this._rDelay) / (this._repeat + 1)
            ))
          : this._tDur;
      }),
      (e.totalTime = function (n, i) {
        if ((Ru(), !arguments.length)) return this._tTime;
        var s = this._dp;
        if (s && s.smoothChildTiming && this._ts) {
          for (cg(this, n), !s._dp || s.parent || hD(s, this); s && s.parent; )
            s.parent._time !==
              s._start +
                (s._ts >= 0
                  ? s._tTime / s._ts
                  : (s.totalDuration() - s._tTime) / -s._ts) &&
              s.totalTime(s._tTime, !0),
              (s = s.parent);
          !this.parent &&
            this._dp.autoRemoveChildren &&
            ((this._ts > 0 && n < this._tDur) ||
              (this._ts < 0 && n > 0) ||
              (!this._tDur && !n)) &&
            ms(this._dp, this, this._start - this._delay);
        }
        return (
          (this._tTime !== n ||
            (!this._dur && !i) ||
            (this._initted && Math.abs(this._zTime) === _t) ||
            (!n && !this._initted && (this.add || this._ptLookup))) &&
            (this._ts || (this._pTime = n), aD(this, n, i)),
          this
        );
      }),
      (e.time = function (n, i) {
        return arguments.length
          ? this.totalTime(
              Math.min(this.totalDuration(), n + pE(this)) %
                (this._dur + this._rDelay) || (n ? this._dur : 0),
              i
            )
          : this._time;
      }),
      (e.totalProgress = function (n, i) {
        return arguments.length
          ? this.totalTime(this.totalDuration() * n, i)
          : this.totalDuration()
          ? Math.min(1, this._tTime / this._tDur)
          : this.rawTime() > 0
          ? 1
          : 0;
      }),
      (e.progress = function (n, i) {
        return arguments.length
          ? this.totalTime(
              this.duration() *
                (this._yoyo && !(this.iteration() & 1) ? 1 - n : n) +
                pE(this),
              i
            )
          : this.duration()
          ? Math.min(1, this._time / this._dur)
          : this.rawTime() > 0
          ? 1
          : 0;
      }),
      (e.iteration = function (n, i) {
        var s = this.duration() + this._rDelay;
        return arguments.length
          ? this.totalTime(this._time + (n - 1) * s, i)
          : this._repeat
          ? Pu(this._tTime, s) + 1
          : 1;
      }),
      (e.timeScale = function (n, i) {
        if (!arguments.length) return this._rts === -_t ? 0 : this._rts;
        if (this._rts === n) return this;
        var s =
          this.parent && this._ts ? $p(this.parent._time, this) : this._tTime;
        return (
          (this._rts = +n || 0),
          (this._ts = this._ps || n === -_t ? 0 : this._rts),
          this.totalTime(ld(-Math.abs(this._delay), this._tDur, s), i !== !1),
          ug(this),
          Ej(this)
        );
      }),
      (e.paused = function (n) {
        return arguments.length
          ? (this._ps !== n &&
              ((this._ps = n),
              n
                ? ((this._pTime =
                    this._tTime || Math.max(-this._delay, this.rawTime())),
                  (this._ts = this._act = 0))
                : (Ru(),
                  (this._ts = this._rts),
                  this.totalTime(
                    this.parent && !this.parent.smoothChildTiming
                      ? this.rawTime()
                      : this._tTime || this._pTime,
                    this.progress() === 1 &&
                      Math.abs(this._zTime) !== _t &&
                      (this._tTime -= _t)
                  ))),
            this)
          : this._ps;
      }),
      (e.startTime = function (n) {
        if (arguments.length) {
          this._start = n;
          var i = this.parent || this._dp;
          return (
            i && (i._sort || !this.parent) && ms(i, this, n - this._delay), this
          );
        }
        return this._start;
      }),
      (e.endTime = function (n) {
        return (
          this._start +
          (An(n) ? this.totalDuration() : this.duration()) /
            Math.abs(this._ts || 1)
        );
      }),
      (e.rawTime = function (n) {
        var i = this.parent || this._dp;
        return i
          ? n &&
            (!this._ts ||
              (this._repeat && this._time && this.totalProgress() < 1))
            ? this._tTime % (this._dur + this._rDelay)
            : this._ts
            ? $p(i.rawTime(n), this)
            : this._tTime
          : this._tTime;
      }),
      (e.revert = function (n) {
        n === void 0 && (n = xj);
        var i = rn;
        return (
          (rn = n),
          (this._initted || this._startAt) &&
            (this.timeline && this.timeline.revert(n),
            this.totalTime(-0.01, n.suppressEvents)),
          this.data !== "nested" && n.kill !== !1 && this.kill(),
          (rn = i),
          this
        );
      }),
      (e.globalTime = function (n) {
        for (var i = this, s = arguments.length ? n : i.rawTime(); i; )
          (s = i._start + s / (Math.abs(i._ts) || 1)), (i = i._dp);
        return !this.parent && this._sat ? this._sat.globalTime(n) : s;
      }),
      (e.repeat = function (n) {
        return arguments.length
          ? ((this._repeat = n === 1 / 0 ? -2 : n), mE(this))
          : this._repeat === -2
          ? 1 / 0
          : this._repeat;
      }),
      (e.repeatDelay = function (n) {
        if (arguments.length) {
          var i = this._time;
          return (this._rDelay = n), mE(this), i ? this.time(i) : this;
        }
        return this._rDelay;
      }),
      (e.yoyo = function (n) {
        return arguments.length ? ((this._yoyo = n), this) : this._yoyo;
      }),
      (e.seek = function (n, i) {
        return this.totalTime(li(this, n), An(i));
      }),
      (e.restart = function (n, i) {
        return this.play().totalTime(n ? -this._delay : 0, An(i));
      }),
      (e.play = function (n, i) {
        return n != null && this.seek(n, i), this.reversed(!1).paused(!1);
      }),
      (e.reverse = function (n, i) {
        return (
          n != null && this.seek(n || this.totalDuration(), i),
          this.reversed(!0).paused(!1)
        );
      }),
      (e.pause = function (n, i) {
        return n != null && this.seek(n, i), this.paused(!0);
      }),
      (e.resume = function () {
        return this.paused(!1);
      }),
      (e.reversed = function (n) {
        return arguments.length
          ? (!!n !== this.reversed() &&
              this.timeScale(-this._rts || (n ? -_t : 0)),
            this)
          : this._rts < 0;
      }),
      (e.invalidate = function () {
        return (this._initted = this._act = 0), (this._zTime = -_t), this;
      }),
      (e.isActive = function () {
        var n = this.parent || this._dp,
          i = this._start,
          s;
        return !!(
          !n ||
          (this._ts &&
            this._initted &&
            n.isActive() &&
            (s = n.rawTime(!0)) >= i &&
            s < this.endTime(!0) - _t)
        );
      }),
      (e.eventCallback = function (n, i, s) {
        var o = this.vars;
        return arguments.length > 1
          ? (i
              ? ((o[n] = i),
                s && (o[n + "Params"] = s),
                n === "onUpdate" && (this._onUpdate = i))
              : delete o[n],
            this)
          : o[n];
      }),
      (e.then = function (n) {
        var i = this;
        return new Promise(function (s) {
          var o = Ht(n) ? n : uD,
            a = function () {
              var u = i.then;
              (i.then = null),
                Ht(o) && (o = o(i)) && (o.then || o === i) && (i.then = u),
                s(o),
                (i.then = u);
            };
          (i._initted && i.totalProgress() === 1 && i._ts >= 0) ||
          (!i._tTime && i._ts < 0)
            ? a()
            : (i._prom = a);
        });
      }),
      (e.kill = function () {
        Oc(this);
      }),
      r
    );
  })();
Ri(Bh.prototype, {
  _time: 0,
  _start: 0,
  _end: 0,
  _tTime: 0,
  _tDur: 0,
  _dirty: 0,
  _repeat: 0,
  _yoyo: !1,
  parent: null,
  _initted: !1,
  _rDelay: 0,
  _ts: 1,
  _dp: 0,
  ratio: 0,
  _zTime: -_t,
  _prom: 0,
  _ps: !1,
  _rts: 1,
});
var an = (function (r) {
  qR(e, r);
  function e(n, i) {
    var s;
    return (
      n === void 0 && (n = {}),
      (s = r.call(this, n) || this),
      (s.labels = {}),
      (s.smoothChildTiming = !!n.smoothChildTiming),
      (s.autoRemoveChildren = !!n.autoRemoveChildren),
      (s._sort = An(n.sortChildren)),
      Mt && ms(n.parent || Mt, Fs(s), i),
      n.reversed && s.reverse(),
      n.paused && s.paused(!0),
      n.scrollTrigger && dD(Fs(s), n.scrollTrigger),
      s
    );
  }
  var t = e.prototype;
  return (
    (t.to = function (i, s, o) {
      return eh(0, arguments, this), this;
    }),
    (t.from = function (i, s, o) {
      return eh(1, arguments, this), this;
    }),
    (t.fromTo = function (i, s, o, a) {
      return eh(2, arguments, this), this;
    }),
    (t.set = function (i, s, o) {
      return (
        (s.duration = 0),
        (s.parent = this),
        Jc(s).repeatDelay || (s.repeat = 0),
        (s.immediateRender = !!s.immediateRender),
        new pr(i, s, li(this, o), 1),
        this
      );
    }),
    (t.call = function (i, s, o) {
      return ms(this, pr.delayedCall(0, i, s), o);
    }),
    (t.staggerTo = function (i, s, o, a, l, u, c) {
      return (
        (o.duration = s),
        (o.stagger = o.stagger || a),
        (o.onComplete = u),
        (o.onCompleteParams = c),
        (o.parent = this),
        new pr(i, o, li(this, l)),
        this
      );
    }),
    (t.staggerFrom = function (i, s, o, a, l, u, c) {
      return (
        (o.runBackwards = 1),
        (Jc(o).immediateRender = An(o.immediateRender)),
        this.staggerTo(i, s, o, a, l, u, c)
      );
    }),
    (t.staggerFromTo = function (i, s, o, a, l, u, c, h) {
      return (
        (a.startAt = o),
        (Jc(a).immediateRender = An(a.immediateRender)),
        this.staggerTo(i, s, a, l, u, c, h)
      );
    }),
    (t.render = function (i, s, o) {
      var a = this._time,
        l = this._dirty ? this.totalDuration() : this._tDur,
        u = this._dur,
        c = i <= 0 ? 0 : Rr(i),
        h = this._zTime < 0 != i < 0 && (this._initted || !u),
        d,
        f,
        m,
        g,
        _,
        v,
        w,
        x,
        k,
        C,
        F,
        I;
      if (
        (this !== Mt && c > l && i >= 0 && (c = l), c !== this._tTime || o || h)
      ) {
        if (
          (a !== this._time &&
            u &&
            ((c += this._time - a), (i += this._time - a)),
          (d = c),
          (k = this._start),
          (x = this._ts),
          (v = !x),
          h && (u || (a = this._zTime), (i || !s) && (this._zTime = i)),
          this._repeat)
        ) {
          if (
            ((F = this._yoyo),
            (_ = u + this._rDelay),
            this._repeat < -1 && i < 0)
          )
            return this.totalTime(_ * 100 + i, s, o);
          if (
            ((d = Rr(c % _)),
            c === l
              ? ((g = this._repeat), (d = u))
              : ((g = ~~(c / _)),
                g && g === c / _ && ((d = u), g--),
                d > u && (d = u)),
            (C = Pu(this._tTime, _)),
            !a &&
              this._tTime &&
              C !== g &&
              this._tTime - C * _ - this._dur <= 0 &&
              (C = g),
            F && g & 1 && ((d = u - d), (I = 1)),
            g !== C && !this._lock)
          ) {
            var G = F && C & 1,
              j = G === (F && g & 1);
            if (
              (g < C && (G = !G),
              (a = G ? 0 : c % u ? u : c),
              (this._lock = 1),
              (this.render(a || (I ? 0 : Rr(g * _)), s, !u)._lock = 0),
              (this._tTime = c),
              !s && this.parent && Xn(this, "onRepeat"),
              this.vars.repeatRefresh && !I && (this.invalidate()._lock = 1),
              (a && a !== this._time) ||
                v !== !this._ts ||
                (this.vars.onRepeat && !this.parent && !this._act))
            )
              return this;
            if (
              ((u = this._dur),
              (l = this._tDur),
              j &&
                ((this._lock = 2),
                (a = G ? u : -1e-4),
                this.render(a, !0),
                this.vars.repeatRefresh && !I && this.invalidate()),
              (this._lock = 0),
              !this._ts && !v)
            )
              return this;
            AD(this, I);
          }
        }
        if (
          (this._hasPause &&
            !this._forcing &&
            this._lock < 2 &&
            ((w = Pj(this, Rr(a), Rr(d))), w && (c -= d - (d = w._start))),
          (this._tTime = c),
          (this._time = d),
          (this._act = !x),
          this._initted ||
            ((this._onUpdate = this.vars.onUpdate),
            (this._initted = 1),
            (this._zTime = i),
            (a = 0)),
          !a && d && !s && !g && (Xn(this, "onStart"), this._tTime !== c))
        )
          return this;
        if (d >= a && i >= 0)
          for (f = this._first; f; ) {
            if (
              ((m = f._next), (f._act || d >= f._start) && f._ts && w !== f)
            ) {
              if (f.parent !== this) return this.render(i, s, o);
              if (
                (f.render(
                  f._ts > 0
                    ? (d - f._start) * f._ts
                    : (f._dirty ? f.totalDuration() : f._tDur) +
                        (d - f._start) * f._ts,
                  s,
                  o
                ),
                d !== this._time || (!this._ts && !v))
              ) {
                (w = 0), m && (c += this._zTime = -_t);
                break;
              }
            }
            f = m;
          }
        else {
          f = this._last;
          for (var $ = i < 0 ? i : d; f; ) {
            if (((m = f._prev), (f._act || $ <= f._end) && f._ts && w !== f)) {
              if (f.parent !== this) return this.render(i, s, o);
              if (
                (f.render(
                  f._ts > 0
                    ? ($ - f._start) * f._ts
                    : (f._dirty ? f.totalDuration() : f._tDur) +
                        ($ - f._start) * f._ts,
                  s,
                  o || (rn && (f._initted || f._startAt))
                ),
                d !== this._time || (!this._ts && !v))
              ) {
                (w = 0), m && (c += this._zTime = $ ? -_t : _t);
                break;
              }
            }
            f = m;
          }
        }
        if (
          w &&
          !s &&
          (this.pause(),
          (w.render(d >= a ? 0 : -_t)._zTime = d >= a ? 1 : -1),
          this._ts)
        )
          return (this._start = k), ug(this), this.render(i, s, o);
        this._onUpdate && !s && Xn(this, "onUpdate", !0),
          ((c === l && this._tTime >= this.totalDuration()) || (!c && a)) &&
            (k === this._start || Math.abs(x) !== Math.abs(this._ts)) &&
            (this._lock ||
              ((i || !u) &&
                ((c === l && this._ts > 0) || (!c && this._ts < 0)) &&
                Jo(this, 1),
              !s &&
                !(i < 0 && !a) &&
                (c || a || !l) &&
                (Xn(
                  this,
                  c === l && i >= 0 ? "onComplete" : "onReverseComplete",
                  !0
                ),
                this._prom &&
                  !(c < l && this.timeScale() > 0) &&
                  this._prom())));
      }
      return this;
    }),
    (t.add = function (i, s) {
      var o = this;
      if ((uo(s) || (s = li(this, s, i)), !(i instanceof Bh))) {
        if (nn(i))
          return (
            i.forEach(function (a) {
              return o.add(a, s);
            }),
            this
          );
        if (Ir(i)) return this.addLabel(i, s);
        if (Ht(i)) i = pr.delayedCall(0, i);
        else return this;
      }
      return this !== i ? ms(this, i, s) : this;
    }),
    (t.getChildren = function (i, s, o, a) {
      i === void 0 && (i = !0),
        s === void 0 && (s = !0),
        o === void 0 && (o = !0),
        a === void 0 && (a = -Si);
      for (var l = [], u = this._first; u; )
        u._start >= a &&
          (u instanceof pr
            ? s && l.push(u)
            : (o && l.push(u), i && l.push.apply(l, u.getChildren(!0, s, o)))),
          (u = u._next);
      return l;
    }),
    (t.getById = function (i) {
      for (var s = this.getChildren(1, 1, 1), o = s.length; o--; )
        if (s[o].vars.id === i) return s[o];
    }),
    (t.remove = function (i) {
      return Ir(i)
        ? this.removeLabel(i)
        : Ht(i)
        ? this.killTweensOf(i)
        : (lg(this, i),
          i === this._recent && (this._recent = this._last),
          Ga(this));
    }),
    (t.totalTime = function (i, s) {
      return arguments.length
        ? ((this._forcing = 1),
          !this._dp &&
            this._ts &&
            (this._start = Rr(
              Wn.time -
                (this._ts > 0
                  ? i / this._ts
                  : (this.totalDuration() - i) / -this._ts)
            )),
          r.prototype.totalTime.call(this, i, s),
          (this._forcing = 0),
          this)
        : this._tTime;
    }),
    (t.addLabel = function (i, s) {
      return (this.labels[i] = li(this, s)), this;
    }),
    (t.removeLabel = function (i) {
      return delete this.labels[i], this;
    }),
    (t.addPause = function (i, s, o) {
      var a = pr.delayedCall(0, s || Rh, o);
      return (
        (a.data = "isPause"), (this._hasPause = 1), ms(this, a, li(this, i))
      );
    }),
    (t.removePause = function (i) {
      var s = this._first;
      for (i = li(this, i); s; )
        s._start === i && s.data === "isPause" && Jo(s), (s = s._next);
    }),
    (t.killTweensOf = function (i, s, o) {
      for (var a = this.getTweensOf(i, o), l = a.length; l--; )
        Bo !== a[l] && a[l].kill(i, s);
      return this;
    }),
    (t.getTweensOf = function (i, s) {
      for (var o = [], a = Ei(i), l = this._first, u = uo(s), c; l; )
        l instanceof pr
          ? wj(l._targets, a) &&
            (u
              ? (!Bo || (l._initted && l._ts)) &&
                l.globalTime(0) <= s &&
                l.globalTime(l.totalDuration()) > s
              : !s || l.isActive()) &&
            o.push(l)
          : (c = l.getTweensOf(a, s)).length && o.push.apply(o, c),
          (l = l._next);
      return o;
    }),
    (t.tweenTo = function (i, s) {
      s = s || {};
      var o = this,
        a = li(o, i),
        l = s,
        u = l.startAt,
        c = l.onStart,
        h = l.onStartParams,
        d = l.immediateRender,
        f,
        m = pr.to(
          o,
          Ri(
            {
              ease: s.ease || "none",
              lazy: !1,
              immediateRender: !1,
              time: a,
              overwrite: "auto",
              duration:
                s.duration ||
                Math.abs(
                  (a - (u && "time" in u ? u.time : o._time)) / o.timeScale()
                ) ||
                _t,
              onStart: function () {
                if ((o.pause(), !f)) {
                  var _ =
                    s.duration ||
                    Math.abs(
                      (a - (u && "time" in u ? u.time : o._time)) /
                        o.timeScale()
                    );
                  m._dur !== _ && Cu(m, _, 0, 1).render(m._time, !0, !0),
                    (f = 1);
                }
                c && c.apply(m, h || []);
              },
            },
            s
          )
        );
      return d ? m.render(0) : m;
    }),
    (t.tweenFromTo = function (i, s, o) {
      return this.tweenTo(s, Ri({ startAt: { time: li(this, i) } }, o));
    }),
    (t.recent = function () {
      return this._recent;
    }),
    (t.nextLabel = function (i) {
      return i === void 0 && (i = this._time), gE(this, li(this, i));
    }),
    (t.previousLabel = function (i) {
      return i === void 0 && (i = this._time), gE(this, li(this, i), 1);
    }),
    (t.currentLabel = function (i) {
      return arguments.length
        ? this.seek(i, !0)
        : this.previousLabel(this._time + _t);
    }),
    (t.shiftChildren = function (i, s, o) {
      o === void 0 && (o = 0);
      for (var a = this._first, l = this.labels, u; a; )
        a._start >= o && ((a._start += i), (a._end += i)), (a = a._next);
      if (s) for (u in l) l[u] >= o && (l[u] += i);
      return Ga(this);
    }),
    (t.invalidate = function (i) {
      var s = this._first;
      for (this._lock = 0; s; ) s.invalidate(i), (s = s._next);
      return r.prototype.invalidate.call(this, i);
    }),
    (t.clear = function (i) {
      i === void 0 && (i = !0);
      for (var s = this._first, o; s; ) (o = s._next), this.remove(s), (s = o);
      return (
        this._dp && (this._time = this._tTime = this._pTime = 0),
        i && (this.labels = {}),
        Ga(this)
      );
    }),
    (t.totalDuration = function (i) {
      var s = 0,
        o = this,
        a = o._last,
        l = Si,
        u,
        c,
        h;
      if (arguments.length)
        return o.timeScale(
          (o._repeat < 0 ? o.duration() : o.totalDuration()) /
            (o.reversed() ? -i : i)
        );
      if (o._dirty) {
        for (h = o.parent; a; )
          (u = a._prev),
            a._dirty && a.totalDuration(),
            (c = a._start),
            c > l && o._sort && a._ts && !o._lock
              ? ((o._lock = 1), (ms(o, a, c - a._delay, 1)._lock = 0))
              : (l = c),
            c < 0 &&
              a._ts &&
              ((s -= c),
              ((!h && !o._dp) || (h && h.smoothChildTiming)) &&
                ((o._start += c / o._ts), (o._time -= c), (o._tTime -= c)),
              o.shiftChildren(-c, !1, -1 / 0),
              (l = 0)),
            a._end > s && a._ts && (s = a._end),
            (a = u);
        Cu(o, o === Mt && o._time > s ? o._time : s, 1, 1), (o._dirty = 0);
      }
      return o._tDur;
    }),
    (e.updateRoot = function (i) {
      if ((Mt._ts && (aD(Mt, $p(i, Mt)), (sD = Wn.frame)), Wn.frame >= dE)) {
        dE += qn.autoSleep || 120;
        var s = Mt._first;
        if ((!s || !s._ts) && qn.autoSleep && Wn._listeners.length < 2) {
          for (; s && !s._ts; ) s = s._next;
          s || Wn.sleep();
        }
      }
    }),
    e
  );
})(Bh);
Ri(an.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 });
var Wj = function (e, t, n, i, s, o, a) {
    var l = new Cn(this._pt, e, t, 0, 1, ID, null, s),
      u = 0,
      c = 0,
      h,
      d,
      f,
      m,
      g,
      _,
      v,
      w;
    for (
      l.b = n,
        l.e = i,
        n += "",
        i += "",
        (v = ~i.indexOf("random(")) && (i = Dh(i)),
        o && ((w = [n, i]), o(w, e, t), (n = w[0]), (i = w[1])),
        d = n.match($_) || [];
      (h = $_.exec(i));

    )
      (m = h[0]),
        (g = i.substring(u, h.index)),
        f ? (f = (f + 1) % 5) : g.substr(-5) === "rgba(" && (f = 1),
        m !== d[c++] &&
          ((_ = parseFloat(d[c - 1]) || 0),
          (l._pt = {
            _next: l._pt,
            p: g || c === 1 ? g : ",",
            s: _,
            c: m.charAt(1) === "=" ? lu(_, m) - _ : parseFloat(m) - _,
            m: f && f < 4 ? Math.round : 0,
          }),
          (u = $_.lastIndex));
    return (
      (l.c = u < i.length ? i.substring(u, i.length) : ""),
      (l.fp = a),
      (eD.test(i) || v) && (l.e = 0),
      (this._pt = l),
      l
    );
  },
  Kw = function (e, t, n, i, s, o, a, l, u, c) {
    Ht(i) && (i = i(s || 0, e, o));
    var h = e[t],
      d =
        n !== "get"
          ? n
          : Ht(h)
          ? u
            ? e[
                t.indexOf("set") || !Ht(e["get" + t.substr(3)])
                  ? t
                  : "get" + t.substr(3)
              ](u)
            : e[t]()
          : h,
      f = Ht(h) ? (u ? Kj : BD) : Zw,
      m;
    if (
      (Ir(i) &&
        (~i.indexOf("random(") && (i = Dh(i)),
        i.charAt(1) === "=" &&
          ((m = lu(d, i) + (en(d) || 0)), (m || m === 0) && (i = m))),
      !c || d !== i || Mv)
    )
      return !isNaN(d * i) && i !== ""
        ? ((m = new Cn(
            this._pt,
            e,
            t,
            +d || 0,
            i - (d || 0),
            typeof h == "boolean" ? Zj : OD,
            0,
            f
          )),
          u && (m.fp = u),
          a && m.modifier(a, this, e),
          (this._pt = m))
        : (!h && !(t in e) && Hw(t, i),
          Wj.call(this, e, t, d, i, f, l || qn.stringFilter, u));
  },
  Hj = function (e, t, n, i, s) {
    if (
      (Ht(e) && (e = th(e, s, t, n, i)),
      !Ts(e) || (e.style && e.nodeType) || nn(e) || QR(e))
    )
      return Ir(e) ? th(e, s, t, n, i) : e;
    var o = {},
      a;
    for (a in e) o[a] = th(e[a], s, t, n, i);
    return o;
  },
  RD = function (e, t, n, i, s, o) {
    var a, l, u, c;
    if (
      Gn[e] &&
      (a = new Gn[e]()).init(
        s,
        a.rawVars ? t[e] : Hj(t[e], i, s, o, n),
        n,
        i,
        o
      ) !== !1 &&
      ((n._pt = l = new Cn(n._pt, s, e, 0, 1, a.render, a, 0, a.priority)),
      n !== Ql)
    )
      for (u = n._ptLookup[n._targets.indexOf(s)], c = a._props.length; c--; )
        u[a._props[c]] = l;
    return a;
  },
  Bo,
  Mv,
  qw = function r(e, t, n) {
    var i = e.vars,
      s = i.ease,
      o = i.startAt,
      a = i.immediateRender,
      l = i.lazy,
      u = i.onUpdate,
      c = i.runBackwards,
      h = i.yoyoEase,
      d = i.keyframes,
      f = i.autoRevert,
      m = e._dur,
      g = e._startAt,
      _ = e._targets,
      v = e.parent,
      w = v && v.data === "nested" ? v.vars.targets : _,
      x = e._overwrite === "auto" && !jw,
      k = e.timeline,
      C,
      F,
      I,
      G,
      j,
      $,
      H,
      Q,
      O,
      y,
      T,
      A,
      P;
    if (
      (k && (!d || !s) && (s = "none"),
      (e._ease = ja(s, Au.ease)),
      (e._yEase = h ? kD(ja(h === !0 ? s : h, Au.ease)) : 0),
      h &&
        e._yoyo &&
        !e._repeat &&
        ((h = e._yEase), (e._yEase = e._ease), (e._ease = h)),
      (e._from = !k && !!i.runBackwards),
      !k || (d && !i.stagger))
    ) {
      if (
        ((Q = _[0] ? Ua(_[0]).harness : 0),
        (A = Q && i[Q.prop]),
        (C = jp(i, Vw)),
        g &&
          (g._zTime < 0 && g.progress(1),
          t < 0 && c && a && !f ? g.render(-1, !0) : g.revert(c && m ? Yf : vj),
          (g._lazy = 0)),
        o)
      ) {
        if (
          (Jo(
            (e._startAt = pr.set(
              _,
              Ri(
                {
                  data: "isStart",
                  overwrite: !1,
                  parent: v,
                  immediateRender: !0,
                  lazy: !g && An(l),
                  startAt: null,
                  delay: 0,
                  onUpdate:
                    u &&
                    function () {
                      return Xn(e, "onUpdate");
                    },
                  stagger: 0,
                },
                o
              )
            ))
          ),
          (e._startAt._dp = 0),
          (e._startAt._sat = e),
          t < 0 && (rn || (!a && !f)) && e._startAt.revert(Yf),
          a && m && t <= 0 && n <= 0)
        ) {
          t && (e._zTime = t);
          return;
        }
      } else if (c && m && !g) {
        if (
          (t && (a = !1),
          (I = Ri(
            {
              overwrite: !1,
              data: "isFromStart",
              lazy: a && !g && An(l),
              immediateRender: a,
              stagger: 0,
              parent: v,
            },
            C
          )),
          A && (I[Q.prop] = A),
          Jo((e._startAt = pr.set(_, I))),
          (e._startAt._dp = 0),
          (e._startAt._sat = e),
          t < 0 && (rn ? e._startAt.revert(Yf) : e._startAt.render(-1, !0)),
          (e._zTime = t),
          !a)
        )
          r(e._startAt, _t, _t);
        else if (!t) return;
      }
      for (
        e._pt = e._ptCache = 0, l = (m && An(l)) || (l && !m), F = 0;
        F < _.length;
        F++
      ) {
        if (
          ((j = _[F]),
          (H = j._gsap || Yw(_)[F]._gsap),
          (e._ptLookup[F] = y = {}),
          kv[H.id] && Yo.length && Gp(),
          (T = w === _ ? F : w.indexOf(j)),
          Q &&
            (O = new Q()).init(j, A || C, e, T, w) !== !1 &&
            ((e._pt = G =
              new Cn(e._pt, j, O.name, 0, 1, O.render, O, 0, O.priority)),
            O._props.forEach(function (R) {
              y[R] = G;
            }),
            O.priority && ($ = 1)),
          !Q || A)
        )
          for (I in C)
            Gn[I] && (O = RD(I, C, e, T, j, w))
              ? O.priority && ($ = 1)
              : (y[I] = G =
                  Kw.call(e, j, I, "get", C[I], T, w, 0, i.stringFilter));
        e._op && e._op[F] && e.kill(j, e._op[F]),
          x &&
            e._pt &&
            ((Bo = e),
            Mt.killTweensOf(j, y, e.globalTime(t)),
            (P = !e.parent),
            (Bo = 0)),
          e._pt && l && (kv[H.id] = 1);
      }
      $ && FD(e), e._onInit && e._onInit(e);
    }
    (e._onUpdate = u),
      (e._initted = (!e._op || e._pt) && !P),
      d && t <= 0 && k.render(Si, !0, !0);
  },
  Vj = function (e, t, n, i, s, o, a, l) {
    var u = ((e._pt && e._ptCache) || (e._ptCache = {}))[t],
      c,
      h,
      d,
      f;
    if (!u)
      for (
        u = e._ptCache[t] = [], d = e._ptLookup, f = e._targets.length;
        f--;

      ) {
        if (((c = d[f][t]), c && c.d && c.d._pt))
          for (c = c.d._pt; c && c.p !== t && c.fp !== t; ) c = c._next;
        if (!c)
          return (
            (Mv = 1),
            (e.vars[t] = "+=0"),
            qw(e, a),
            (Mv = 0),
            l ? Ch(t + " not eligible for reset") : 1
          );
        u.push(c);
      }
    for (f = u.length; f--; )
      (h = u[f]),
        (c = h._pt || h),
        (c.s = (i || i === 0) && !s ? i : c.s + (i || 0) + o * c.c),
        (c.c = n - c.s),
        h.e && (h.e = Yt(n) + en(h.e)),
        h.b && (h.b = c.s + en(h.b));
  },
  Xj = function (e, t) {
    var n = e[0] ? Ua(e[0]).harness : 0,
      i = n && n.aliases,
      s,
      o,
      a,
      l;
    if (!i) return t;
    s = tl({}, t);
    for (o in i)
      if (o in s) for (l = i[o].split(","), a = l.length; a--; ) s[l[a]] = s[o];
    return s;
  },
  Yj = function (e, t, n, i) {
    var s = t.ease || i || "power1.inOut",
      o,
      a;
    if (nn(t))
      (a = n[e] || (n[e] = [])),
        t.forEach(function (l, u) {
          return a.push({ t: (u / (t.length - 1)) * 100, v: l, e: s });
        });
    else
      for (o in t)
        (a = n[o] || (n[o] = [])),
          o === "ease" || a.push({ t: parseFloat(e), v: t[o], e: s });
  },
  th = function (e, t, n, i, s) {
    return Ht(e)
      ? e.call(t, n, i, s)
      : Ir(e) && ~e.indexOf("random(")
      ? Dh(e)
      : e;
  },
  DD = Xw + "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",
  MD = {};
Pn(DD + ",id,stagger,delay,duration,paused,scrollTrigger", function (r) {
  return (MD[r] = 1);
});
var pr = (function (r) {
  qR(e, r);
  function e(n, i, s, o) {
    var a;
    typeof i == "number" && ((s.duration = i), (i = s), (s = null)),
      (a = r.call(this, o ? i : Jc(i)) || this);
    var l = a.vars,
      u = l.duration,
      c = l.delay,
      h = l.immediateRender,
      d = l.stagger,
      f = l.overwrite,
      m = l.keyframes,
      g = l.defaults,
      _ = l.scrollTrigger,
      v = l.yoyoEase,
      w = i.parent || Mt,
      x = (nn(n) || QR(n) ? uo(n[0]) : "length" in i) ? [n] : Ei(n),
      k,
      C,
      F,
      I,
      G,
      j,
      $,
      H;
    if (
      ((a._targets = x.length
        ? Yw(x)
        : Ch(
            "GSAP target " + n + " not found. https://gsap.com",
            !qn.nullTargetWarn
          ) || []),
      (a._ptLookup = []),
      (a._overwrite = f),
      m || d || $d(u) || $d(c))
    ) {
      if (
        ((i = a.vars),
        (k = a.timeline =
          new an({
            data: "nested",
            defaults: g || {},
            targets: w && w.data === "nested" ? w.vars.targets : x,
          })),
        k.kill(),
        (k.parent = k._dp = Fs(a)),
        (k._start = 0),
        d || $d(u) || $d(c))
      ) {
        if (((I = x.length), ($ = d && gD(d)), Ts(d)))
          for (G in d) ~DD.indexOf(G) && (H || (H = {}), (H[G] = d[G]));
        for (C = 0; C < I; C++)
          (F = jp(i, MD)),
            (F.stagger = 0),
            v && (F.yoyoEase = v),
            H && tl(F, H),
            (j = x[C]),
            (F.duration = +th(u, Fs(a), C, j, x)),
            (F.delay = (+th(c, Fs(a), C, j, x) || 0) - a._delay),
            !d &&
              I === 1 &&
              F.delay &&
              ((a._delay = c = F.delay), (a._start += c), (F.delay = 0)),
            k.to(j, F, $ ? $(C, j, x) : 0),
            (k._ease = Ve.none);
        k.duration() ? (u = c = 0) : (a.timeline = 0);
      } else if (m) {
        Jc(Ri(k.vars.defaults, { ease: "none" })),
          (k._ease = ja(m.ease || i.ease || "none"));
        var Q = 0,
          O,
          y,
          T;
        if (nn(m))
          m.forEach(function (A) {
            return k.to(x, A, ">");
          }),
            k.duration();
        else {
          F = {};
          for (G in m)
            G === "ease" || G === "easeEach" || Yj(G, m[G], F, m.easeEach);
          for (G in F)
            for (
              O = F[G].sort(function (A, P) {
                return A.t - P.t;
              }),
                Q = 0,
                C = 0;
              C < O.length;
              C++
            )
              (y = O[C]),
                (T = {
                  ease: y.e,
                  duration: ((y.t - (C ? O[C - 1].t : 0)) / 100) * u,
                }),
                (T[G] = y.v),
                k.to(x, T, Q),
                (Q += T.duration);
          k.duration() < u && k.to({}, { duration: u - k.duration() });
        }
      }
      u || a.duration((u = k.duration()));
    } else a.timeline = 0;
    return (
      f === !0 && !jw && ((Bo = Fs(a)), Mt.killTweensOf(x), (Bo = 0)),
      ms(w, Fs(a), s),
      i.reversed && a.reverse(),
      i.paused && a.paused(!0),
      (h ||
        (!u &&
          !m &&
          a._start === Rr(w._time) &&
          An(h) &&
          Tj(Fs(a)) &&
          w.data !== "nested")) &&
        ((a._tTime = -_t), a.render(Math.max(0, -c) || 0)),
      _ && dD(Fs(a), _),
      a
    );
  }
  var t = e.prototype;
  return (
    (t.render = function (i, s, o) {
      var a = this._time,
        l = this._tDur,
        u = this._dur,
        c = i < 0,
        h = i > l - _t && !c ? l : i < _t ? 0 : i,
        d,
        f,
        m,
        g,
        _,
        v,
        w,
        x,
        k;
      if (!u) Aj(this, i, s, o);
      else if (
        h !== this._tTime ||
        !i ||
        o ||
        (!this._initted && this._tTime) ||
        (this._startAt && this._zTime < 0 !== c)
      ) {
        if (((d = h), (x = this.timeline), this._repeat)) {
          if (((g = u + this._rDelay), this._repeat < -1 && c))
            return this.totalTime(g * 100 + i, s, o);
          if (
            ((d = Rr(h % g)),
            h === l
              ? ((m = this._repeat), (d = u))
              : ((m = ~~(h / g)),
                m && m === Rr(h / g) && ((d = u), m--),
                d > u && (d = u)),
            (v = this._yoyo && m & 1),
            v && ((k = this._yEase), (d = u - d)),
            (_ = Pu(this._tTime, g)),
            d === a && !o && this._initted && m === _)
          )
            return (this._tTime = h), this;
          m !== _ &&
            (x && this._yEase && AD(x, v),
            this.vars.repeatRefresh &&
              !v &&
              !this._lock &&
              this._time !== g &&
              this._initted &&
              ((this._lock = o = 1),
              (this.render(Rr(g * m), !0).invalidate()._lock = 0)));
        }
        if (!this._initted) {
          if (fD(this, c ? i : d, o, s, h)) return (this._tTime = 0), this;
          if (a !== this._time && !(o && this.vars.repeatRefresh && m !== _))
            return this;
          if (u !== this._dur) return this.render(i, s, o);
        }
        if (
          ((this._tTime = h),
          (this._time = d),
          !this._act && this._ts && ((this._act = 1), (this._lazy = 0)),
          (this.ratio = w = (k || this._ease)(d / u)),
          this._from && (this.ratio = w = 1 - w),
          d && !a && !s && !m && (Xn(this, "onStart"), this._tTime !== h))
        )
          return this;
        for (f = this._pt; f; ) f.r(w, f.d), (f = f._next);
        (x && x.render(i < 0 ? i : x._dur * x._ease(d / this._dur), s, o)) ||
          (this._startAt && (this._zTime = i)),
          this._onUpdate &&
            !s &&
            (c && Av(this, i, s, o), Xn(this, "onUpdate")),
          this._repeat &&
            m !== _ &&
            this.vars.onRepeat &&
            !s &&
            this.parent &&
            Xn(this, "onRepeat"),
          (h === this._tDur || !h) &&
            this._tTime === h &&
            (c && !this._onUpdate && Av(this, i, !0, !0),
            (i || !u) &&
              ((h === this._tDur && this._ts > 0) || (!h && this._ts < 0)) &&
              Jo(this, 1),
            !s &&
              !(c && !a) &&
              (h || a || v) &&
              (Xn(this, h === l ? "onComplete" : "onReverseComplete", !0),
              this._prom && !(h < l && this.timeScale() > 0) && this._prom()));
      }
      return this;
    }),
    (t.targets = function () {
      return this._targets;
    }),
    (t.invalidate = function (i) {
      return (
        (!i || !this.vars.runBackwards) && (this._startAt = 0),
        (this._pt = this._op = this._onUpdate = this._lazy = this.ratio = 0),
        (this._ptLookup = []),
        this.timeline && this.timeline.invalidate(i),
        r.prototype.invalidate.call(this, i)
      );
    }),
    (t.resetTo = function (i, s, o, a, l) {
      Mh || Wn.wake(), this._ts || this.play();
      var u = Math.min(this._dur, (this._dp._time - this._start) * this._ts),
        c;
      return (
        this._initted || qw(this, u),
        (c = this._ease(u / this._dur)),
        Vj(this, i, s, o, a, c, u, l)
          ? this.resetTo(i, s, o, a, 1)
          : (cg(this, 0),
            this.parent ||
              cD(
                this._dp,
                this,
                "_first",
                "_last",
                this._dp._sort ? "_start" : 0
              ),
            this.render(0))
      );
    }),
    (t.kill = function (i, s) {
      if ((s === void 0 && (s = "all"), !i && (!s || s === "all")))
        return (this._lazy = this._pt = 0), this.parent ? Oc(this) : this;
      if (this.timeline) {
        var o = this.timeline.totalDuration();
        return (
          this.timeline.killTweensOf(i, s, Bo && Bo.vars.overwrite !== !0)
            ._first || Oc(this),
          this.parent &&
            o !== this.timeline.totalDuration() &&
            Cu(this, (this._dur * this.timeline._tDur) / o, 0, 1),
          this
        );
      }
      var a = this._targets,
        l = i ? Ei(i) : a,
        u = this._ptLookup,
        c = this._pt,
        h,
        d,
        f,
        m,
        g,
        _,
        v;
      if ((!s || s === "all") && Sj(a, l))
        return s === "all" && (this._pt = 0), Oc(this);
      for (
        h = this._op = this._op || [],
          s !== "all" &&
            (Ir(s) &&
              ((g = {}),
              Pn(s, function (w) {
                return (g[w] = 1);
              }),
              (s = g)),
            (s = Xj(a, s))),
          v = a.length;
        v--;

      )
        if (~l.indexOf(a[v])) {
          (d = u[v]),
            s === "all"
              ? ((h[v] = s), (m = d), (f = {}))
              : ((f = h[v] = h[v] || {}), (m = s));
          for (g in m)
            (_ = d && d[g]),
              _ &&
                ((!("kill" in _.d) || _.d.kill(g) === !0) && lg(this, _, "_pt"),
                delete d[g]),
              f !== "all" && (f[g] = 1);
        }
      return this._initted && !this._pt && c && Oc(this), this;
    }),
    (e.to = function (i, s) {
      return new e(i, s, arguments[2]);
    }),
    (e.from = function (i, s) {
      return eh(1, arguments);
    }),
    (e.delayedCall = function (i, s, o, a) {
      return new e(s, 0, {
        immediateRender: !1,
        lazy: !1,
        overwrite: !1,
        delay: i,
        onComplete: s,
        onReverseComplete: s,
        onCompleteParams: o,
        onReverseCompleteParams: o,
        callbackScope: a,
      });
    }),
    (e.fromTo = function (i, s, o) {
      return eh(2, arguments);
    }),
    (e.set = function (i, s) {
      return (s.duration = 0), s.repeatDelay || (s.repeat = 0), new e(i, s);
    }),
    (e.killTweensOf = function (i, s, o) {
      return Mt.killTweensOf(i, s, o);
    }),
    e
  );
})(Bh);
Ri(pr.prototype, { _targets: [], _lazy: 0, _startAt: 0, _op: 0, _onInit: 0 });
Pn("staggerTo,staggerFrom,staggerFromTo", function (r) {
  pr[r] = function () {
    var e = new an(),
      t = Cv.call(arguments, 0);
    return t.splice(r === "staggerFromTo" ? 5 : 4, 0, 0), e[r].apply(e, t);
  };
});
var Zw = function (e, t, n) {
    return (e[t] = n);
  },
  BD = function (e, t, n) {
    return e[t](n);
  },
  Kj = function (e, t, n, i) {
    return e[t](i.fp, n);
  },
  qj = function (e, t, n) {
    return e.setAttribute(t, n);
  },
  Qw = function (e, t) {
    return Ht(e[t]) ? BD : $w(e[t]) && e.setAttribute ? qj : Zw;
  },
  OD = function (e, t) {
    return t.set(t.t, t.p, Math.round((t.s + t.c * e) * 1e6) / 1e6, t);
  },
  Zj = function (e, t) {
    return t.set(t.t, t.p, !!(t.s + t.c * e), t);
  },
  ID = function (e, t) {
    var n = t._pt,
      i = "";
    if (!e && t.b) i = t.b;
    else if (e === 1 && t.e) i = t.e;
    else {
      for (; n; )
        (i =
          n.p +
          (n.m ? n.m(n.s + n.c * e) : Math.round((n.s + n.c * e) * 1e4) / 1e4) +
          i),
          (n = n._next);
      i += t.c;
    }
    t.set(t.t, t.p, i, t);
  },
  Jw = function (e, t) {
    for (var n = t._pt; n; ) n.r(e, n.d), (n = n._next);
  },
  Qj = function (e, t, n, i) {
    for (var s = this._pt, o; s; )
      (o = s._next), s.p === i && s.modifier(e, t, n), (s = o);
  },
  Jj = function (e) {
    for (var t = this._pt, n, i; t; )
      (i = t._next),
        (t.p === e && !t.op) || t.op === e
          ? lg(this, t, "_pt")
          : t.dep || (n = 1),
        (t = i);
    return !n;
  },
  e5 = function (e, t, n, i) {
    i.mSet(e, t, i.m.call(i.tween, n, i.mt), i);
  },
  FD = function (e) {
    for (var t = e._pt, n, i, s, o; t; ) {
      for (n = t._next, i = s; i && i.pr > t.pr; ) i = i._next;
      (t._prev = i ? i._prev : o) ? (t._prev._next = t) : (s = t),
        (t._next = i) ? (i._prev = t) : (o = t),
        (t = n);
    }
    e._pt = s;
  },
  Cn = (function () {
    function r(t, n, i, s, o, a, l, u, c) {
      (this.t = n),
        (this.s = s),
        (this.c = o),
        (this.p = i),
        (this.r = a || OD),
        (this.d = l || this),
        (this.set = u || Zw),
        (this.pr = c || 0),
        (this._next = t),
        t && (t._prev = this);
    }
    var e = r.prototype;
    return (
      (e.modifier = function (n, i, s) {
        (this.mSet = this.mSet || this.set),
          (this.set = e5),
          (this.m = n),
          (this.mt = s),
          (this.tween = i);
      }),
      r
    );
  })();
Pn(
  Xw +
    "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",
  function (r) {
    return (Vw[r] = 1);
  }
);
Jn.TweenMax = Jn.TweenLite = pr;
Jn.TimelineLite = Jn.TimelineMax = an;
Mt = new an({
  sortChildren: !1,
  defaults: Au,
  autoRemoveChildren: !0,
  id: "root",
  smoothChildTiming: !0,
});
qn.stringFilter = TD;
var $a = [],
  qf = {},
  t5 = [],
  yE = 0,
  r5 = 0,
  X_ = function (e) {
    return (qf[e] || t5).map(function (t) {
      return t();
    });
  },
  Bv = function () {
    var e = Date.now(),
      t = [];
    e - yE > 2 &&
      (X_("matchMediaInit"),
      $a.forEach(function (n) {
        var i = n.queries,
          s = n.conditions,
          o,
          a,
          l,
          u;
        for (a in i)
          (o = ds.matchMedia(i[a]).matches),
            o && (l = 1),
            o !== s[a] && ((s[a] = o), (u = 1));
        u && (n.revert(), l && t.push(n));
      }),
      X_("matchMediaRevert"),
      t.forEach(function (n) {
        return n.onMatch(n, function (i) {
          return n.add(null, i);
        });
      }),
      (yE = e),
      X_("matchMedia"));
  },
  ND = (function () {
    function r(t, n) {
      (this.selector = n && Rv(n)),
        (this.data = []),
        (this._r = []),
        (this.isReverted = !1),
        (this.id = r5++),
        t && this.add(t);
    }
    var e = r.prototype;
    return (
      (e.add = function (n, i, s) {
        Ht(n) && ((s = i), (i = n), (n = Ht));
        var o = this,
          a = function () {
            var u = Ct,
              c = o.selector,
              h;
            return (
              u && u !== o && u.data.push(o),
              s && (o.selector = Rv(s)),
              (Ct = o),
              (h = i.apply(o, arguments)),
              Ht(h) && o._r.push(h),
              (Ct = u),
              (o.selector = c),
              (o.isReverted = !1),
              h
            );
          };
        return (
          (o.last = a),
          n === Ht
            ? a(o, function (l) {
                return o.add(null, l);
              })
            : n
            ? (o[n] = a)
            : a
        );
      }),
      (e.ignore = function (n) {
        var i = Ct;
        (Ct = null), n(this), (Ct = i);
      }),
      (e.getTweens = function () {
        var n = [];
        return (
          this.data.forEach(function (i) {
            return i instanceof r
              ? n.push.apply(n, i.getTweens())
              : i instanceof pr &&
                  !(i.parent && i.parent.data === "nested") &&
                  n.push(i);
          }),
          n
        );
      }),
      (e.clear = function () {
        this._r.length = this.data.length = 0;
      }),
      (e.kill = function (n, i) {
        var s = this;
        if (
          (n
            ? (function () {
                for (var a = s.getTweens(), l = s.data.length, u; l--; )
                  (u = s.data[l]),
                    u.data === "isFlip" &&
                      (u.revert(),
                      u.getChildren(!0, !0, !1).forEach(function (c) {
                        return a.splice(a.indexOf(c), 1);
                      }));
                for (
                  a
                    .map(function (c) {
                      return {
                        g:
                          c._dur ||
                          c._delay ||
                          (c._sat && !c._sat.vars.immediateRender)
                            ? c.globalTime(0)
                            : -1 / 0,
                        t: c,
                      };
                    })
                    .sort(function (c, h) {
                      return h.g - c.g || -1 / 0;
                    })
                    .forEach(function (c) {
                      return c.t.revert(n);
                    }),
                    l = s.data.length;
                  l--;

                )
                  (u = s.data[l]),
                    u instanceof an
                      ? u.data !== "nested" &&
                        (u.scrollTrigger && u.scrollTrigger.revert(), u.kill())
                      : !(u instanceof pr) && u.revert && u.revert(n);
                s._r.forEach(function (c) {
                  return c(n, s);
                }),
                  (s.isReverted = !0);
              })()
            : this.data.forEach(function (a) {
                return a.kill && a.kill();
              }),
          this.clear(),
          i)
        )
          for (var o = $a.length; o--; )
            $a[o].id === this.id && $a.splice(o, 1);
      }),
      (e.revert = function (n) {
        this.kill(n || {});
      }),
      r
    );
  })(),
  n5 = (function () {
    function r(t) {
      (this.contexts = []), (this.scope = t), Ct && Ct.data.push(this);
    }
    var e = r.prototype;
    return (
      (e.add = function (n, i, s) {
        Ts(n) || (n = { matches: n });
        var o = new ND(0, s || this.scope),
          a = (o.conditions = {}),
          l,
          u,
          c;
        Ct && !o.selector && (o.selector = Ct.selector),
          this.contexts.push(o),
          (i = o.add("onMatch", i)),
          (o.queries = n);
        for (u in n)
          u === "all"
            ? (c = 1)
            : ((l = ds.matchMedia(n[u])),
              l &&
                ($a.indexOf(o) < 0 && $a.push(o),
                (a[u] = l.matches) && (c = 1),
                l.addListener
                  ? l.addListener(Bv)
                  : l.addEventListener("change", Bv)));
        return (
          c &&
            i(o, function (h) {
              return o.add(null, h);
            }),
          this
        );
      }),
      (e.revert = function (n) {
        this.kill(n || {});
      }),
      (e.kill = function (n) {
        this.contexts.forEach(function (i) {
          return i.kill(n, !0);
        });
      }),
      r
    );
  })(),
  zp = {
    registerPlugin: function () {
      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
        t[n] = arguments[n];
      t.forEach(function (i) {
        return bD(i);
      });
    },
    timeline: function (e) {
      return new an(e);
    },
    getTweensOf: function (e, t) {
      return Mt.getTweensOf(e, t);
    },
    getProperty: function (e, t, n, i) {
      Ir(e) && (e = Ei(e)[0]);
      var s = Ua(e || {}).get,
        o = n ? uD : lD;
      return (
        n === "native" && (n = ""),
        e &&
          (t
            ? o(((Gn[t] && Gn[t].get) || s)(e, t, n, i))
            : function (a, l, u) {
                return o(((Gn[a] && Gn[a].get) || s)(e, a, l, u));
              })
      );
    },
    quickSetter: function (e, t, n) {
      if (((e = Ei(e)), e.length > 1)) {
        var i = e.map(function (c) {
            return Mn.quickSetter(c, t, n);
          }),
          s = i.length;
        return function (c) {
          for (var h = s; h--; ) i[h](c);
        };
      }
      e = e[0] || {};
      var o = Gn[t],
        a = Ua(e),
        l = (a.harness && (a.harness.aliases || {})[t]) || t,
        u = o
          ? function (c) {
              var h = new o();
              (Ql._pt = 0),
                h.init(e, n ? c + n : c, Ql, 0, [e]),
                h.render(1, h),
                Ql._pt && Jw(1, Ql);
            }
          : a.set(e, l);
      return o
        ? u
        : function (c) {
            return u(e, l, n ? c + n : c, a, 1);
          };
    },
    quickTo: function (e, t, n) {
      var i,
        s = Mn.to(
          e,
          tl(((i = {}), (i[t] = "+=0.1"), (i.paused = !0), i), n || {})
        ),
        o = function (l, u, c) {
          return s.resetTo(t, l, u, c);
        };
      return (o.tween = s), o;
    },
    isTweening: function (e) {
      return Mt.getTweensOf(e, !0).length > 0;
    },
    defaults: function (e) {
      return e && e.ease && (e.ease = ja(e.ease, Au.ease)), fE(Au, e || {});
    },
    config: function (e) {
      return fE(qn, e || {});
    },
    registerEffect: function (e) {
      var t = e.name,
        n = e.effect,
        i = e.plugins,
        s = e.defaults,
        o = e.extendTimeline;
      (i || "").split(",").forEach(function (a) {
        return (
          a && !Gn[a] && !Jn[a] && Ch(t + " effect requires " + a + " plugin.")
        );
      }),
        (z_[t] = function (a, l, u) {
          return n(Ei(a), Ri(l || {}, s), u);
        }),
        o &&
          (an.prototype[t] = function (a, l, u) {
            return this.add(z_[t](a, Ts(l) ? l : (u = l) && {}, this), u);
          });
    },
    registerEase: function (e, t) {
      Ve[e] = ja(t);
    },
    parseEase: function (e, t) {
      return arguments.length ? ja(e, t) : Ve;
    },
    getById: function (e) {
      return Mt.getById(e);
    },
    exportRoot: function (e, t) {
      e === void 0 && (e = {});
      var n = new an(e),
        i,
        s;
      for (
        n.smoothChildTiming = An(e.smoothChildTiming),
          Mt.remove(n),
          n._dp = 0,
          n._time = n._tTime = Mt._time,
          i = Mt._first;
        i;

      )
        (s = i._next),
          (t ||
            !(
              !i._dur &&
              i instanceof pr &&
              i.vars.onComplete === i._targets[0]
            )) &&
            ms(n, i, i._start - i._delay),
          (i = s);
      return ms(Mt, n, 0), n;
    },
    context: function (e, t) {
      return e ? new ND(e, t) : Ct;
    },
    matchMedia: function (e) {
      return new n5(e);
    },
    matchMediaRefresh: function () {
      return (
        $a.forEach(function (e) {
          var t = e.conditions,
            n,
            i;
          for (i in t) t[i] && ((t[i] = !1), (n = 1));
          n && e.revert();
        }) || Bv()
      );
    },
    addEventListener: function (e, t) {
      var n = qf[e] || (qf[e] = []);
      ~n.indexOf(t) || n.push(t);
    },
    removeEventListener: function (e, t) {
      var n = qf[e],
        i = n && n.indexOf(t);
      i >= 0 && n.splice(i, 1);
    },
    utils: {
      wrap: Ij,
      wrapYoyo: Fj,
      distribute: gD,
      random: yD,
      snap: _D,
      normalize: Oj,
      getUnit: en,
      clamp: Rj,
      splitColor: SD,
      toArray: Ei,
      selector: Rv,
      mapRange: xD,
      pipe: Mj,
      unitize: Bj,
      interpolate: Nj,
      shuffle: mD,
    },
    install: nD,
    effects: z_,
    ticker: Wn,
    updateRoot: an.updateRoot,
    plugins: Gn,
    globalTimeline: Mt,
    core: {
      PropTween: Cn,
      globals: iD,
      Tween: pr,
      Timeline: an,
      Animation: Bh,
      getCache: Ua,
      _removeLinkedListItem: lg,
      reverting: function () {
        return rn;
      },
      context: function (e) {
        return e && Ct && (Ct.data.push(e), (e._ctx = Ct)), Ct;
      },
      suppressOverwrites: function (e) {
        return (jw = e);
      },
    },
  };
Pn("to,from,fromTo,delayedCall,set,killTweensOf", function (r) {
  return (zp[r] = pr[r]);
});
Wn.add(an.updateRoot);
Ql = zp.to({}, { duration: 0 });
var i5 = function (e, t) {
    for (var n = e._pt; n && n.p !== t && n.op !== t && n.fp !== t; )
      n = n._next;
    return n;
  },
  s5 = function (e, t) {
    var n = e._targets,
      i,
      s,
      o;
    for (i in t)
      for (s = n.length; s--; )
        (o = e._ptLookup[s][i]),
          o &&
            (o = o.d) &&
            (o._pt && (o = i5(o, i)),
            o && o.modifier && o.modifier(t[i], e, n[s], i));
  },
  Y_ = function (e, t) {
    return {
      name: e,
      rawVars: 1,
      init: function (i, s, o) {
        o._onInit = function (a) {
          var l, u;
          if (
            (Ir(s) &&
              ((l = {}),
              Pn(s, function (c) {
                return (l[c] = 1);
              }),
              (s = l)),
            t)
          ) {
            l = {};
            for (u in s) l[u] = t(s[u]);
            s = l;
          }
          s5(a, s);
        };
      },
    };
  },
  Mn =
    zp.registerPlugin(
      {
        name: "attr",
        init: function (e, t, n, i, s) {
          var o, a, l;
          this.tween = n;
          for (o in t)
            (l = e.getAttribute(o) || ""),
              (a = this.add(
                e,
                "setAttribute",
                (l || 0) + "",
                t[o],
                i,
                s,
                0,
                0,
                o
              )),
              (a.op = o),
              (a.b = l),
              this._props.push(o);
        },
        render: function (e, t) {
          for (var n = t._pt; n; )
            rn ? n.set(n.t, n.p, n.b, n) : n.r(e, n.d), (n = n._next);
        },
      },
      {
        name: "endArray",
        init: function (e, t) {
          for (var n = t.length; n--; )
            this.add(e, n, e[n] || 0, t[n], 0, 0, 0, 0, 0, 1);
        },
      },
      Y_("roundProps", Dv),
      Y_("modifiers"),
      Y_("snap", _D)
    ) || zp;
pr.version = an.version = Mn.version = "3.12.5";
rD = 1;
zw() && Ru();
Ve.Power0;
Ve.Power1;
Ve.Power2;
Ve.Power3;
Ve.Power4;
Ve.Linear;
Ve.Quad;
Ve.Cubic;
Ve.Quart;
Ve.Quint;
Ve.Strong;
Ve.Elastic;
Ve.Back;
Ve.SteppedEase;
Ve.Bounce;
Ve.Sine;
Ve.Expo;
Ve.Circ;
/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */ var vE,
  Oo,
  uu,
  eb,
  Ma,
  xE,
  tb,
  o5 = function () {
    return typeof window < "u";
  },
  co = {},
  va = 180 / Math.PI,
  cu = Math.PI / 180,
  Tl = Math.atan2,
  wE = 1e8,
  rb = /([A-Z])/g,
  a5 = /(left|right|width|margin|padding|x)/i,
  l5 = /[\s,\(]\S/,
  ys = {
    autoAlpha: "opacity,visibility",
    scale: "scaleX,scaleY",
    alpha: "opacity",
  },
  Ov = function (e, t) {
    return t.set(t.t, t.p, Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u, t);
  },
  u5 = function (e, t) {
    return t.set(
      t.t,
      t.p,
      e === 1 ? t.e : Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u,
      t
    );
  },
  c5 = function (e, t) {
    return t.set(
      t.t,
      t.p,
      e ? Math.round((t.s + t.c * e) * 1e4) / 1e4 + t.u : t.b,
      t
    );
  },
  h5 = function (e, t) {
    var n = t.s + t.c * e;
    t.set(t.t, t.p, ~~(n + (n < 0 ? -0.5 : 0.5)) + t.u, t);
  },
  LD = function (e, t) {
    return t.set(t.t, t.p, e ? t.e : t.b, t);
  },
  UD = function (e, t) {
    return t.set(t.t, t.p, e !== 1 ? t.b : t.e, t);
  },
  d5 = function (e, t, n) {
    return (e.style[t] = n);
  },
  f5 = function (e, t, n) {
    return e.style.setProperty(t, n);
  },
  p5 = function (e, t, n) {
    return (e._gsap[t] = n);
  },
  m5 = function (e, t, n) {
    return (e._gsap.scaleX = e._gsap.scaleY = n);
  },
  g5 = function (e, t, n, i, s) {
    var o = e._gsap;
    (o.scaleX = o.scaleY = n), o.renderTransform(s, o);
  },
  _5 = function (e, t, n, i, s) {
    var o = e._gsap;
    (o[t] = n), o.renderTransform(s, o);
  },
  It = "transform",
  Rn = It + "Origin",
  y5 = function r(e, t) {
    var n = this,
      i = this.target,
      s = i.style,
      o = i._gsap;
    if (e in co && s) {
      if (((this.tfm = this.tfm || {}), e !== "transform"))
        (e = ys[e] || e),
          ~e.indexOf(",")
            ? e.split(",").forEach(function (a) {
                return (n.tfm[a] = Ls(i, a));
              })
            : (this.tfm[e] = o.x ? o[e] : Ls(i, e)),
          e === Rn && (this.tfm.zOrigin = o.zOrigin);
      else
        return ys.transform.split(",").forEach(function (a) {
          return r.call(n, a, t);
        });
      if (this.props.indexOf(It) >= 0) return;
      o.svg &&
        ((this.svgo = i.getAttribute("data-svg-origin")),
        this.props.push(Rn, t, "")),
        (e = It);
    }
    (s || t) && this.props.push(e, t, s[e]);
  },
  GD = function (e) {
    e.translate &&
      (e.removeProperty("translate"),
      e.removeProperty("scale"),
      e.removeProperty("rotate"));
  },
  v5 = function () {
    var e = this.props,
      t = this.target,
      n = t.style,
      i = t._gsap,
      s,
      o;
    for (s = 0; s < e.length; s += 3)
      e[s + 1]
        ? (t[e[s]] = e[s + 2])
        : e[s + 2]
        ? (n[e[s]] = e[s + 2])
        : n.removeProperty(
            e[s].substr(0, 2) === "--"
              ? e[s]
              : e[s].replace(rb, "-$1").toLowerCase()
          );
    if (this.tfm) {
      for (o in this.tfm) i[o] = this.tfm[o];
      i.svg &&
        (i.renderTransform(),
        t.setAttribute("data-svg-origin", this.svgo || "")),
        (s = tb()),
        (!s || !s.isStart) &&
          !n[It] &&
          (GD(n),
          i.zOrigin &&
            n[Rn] &&
            ((n[Rn] += " " + i.zOrigin + "px"),
            (i.zOrigin = 0),
            i.renderTransform()),
          (i.uncache = 1));
    }
  },
  jD = function (e, t) {
    var n = { target: e, props: [], revert: v5, save: y5 };
    return (
      e._gsap || Mn.core.getCache(e),
      t &&
        t.split(",").forEach(function (i) {
          return n.save(i);
        }),
      n
    );
  },
  $D,
  Iv = function (e, t) {
    var n = Oo.createElementNS
      ? Oo.createElementNS(
          (t || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"),
          e
        )
      : Oo.createElement(e);
    return n && n.style ? n : Oo.createElement(e);
  },
  Es = function r(e, t, n) {
    var i = getComputedStyle(e);
    return (
      i[t] ||
      i.getPropertyValue(t.replace(rb, "-$1").toLowerCase()) ||
      i.getPropertyValue(t) ||
      (!n && r(e, Du(t) || t, 1)) ||
      ""
    );
  },
  bE = "O,Moz,ms,Ms,Webkit".split(","),
  Du = function (e, t, n) {
    var i = t || Ma,
      s = i.style,
      o = 5;
    if (e in s && !n) return e;
    for (
      e = e.charAt(0).toUpperCase() + e.substr(1);
      o-- && !(bE[o] + e in s);

    );
    return o < 0 ? null : (o === 3 ? "ms" : o >= 0 ? bE[o] : "") + e;
  },
  Fv = function () {
    o5() &&
      window.document &&
      ((vE = window),
      (Oo = vE.document),
      (uu = Oo.documentElement),
      (Ma = Iv("div") || { style: {} }),
      Iv("div"),
      (It = Du(It)),
      (Rn = It + "Origin"),
      (Ma.style.cssText =
        "border-width:0;line-height:0;position:absolute;padding:0"),
      ($D = !!Du("perspective")),
      (tb = Mn.core.reverting),
      (eb = 1));
  },
  K_ = function r(e) {
    var t = Iv(
        "svg",
        (this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns")) ||
          "http://www.w3.org/2000/svg"
      ),
      n = this.parentNode,
      i = this.nextSibling,
      s = this.style.cssText,
      o;
    if (
      (uu.appendChild(t),
      t.appendChild(this),
      (this.style.display = "block"),
      e)
    )
      try {
        (o = this.getBBox()),
          (this._gsapBBox = this.getBBox),
          (this.getBBox = r);
      } catch {}
    else this._gsapBBox && (o = this._gsapBBox());
    return (
      n && (i ? n.insertBefore(this, i) : n.appendChild(this)),
      uu.removeChild(t),
      (this.style.cssText = s),
      o
    );
  },
  SE = function (e, t) {
    for (var n = t.length; n--; )
      if (e.hasAttribute(t[n])) return e.getAttribute(t[n]);
  },
  zD = function (e) {
    var t;
    try {
      t = e.getBBox();
    } catch {
      t = K_.call(e, !0);
    }
    return (
      (t && (t.width || t.height)) || e.getBBox === K_ || (t = K_.call(e, !0)),
      t && !t.width && !t.x && !t.y
        ? {
            x: +SE(e, ["x", "cx", "x1"]) || 0,
            y: +SE(e, ["y", "cy", "y1"]) || 0,
            width: 0,
            height: 0,
          }
        : t
    );
  },
  WD = function (e) {
    return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && zD(e));
  },
  rl = function (e, t) {
    if (t) {
      var n = e.style,
        i;
      t in co && t !== Rn && (t = It),
        n.removeProperty
          ? ((i = t.substr(0, 2)),
            (i === "ms" || t.substr(0, 6) === "webkit") && (t = "-" + t),
            n.removeProperty(
              i === "--" ? t : t.replace(rb, "-$1").toLowerCase()
            ))
          : n.removeAttribute(t);
    }
  },
  Io = function (e, t, n, i, s, o) {
    var a = new Cn(e._pt, t, n, 0, 1, o ? UD : LD);
    return (e._pt = a), (a.b = i), (a.e = s), e._props.push(n), a;
  },
  EE = { deg: 1, rad: 1, turn: 1 },
  x5 = { grid: 1, flex: 1 },
  ea = function r(e, t, n, i) {
    var s = parseFloat(n) || 0,
      o = (n + "").trim().substr((s + "").length) || "px",
      a = Ma.style,
      l = a5.test(t),
      u = e.tagName.toLowerCase() === "svg",
      c = (u ? "client" : "offset") + (l ? "Width" : "Height"),
      h = 100,
      d = i === "px",
      f = i === "%",
      m,
      g,
      _,
      v;
    if (i === o || !s || EE[i] || EE[o]) return s;
    if (
      (o !== "px" && !d && (s = r(e, t, n, "px")),
      (v = e.getCTM && WD(e)),
      (f || o === "%") && (co[t] || ~t.indexOf("adius")))
    )
      return (
        (m = v ? e.getBBox()[l ? "width" : "height"] : e[c]),
        Yt(f ? (s / m) * h : (s / 100) * m)
      );
    if (
      ((a[l ? "width" : "height"] = h + (d ? o : i)),
      (g =
        ~t.indexOf("adius") || (i === "em" && e.appendChild && !u)
          ? e
          : e.parentNode),
      v && (g = (e.ownerSVGElement || {}).parentNode),
      (!g || g === Oo || !g.appendChild) && (g = Oo.body),
      (_ = g._gsap),
      _ && f && _.width && l && _.time === Wn.time && !_.uncache)
    )
      return Yt((s / _.width) * h);
    if (f && (t === "height" || t === "width")) {
      var w = e.style[t];
      (e.style[t] = h + i), (m = e[c]), w ? (e.style[t] = w) : rl(e, t);
    } else
      (f || o === "%") &&
        !x5[Es(g, "display")] &&
        (a.position = Es(e, "position")),
        g === e && (a.position = "static"),
        g.appendChild(Ma),
        (m = Ma[c]),
        g.removeChild(Ma),
        (a.position = "absolute");
    return (
      l && f && ((_ = Ua(g)), (_.time = Wn.time), (_.width = g[c])),
      Yt(d ? (m * s) / h : m && s ? (h / m) * s : 0)
    );
  },
  Ls = function (e, t, n, i) {
    var s;
    return (
      eb || Fv(),
      t in ys &&
        t !== "transform" &&
        ((t = ys[t]), ~t.indexOf(",") && (t = t.split(",")[0])),
      co[t] && t !== "transform"
        ? ((s = Ih(e, i)),
          (s =
            t !== "transformOrigin"
              ? s[t]
              : s.svg
              ? s.origin
              : Hp(Es(e, Rn)) + " " + s.zOrigin + "px"))
        : ((s = e.style[t]),
          (!s || s === "auto" || i || ~(s + "").indexOf("calc(")) &&
            (s =
              (Wp[t] && Wp[t](e, t, n)) ||
              Es(e, t) ||
              oD(e, t) ||
              (t === "opacity" ? 1 : 0))),
      n && !~(s + "").trim().indexOf(" ") ? ea(e, t, s, n) + n : s
    );
  },
  w5 = function (e, t, n, i) {
    if (!n || n === "none") {
      var s = Du(t, e, 1),
        o = s && Es(e, s, 1);
      o && o !== n
        ? ((t = s), (n = o))
        : t === "borderColor" && (n = Es(e, "borderTopColor"));
    }
    var a = new Cn(this._pt, e.style, t, 0, 1, ID),
      l = 0,
      u = 0,
      c,
      h,
      d,
      f,
      m,
      g,
      _,
      v,
      w,
      x,
      k,
      C;
    if (
      ((a.b = n),
      (a.e = i),
      (n += ""),
      (i += ""),
      i === "auto" &&
        ((g = e.style[t]),
        (e.style[t] = i),
        (i = Es(e, t) || i),
        g ? (e.style[t] = g) : rl(e, t)),
      (c = [n, i]),
      TD(c),
      (n = c[0]),
      (i = c[1]),
      (d = n.match(Zl) || []),
      (C = i.match(Zl) || []),
      C.length)
    ) {
      for (; (h = Zl.exec(i)); )
        (_ = h[0]),
          (w = i.substring(l, h.index)),
          m
            ? (m = (m + 1) % 5)
            : (w.substr(-5) === "rgba(" || w.substr(-5) === "hsla(") && (m = 1),
          _ !== (g = d[u++] || "") &&
            ((f = parseFloat(g) || 0),
            (k = g.substr((f + "").length)),
            _.charAt(1) === "=" && (_ = lu(f, _) + k),
            (v = parseFloat(_)),
            (x = _.substr((v + "").length)),
            (l = Zl.lastIndex - x.length),
            x ||
              ((x = x || qn.units[t] || k),
              l === i.length && ((i += x), (a.e += x))),
            k !== x && (f = ea(e, t, g, x) || 0),
            (a._pt = {
              _next: a._pt,
              p: w || u === 1 ? w : ",",
              s: f,
              c: v - f,
              m: (m && m < 4) || t === "zIndex" ? Math.round : 0,
            }));
      a.c = l < i.length ? i.substring(l, i.length) : "";
    } else a.r = t === "display" && i === "none" ? UD : LD;
    return eD.test(i) && (a.e = 0), (this._pt = a), a;
  },
  TE = { top: "0%", bottom: "100%", left: "0%", right: "100%", center: "50%" },
  b5 = function (e) {
    var t = e.split(" "),
      n = t[0],
      i = t[1] || "50%";
    return (
      (n === "top" || n === "bottom" || i === "left" || i === "right") &&
        ((e = n), (n = i), (i = e)),
      (t[0] = TE[n] || n),
      (t[1] = TE[i] || i),
      t.join(" ")
    );
  },
  S5 = function (e, t) {
    if (t.tween && t.tween._time === t.tween._dur) {
      var n = t.t,
        i = n.style,
        s = t.u,
        o = n._gsap,
        a,
        l,
        u;
      if (s === "all" || s === !0) (i.cssText = ""), (l = 1);
      else
        for (s = s.split(","), u = s.length; --u > -1; )
          (a = s[u]),
            co[a] && ((l = 1), (a = a === "transformOrigin" ? Rn : It)),
            rl(n, a);
      l &&
        (rl(n, It),
        o &&
          (o.svg && n.removeAttribute("transform"),
          Ih(n, 1),
          (o.uncache = 1),
          GD(i)));
    }
  },
  Wp = {
    clearProps: function (e, t, n, i, s) {
      if (s.data !== "isFromStart") {
        var o = (e._pt = new Cn(e._pt, t, n, 0, 0, S5));
        return (o.u = i), (o.pr = -10), (o.tween = s), e._props.push(n), 1;
      }
    },
  },
  Oh = [1, 0, 0, 1, 0, 0],
  HD = {},
  VD = function (e) {
    return e === "matrix(1, 0, 0, 1, 0, 0)" || e === "none" || !e;
  },
  kE = function (e) {
    var t = Es(e, It);
    return VD(t) ? Oh : t.substr(7).match(JR).map(Yt);
  },
  nb = function (e, t) {
    var n = e._gsap || Ua(e),
      i = e.style,
      s = kE(e),
      o,
      a,
      l,
      u;
    return n.svg && e.getAttribute("transform")
      ? ((l = e.transform.baseVal.consolidate().matrix),
        (s = [l.a, l.b, l.c, l.d, l.e, l.f]),
        s.join(",") === "1,0,0,1,0,0" ? Oh : s)
      : (s === Oh &&
          !e.offsetParent &&
          e !== uu &&
          !n.svg &&
          ((l = i.display),
          (i.display = "block"),
          (o = e.parentNode),
          (!o || !e.offsetParent) &&
            ((u = 1), (a = e.nextElementSibling), uu.appendChild(e)),
          (s = kE(e)),
          l ? (i.display = l) : rl(e, "display"),
          u &&
            (a
              ? o.insertBefore(e, a)
              : o
              ? o.appendChild(e)
              : uu.removeChild(e))),
        t && s.length > 6 ? [s[0], s[1], s[4], s[5], s[12], s[13]] : s);
  },
  Nv = function (e, t, n, i, s, o) {
    var a = e._gsap,
      l = s || nb(e, !0),
      u = a.xOrigin || 0,
      c = a.yOrigin || 0,
      h = a.xOffset || 0,
      d = a.yOffset || 0,
      f = l[0],
      m = l[1],
      g = l[2],
      _ = l[3],
      v = l[4],
      w = l[5],
      x = t.split(" "),
      k = parseFloat(x[0]) || 0,
      C = parseFloat(x[1]) || 0,
      F,
      I,
      G,
      j;
    n
      ? l !== Oh &&
        (I = f * _ - m * g) &&
        ((G = k * (_ / I) + C * (-g / I) + (g * w - _ * v) / I),
        (j = k * (-m / I) + C * (f / I) - (f * w - m * v) / I),
        (k = G),
        (C = j))
      : ((F = zD(e)),
        (k = F.x + (~x[0].indexOf("%") ? (k / 100) * F.width : k)),
        (C = F.y + (~(x[1] || x[0]).indexOf("%") ? (C / 100) * F.height : C))),
      i || (i !== !1 && a.smooth)
        ? ((v = k - u),
          (w = C - c),
          (a.xOffset = h + (v * f + w * g) - v),
          (a.yOffset = d + (v * m + w * _) - w))
        : (a.xOffset = a.yOffset = 0),
      (a.xOrigin = k),
      (a.yOrigin = C),
      (a.smooth = !!i),
      (a.origin = t),
      (a.originIsAbsolute = !!n),
      (e.style[Rn] = "0px 0px"),
      o &&
        (Io(o, a, "xOrigin", u, k),
        Io(o, a, "yOrigin", c, C),
        Io(o, a, "xOffset", h, a.xOffset),
        Io(o, a, "yOffset", d, a.yOffset)),
      e.setAttribute("data-svg-origin", k + " " + C);
  },
  Ih = function (e, t) {
    var n = e._gsap || new CD(e);
    if ("x" in n && !t && !n.uncache) return n;
    var i = e.style,
      s = n.scaleX < 0,
      o = "px",
      a = "deg",
      l = getComputedStyle(e),
      u = Es(e, Rn) || "0",
      c,
      h,
      d,
      f,
      m,
      g,
      _,
      v,
      w,
      x,
      k,
      C,
      F,
      I,
      G,
      j,
      $,
      H,
      Q,
      O,
      y,
      T,
      A,
      P,
      R,
      B,
      L,
      M,
      b,
      N,
      J,
      te;
    return (
      (c = h = d = g = _ = v = w = x = k = 0),
      (f = m = 1),
      (n.svg = !!(e.getCTM && WD(e))),
      l.translate &&
        ((l.translate !== "none" ||
          l.scale !== "none" ||
          l.rotate !== "none") &&
          (i[It] =
            (l.translate !== "none"
              ? "translate3d(" +
                (l.translate + " 0 0").split(" ").slice(0, 3).join(", ") +
                ") "
              : "") +
            (l.rotate !== "none" ? "rotate(" + l.rotate + ") " : "") +
            (l.scale !== "none"
              ? "scale(" + l.scale.split(" ").join(",") + ") "
              : "") +
            (l[It] !== "none" ? l[It] : "")),
        (i.scale = i.rotate = i.translate = "none")),
      (I = nb(e, n.svg)),
      n.svg &&
        (n.uncache
          ? ((R = e.getBBox()),
            (u = n.xOrigin - R.x + "px " + (n.yOrigin - R.y) + "px"),
            (P = ""))
          : (P = !t && e.getAttribute("data-svg-origin")),
        Nv(e, P || u, !!P || n.originIsAbsolute, n.smooth !== !1, I)),
      (C = n.xOrigin || 0),
      (F = n.yOrigin || 0),
      I !== Oh &&
        ((H = I[0]),
        (Q = I[1]),
        (O = I[2]),
        (y = I[3]),
        (c = T = I[4]),
        (h = A = I[5]),
        I.length === 6
          ? ((f = Math.sqrt(H * H + Q * Q)),
            (m = Math.sqrt(y * y + O * O)),
            (g = H || Q ? Tl(Q, H) * va : 0),
            (w = O || y ? Tl(O, y) * va + g : 0),
            w && (m *= Math.abs(Math.cos(w * cu))),
            n.svg && ((c -= C - (C * H + F * O)), (h -= F - (C * Q + F * y))))
          : ((te = I[6]),
            (N = I[7]),
            (L = I[8]),
            (M = I[9]),
            (b = I[10]),
            (J = I[11]),
            (c = I[12]),
            (h = I[13]),
            (d = I[14]),
            (G = Tl(te, b)),
            (_ = G * va),
            G &&
              ((j = Math.cos(-G)),
              ($ = Math.sin(-G)),
              (P = T * j + L * $),
              (R = A * j + M * $),
              (B = te * j + b * $),
              (L = T * -$ + L * j),
              (M = A * -$ + M * j),
              (b = te * -$ + b * j),
              (J = N * -$ + J * j),
              (T = P),
              (A = R),
              (te = B)),
            (G = Tl(-O, b)),
            (v = G * va),
            G &&
              ((j = Math.cos(-G)),
              ($ = Math.sin(-G)),
              (P = H * j - L * $),
              (R = Q * j - M * $),
              (B = O * j - b * $),
              (J = y * $ + J * j),
              (H = P),
              (Q = R),
              (O = B)),
            (G = Tl(Q, H)),
            (g = G * va),
            G &&
              ((j = Math.cos(G)),
              ($ = Math.sin(G)),
              (P = H * j + Q * $),
              (R = T * j + A * $),
              (Q = Q * j - H * $),
              (A = A * j - T * $),
              (H = P),
              (T = R)),
            _ &&
              Math.abs(_) + Math.abs(g) > 359.9 &&
              ((_ = g = 0), (v = 180 - v)),
            (f = Yt(Math.sqrt(H * H + Q * Q + O * O))),
            (m = Yt(Math.sqrt(A * A + te * te))),
            (G = Tl(T, A)),
            (w = Math.abs(G) > 2e-4 ? G * va : 0),
            (k = J ? 1 / (J < 0 ? -J : J) : 0)),
        n.svg &&
          ((P = e.getAttribute("transform")),
          (n.forceCSS = e.setAttribute("transform", "") || !VD(Es(e, It))),
          P && e.setAttribute("transform", P))),
      Math.abs(w) > 90 &&
        Math.abs(w) < 270 &&
        (s
          ? ((f *= -1), (w += g <= 0 ? 180 : -180), (g += g <= 0 ? 180 : -180))
          : ((m *= -1), (w += w <= 0 ? 180 : -180))),
      (t = t || n.uncache),
      (n.x =
        c -
        ((n.xPercent =
          c &&
          ((!t && n.xPercent) ||
            (Math.round(e.offsetWidth / 2) === Math.round(-c) ? -50 : 0)))
          ? (e.offsetWidth * n.xPercent) / 100
          : 0) +
        o),
      (n.y =
        h -
        ((n.yPercent =
          h &&
          ((!t && n.yPercent) ||
            (Math.round(e.offsetHeight / 2) === Math.round(-h) ? -50 : 0)))
          ? (e.offsetHeight * n.yPercent) / 100
          : 0) +
        o),
      (n.z = d + o),
      (n.scaleX = Yt(f)),
      (n.scaleY = Yt(m)),
      (n.rotation = Yt(g) + a),
      (n.rotationX = Yt(_) + a),
      (n.rotationY = Yt(v) + a),
      (n.skewX = w + a),
      (n.skewY = x + a),
      (n.transformPerspective = k + o),
      (n.zOrigin = parseFloat(u.split(" ")[2]) || (!t && n.zOrigin) || 0) &&
        (i[Rn] = Hp(u)),
      (n.xOffset = n.yOffset = 0),
      (n.force3D = qn.force3D),
      (n.renderTransform = n.svg ? T5 : $D ? XD : E5),
      (n.uncache = 0),
      n
    );
  },
  Hp = function (e) {
    return (e = e.split(" "))[0] + " " + e[1];
  },
  q_ = function (e, t, n) {
    var i = en(t);
    return Yt(parseFloat(t) + parseFloat(ea(e, "x", n + "px", i))) + i;
  },
  E5 = function (e, t) {
    (t.z = "0px"),
      (t.rotationY = t.rotationX = "0deg"),
      (t.force3D = 0),
      XD(e, t);
  },
  ha = "0deg",
  hc = "0px",
  da = ") ",
  XD = function (e, t) {
    var n = t || this,
      i = n.xPercent,
      s = n.yPercent,
      o = n.x,
      a = n.y,
      l = n.z,
      u = n.rotation,
      c = n.rotationY,
      h = n.rotationX,
      d = n.skewX,
      f = n.skewY,
      m = n.scaleX,
      g = n.scaleY,
      _ = n.transformPerspective,
      v = n.force3D,
      w = n.target,
      x = n.zOrigin,
      k = "",
      C = (v === "auto" && e && e !== 1) || v === !0;
    if (x && (h !== ha || c !== ha)) {
      var F = parseFloat(c) * cu,
        I = Math.sin(F),
        G = Math.cos(F),
        j;
      (F = parseFloat(h) * cu),
        (j = Math.cos(F)),
        (o = q_(w, o, I * j * -x)),
        (a = q_(w, a, -Math.sin(F) * -x)),
        (l = q_(w, l, G * j * -x + x));
    }
    _ !== hc && (k += "perspective(" + _ + da),
      (i || s) && (k += "translate(" + i + "%, " + s + "%) "),
      (C || o !== hc || a !== hc || l !== hc) &&
        (k +=
          l !== hc || C
            ? "translate3d(" + o + ", " + a + ", " + l + ") "
            : "translate(" + o + ", " + a + da),
      u !== ha && (k += "rotate(" + u + da),
      c !== ha && (k += "rotateY(" + c + da),
      h !== ha && (k += "rotateX(" + h + da),
      (d !== ha || f !== ha) && (k += "skew(" + d + ", " + f + da),
      (m !== 1 || g !== 1) && (k += "scale(" + m + ", " + g + da),
      (w.style[It] = k || "translate(0, 0)");
  },
  T5 = function (e, t) {
    var n = t || this,
      i = n.xPercent,
      s = n.yPercent,
      o = n.x,
      a = n.y,
      l = n.rotation,
      u = n.skewX,
      c = n.skewY,
      h = n.scaleX,
      d = n.scaleY,
      f = n.target,
      m = n.xOrigin,
      g = n.yOrigin,
      _ = n.xOffset,
      v = n.yOffset,
      w = n.forceCSS,
      x = parseFloat(o),
      k = parseFloat(a),
      C,
      F,
      I,
      G,
      j;
    (l = parseFloat(l)),
      (u = parseFloat(u)),
      (c = parseFloat(c)),
      c && ((c = parseFloat(c)), (u += c), (l += c)),
      l || u
        ? ((l *= cu),
          (u *= cu),
          (C = Math.cos(l) * h),
          (F = Math.sin(l) * h),
          (I = Math.sin(l - u) * -d),
          (G = Math.cos(l - u) * d),
          u &&
            ((c *= cu),
            (j = Math.tan(u - c)),
            (j = Math.sqrt(1 + j * j)),
            (I *= j),
            (G *= j),
            c &&
              ((j = Math.tan(c)),
              (j = Math.sqrt(1 + j * j)),
              (C *= j),
              (F *= j))),
          (C = Yt(C)),
          (F = Yt(F)),
          (I = Yt(I)),
          (G = Yt(G)))
        : ((C = h), (G = d), (F = I = 0)),
      ((x && !~(o + "").indexOf("px")) || (k && !~(a + "").indexOf("px"))) &&
        ((x = ea(f, "x", o, "px")), (k = ea(f, "y", a, "px"))),
      (m || g || _ || v) &&
        ((x = Yt(x + m - (m * C + g * I) + _)),
        (k = Yt(k + g - (m * F + g * G) + v))),
      (i || s) &&
        ((j = f.getBBox()),
        (x = Yt(x + (i / 100) * j.width)),
        (k = Yt(k + (s / 100) * j.height))),
      (j =
        "matrix(" + C + "," + F + "," + I + "," + G + "," + x + "," + k + ")"),
      f.setAttribute("transform", j),
      w && (f.style[It] = j);
  },
  k5 = function (e, t, n, i, s) {
    var o = 360,
      a = Ir(s),
      l = parseFloat(s) * (a && ~s.indexOf("rad") ? va : 1),
      u = l - i,
      c = i + u + "deg",
      h,
      d;
    return (
      a &&
        ((h = s.split("_")[1]),
        h === "short" && ((u %= o), u !== u % (o / 2) && (u += u < 0 ? o : -o)),
        h === "cw" && u < 0
          ? (u = ((u + o * wE) % o) - ~~(u / o) * o)
          : h === "ccw" && u > 0 && (u = ((u - o * wE) % o) - ~~(u / o) * o)),
      (e._pt = d = new Cn(e._pt, t, n, i, u, u5)),
      (d.e = c),
      (d.u = "deg"),
      e._props.push(n),
      d
    );
  },
  AE = function (e, t) {
    for (var n in t) e[n] = t[n];
    return e;
  },
  A5 = function (e, t, n) {
    var i = AE({}, n._gsap),
      s = "perspective,force3D,transformOrigin,svgOrigin",
      o = n.style,
      a,
      l,
      u,
      c,
      h,
      d,
      f,
      m;
    i.svg
      ? ((u = n.getAttribute("transform")),
        n.setAttribute("transform", ""),
        (o[It] = t),
        (a = Ih(n, 1)),
        rl(n, It),
        n.setAttribute("transform", u))
      : ((u = getComputedStyle(n)[It]),
        (o[It] = t),
        (a = Ih(n, 1)),
        (o[It] = u));
    for (l in co)
      (u = i[l]),
        (c = a[l]),
        u !== c &&
          s.indexOf(l) < 0 &&
          ((f = en(u)),
          (m = en(c)),
          (h = f !== m ? ea(n, l, u, m) : parseFloat(u)),
          (d = parseFloat(c)),
          (e._pt = new Cn(e._pt, a, l, h, d - h, Ov)),
          (e._pt.u = m || 0),
          e._props.push(l));
    AE(a, i);
  };
Pn("padding,margin,Width,Radius", function (r, e) {
  var t = "Top",
    n = "Right",
    i = "Bottom",
    s = "Left",
    o = (e < 3 ? [t, n, i, s] : [t + s, t + n, i + n, i + s]).map(function (a) {
      return e < 2 ? r + a : "border" + a + r;
    });
  Wp[e > 1 ? "border" + r : r] = function (a, l, u, c, h) {
    var d, f;
    if (arguments.length < 4)
      return (
        (d = o.map(function (m) {
          return Ls(a, m, u);
        })),
        (f = d.join(" ")),
        f.split(d[0]).length === 5 ? d[0] : f
      );
    (d = (c + "").split(" ")),
      (f = {}),
      o.forEach(function (m, g) {
        return (f[m] = d[g] = d[g] || d[((g - 1) / 2) | 0]);
      }),
      a.init(l, f, h);
  };
});
var YD = {
  name: "css",
  register: Fv,
  targetTest: function (e) {
    return e.style && e.nodeType;
  },
  init: function (e, t, n, i, s) {
    var o = this._props,
      a = e.style,
      l = n.vars.startAt,
      u,
      c,
      h,
      d,
      f,
      m,
      g,
      _,
      v,
      w,
      x,
      k,
      C,
      F,
      I,
      G;
    eb || Fv(),
      (this.styles = this.styles || jD(e)),
      (G = this.styles.props),
      (this.tween = n);
    for (g in t)
      if (g !== "autoRound" && ((c = t[g]), !(Gn[g] && RD(g, t, n, i, e, s)))) {
        if (
          ((f = typeof c),
          (m = Wp[g]),
          f === "function" && ((c = c.call(n, i, e, s)), (f = typeof c)),
          f === "string" && ~c.indexOf("random(") && (c = Dh(c)),
          m)
        )
          m(this, e, g, c, n) && (I = 1);
        else if (g.substr(0, 2) === "--")
          (u = (getComputedStyle(e).getPropertyValue(g) + "").trim()),
            (c += ""),
            (Ko.lastIndex = 0),
            Ko.test(u) || ((_ = en(u)), (v = en(c))),
            v ? _ !== v && (u = ea(e, g, u, v) + v) : _ && (c += _),
            this.add(a, "setProperty", u, c, i, s, 0, 0, g),
            o.push(g),
            G.push(g, 0, a[g]);
        else if (f !== "undefined") {
          if (
            (l && g in l
              ? ((u = typeof l[g] == "function" ? l[g].call(n, i, e, s) : l[g]),
                Ir(u) && ~u.indexOf("random(") && (u = Dh(u)),
                en(u + "") ||
                  u === "auto" ||
                  (u += qn.units[g] || en(Ls(e, g)) || ""),
                (u + "").charAt(1) === "=" && (u = Ls(e, g)))
              : (u = Ls(e, g)),
            (d = parseFloat(u)),
            (w = f === "string" && c.charAt(1) === "=" && c.substr(0, 2)),
            w && (c = c.substr(2)),
            (h = parseFloat(c)),
            g in ys &&
              (g === "autoAlpha" &&
                (d === 1 && Ls(e, "visibility") === "hidden" && h && (d = 0),
                G.push("visibility", 0, a.visibility),
                Io(
                  this,
                  a,
                  "visibility",
                  d ? "inherit" : "hidden",
                  h ? "inherit" : "hidden",
                  !h
                )),
              g !== "scale" &&
                g !== "transform" &&
                ((g = ys[g]), ~g.indexOf(",") && (g = g.split(",")[0]))),
            (x = g in co),
            x)
          ) {
            if (
              (this.styles.save(g),
              k ||
                ((C = e._gsap),
                (C.renderTransform && !t.parseTransform) ||
                  Ih(e, t.parseTransform),
                (F = t.smoothOrigin !== !1 && C.smooth),
                (k = this._pt =
                  new Cn(this._pt, a, It, 0, 1, C.renderTransform, C, 0, -1)),
                (k.dep = 1)),
              g === "scale")
            )
              (this._pt = new Cn(
                this._pt,
                C,
                "scaleY",
                C.scaleY,
                (w ? lu(C.scaleY, w + h) : h) - C.scaleY || 0,
                Ov
              )),
                (this._pt.u = 0),
                o.push("scaleY", g),
                (g += "X");
            else if (g === "transformOrigin") {
              G.push(Rn, 0, a[Rn]),
                (c = b5(c)),
                C.svg
                  ? Nv(e, c, 0, F, 0, this)
                  : ((v = parseFloat(c.split(" ")[2]) || 0),
                    v !== C.zOrigin && Io(this, C, "zOrigin", C.zOrigin, v),
                    Io(this, a, g, Hp(u), Hp(c)));
              continue;
            } else if (g === "svgOrigin") {
              Nv(e, c, 1, F, 0, this);
              continue;
            } else if (g in HD) {
              k5(this, C, g, d, w ? lu(d, w + c) : c);
              continue;
            } else if (g === "smoothOrigin") {
              Io(this, C, "smooth", C.smooth, c);
              continue;
            } else if (g === "force3D") {
              C[g] = c;
              continue;
            } else if (g === "transform") {
              A5(this, c, e);
              continue;
            }
          } else g in a || (g = Du(g) || g);
          if (x || ((h || h === 0) && (d || d === 0) && !l5.test(c) && g in a))
            (_ = (u + "").substr((d + "").length)),
              h || (h = 0),
              (v = en(c) || (g in qn.units ? qn.units[g] : _)),
              _ !== v && (d = ea(e, g, u, v)),
              (this._pt = new Cn(
                this._pt,
                x ? C : a,
                g,
                d,
                (w ? lu(d, w + h) : h) - d,
                !x && (v === "px" || g === "zIndex") && t.autoRound !== !1
                  ? h5
                  : Ov
              )),
              (this._pt.u = v || 0),
              _ !== v && v !== "%" && ((this._pt.b = u), (this._pt.r = c5));
          else if (g in a) w5.call(this, e, g, u, w ? w + c : c);
          else if (g in e) this.add(e, g, u || e[g], w ? w + c : c, i, s);
          else if (g !== "parseTransform") {
            Hw(g, c);
            continue;
          }
          x || (g in a ? G.push(g, 0, a[g]) : G.push(g, 1, u || e[g])),
            o.push(g);
        }
      }
    I && FD(this);
  },
  render: function (e, t) {
    if (t.tween._time || !tb())
      for (var n = t._pt; n; ) n.r(e, n.d), (n = n._next);
    else t.styles.revert();
  },
  get: Ls,
  aliases: ys,
  getSetter: function (e, t, n) {
    var i = ys[t];
    return (
      i && i.indexOf(",") < 0 && (t = i),
      t in co && t !== Rn && (e._gsap.x || Ls(e, "x"))
        ? n && xE === n
          ? t === "scale"
            ? m5
            : p5
          : (xE = n || {}) && (t === "scale" ? g5 : _5)
        : e.style && !$w(e.style[t])
        ? d5
        : ~t.indexOf("-")
        ? f5
        : Qw(e, t)
    );
  },
  core: { _removeProperty: rl, _getMatrix: nb },
};
Mn.utils.checkPrefix = Du;
Mn.core.getStyleSaver = jD;
(function (r, e, t, n) {
  var i = Pn(r + "," + e + "," + t, function (s) {
    co[s] = 1;
  });
  Pn(e, function (s) {
    (qn.units[s] = "deg"), (HD[s] = 1);
  }),
    (ys[i[13]] = r + "," + e),
    Pn(n, function (s) {
      var o = s.split(":");
      ys[o[1]] = i[o[0]];
    });
})(
  "x,y,z,scale,scaleX,scaleY,xPercent,yPercent",
  "rotation,rotationX,rotationY,skewX,skewY",
  "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",
  "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"
);
Pn(
  "x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",
  function (r) {
    qn.units[r] = "px";
  }
);
Mn.registerPlugin(YD);
/*!
 * strings: 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */ var P5 = /(?:^\s+|\s+$)/g,
  C5 =
    /([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
function KD(r) {
  var e = r.nodeType,
    t = "";
  if (e === 1 || e === 9 || e === 11) {
    if (typeof r.textContent == "string") return r.textContent;
    for (r = r.firstChild; r; r = r.nextSibling) t += KD(r);
  } else if (e === 3 || e === 4) return r.nodeValue;
  return t;
}
function Lv(r, e, t, n) {
  for (var i = r.firstChild, s = [], o; i; )
    i.nodeType === 3
      ? ((o = (i.nodeValue + "").replace(/^\n+/g, "")),
        n || (o = o.replace(/\s+/g, " ")),
        s.push.apply(s, qD(o, e, t, n)))
      : (i.nodeName + "").toLowerCase() === "br"
      ? (s[s.length - 1] += "<br>")
      : s.push(i.outerHTML),
      (i = i.nextSibling);
  for (o = s.length; o--; ) s[o] === "&" && s.splice(o, 1, "&amp;");
  return s;
}
function qD(r, e, t, n) {
  if (
    ((r += ""), t && (r = r.trim ? r.trim() : r.replace(P5, "")), e && e !== "")
  )
    return r.replace(/>/g, "&gt;").replace(/</g, "&lt;").split(e);
  for (var i = [], s = r.length, o = 0, a, l; o < s; o++)
    (l = r.charAt(o)),
      ((l.charCodeAt(0) >= 55296 && l.charCodeAt(0) <= 56319) ||
        (r.charCodeAt(o + 1) >= 65024 && r.charCodeAt(o + 1) <= 65039)) &&
        ((a = ((r.substr(o, 12).split(C5) || [])[1] || "").length || 2),
        (l = r.substr(o, a)),
        (i.emoji = 1),
        (o += a - 1)),
      i.push(
        l === ">"
          ? "&gt;"
          : l === "<"
          ? "&lt;"
          : n &&
            l === " " &&
            (r.charAt(o - 1) === " " || r.charAt(o + 1) === " ")
          ? "&nbsp;"
          : l
      );
  return i;
}
/*!
 * TextPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */ var Fc,
  zd,
  R5 = function () {
    return (
      Fc ||
      (typeof window < "u" && (Fc = window.gsap) && Fc.registerPlugin && Fc)
    );
  },
  Yu = {
    version: "3.12.5",
    name: "text",
    init: function (e, t, n) {
      typeof t != "object" && (t = { value: t });
      var i = e.nodeName.toUpperCase(),
        s = this,
        o = t,
        a = o.newClass,
        l = o.oldClass,
        u = o.preserveSpaces,
        c = o.rtl,
        h = (s.delimiter = t.delimiter || ""),
        d = (s.fillChar = t.fillChar || (t.padSpace ? "&nbsp;" : "")),
        f,
        m,
        g,
        _,
        v,
        w,
        x,
        k;
      if (
        ((s.svg = e.getBBox && (i === "TEXT" || i === "TSPAN")),
        !("innerHTML" in e) && !s.svg)
      )
        return !1;
      if (((s.target = e), !("value" in t))) {
        s.text = s.original = [""];
        return;
      }
      for (
        g = Lv(e, h, !1, u),
          zd || (zd = document.createElement("div")),
          zd.innerHTML = t.value,
          m = Lv(zd, h, !1, u),
          s.from = n._from,
          (s.from || c) && !(c && s.from) && ((i = g), (g = m), (m = i)),
          s.hasClass = !!(a || l),
          s.newClass = c ? l : a,
          s.oldClass = c ? a : l,
          i = g.length - m.length,
          f = i < 0 ? g : m,
          i < 0 && (i = -i);
        --i > -1;

      )
        f.push(d);
      if (t.type === "diff") {
        for (_ = 0, v = [], w = [], x = "", i = 0; i < m.length; i++)
          (k = m[i]),
            k === g[i]
              ? (x += k)
              : ((v[_] = x + k), (w[_++] = x + g[i]), (x = ""));
        (m = v), (g = w), x && (m.push(x), g.push(x));
      }
      t.speed &&
        n.duration(
          Math.min((0.05 / t.speed) * f.length, t.maxDuration || 9999)
        ),
        (s.rtl = c),
        (s.original = g),
        (s.text = m),
        s._props.push("text");
    },
    render: function (e, t) {
      e > 1 ? (e = 1) : e < 0 && (e = 0), t.from && (e = 1 - e);
      var n = t.text,
        i = t.hasClass,
        s = t.newClass,
        o = t.oldClass,
        a = t.delimiter,
        l = t.target,
        u = t.fillChar,
        c = t.original,
        h = t.rtl,
        d = n.length,
        f = ((h ? 1 - e : e) * d + 0.5) | 0,
        m,
        g,
        _;
      i && e
        ? ((m = s && f),
          (g = o && f !== d),
          (_ =
            (m ? "<span class='" + s + "'>" : "") +
            n.slice(0, f).join(a) +
            (m ? "</span>" : "") +
            (g ? "<span class='" + o + "'>" : "") +
            a +
            c.slice(f).join(a) +
            (g ? "</span>" : "")))
        : (_ = n.slice(0, f).join(a) + a + c.slice(f).join(a)),
        t.svg
          ? (l.textContent = _)
          : (l.innerHTML =
              u === "&nbsp;" && ~_.indexOf("  ")
                ? _.split("  ").join("&nbsp;&nbsp;")
                : _);
    },
  };
Yu.splitInnerHTML = Lv;
Yu.emojiSafeSplit = qD;
Yu.getText = KD;
R5() && Fc.registerPlugin(Yu);
var nl = Mn.registerPlugin(YD) || Mn;
nl.core.Tween;
nl.registerPlugin(Yu);
const D5 = (r) => {
  const e = K.useRef(null),
    [t, n] = K.useState(0);
  K.useEffect(() => {
    xr.completeQuest("tokenomics");
  }, []);
  const i = ["Decent", "Decentral", "Decentralised"];
  return (
    K.useEffect(() => {
      (() => {
        const o = i[t];
        nl.to(e.current, {
          text: o,
          duration: o.length * 0.1,
          ease: "none",
          onComplete: () => {
            setTimeout(() => {
              nl.to(e.current, {
                text: "",
                duration: o.length * 0.05,
                ease: "none",
                onComplete: () => {
                  n((a) => (a + 1) % i.length);
                },
              });
            }, 1e3);
          },
        });
      })();
    }, [t, i]),
    p.jsx(pt, {
      type: "tokenomics",
      children: p.jsxs("div", {
        className: "Tokenomics",
        children: [
          p.jsxs("div", {
            className: "Tokenomics_header",
            children: [
              p.jsx("img", {
                src: "/img/links/tokenomicsLink.png",
                alt: "decor",
              }),
              "Tokenomics",
            ],
          }),
          p.jsx("div", {
            className: "Tokenomics_block",
            children: p.jsxs("div", {
              className: "Tokenomics_el",
              children: [
                p.jsxs("div", {
                  className: "Tokenomics_el_name decentralised",
                  children: [
                    p.jsx("span", { ref: e }),
                    p.jsx("span", {
                      className: "blinking-cursor",
                      children: "|",
                    }),
                  ],
                }),
                p.jsx("div", {
                  className: "Tokenomics_el_perc",
                  children: ":100%",
                }),
              ],
            }),
          }),
        ],
      }),
    })
  );
};
nl.registerPlugin(Yu);
const M5 = (r) => {
    const e = K.useRef(null),
      [t, n] = K.useState(0);
    K.useEffect(() => {
      xr.completeQuest("milestone");
    }, []);
    const i = [
      "Phase 1 ",
      "Phase 2 ",
      "Phase 3  [JUSTICE]",
      "Loading...",
      "Rip Knut xx",
    ];
    return (
      K.useEffect(() => {
        (() => {
          const o = i[t];
          nl.to(e.current, {
            text: o,
            duration: o.length * 0.1,
            ease: "none",
            onComplete: () => {
              setTimeout(() => {
                nl.to(e.current, {
                  text: "",
                  duration: o.length * 0.05,
                  ease: "none",
                  onComplete: () => {
                    n((a) => (a + 1) % i.length);
                  },
                });
              }, 1e3);
            },
          });
        })();
      }, [t, i]),
      p.jsx(pt, {
        type: "milestones",
        children: p.jsxs("div", {
          className: "Tokenomics",
          children: [
            p.jsxs("div", {
              className: "Tokenomics_header",
              children: [
                p.jsx("img", {
                  src: "/img/links/milestonesLink.png",
                  alt: "decor",
                }),
                "Milestones",
              ],
            }),
            p.jsx("div", {
              className: "Tokenomics_block",
              children: p.jsx("div", {
                className: "Tokenomics_el",
                children: p.jsxs("div", {
                  className: "Tokenomics_el_name decentralised",
                  children: [
                    p.jsx("span", { ref: e }),
                    p.jsx("span", {
                      className: "blinking-cursor",
                      children: "|",
                    }),
                  ],
                }),
              }),
            }),
          ],
        }),
      })
    );
  },
  B5 = 4,
  Nc = 96,
  O5 = Array.from({ length: Nc }, (r, e) => e + 1),
  dc = I5(O5);
function I5(r) {
  for (let e = r.length - 1; e > 0; e--) {
    const t = Math.floor(Math.random() * (e + 1));
    [r[e], r[t]] = [r[t], r[e]];
  }
  return r;
}
const F5 = (r) => {
    K.useState(0);
    const [e, t] = K.useState(0);
    K.useEffect(() => {
      xr.completeQuest("memes");
    }, []);
    const n = () => {
        t((s) => (s + 1) % Nc);
      },
      i = () => {
        t((s) => (s - 1 + Nc) % Nc);
      };
    return p.jsx(pt, {
      type: "memes",
      children: p.jsxs("div", {
        className: "Memes",
        children: [
          p.jsx("div", {
            className: "Memes_selected window",
            children: p.jsx("img", {
              src: `/img/memes/mem${dc[e]}${dc[e] > 76 ? "-min.png" : ".webp"}`,
              alt: "decor",
            }),
          }),
          p.jsxs("div", {
            className: "Memes_list window",
            children: [
              p.jsx("div", {
                className: "Memes_list_content",
                children: Array.from({ length: B5 }, (s, o) => {
                  let a = (e + o) % Nc;
                  return p.jsx(
                    "div",
                    {
                      className: "Memes_list_el",
                      onClick: () => t(a),
                      children: p.jsx("img", {
                        src: `/img/memes/mem${dc[a]}${
                          dc[a] > 76 ? "-min.png" : ".webp"
                        }`,
                        alt: "decor",
                      }),
                    },
                    `meme_${dc[a]}`
                  );
                }),
              }),
              p.jsxs("div", {
                className: "Memes_list_nav",
                children: [
                  p.jsx("img", {
                    src: "data:image/svg+xml,%3Csvg width='16' height='17' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23DFDFDF' d='M15 0H0v16h1V1h14V0z'/%3E%3Cpath fill='%23fff' d='M2 1H1v14h1V2h12V1H2z'/%3E%3Cpath fill='%23000' d='M16 17H0v-1h15V0h1v17z'/%3E%3Cpath fill='gray' d='M15 1h-1v14H1v1h14V1z'/%3E%3Cpath fill='%23B8C0C1' d='M2 2h12v13H2z'/%3E%3Cpath fill='%23000' d='M9 4H8v1H7v1H6v1H5v1h1v1h1v1h1v1h1V4z'/%3E%3C/svg%3E",
                    alt: "decor",
                    onClick: i,
                  }),
                  p.jsx("img", {
                    src: "data:image/svg+xml,%3Csvg width='16' height='17' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23DFDFDF' d='M15 0H0v16h1V1h14V0z'/%3E%3Cpath fill='%23fff' d='M2 1H1v14h1V2h12V1H2z'/%3E%3Cpath fill='%23000' d='M16 17H0v-1h15V0h1v17z'/%3E%3Cpath fill='gray' d='M15 1h-1v14H1v1h14V1z'/%3E%3Cpath fill='%23B8C0C1' d='M2 2h12v13H2z'/%3E%3Cpath fill='%23000' d='M7 4H6v7h1v-1h1V9h1V8h1V7H9V6H8V5H7V4z'/%3E%3C/svg%3E",
                    alt: "decor",
                    onClick: n,
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    });
  },
  N5 = (r) =>
    p.jsx(pt, {
      type: "cantClose",
      children: p.jsxs("div", {
        className: "CantClose",
        children: [
          p.jsx("div", {
            className: "CantClose_decor",
            children: p.jsx("img", { src: "/img/cross.png", alt: "decor" }),
          }),
          p.jsxs("div", {
            className: "CantClose_content",
            children: [
              p.jsx("div", {
                className: "CantClose_header",
                children: "Cannot close the window",
              }),
              p.jsx("div", {
                className: "CantClose_subheader",
                children: "Bear will always be with you",
              }),
            ],
          }),
        ],
      }),
    });
class L5 {
  constructor() {
    he(this, "volume", 30);
    he(this, "currentSongIndex", 0);
    he(this, "position", 0);
    he(this, "newPos", -1);
    he(this, "play", !1);
    he(this, "category", "Main");
    he(
      this,
      "songs",
      [
        "https://knut.wtf/music/Main/Candy Shop - 50 Cent.mp3",
        "https://knut.wtf/music/Main/American Boy (feat. Kanye West) - Estelle.mp3",
        "https://knut.wtf/music/Main/A Thousand Miles - Vanessa Carlton.mp3",
        "https://knut.wtf/music/Main/Ab in Den Sden - Buddy.mp3",
        "https://knut.wtf/music/Main/All The Things She Said - t.A.T.u..mp3",
        "https://knut.wtf/music/Main/Around the World (La La La La La) - Radio Version - A Touch Of Class.mp3",
        "https://knut.wtf/music/Main/Be My Lover - La Bouche.mp3",
        "https://knut.wtf/music/Main/Beautiful - Snoop Dogg.mp3",
        "https://knut.wtf/music/Main/Because I Got High - Afroman.mp3",
        "https://knut.wtf/music/Main/Blue (Da Ba Dee) - Gabry Ponte Ice Pop Radio - Eiffel 65.mp3",
        "https://knut.wtf/music/Main/Butterfly - Crazy Town.mp3",
        "https://knut.wtf/music/Main/Cry Me a River - Justin Timberlake.mp3",
        "https://knut.wtf/music/Main/Crying at the Discoteque - Radio Edit - Alcazar.mp3",
        "https://knut.wtf/music/Main/Don't Stop The Music - Rihanna.mp3",
        "https://knut.wtf/music/Main/Everytime We Touch - Radio Edit - Cascada.mp3",
        "https://knut.wtf/music/Main/Hamma! - Single Edit - Culcha Candela.mp3",
        "https://knut.wtf/music/Main/Hips Don't Lie (feat. Wyclef Jean) - Shakira.mp3",
        "https://knut.wtf/music/Main/I'll Be Missing You (feat. Faith Evans, 112) - Diddy.mp3",
        "https://knut.wtf/music/Main/In Da Club - 50 Cent.mp3",
        "https://knut.wtf/music/Main/Lonely - Akon.mp3",
        "https://knut.wtf/music/Main/Low (feat. T-Pain) - Flo Rida.mp3",
        "https://knut.wtf/music/Main/Milkshake - Kelis.mp3",
        "https://knut.wtf/music/Main/Ms. Jackson - Outkast.mp3",
        "https://knut.wtf/music/Main/Numb - Linkin Park.mp3",
        "https://knut.wtf/music/Main/One More Time - Daft Punk.mp3",
        "https://knut.wtf/music/Main/Oops!...I Did It Again - Britney Spears.mp3",
        "https://knut.wtf/music/Main/Promiscuous - Nelly Furtado.mp3",
        "https://knut.wtf/music/Main/Relax, Take It Easy - MIKA.mp3",
        "https://knut.wtf/music/Main/savernames.js",
        "https://knut.wtf/music/Main/SexyBack (feat. Timbaland) - Justin Timberlake.mp3",
        "https://knut.wtf/music/Main/SOS - Radio Edit - Rihanna.mp3",
        "https://knut.wtf/music/Main/Stronger - Kanye West.mp3",
        "https://knut.wtf/music/Main/Summer Jam - Radio Edit - The Underdog Project.mp3",
        "https://knut.wtf/music/Main/Toxic - Britney Spears.mp3",
        "https://knut.wtf/music/Main/Waka Waka (This Time for Africa) (feat. Freshlyground) - Shakira.mp3",
        "https://knut.wtf/music/Main/When Love Takes Over (feat. Kelly Rowland) - David Guetta.mp3",
        "https://knut.wtf/music/Main/Without Me - Eminem.mp3",
      ].sort(() => Math.random() - 0.5)
    );
    ts(this);
  }
  setVolume(e) {
    e <= 100
      ? e >= 0
        ? (this.volume = e)
        : (this.volume = 0)
      : (this.volume = 100);
  }
  setPosition(e) {
    e <= 100
      ? e >= 0
        ? (this.position = e)
        : (this.position = 0)
      : (this.position = 100);
  }
  nextSong() {
    this.currentSongIndex + 1 < this.songs.length
      ? (this.currentSongIndex = this.currentSongIndex + 1)
      : (this.currentSongIndex = 0),
      (this.newPos = 0 + Math.random() / 10);
  }
  prevSong() {
    this.currentSongIndex - 1 > 0
      ? (this.currentSongIndex = this.currentSongIndex - 1)
      : (this.currentSongIndex = this.songs.length - 1),
      (this.newPos = 0 + Math.random() / 10);
  }
  changeCategory(e) {
    console.log("change"),
      console.log(e),
      e === "Main" &&
        (this.songs = [
          "https://knut.wtf/music/Main/Candy Shop - 50 Cent.mp3",
          "https://knut.wtf/music/Main/American Boy (feat. Kanye West) - Estelle.mp3",
          "https://knut.wtf/music/Main/A Thousand Miles - Vanessa Carlton.mp3",
          "https://knut.wtf/music/Main/Ab in Den Sden - Buddy.mp3",
          "https://knut.wtf/music/Main/All The Things She Said - t.A.T.u..mp3",
          "https://knut.wtf/music/Main/Around the World (La La La La La) - Radio Version - A Touch Of Class.mp3",
          "https://knut.wtf/music/Main/Be My Lover - La Bouche.mp3",
          "https://knut.wtf/music/Main/Beautiful - Snoop Dogg.mp3",
          "https://knut.wtf/music/Main/Because I Got High - Afroman.mp3",
          "https://knut.wtf/music/Main/Blue (Da Ba Dee) - Gabry Ponte Ice Pop Radio - Eiffel 65.mp3",
          "https://knut.wtf/music/Main/Butterfly - Crazy Town.mp3",
          "https://knut.wtf/music/Main/Cry Me a River - Justin Timberlake.mp3",
          "https://knut.wtf/music/Main/Crying at the Discoteque - Radio Edit - Alcazar.mp3",
          "https://knut.wtf/music/Main/Don't Stop The Music - Rihanna.mp3",
          "https://knut.wtf/music/Main/Everytime We Touch - Radio Edit - Cascada.mp3",
          "https://knut.wtf/music/Main/Hamma! - Single Edit - Culcha Candela.mp3",
          "https://knut.wtf/music/Main/Hips Don't Lie (feat. Wyclef Jean) - Shakira.mp3",
          "https://knut.wtf/music/Main/I'll Be Missing You (feat. Faith Evans, 112) - Diddy.mp3",
          "https://knut.wtf/music/Main/In Da Club - 50 Cent.mp3",
          "https://knut.wtf/music/Main/Lonely - Akon.mp3",
          "https://knut.wtf/music/Main/Low (feat. T-Pain) - Flo Rida.mp3",
          "https://knut.wtf/music/Main/Milkshake - Kelis.mp3",
          "https://knut.wtf/music/Main/Ms. Jackson - Outkast.mp3",
          "https://knut.wtf/music/Main/Numb - Linkin Park.mp3",
          "https://knut.wtf/music/Main/One More Time - Daft Punk.mp3",
          "https://knut.wtf/music/Main/Oops!...I Did It Again - Britney Spears.mp3",
          "https://knut.wtf/music/Main/Promiscuous - Nelly Furtado.mp3",
          "https://knut.wtf/music/Main/Relax, Take It Easy - MIKA.mp3",
          "https://knut.wtf/music/Main/savernames.js",
          "https://knut.wtf/music/Main/SexyBack (feat. Timbaland) - Justin Timberlake.mp3",
          "https://knut.wtf/music/Main/SOS - Radio Edit - Rihanna.mp3",
          "https://knut.wtf/music/Main/Stronger - Kanye West.mp3",
          "https://knut.wtf/music/Main/Summer Jam - Radio Edit - The Underdog Project.mp3",
          "https://knut.wtf/music/Main/Toxic - Britney Spears.mp3",
          "https://knut.wtf/music/Main/Waka Waka (This Time for Africa) (feat. Freshlyground) - Shakira.mp3",
          "https://knut.wtf/music/Main/When Love Takes Over (feat. Kelly Rowland) - David Guetta.mp3",
          "https://knut.wtf/music/Main/Without Me - Eminem.mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "ChillMorning" &&
        (xr.completeQuest("listen-chill"),
        (this.songs = [
          "https://knut.wtf/music/ChillMorning/A Bar Song (Tipsy).mp3",
          "https://knut.wtf/music/ChillMorning/APT..mp3",
          "https://knut.wtf/music/ChillMorning/Austin (Boots Stop Workin').mp3",
          "https://knut.wtf/music/ChillMorning/Autumn Remains.mp3",
          "https://knut.wtf/music/ChillMorning/Be Easy - Nikko Mad Mix.mp3",
          "https://knut.wtf/music/ChillMorning/Beautiful Things.mp3",
          "https://knut.wtf/music/ChillMorning/BIRDS OF A FEATHER.mp3",
          "https://knut.wtf/music/ChillMorning/Black Friday (pretty like the sun).mp3",
          "https://knut.wtf/music/ChillMorning/Chemicals.mp3",
          "https://knut.wtf/music/ChillMorning/circles.mp3",
          "https://knut.wtf/music/ChillMorning/Clocks - Sign of the Times Remix.mp3",
          "https://knut.wtf/music/ChillMorning/Clocks.mp3",
          "https://knut.wtf/music/ChillMorning/Colourblind.mp3",
          "https://knut.wtf/music/ChillMorning/CONTIGO (with Tisto).mp3",
          "https://knut.wtf/music/ChillMorning/Creepin' (with The Weeknd & 21 Savage).mp3",
          "https://knut.wtf/music/ChillMorning/Dance The Night - From Barbie The Album.mp3",
          "https://knut.wtf/music/ChillMorning/Die With A Smile.mp3",
          "https://knut.wtf/music/ChillMorning/Don't Mind.mp3",
          "https://knut.wtf/music/ChillMorning/Dream.mp3",
          "https://knut.wtf/music/ChillMorning/drown.mp3",
          "https://knut.wtf/music/ChillMorning/Espresso.mp3",
          "https://knut.wtf/music/ChillMorning/Eyes Closed.mp3",
          "https://knut.wtf/music/ChillMorning/Fast Car.mp3",
          "https://knut.wtf/music/ChillMorning/feelslikeimfallinginlove.mp3",
          "https://knut.wtf/music/ChillMorning/Flowers.mp3",
          "https://knut.wtf/music/ChillMorning/For Life (feat. Nile Rodgers).mp3",
          "https://knut.wtf/music/ChillMorning/For My Hand (feat. Ed Sheeran).mp3",
          "https://knut.wtf/music/ChillMorning/Forever (feat. Malou & Yuna).mp3",
          "https://knut.wtf/music/ChillMorning/greedy.mp3",
          "https://knut.wtf/music/ChillMorning/Hold On Me.mp3",
          "https://knut.wtf/music/ChillMorning/Houdini.mp3",
          "https://knut.wtf/music/ChillMorning/I Don't Wanna Wait.mp3",
          "https://knut.wtf/music/ChillMorning/I Had Some Help (Feat. Morgan Wallen).mp3",
          "https://knut.wtf/music/ChillMorning/i like the way you kiss me.mp3",
          "https://knut.wtf/music/ChillMorning/I'm Good (Blue).mp3",
          "https://knut.wtf/music/ChillMorning/It's Not Right But It's Okay.mp3",
          "https://knut.wtf/music/ChillMorning/Journey.mp3",
          "https://knut.wtf/music/ChillMorning/June.mp3",
          "https://knut.wtf/music/ChillMorning/Kill Bill.mp3",
          "https://knut.wtf/music/ChillMorning/LET GO.mp3",
          "https://knut.wtf/music/ChillMorning/Let Her Go - Lost Coconut Remix.mp3",
          "https://knut.wtf/music/ChillMorning/Life.mp3",
          "https://knut.wtf/music/ChillMorning/Lift Me Up.mp3",
          "https://knut.wtf/music/ChillMorning/Long Island.mp3",
          "https://knut.wtf/music/ChillMorning/Lose Control.mp3",
          "https://knut.wtf/music/ChillMorning/Louder.mp3",
          "https://knut.wtf/music/ChillMorning/Love Is The Only Thing.mp3",
          "https://knut.wtf/music/ChillMorning/Lovers In A Past Life (with Rag'n'Bone Man).mp3",
          "https://knut.wtf/music/ChillMorning/Lovin On Me.mp3",
          "https://knut.wtf/music/ChillMorning/Midnight.mp3",
          "https://knut.wtf/music/ChillMorning/Move.mp3",
          "https://knut.wtf/music/ChillMorning/My Love Mine All Mine.mp3",
          "https://knut.wtf/music/ChillMorning/Mystery.mp3",
          "https://knut.wtf/music/ChillMorning/Need 2.mp3",
          "https://knut.wtf/music/ChillMorning/Never Going Home Tonight (feat. Madison Love).mp3",
          "https://knut.wtf/music/ChillMorning/Never Gonna Not Dance Again.mp3",
          "https://knut.wtf/music/ChillMorning/Nevermind.mp3",
          "https://knut.wtf/music/ChillMorning/Nowhere To Go.mp3",
          "https://knut.wtf/music/ChillMorning/Oh My Love.mp3",
          "https://knut.wtf/music/ChillMorning/One More Time.mp3",
          "https://knut.wtf/music/ChillMorning/Paint The Town Red.mp3",
          "https://knut.wtf/music/ChillMorning/Paradise.mp3",
          "https://knut.wtf/music/ChillMorning/Porque Te Vas.mp3",
          "https://knut.wtf/music/ChillMorning/RUNAWAY.mp3",
          "https://knut.wtf/music/ChillMorning/Sad Love (feat. JAIKO).mp3",
          "https://knut.wtf/music/ChillMorning/Say Say Say - Lost Coconut Remix.mp3",
          "https://knut.wtf/music/ChillMorning/Shakira_ Bzrp Music Sessions, Vol. 53.mp3",
          "https://knut.wtf/music/ChillMorning/Smile (feat. Carolina Liar).mp3",
          "https://knut.wtf/music/ChillMorning/Something Just Like This.mp3",
          "https://knut.wtf/music/ChillMorning/Speed of Sound - Ronan Remix.mp3",
          "https://knut.wtf/music/ChillMorning/Sprinter.mp3",
          "https://knut.wtf/music/ChillMorning/Stargazing.mp3",
          "https://knut.wtf/music/ChillMorning/Strangers.mp3",
          "https://knut.wtf/music/ChillMorning/Stumblin' In.mp3",
          "https://knut.wtf/music/ChillMorning/Sweater Weather.mp3",
          "https://knut.wtf/music/ChillMorning/Talk About Us.mp3",
          "https://knut.wtf/music/ChillMorning/TEXAS HOLD 'EM.mp3",
          "https://knut.wtf/music/ChillMorning/The Feeling.mp3",
          "https://knut.wtf/music/ChillMorning/The Hard Way.mp3",
          "https://knut.wtf/music/ChillMorning/The Joker And The Queen (feat. Taylor Swift).mp3",
          "https://knut.wtf/music/ChillMorning/The Sound of Silence - CYRIL Remix.mp3",
          "https://knut.wtf/music/ChillMorning/This Is The Night - Radio Edit.mp3",
          "https://knut.wtf/music/ChillMorning/THOUSAND MILES.mp3",
          "https://knut.wtf/music/ChillMorning/Too Sweet.mp3",
          "https://knut.wtf/music/ChillMorning/Training Season.mp3",
          "https://knut.wtf/music/ChillMorning/vampire.mp3",
          "https://knut.wtf/music/ChillMorning/Viva La Vida.mp3",
          "https://knut.wtf/music/ChillMorning/Wait - Kygo Remix (2024 Edit).mp3",
          "https://knut.wtf/music/ChillMorning/Waste (feat. Veronica Bravo).mp3",
          "https://knut.wtf/music/ChillMorning/Water.mp3",
          "https://knut.wtf/music/ChillMorning/we can't be friends (wait for your love).mp3",
          "https://knut.wtf/music/ChillMorning/What Was I Made For_ [From The Motion Picture _Barbie_].mp3",
          "https://knut.wtf/music/ChillMorning/What Would You Do.mp3",
          "https://knut.wtf/music/ChillMorning/Whatever.mp3",
          "https://knut.wtf/music/ChillMorning/Wonderful Life.mp3",
          "https://knut.wtf/music/ChillMorning/yes, and_.mp3",
          "https://knut.wtf/music/ChillMorning/Your Heart.mp3",
        ].sort(() => Math.random() - 0.5))),
      e === "Driving" &&
        (this.songs = [
          "https://knut.wtf/music/Driving/2BIPOLAR.mp3",
          "https://knut.wtf/music/Driving/50k.mp3",
          "https://knut.wtf/music/Driving/9mm.mp3",
          "https://knut.wtf/music/Driving/Alors on danse.mp3",
          "https://knut.wtf/music/Driving/Another Story.mp3",
          "https://knut.wtf/music/Driving/AVANGARD.mp3",
          "https://knut.wtf/music/Driving/Babel - Slowed.mp3",
          "https://knut.wtf/music/Driving/BAIXO.mp3",
          "https://knut.wtf/music/Driving/Boy, Empty.mp3",
          "https://knut.wtf/music/Driving/breathe.mp3",
          "https://knut.wtf/music/Driving/Clouds.mp3",
          "https://knut.wtf/music/Driving/Controlla - Akucum Speed Up.mp3",
          "https://knut.wtf/music/Driving/Controlla - Lieless Remix.mp3",
          "https://knut.wtf/music/Driving/Deep End.mp3",
          "https://knut.wtf/music/Driving/DEFEATED.mp3",
          "https://knut.wtf/music/Driving/Did It Go Too Far.mp3",
          "https://knut.wtf/music/Driving/die (sped up).mp3",
          "https://knut.wtf/music/Driving/die.mp3",
          "https://knut.wtf/music/Driving/Don't Stop The Music - Slowed.mp3",
          "https://knut.wtf/music/Driving/Don't Stop The Music.mp3",
          "https://knut.wtf/music/Driving/ecstacy (slowed).mp3",
          "https://knut.wtf/music/Driving/ELIXIR.mp3",
          "https://knut.wtf/music/Driving/eyes don't lie.mp3",
          "https://knut.wtf/music/Driving/EYES ON ME.mp3",
          "https://knut.wtf/music/Driving/Flare.mp3",
          "https://knut.wtf/music/Driving/FUNK UNIVERSO.mp3",
          "https://knut.wtf/music/Driving/FUNKED UP - SLOWED.mp3",
          "https://knut.wtf/music/Driving/fury.mp3",
          "https://knut.wtf/music/Driving/FSHION.mp3",
          "https://knut.wtf/music/Driving/Genesis.mp3",
          "https://knut.wtf/music/Driving/Give It To Me.mp3",
          "https://knut.wtf/music/Driving/GOOD LOYAL THOTS.mp3",
          "https://knut.wtf/music/Driving/Guess featuring billie eilish.mp3",
          "https://knut.wtf/music/Driving/HEARTBEAT.mp3",
          "https://knut.wtf/music/Driving/HYPNOTIC DATA.mp3",
          "https://knut.wtf/music/Driving/i like the way you kiss me.mp3",
          "https://knut.wtf/music/Driving/ICEWHORE!.mp3",
          "https://knut.wtf/music/Driving/if u think i'm pretty.mp3",
          "https://knut.wtf/music/Driving/If We Being Ral.mp3",
          "https://knut.wtf/music/Driving/KEROSENE.mp3",
          "https://knut.wtf/music/Driving/Let U Go.mp3",
          "https://knut.wtf/music/Driving/Lost In Time - Slowed.mp3",
          "https://knut.wtf/music/Driving/LOVELY BASTARDS.mp3",
          "https://knut.wtf/music/Driving/MAMACITA.mp3",
          "https://knut.wtf/music/Driving/Memories - Slowed.mp3",
          "https://knut.wtf/music/Driving/METAMORPHOSIS.mp3",
          "https://knut.wtf/music/Driving/MONEY ON THE DASH - SPED UP.mp3",
          "https://knut.wtf/music/Driving/MONTAGEM - PR FUNK.mp3",
          "https://knut.wtf/music/Driving/Montagem Mysterious Game.mp3",
          "https://knut.wtf/music/Driving/Moonlight.mp3",
          "https://knut.wtf/music/Driving/Murder In My Mind.mp3",
          "https://knut.wtf/music/Driving/NARCISSISTIC PERSONALITY DISORDER.mp3",
          "https://knut.wtf/music/Driving/Never Slow Down.mp3",
          "https://knut.wtf/music/Driving/Nightcall.mp3",
          "https://knut.wtf/music/Driving/ONE CALL.mp3",
          "https://knut.wtf/music/Driving/Out Of Touch.mp3",
          "https://knut.wtf/music/Driving/Piece of My Soul.mp3",
          "https://knut.wtf/music/Driving/Poison - Hazbin Hotel Original Soundtrack.mp3",
          "https://knut.wtf/music/Driving/Polozhenie.mp3",
          "https://knut.wtf/music/Driving/Psycho Dreams (Sped Up).mp3",
          "https://knut.wtf/music/Driving/RAVE.mp3",
          "https://knut.wtf/music/Driving/Rude Boy - slowed + reverb.mp3",
          "https://knut.wtf/music/Driving/Scars.mp3",
          "https://knut.wtf/music/Driving/Sleepwalker.mp3",
          "https://knut.wtf/music/Driving/SMOKE IT OFF!.mp3",
          "https://knut.wtf/music/Driving/SPIT IN MY FACE!.mp3",
          "https://knut.wtf/music/Driving/Stack King.mp3",
          "https://knut.wtf/music/Driving/Sunrise - Slowed & Reverb.mp3",
          "https://knut.wtf/music/Driving/TOO MANY LINES!.mp3",
          "https://knut.wtf/music/Driving/vampire heart.mp3",
          "https://knut.wtf/music/Driving/wait.mp3",
          "https://knut.wtf/music/Driving/WASTE.mp3",
          "https://knut.wtf/music/Driving/What You Waiting For_.mp3",
          "https://knut.wtf/music/Driving/Where Are You - Slowed.mp3",
          "https://knut.wtf/music/Driving/with u.mp3",
          "https://knut.wtf/music/Driving/Won't.mp3",
          "https://knut.wtf/music/Driving/wutiwant.mp3",
          "https://knut.wtf/music/Driving/zombie.mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "LifeStyle" &&
        (this.songs = [
          "https://knut.wtf/music/LifeStyle/0-100 Freestyle.mp3",
          "https://knut.wtf/music/LifeStyle/10 Bands.mp3",
          "https://knut.wtf/music/LifeStyle/Airdrop.mp3",
          "https://knut.wtf/music/LifeStyle/All The Way Up (Remix).mp3",
          "https://knut.wtf/music/LifeStyle/All Time High.mp3",
          "https://knut.wtf/music/LifeStyle/Aye.mp3",
          "https://knut.wtf/music/LifeStyle/BagBak.mp3",
          "https://knut.wtf/music/LifeStyle/Bank Account.mp3",
          "https://knut.wtf/music/LifeStyle/Bitcoin Genesis.mp3",
          "https://knut.wtf/music/LifeStyle/Bitcoin Song.mp3",
          "https://knut.wtf/music/LifeStyle/Blast Off.mp3",
          "https://knut.wtf/music/LifeStyle/Brand New Hunnids.mp3",
          "https://knut.wtf/music/LifeStyle/BTFD.mp3",
          "https://knut.wtf/music/LifeStyle/Bulls Is Back.mp3",
          "https://knut.wtf/music/LifeStyle/Buy.mp3",
          "https://knut.wtf/music/LifeStyle/Cryptocurrency.mp3",
          "https://knut.wtf/music/LifeStyle/Digital Gold.mp3",
          "https://knut.wtf/music/LifeStyle/Do You Get It (feat. DJ Mal-Ski).mp3",
          "https://knut.wtf/music/LifeStyle/Don't Hate The Game.mp3",
          "https://knut.wtf/music/LifeStyle/Dump.mp3",
          "https://knut.wtf/music/LifeStyle/Flash Drive.mp3",
          "https://knut.wtf/music/LifeStyle/Flex Up (feat. Future & Playboi Carti).mp3",
          "https://knut.wtf/music/LifeStyle/Forever, Laura.mp3",
          "https://knut.wtf/music/LifeStyle/Fuck Up Some Commas.mp3",
          "https://knut.wtf/music/LifeStyle/gm.mp3",
          "https://knut.wtf/music/LifeStyle/Going Up.mp3",
          "https://knut.wtf/music/LifeStyle/I Get Money.mp3",
          "https://knut.wtf/music/LifeStyle/I Get the Bag (feat. Migos).mp3",
          "https://knut.wtf/music/LifeStyle/Ima Boss (feat. Rick Ross).mp3",
          "https://knut.wtf/music/LifeStyle/KOD.mp3",
          "https://knut.wtf/music/LifeStyle/Lambo Snow White.mp3",
          "https://knut.wtf/music/LifeStyle/Level Up.mp3",
          "https://knut.wtf/music/LifeStyle/M'$ (feat. Lil Wayne).mp3",
          "https://knut.wtf/music/LifeStyle/Memphis, Pt. 2 (feat. NLE Choppa and A$AP Ferg).mp3",
          "https://knut.wtf/music/LifeStyle/Mo Money Mo Problems (feat. Puff Daddy & Mase) - 2014 Remaster.mp3",
          "https://knut.wtf/music/LifeStyle/Money Bag.mp3",
          "https://knut.wtf/music/LifeStyle/Money In The Grave (Drake ft. Rick Ross).mp3",
          "https://knut.wtf/music/LifeStyle/Money Longer.mp3",
          "https://knut.wtf/music/LifeStyle/Money Made Me Do It.mp3",
          "https://knut.wtf/music/LifeStyle/Money Team.mp3",
          "https://knut.wtf/music/LifeStyle/Money Trees.mp3",
          "https://knut.wtf/music/LifeStyle/Nacho Coins.mp3",
          "https://knut.wtf/music/LifeStyle/Never Enough.mp3",
          "https://knut.wtf/music/LifeStyle/New Level (feat. Future).mp3",
          "https://knut.wtf/music/LifeStyle/New Transaction.mp3",
          "https://knut.wtf/music/LifeStyle/One Chair.mp3",
          "https://knut.wtf/music/LifeStyle/Paid.mp3",
          "https://knut.wtf/music/LifeStyle/Plain Jane.mp3",
          "https://knut.wtf/music/LifeStyle/Purple Lamborghini (with Rick Ross).mp3",
          "https://knut.wtf/music/LifeStyle/Right-click-save.mp3",
          "https://knut.wtf/music/LifeStyle/Run Up the Racks.mp3",
          "https://knut.wtf/music/LifeStyle/Self Cust(OD).mp3",
          "https://knut.wtf/music/LifeStyle/Spaceman Freestyle.mp3",
          "https://knut.wtf/music/LifeStyle/The Game & Skrillex_ El Chapo.mp3",
          "https://knut.wtf/music/LifeStyle/There Is No Second Best.mp3",
          "https://knut.wtf/music/LifeStyle/Trophies.mp3",
          "https://knut.wtf/music/LifeStyle/U Mad.mp3",
          "https://knut.wtf/music/LifeStyle/WDYW (feat. Lil Uzi Vert, A$AP Ferg & Rich The Kid).mp3",
          "https://knut.wtf/music/LifeStyle/We Call Them Poor.mp3",
          "https://knut.wtf/music/LifeStyle/What's The Difference.mp3",
          "https://knut.wtf/music/LifeStyle/Where The Party At_.mp3",
          "https://knut.wtf/music/LifeStyle/Work REMIX (feat. A$AP Rocky, French Montana, Trinidad James & ScHoolboy Q).mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "Party" &&
        (this.songs = [
          "https://knut.wtf/music/Party/36 Grad.mp3",
          "https://knut.wtf/music/Party/99 Luftballons - Techno.mp3",
          "https://knut.wtf/music/Party/Alibi (with Pabllo Vittar & Yseult).mp3",
          "https://knut.wtf/music/Party/Alle Haben Bock.mp3",
          "https://knut.wtf/music/Party/Allein Allein - Argy Remix.mp3",
          "https://knut.wtf/music/Party/Another World.mp3",
          "https://knut.wtf/music/Party/Apple.mp3",
          "https://knut.wtf/music/Party/Baby, You're the One (Whole Again).mp3",
          "https://knut.wtf/music/Party/Be My Lover (feat. La Bouche) - 2023 Mix.mp3",
          "https://knut.wtf/music/Party/Belly Dancer.mp3",
          "https://knut.wtf/music/Party/Bittersweet Goodbye.mp3",
          "https://knut.wtf/music/Party/Blonde Chaya - Niklas Dee & Pytro Remix.mp3",
          "https://knut.wtf/music/Party/Break The Rules.mp3",
          "https://knut.wtf/music/Party/Breaking Me - HUGEL Remix.mp3",
          "https://knut.wtf/music/Party/California Dreamin'.mp3",
          "https://knut.wtf/music/Party/Can't Forget You (Club Mix).mp3",
          "https://knut.wtf/music/Party/Clap Clap (Techno).mp3",
          "https://knut.wtf/music/Party/COACHELLA.mp3",
          "https://knut.wtf/music/Party/Complicated - Techno Remix.mp3",
          "https://knut.wtf/music/Party/Conga.mp3",
          "https://knut.wtf/music/Party/Cynical - Teenage Mutants Remix.mp3",
          "https://knut.wtf/music/Party/Dance For Me (Family Affair) - Radio Edit.mp3",
          "https://knut.wtf/music/Party/Dancing Queen.mp3",
          "https://knut.wtf/music/Party/Danza Kuduro - Tisto Remix.mp3",
          "https://knut.wtf/music/Party/Der Berg ruft.mp3",
          "https://knut.wtf/music/Party/Destination Calabria.mp3",
          "https://knut.wtf/music/Party/DEUTSCHLAND  (MIT IKKIMEL).mp3",
          "https://knut.wtf/music/Party/Dieses Leben.mp3",
          "https://knut.wtf/music/Party/Don't Stop Believin'.mp3",
          "https://knut.wtf/music/Party/Drugs From Amsterdam.mp3",
          "https://knut.wtf/music/Party/Espresso.mp3",
          "https://knut.wtf/music/Party/Explode.mp3",
          "https://knut.wtf/music/Party/FE!N (feat. Playboi Carti).mp3",
          "https://knut.wtf/music/Party/Feeling Good.mp3",
          "https://knut.wtf/music/Party/For You - Fabian Farell Remix.mp3",
          "https://knut.wtf/music/Party/Freak.mp3",
          "https://knut.wtf/music/Party/Fuego.mp3",
          "https://knut.wtf/music/Party/Geiles Leben.mp3",
          "https://knut.wtf/music/Party/Germany & Techno.mp3",
          "https://knut.wtf/music/Party/Gimme Gimme Gimme.mp3",
          "https://knut.wtf/music/Party/He's A Pirate (Save Me).mp3",
          "https://knut.wtf/music/Party/Hollow (feat. Bonn).mp3",
          "https://knut.wtf/music/Party/Hot N' Cold - HYPERTECHNO.mp3",
          "https://knut.wtf/music/Party/Hotel Room Service.mp3",
          "https://knut.wtf/music/Party/I Love It.mp3",
          "https://knut.wtf/music/Party/I Wouldn't Mind.mp3",
          "https://knut.wtf/music/Party/I'm Good (Blue).mp3",
          "https://knut.wtf/music/Party/In Your Arms (Something).mp3",
          "https://knut.wtf/music/Party/International Love (feat. Chris Brown).mp3",
          "https://knut.wtf/music/Party/Intoxicated - Hypertechno.mp3",
          "https://knut.wtf/music/Party/INZIDANCE.mp3",
          "https://knut.wtf/music/Party/It Girl (feat. Sampagne).mp3",
          "https://knut.wtf/music/Party/It's ok I'm ok.mp3",
          "https://knut.wtf/music/Party/Jim Beam & Voddi.mp3",
          "https://knut.wtf/music/Party/Knockin'.mp3",
          "https://knut.wtf/music/Party/Let Me Think About It Again.mp3",
          "https://knut.wtf/music/Party/LET'S GET FKD UP.mp3",
          "https://knut.wtf/music/Party/Levels - Techno-Rave Mix.mp3",
          "https://knut.wtf/music/Party/Liebe auf den ersten Beat.mp3",
          "https://knut.wtf/music/Party/Liebe Grsse.mp3",
          "https://knut.wtf/music/Party/Live Your Life.mp3",
          "https://knut.wtf/music/Party/Losing It.mp3",
          "https://knut.wtf/music/Party/Make It Hot - DJ Kuba & Neitan Edit.mp3",
          "https://knut.wtf/music/Party/Mama hat gesagt - Gestrt aber GeiL Remix.mp3",
          "https://knut.wtf/music/Party/Man In Finance (with David Guetta).mp3",
          "https://knut.wtf/music/Party/Mas Gasolina.mp3",
          "https://knut.wtf/music/Party/Meet Her At The Love Parade.mp3",
          "https://knut.wtf/music/Party/Memories - Club Mix.mp3",
          "https://knut.wtf/music/Party/Millionen Lichter (Das Boot).mp3",
          "https://knut.wtf/music/Party/Miss You Love (DJ SaLVa Edit).mp3",
          "https://knut.wtf/music/Party/Moment.mp3",
          "https://knut.wtf/music/Party/More - Techno Mix.mp3",
          "https://knut.wtf/music/Party/Move Your Body - Tisto Edit.mp3",
          "https://knut.wtf/music/Party/Mwaki (Techno Edit).mp3",
          "https://knut.wtf/music/Party/Never Be Lonely - Scooter Remix.mp3",
          "https://knut.wtf/music/Party/Now Or Never.mp3",
          "https://knut.wtf/music/Party/Ohne mein Team.mp3",
          "https://knut.wtf/music/Party/On The Floor - DJSM Remix.mp3",
          "https://knut.wtf/music/Party/Party Sahne.mp3",
          "https://knut.wtf/music/Party/Pieces.mp3",
          "https://knut.wtf/music/Party/Primo.mp3",
          "https://knut.wtf/music/Party/Push Up - Main Edit.mp3",
          "https://knut.wtf/music/Party/Rhythm Is A Dancer - Chrit Leaf Remix.mp3",
          "https://knut.wtf/music/Party/Satisfied.mp3",
          "https://knut.wtf/music/Party/SexyBack - TechnoBack.mp3",
          "https://knut.wtf/music/Party/Somebody To Love.mp3",
          "https://knut.wtf/music/Party/Sweat - Remix.mp3",
          "https://knut.wtf/music/Party/Temperamento.mp3",
          "https://knut.wtf/music/Party/Thank You (Not So Bad).mp3",
          "https://knut.wtf/music/Party/The Way I Are.mp3",
          "https://knut.wtf/music/Party/Think About The Way.mp3",
          "https://knut.wtf/music/Party/UNSTERBLICH.mp3",
          "https://knut.wtf/music/Party/VEMPA - Shirli Version.mp3",
          "https://knut.wtf/music/Party/Von Party zu Party.mp3",
          "https://knut.wtf/music/Party/We Are Young - Sound Factory Edit.mp3",
          "https://knut.wtf/music/Party/Where Did You Go_ - A1 x J1 Remix.mp3",
          "https://knut.wtf/music/Party/Wicked Game.mp3",
          "https://knut.wtf/music/Party/Willst du - Achtabahn Remix.mp3",
          "https://knut.wtf/music/Party/Wnsch dir was.mp3",
          "https://knut.wtf/music/Party/Yeah! (feat. Lil Jon & Ludacris).mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "Relaxation" &&
        (this.songs = [
          "https://knut.wtf/music/Relaxation/432 Hz Zen - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/528 Hz Anxiety Relief - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/528 Hz Divine Frequency Flow - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/528 Hz Harmonic Healing Journey - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/528 Hz Meditation - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/528 Hz Soulful Resonance - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/528 Hz Universal Love Vibration - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/852 Hz Awakening Whispers - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/852 Hz Empowerment Echoes - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/852 Hz Healing Frequency - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/8D Audio Zen.mp3",
          "https://knut.wtf/music/Relaxation/8D Meditation Music.mp3",
          "https://knut.wtf/music/Relaxation/8D Relax Music.mp3",
          "https://knut.wtf/music/Relaxation/8D Relaxing Brain Massage.mp3",
          "https://knut.wtf/music/Relaxation/8D Relaxing Meditation Music.mp3",
          "https://knut.wtf/music/Relaxation/Abundance Meditation - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Beautiful Piano Ambient - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Blissful Aura - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Blissful Relief - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Blissful Serenity - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Carefree Sleep - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Celestial Whispers - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Cosmic Vibrations - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Deep Peace - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Deep Theta Meditation - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Deep Thinking - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Dissolve Into Serenity.mp3",
          "https://knut.wtf/music/Relaxation/Divine Healing Frequencies - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Dream State - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Dreamy Nightfall - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Echoes Beyond Time.mp3",
          "https://knut.wtf/music/Relaxation/Echoes of Serenity - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Echoes of the Soul.mp3",
          "https://knut.wtf/music/Relaxation/Enchanted Reverie.mp3",
          "https://knut.wtf/music/Relaxation/Escape From Anxiety.mp3",
          "https://knut.wtf/music/Relaxation/Eternal Ebb.mp3",
          "https://knut.wtf/music/Relaxation/Ethereal Bliss - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Ethereal Tranquility - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Find Tranquility - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Floating In The Clouds - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Flow of Silence - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Flowing Into Peace.mp3",
          "https://knut.wtf/music/Relaxation/Focused Mind - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Garden of Peace - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Harmonic Bliss - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Healing Meditation - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Healing Music Therapy - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Impassivity - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Inner Balance - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Inner Ocean.mp3",
          "https://knut.wtf/music/Relaxation/Inner Peace - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Inner Peace Symphony - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Journey Through The Galaxy.mp3",
          "https://knut.wtf/music/Relaxation/Journey to Stillness - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Lonely Angel - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Luminous Horizons.mp3",
          "https://knut.wtf/music/Relaxation/Meditation - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Meditation For The Soul - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Meditation Sleep Music - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Meditative Melancholy - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Meditative Mind - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Melodies Of Tranquility - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Mind Relaxation 8D Audio - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Mind Relaxation 8D Audio.mp3",
          "https://knut.wtf/music/Relaxation/Mindful Journey - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Mindfulness Meditation - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Mystical Serenity - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Nature's Embrace.mp3",
          "https://knut.wtf/music/Relaxation/Part Of Nature - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Peace Of Mind - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Peace Of Mind.mp3",
          "https://knut.wtf/music/Relaxation/Peaceful Escape - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Quiet Dreams.mp3",
          "https://knut.wtf/music/Relaxation/Reflections - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Relaxing Hang Drum - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Relaxing Morning - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Relaxing Oasis - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Sacred Harmonies of Healing - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Serene Dream.mp3",
          "https://knut.wtf/music/Relaxation/Serene Solace - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Serenity's Embrace - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Silent Mind - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Sleep Peacefully - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Soul Serenity - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Space Energy.mp3",
          "https://knut.wtf/music/Relaxation/Stream Of Peace - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Stressless State - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Theta Meditation 528 Hz - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Timeless Tranquility - 8D audio.mp3",
          "https://knut.wtf/music/Relaxation/Tranquil Ease - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Tranquil Oasis - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Tranquil Reflections - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Tranquil Waves - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Transcendental Harmony - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Voice Of Space.mp3",
          "https://knut.wtf/music/Relaxation/When It Rains - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Whispers of Infinity.mp3",
          "https://knut.wtf/music/Relaxation/Zen Garden - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Zen Garden Melodies - 8D AUDIO.mp3",
          "https://knut.wtf/music/Relaxation/Zero Gravity - 8D AUDIO.mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "Romantic" &&
        (this.songs = [
          "https://knut.wtf/music/Romantic/A Thousand Years (Intro).mp3",
          "https://knut.wtf/music/Romantic/A Thousand Years.mp3",
          "https://knut.wtf/music/Romantic/Adore You.mp3",
          "https://knut.wtf/music/Romantic/All I Want - From _High School Musical_ The Musical_ The Series_.mp3",
          "https://knut.wtf/music/Romantic/All Of Me.mp3",
          "https://knut.wtf/music/Romantic/Anti-Hero.mp3",
          "https://knut.wtf/music/Romantic/Are You With Me.mp3",
          "https://knut.wtf/music/Romantic/As It Was.mp3",
          "https://knut.wtf/music/Romantic/Blameless.mp3",
          "https://knut.wtf/music/Romantic/Blinding Lights.mp3",
          "https://knut.wtf/music/Romantic/Blow The Blue Away.mp3",
          "https://knut.wtf/music/Romantic/Burning Bridges.mp3",
          "https://knut.wtf/music/Romantic/Burning Love.mp3",
          "https://knut.wtf/music/Romantic/Can't Forget Interlude.mp3",
          "https://knut.wtf/music/Romantic/Can't Help Falling in Love.mp3",
          "https://knut.wtf/music/Romantic/cardigan.mp3",
          "https://knut.wtf/music/Romantic/Catching Feelings.mp3",
          "https://knut.wtf/music/Romantic/Chasing Cars.mp3",
          "https://knut.wtf/music/Romantic/Dance The Night - From Barbie The Album.mp3",
          "https://knut.wtf/music/Romantic/Don't Go Yet.mp3",
          "https://knut.wtf/music/Romantic/Drink You Up.mp3",
          "https://knut.wtf/music/Romantic/Easy On Me.mp3",
          "https://knut.wtf/music/Romantic/Every Breath You Take.mp3",
          "https://knut.wtf/music/Romantic/Eyes Are Blue.mp3",
          "https://knut.wtf/music/Romantic/Fantasy.mp3",
          "https://knut.wtf/music/Romantic/Five Seconds of Fame.mp3",
          "https://knut.wtf/music/Romantic/Fix You.mp3",
          "https://knut.wtf/music/Romantic/For You [Fifty Shades Freed].mp3",
          "https://knut.wtf/music/Romantic/Forget Me.mp3",
          "https://knut.wtf/music/Romantic/Free Fallin'.mp3",
          "https://knut.wtf/music/Romantic/Guide Me Home.mp3",
          "https://knut.wtf/music/Romantic/Happier.mp3",
          "https://knut.wtf/music/Romantic/Heart Beats.mp3",
          "https://knut.wtf/music/Romantic/Hollow Dream.mp3",
          "https://knut.wtf/music/Romantic/How Long Will I Love You.mp3",
          "https://knut.wtf/music/Romantic/I Just Called To Say I Love You.mp3",
          "https://knut.wtf/music/Romantic/I'm Yours.mp3",
          "https://knut.wtf/music/Romantic/If I Ain't Got You.mp3",
          "https://knut.wtf/music/Romantic/In The Ghetto.mp3",
          "https://knut.wtf/music/Romantic/In The Name Of Love.mp3",
          "https://knut.wtf/music/Romantic/It'll Be Okay.mp3",
          "https://knut.wtf/music/Romantic/Just One Love.mp3",
          "https://knut.wtf/music/Romantic/Just the Way You Are.mp3",
          "https://knut.wtf/music/Romantic/L-O-V-E.mp3",
          "https://knut.wtf/music/Romantic/Lavender Haze.mp3",
          "https://knut.wtf/music/Romantic/Left Behind.mp3",
          "https://knut.wtf/music/Romantic/Let Her Go.mp3",
          "https://knut.wtf/music/Romantic/Like Us (with Marin Hoxha).mp3",
          "https://knut.wtf/music/Romantic/Loser.mp3",
          "https://knut.wtf/music/Romantic/Love Me Like You Do.mp3",
          "https://knut.wtf/music/Romantic/Love Someone.mp3",
          "https://knut.wtf/music/Romantic/Love Will Lead Us There.mp3",
          "https://knut.wtf/music/Romantic/Love Will Tear Us Apart.mp3",
          "https://knut.wtf/music/Romantic/Love's Hard Landing.mp3",
          "https://knut.wtf/music/Romantic/Lover.mp3",
          "https://knut.wtf/music/Romantic/Make You Feel My Love.mp3",
          "https://knut.wtf/music/Romantic/Memories.mp3",
          "https://knut.wtf/music/Romantic/My Mind & Me.mp3",
          "https://knut.wtf/music/Romantic/Never Reply.mp3",
          "https://knut.wtf/music/Romantic/No Other (Acoustic).mp3",
          "https://knut.wtf/music/Romantic/Numb Pill.mp3",
          "https://knut.wtf/music/Romantic/One Life.mp3",
          "https://knut.wtf/music/Romantic/One More Minute.mp3",
          "https://knut.wtf/music/Romantic/Palms (with Little Rain).mp3",
          "https://knut.wtf/music/Romantic/Permanent (acoustic).mp3",
          "https://knut.wtf/music/Romantic/Picasso.mp3",
          "https://knut.wtf/music/Romantic/Put Your Records On.mp3",
          "https://knut.wtf/music/Romantic/Reciprocity.mp3",
          "https://knut.wtf/music/Romantic/Renegades.mp3",
          "https://knut.wtf/music/Romantic/Rest.mp3",
          "https://knut.wtf/music/Romantic/Say You Won't Let Go.mp3",
          "https://knut.wtf/music/Romantic/Self Sabotage.mp3",
          "https://knut.wtf/music/Romantic/Selfish.mp3",
          "https://knut.wtf/music/Romantic/Shallow - Intro.mp3",
          "https://knut.wtf/music/Romantic/Shallow.mp3",
          "https://knut.wtf/music/Romantic/Someone You Loved.mp3",
          "https://knut.wtf/music/Romantic/Sorry.mp3",
          "https://knut.wtf/music/Romantic/Stand By Me.mp3",
          "https://knut.wtf/music/Romantic/Stay With Me.mp3",
          "https://knut.wtf/music/Romantic/The Deeper I Fall.mp3",
          "https://knut.wtf/music/Romantic/Toxic To You (Remix).mp3",
          "https://knut.wtf/music/Romantic/Treat You Better.mp3",
          "https://knut.wtf/music/Romantic/True Colours.mp3",
          "https://knut.wtf/music/Romantic/Turn Me On.mp3",
          "https://knut.wtf/music/Romantic/Undercurrent.mp3",
          "https://knut.wtf/music/Romantic/Vegas.mp3",
          "https://knut.wtf/music/Romantic/Wake Me Up - Acoustic Guitar & Saxophone Edit.mp3",
          "https://knut.wtf/music/Romantic/What I Deserve.mp3",
          "https://knut.wtf/music/Romantic/What I Was Made For.mp3",
          "https://knut.wtf/music/Romantic/When The Sun Goes Down.mp3",
          "https://knut.wtf/music/Romantic/Wonderwall.mp3",
          "https://knut.wtf/music/Romantic/You Are The Reason.mp3",
          "https://knut.wtf/music/Romantic/You Found Me.mp3",
          "https://knut.wtf/music/Romantic/You're Beautiful.mp3",
          "https://knut.wtf/music/Romantic/You're The One.mp3",
          "https://knut.wtf/music/Romantic/You've Got The Love.mp3",
          "https://knut.wtf/music/Romantic/Your Song.mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "Workouts" &&
        (this.songs = [
          "https://knut.wtf/music/Workouts/All That She Wants.mp3",
          "https://knut.wtf/music/Workouts/Around the World (La La La La La) - Radio Version.mp3",
          "https://knut.wtf/music/Workouts/Bailando - Energia Mix Short Version.mp3",
          "https://knut.wtf/music/Workouts/Barbie Girl.mp3",
          "https://knut.wtf/music/Workouts/Because the Night.mp3",
          "https://knut.wtf/music/Workouts/Blue (Da Ba Dee).mp3",
          "https://knut.wtf/music/Workouts/Boom, Boom, Boom, Boom!!.mp3",
          "https://knut.wtf/music/Workouts/Boten Anna - Club Remix.mp3",
          "https://knut.wtf/music/Workouts/Call On Me - Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Captain Jack - Short Mix.mp3",
          "https://knut.wtf/music/Workouts/Coco Jamboo - Radio Version.mp3",
          "https://knut.wtf/music/Workouts/Cotton Eye Joe.mp3",
          "https://knut.wtf/music/Workouts/Das geht ab (Wir feiern die ganze Nacht).mp3",
          "https://knut.wtf/music/Workouts/Dragostea Din Tei.mp3",
          "https://knut.wtf/music/Workouts/Eins Zwei Polizei - Gendarmerie Mix.mp3",
          "https://knut.wtf/music/Workouts/Everybody (Backstreet's Back) - Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Freed From Desire - prod. Molella, Phil Jay.mp3",
          "https://knut.wtf/music/Workouts/Get Down (You're the One for Me) - LP Edit No Rap.mp3",
          "https://knut.wtf/music/Workouts/Hamma!.mp3",
          "https://knut.wtf/music/Workouts/Herz an Herz.mp3",
          "https://knut.wtf/music/Workouts/How Much Is the Fish_.mp3",
          "https://knut.wtf/music/Workouts/I Kissed A Girl.mp3",
          "https://knut.wtf/music/Workouts/I Like to Move It - '93 Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Infinity 2008 - Klaas Vocal Edit.mp3",
          "https://knut.wtf/music/Workouts/La Di Da - Dance Mix Short.mp3",
          "https://knut.wtf/music/Workouts/Larger Than Life.mp3",
          "https://knut.wtf/music/Workouts/Macarena - Bayside Boys Remix.mp3",
          "https://knut.wtf/music/Workouts/Mambo No. 5 (A Little Bit of...).mp3",
          "https://knut.wtf/music/Workouts/Maria (I Like It Loud).mp3",
          "https://knut.wtf/music/Workouts/Memories (feat. Kid Cudi).mp3",
          "https://knut.wtf/music/Workouts/Monsta.mp3",
          "https://knut.wtf/music/Workouts/Moonlight Shadow - Original Mix.mp3",
          "https://knut.wtf/music/Workouts/Mr. Vain Recall - Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Narcotic - Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Nessaja.mp3",
          "https://knut.wtf/music/Workouts/Nur Getrumt.mp3",
          "https://knut.wtf/music/Workouts/Oops!...I Did It Again.mp3",
          "https://knut.wtf/music/Workouts/Party Mix II.mp3",
          "https://knut.wtf/music/Workouts/Quit Playing Games (With My Heart).mp3",
          "https://knut.wtf/music/Workouts/Rhythm Is A Dancer - 7_ Edit.mp3",
          "https://knut.wtf/music/Workouts/Saturday Night - Radio Mix.mp3",
          "https://knut.wtf/music/Workouts/Sexy Bitch (feat. Akon).mp3",
          "https://knut.wtf/music/Workouts/Sing Hallelujah!.mp3",
          "https://knut.wtf/music/Workouts/Stamp On The Ground.mp3",
          "https://knut.wtf/music/Workouts/Summer Jam - Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Sweet Dreams.mp3",
          "https://knut.wtf/music/Workouts/Tearin' up My Heart - Radio Edit.mp3",
          "https://knut.wtf/music/Workouts/Teenage Dirtbag.mp3",
          "https://knut.wtf/music/Workouts/The Rhythm of the Night.mp3",
          "https://knut.wtf/music/Workouts/The Rigga Ding Dong Song - Radio Version.mp3",
          "https://knut.wtf/music/Workouts/The Sign.mp3",
          "https://knut.wtf/music/Workouts/The Spirit of the Hawk.mp3",
          "https://knut.wtf/music/Workouts/There Is a Party.mp3",
          "https://knut.wtf/music/Workouts/This Is How We Do It.mp3",
          "https://knut.wtf/music/Workouts/Turn Around (5,4,3,2,1).mp3",
          "https://knut.wtf/music/Workouts/U Can't Touch This.mp3",
          "https://knut.wtf/music/Workouts/U Got 2 Let The Music.mp3",
          "https://knut.wtf/music/Workouts/Verdammt ich lieb dich - Remastered.mp3",
          "https://knut.wtf/music/Workouts/Wannabe.mp3",
          "https://knut.wtf/music/Workouts/Welcome to the Club - Video Edit.mp3",
          "https://knut.wtf/music/Workouts/Were Going to Ibiza!.mp3",
          "https://knut.wtf/music/Workouts/What Is Love - 7_ Mix.mp3",
          "https://knut.wtf/music/Workouts/Whatcha Say.mp3",
          "https://knut.wtf/music/Workouts/Wonderful Days (2001 Radio Edit).mp3",
          "https://knut.wtf/music/Workouts/Word Of Mouth.mp3",
          "https://knut.wtf/music/Workouts/Yeah!.mp3",
          "https://knut.wtf/music/Workouts/You - Single Edit.mp3",
          "https://knut.wtf/music/Workouts/You're My Mate.mp3",
          "https://knut.wtf/music/Workouts/Zeitmaschine - 90s Mix.mp3",
        ].sort(() => Math.random() - 0.5)),
      e === "FRED" &&
        (this.songs = [
          "https://knut.wtf/music/Fred/leavemealone.mp3",
          "https://knut.wtf/music/Fred/Marea (weve lost dancing).mp3",
          "https://knut.wtf/music/Fred/Turn On The Lights again.. (feat. Future & Fred again..) - Anyma Remix.mp3",
          "https://knut.wtf/music/Fred/adore u.mp3",
          "https://knut.wtf/music/Fred/Baby again...mp3",
          "https://knut.wtf/music/Fred/backseat.mp3",
          "https://knut.wtf/music/Fred/Baxter (these are my friends).mp3",
          "https://knut.wtf/music/Fred/BerwynGesaffNeighbours.mp3",
          "https://knut.wtf/music/Fred/Billie (loving arms).mp3",
          "https://knut.wtf/music/Fred/Bleu (better with time).mp3",
          "https://knut.wtf/music/Fred/Clara (the night is dark).mp3",
          "https://knut.wtf/music/Fred/Cmon.mp3",
          "https://knut.wtf/music/Fred/Danielle (smile on my face).mp3",
          "https://knut.wtf/music/Fred/Delilah (pull me out of this).mp3",
          "https://knut.wtf/music/Fred/Dermot (see yourself in my eyes).mp3",
          "https://knut.wtf/music/Fred/Faisal (envelops me).mp3",
          "https://knut.wtf/music/Fred/fear less.mp3",
          "https://knut.wtf/music/Fred/glow.mp3",
          "https://knut.wtf/music/Fred/Hannah (the sun).mp3",
          "https://knut.wtf/music/Fred/i saw you.mp3",
          "https://knut.wtf/music/Fred/Jessie (i miss you).mp3",
          "https://knut.wtf/music/Fred/Julia (deep diving).mp3",
          "https://knut.wtf/music/Fred/Jungle.mp3",
          "https://knut.wtf/music/Fred/just stand there.mp3",
          "https://knut.wtf/music/Fred/Kammy (like i do).mp3",
          "https://knut.wtf/music/Fred/Kyle (i found you).mp3",
          "https://knut.wtf/music/Fred/Lights Out.mp3",
          "https://knut.wtf/music/Fred/Me (heavy).mp3",
          "https://knut.wtf/music/Fred/peace u need.mp3",
          "https://knut.wtf/music/Fred/places to be.mp3",
          "https://knut.wtf/music/Fred/Roze (forgive).mp3",
          "https://knut.wtf/music/Fred/Rumble.mp3",
          "https://knut.wtf/music/Fred/stayinit.mp3",
          "https://knut.wtf/music/Fred/Strong.mp3",
          "https://knut.wtf/music/Fred/Tate (how i feel).mp3",
          "https://knut.wtf/music/Fred/ten.mp3",
          "https://knut.wtf/music/Fred/Turn On The Lights again.. (feat. Future).mp3",
          "https://knut.wtf/music/Fred/Yasminah (see your face again).mp3",
        ]),
      (this.category = e),
      this.nextSong();
  }
}
const Ee = new L5(),
  U5 = (r) => {
    const [e, t] = K.useState(!1),
      n = K.useRef(null),
      i = (l) => {
        const u = n.current.getBoundingClientRect(),
          c =
            (Math.min(Math.max(0, l.clientX - u.left), u.width) / u.width) *
            100;
        Ee.setVolume(c);
      },
      s = (l) => {
        t(!0), i(l);
      },
      o = (l) => {
        e && i(l);
      },
      a = () => {
        e && t(!1);
      };
    return (
      K.useEffect(
        () => (
          e
            ? (window.addEventListener("mousemove", o),
              window.addEventListener("mouseup", a))
            : (window.removeEventListener("mousemove", o),
              window.removeEventListener("mouseup", a)),
          () => {
            window.removeEventListener("mousemove", o),
              window.removeEventListener("mouseup", a);
          }
        ),
        [e]
      ),
      p.jsxs("div", {
        className: "Player_controls_vol",
        children: [
          p.jsx("img", { src: "/img/music/volume.png", alt: "decor" }),
          p.jsxs("div", {
            className: "Player_controls_vol_bar",
            ref: n,
            onMouseDown: s,
            children: [
              p.jsx("div", {
                className: "free_img Player_controls_vol_bar_polz",
                style: { left: `${Ee.volume * 0.9}%` },
                onMouseDown: s,
                children: p.jsx("img", {
                  src: "/img/music/volumeChanger.svg",
                  alt: "decor",
                }),
              }),
              p.jsx("div", {
                className: "Player_controls_vol_bar_inner",
                style: { width: `${Ee.volume}%` },
              }),
            ],
          }),
        ],
      })
    );
  },
  G5 = mn(U5),
  j5 = (r) => {
    const [e, t] = K.useState(!1),
      n = K.useRef(null),
      i = (l) => {
        const u = n.current.getBoundingClientRect(),
          c =
            (Math.min(Math.max(0, l.clientX - u.left), u.width) / u.width) *
            100;
        Ee.setPosition(c), (Ee.newPos = c);
      },
      s = (l) => {
        t(!0), i(l);
      },
      o = (l) => {
        e && i(l);
      },
      a = () => {
        e && t(!1);
      };
    return (
      K.useEffect(
        () => (
          e
            ? (window.addEventListener("mousemove", o),
              window.addEventListener("mouseup", a))
            : (window.removeEventListener("mousemove", o),
              window.removeEventListener("mouseup", a)),
          () => {
            window.removeEventListener("mousemove", o),
              window.removeEventListener("mouseup", a);
          }
        ),
        [e]
      ),
      p.jsx("div", {
        className: "Player_slider",
        children: p.jsxs("div", {
          className: "Player_slider_bar",
          ref: n,
          onMouseDown: s,
          children: [
            p.jsx("div", {
              className: "Player_slider_control_wrapper free_img",
              children: p.jsx("div", {
                className: "free_img Player_slider_control",
                style: { left: `${Ee.position}%` },
                children: p.jsx("img", {
                  src: "/img/music/slider.svg",
                  alt: "decor",
                }),
              }),
            }),
            p.jsx("div", {
              className: "Player_slider_bar_inner",
              style: { width: `${Ee.position}%` },
            }),
          ],
        }),
      })
    );
  },
  $5 = mn(j5),
  z5 = (r) => {
    const e = K.useRef(null),
      [t, n] = K.useState(0),
      [i, s] = K.useState(0);
    return (
      K.useEffect(() => {
        Ee.play ? e.current.play() : e.current.pause();
      }, [Ee.play]),
      K.useEffect(() => {
        const a = setInterval(() => {
          e.current &&
            (n(Math.floor(e.current.currentTime)),
            (Ee.position = +((e.current.currentTime / i) * 100).toFixed(2)));
        }, 500);
        return () => clearInterval(a);
      }, [Ee.play, i]),
      K.useEffect(() => {
        e.current && (e.current.currentTime = (i / 100) * Ee.newPos);
      }, [Ee.newPos, i]),
      K.useEffect(() => {
        const o = e.current,
          a = () => {
            (Ee.currentSongIndex = (Ee.currentSongIndex + 1) % Ee.songs.length),
              (Ee.newPos = 0 + Math.random() / 10);
          },
          l = () => {
            s(o.duration), (o.currentTime = (i / 100) * Ee.newPos);
          };
        if (o)
          return (
            o.addEventListener("ended", a),
            o.addEventListener("loadedmetadata", l),
            () => {
              o.removeEventListener("ended", a),
                o.removeEventListener("loadedmetadata", l);
            }
          );
      }, [Ee.currentSongIndex]),
      K.useEffect(() => {
        (e.current.src = Ee.songs[Ee.currentSongIndex]),
          Ee.play && e.current.play();
      }, [Ee.currentSongIndex]),
      K.useEffect(() => {
        e.current.volume = Ee.volume / 100;
      }, [Ee.volume]),
      p.jsxs(pt, {
        type: "player",
        children: [
          p.jsx("audio", { ref: e }),
          p.jsxs("div", {
            className: "Player_wrapper",
            children: [
              p.jsxs("div", {
                className: "Player",
                children: [
                  p.jsxs("div", {
                    className: "Player_top",
                    children: [
                      p.jsx("div", {
                        className: "Player_time",
                        children: H5(t),
                      }),
                      p.jsxs("div", {
                        className: "Player_info",
                        children: [
                          p.jsx("div", {
                            className: "Player_name",
                            children: p.jsxs("div", {
                              className: "Player_name_text",
                              children: [
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                                Ee.songs[Ee.currentSongIndex].slice(7),
                                "",
                              ],
                            }),
                          }),
                          p.jsxs("div", {
                            className: "Player_controls",
                            children: [
                              p.jsxs("div", {
                                className: "Player_controls_time",
                                children: [
                                  p.jsx("img", {
                                    src: "/img/music/prev.svg",
                                    alt: "decor",
                                    onClick: () => {
                                      Ee.prevSong();
                                    },
                                  }),
                                  p.jsx("img", {
                                    src: "/img/music/play.svg",
                                    onClick: () => {
                                      Ee.play = !0;
                                    },
                                    alt: "decor",
                                  }),
                                  p.jsx("img", {
                                    src: "/img/music/pause.svg",
                                    onClick: () => {
                                      Ee.play = !1;
                                    },
                                    alt: "decor",
                                  }),
                                  p.jsx("img", {
                                    src: "/img/music/next.svg",
                                    alt: "decor",
                                    onClick: () => {
                                      Ee.nextSong();
                                    },
                                  }),
                                ],
                              }),
                              p.jsx(G5, {}),
                            ],
                          }),
                        ],
                      }),
                    ],
                  }),
                  p.jsx($5, {}),
                ],
              }),
              p.jsxs("div", {
                className: "Player_playlists",
                children: [
                  p.jsx("div", {
                    className: "Player_playlists_header",
                    children: "Playlists",
                  }),
                  [
                    "Main",
                    "LifeStyle",
                    "FRED",
                    "Driving",
                    "ChillMorning",
                    "Party",
                    "Relaxation",
                    "Romantic",
                    "Workouts",
                  ].map((o) =>
                    p.jsx("div", {
                      className: `Player_playlists_element ${
                        Ee.category === o && "Player_playlists_element_selected"
                      }`,
                      onClick: () => {
                        Ee.changeCategory(o);
                      },
                      children: o,
                    })
                  ),
                ],
              }),
            ],
          }),
        ],
      })
    );
  },
  W5 = mn(z5),
  H5 = (r) => {
    const e = Math.floor(r / 60),
      t = Math.floor(r % 60);
    return `${String(e).padStart(2, "0")}:${String(t).padStart(2, "0")}`;
  },
  V5 = (r) => (
    K.useEffect(() => {
      Fp.killBear(), xr.completeQuest("shutdown");
    }, []),
    p.jsx(pt, {
      type: "shutdown",
      children: p.jsxs("div", {
        className: "Shutdown",
        children: [
          p.jsx("div", {
            className: "Shutdown_decor",
            children: p.jsx("img", { src: "/img/dead.png", alt: "decor" }),
          }),
          p.jsx("div", {
            className: "Shutdown_header",
            children: "Bear is dead",
          }),
          p.jsxs("div", {
            className: "Shutdown_buttons",
            children: [
              p.jsx("button", {
                onClick: () => {
                  window.open(
                    "https://dexscreener.com/solana/8ztb9xdw33yjhfwlxc9u9jox6sbd4x2rzsxm5g1z78e3",
                    "_blank"
                  );
                },
                children: "Explore DEXscreener",
              }),
              p.jsx("button", {
                onClick: () => {
                  ue.setWindowStatus("shutdown", "closed");
                },
                children: "Close",
              }),
            ],
          }),
        ],
      }),
    })
  ),
  Vp = ({ score: r = 0, nocolor: e = !1 }) => {
    const [t, n] = K.useState(!1);
    let i;
    return (
      K.useEffect(() => {
        n(!0),
          clearTimeout(i),
          (i = setTimeout(() => {
            n(!1);
          }, 3e3));
      }, [r]),
      p.jsx("div", {
        className: "TTTScore_wrapper",
        children: p.jsx("div", {
          className: "TTTScore window",
          children: X5(r).map((s) =>
            p.jsx("img", {
              src: `/img/ttt/${t ? (e ? "red" : "green") : "red"}/${s}.svg`,
              alt: "decor",
            })
          ),
        }),
      })
    );
  };
function X5(r) {
  let e = r.toString(),
    t = [];
  for (; e.length < 3; ) e = "0" + e;
  return (t = e.split("").map(Number)), t;
}
const Y5 = (r) => {
    const [e, t] = K.useState(0),
      [n, i] = K.useState(0),
      [s, o] = K.useState([
        ["", "", ""],
        ["", "", ""],
        ["", "", ""],
      ]),
      [a, l] = K.useState(!0),
      [u, c] = K.useState(!1),
      [h, d] = K.useState([]),
      f = () => {
        o([
          ["", "", ""],
          ["", "", ""],
          ["", "", ""],
        ]),
          l(!0),
          c(!1),
          d([]);
      },
      m = (v, w) => {
        if (!s[v][w] && a && !u) {
          const x = [...s];
          (x[v][w] = "x"), o(x), l(!1);
          const k = g(x);
          if ((console.log(k), k)) {
            if ((c(!0), k === "x")) {
              const C = +localStorage.getItem("TTTBest") || 0;
              if (
                (setTimeout(() => {
                  t(e + 1);
                }, 10),
                e + 1 > C)
              ) {
                localStorage.setItem("TTTBest", e + 1);
                const F = { wallet: Re.wallet, ttt: e + 1 },
                  I = JSON.stringify(F);
                tn.post("/leaderboard", { value: btoa(I) });
              }
            }
            return;
          }
          setTimeout(_, 500 + Math.random() * 1e3);
        }
      },
      g = (v) => {
        for (let x = 0; x < 3; x++) {
          if (v[x][0] && v[x][0] === v[x][1] && v[x][0] === v[x][2])
            return (
              d([
                [x, 0],
                [x, 1],
                [x, 2],
              ]),
              v[x][0]
            );
          if (v[0][x] && v[0][x] === v[1][x] && v[0][x] === v[2][x])
            return (
              d([
                [0, x],
                [1, x],
                [2, x],
              ]),
              v[0][x]
            );
        }
        return v[0][0] && v[0][0] === v[1][1] && v[0][0] === v[2][2]
          ? (d([
              [0, 0],
              [1, 1],
              [2, 2],
            ]),
            v[0][0])
          : v[0][2] && v[0][2] === v[1][1] && v[0][2] === v[2][0]
          ? (d([
              [0, 2],
              [1, 1],
              [2, 0],
            ]),
            v[0][2])
          : v.flat().every((x) => x !== "")
          ? (c(!0), "draw")
          : null;
      },
      _ = () => {
        const v = (k, C) => {
          for (let F = 0; F < 3; F++) {
            if (k[F].filter((I) => I === C).length === 2 && k[F].includes(""))
              return { x: F, y: k[F].indexOf("") };
            if (
              k.map((I) => I[F]).filter((I) => I === C).length === 2 &&
              k.map((I) => I[F]).includes("")
            )
              return { x: k.findIndex((I) => I[F] === ""), y: F };
          }
          return k[0][0] === C && k[1][1] === C && k[2][2] === ""
            ? { x: 2, y: 2 }
            : k[0][2] === C && k[1][1] === C && k[2][0] === ""
            ? { x: 2, y: 0 }
            : k[2][0] === C && k[1][1] === C && k[0][2] === ""
            ? { x: 0, y: 2 }
            : k[0][0] === C && k[1][1] === C && k[2][2] === ""
            ? { x: 2, y: 2 }
            : null;
        };
        let w = v(s, "o");
        if (w) {
          const k = [...s];
          (k[w.x][w.y] = "o"), o(k), l(!0);
          const C = g(k);
          C && (c(!0), C === "o" && i(n + 1));
          return;
        }
        if (((w = v(s, "x")), w)) {
          const k = [...s];
          (k[w.x][w.y] = "o"), o(k), l(!0);
          const C = g(k);
          C && (c(!0), C === "x" && t(e + 1));
          return;
        }
        let x = [];
        if (
          (s.forEach((k, C) => {
            k.forEach((F, I) => {
              F || x.push({ x: C, y: I });
            });
          }),
          x.length)
        ) {
          const k = x[Math.floor(Math.random() * x.length)],
            C = [...s];
          (C[k.x][k.y] = "o"), o(C), l(!0);
          const F = g(C);
          F && (c(!0), F === "o" && i(n + 1));
        }
      };
    return (
      K.useEffect(() => {
        u &&
          setTimeout(() => {
            f(), c(!1);
          }, 3e3);
      }, [u]),
      p.jsx(pt, {
        type: "TTT",
        children: p.jsxs("div", {
          className: "TTT",
          children: [
            p.jsxs("div", {
              className: "TTT_reset",
              onClick: f,
              children: [p.jsx("span", { children: "R" }), "eset"],
            }),
            p.jsxs("div", {
              className: "TTT_game window",
              children: [
                p.jsxs("div", {
                  className: "TTT_score window",
                  children: [
                    p.jsxs("div", {
                      className: "TTT_score_el",
                      children: [
                        p.jsx("div", {
                          className: "TTT_score_img",
                          children: p.jsx("img", {
                            src: "/img/ttt/user.png",
                            style: { opacity: a ? 1 : 0.3 },
                            alt: "decor",
                          }),
                        }),
                        p.jsx(Vp, { score: e }),
                      ],
                    }),
                    p.jsxs("div", {
                      className: "TTT_score_el",
                      children: [
                        p.jsx("div", {
                          className: "TTT_score_img",
                          children: p.jsx("img", {
                            src: "/img/ttt/pc.png",
                            style: { opacity: a ? 0.3 : 1 },
                            alt: "decor",
                          }),
                        }),
                        p.jsx(Vp, { score: n }),
                      ],
                    }),
                  ],
                }),
                p.jsxs("div", {
                  className: "Minesweeper_best",
                  children: [
                    (+localStorage.getItem("TTTBest") || 9999) < 9999
                      ? p.jsxs(p.Fragment, {
                          children: ["Best: ", localStorage.getItem("TTTBest")],
                        })
                      : p.jsx(p.Fragment, {}),
                    p.jsx("button", {
                      onClick: () => {
                        ue.setWindowStatus("tttLeaderboard", "opened");
                      },
                      children: "Leadeboard",
                    }),
                  ],
                }),
                p.jsx("div", {
                  className: "TTT_field window",
                  children: Array(3)
                    .fill(null)
                    .map((v, w) =>
                      p.jsx(
                        "div",
                        {
                          className: "TTT_field_row",
                          children: Array(3)
                            .fill(null)
                            .map((x, k) =>
                              p.jsx(
                                "div",
                                {
                                  className: "TTT_field_row_el window",
                                  onClick: () => m(w, k),
                                  style: {
                                    backgroundColor: h.some(
                                      (C) => C[0] === w && C[1] === k
                                    )
                                      ? "#989eff"
                                      : "transparent",
                                  },
                                  children:
                                    s[w][k] &&
                                    p.jsx("img", {
                                      src: `/img/links/${
                                        s[w][k] === "x" ? "TTTLink" : "round"
                                      }.png`,
                                      alt: "decor",
                                    }),
                                },
                                k
                              )
                            ),
                        },
                        w
                      )
                    ),
                }),
              ],
            }),
          ],
        }),
      })
    );
  },
  K5 = (r) => {
    const [e, t] = K.useState("000000"),
      [n, i] = K.useState("pencil"),
      s = K.useRef(null),
      o = K.useRef(null),
      [a, l] = K.useState(!1),
      [u, c] = K.useState(5);
    K.useEffect(() => {
      const v = s.current,
        w = v.parentElement.clientWidth,
        x = v.parentElement.clientHeight;
      (v.width = w), (v.height = x);
      const k = v.getContext("2d");
      (o.current = k),
        (o.current.fillStyle = "white"),
        o.current.fillRect(0, 0, v.width, v.height);
    }, []);
    const h = (v) => {
        l(!0), f(v);
      },
      d = () => {
        l(!1), o.current.beginPath();
      },
      f = (v) => {
        if (!a) return;
        const x = s.current.getBoundingClientRect(),
          k = v.clientX ? v.clientX - x.left : m(v).x,
          C = v.clientY ? v.clientY - x.top : m(v).y;
        (o.current.strokeStyle = `#${n === "eraser" ? "fff" : e}`),
          (o.current.lineWidth = n === "brush" || n === "eraser" ? u : 1),
          (o.current.lineCap = "round"),
          (o.current.globalCompositeOperation = "source-over"),
          o.current.lineTo(k, C),
          o.current.stroke(),
          o.current.beginPath(),
          o.current.moveTo(k, C);
      },
      m = (v) => {
        const x = s.current.getBoundingClientRect(),
          k = v.touches[0];
        return { x: k.clientX - x.left, y: k.clientY - x.top };
      },
      g = () => {
        (o.current.fillStyle = "white"),
          o.current.fillRect(0, 0, s.current.width, s.current.height);
      },
      _ = () => {
        const v = document.createElement("a");
        (v.download = "myDrawing.png"),
          (v.href = s.current.toDataURL("image/png")),
          v.click();
      };
    return p.jsx(pt, {
      type: "paint",
      children: p.jsxs("div", {
        className: "Paint",
        children: [
          p.jsxs("div", {
            className: "Paint_buttons",
            children: [
              p.jsxs("div", {
                className: "Paint_button",
                onClick: _,
                children: [p.jsx("span", { children: "D" }), "ownload"],
              }),
              p.jsxs("div", {
                className: "Paint_button",
                onClick: g,
                children: [p.jsx("span", { children: "R" }), "eset"],
              }),
            ],
          }),
          p.jsxs("div", {
            className: "Paint_content",
            children: [
              p.jsxs("div", {
                className: "Paint_tools window",
                children: [
                  p.jsx("div", {
                    className: `Paint_tool window ${
                      n === "pencil" && "Paint_tool_selected"
                    }`,
                    onClick: () => {
                      i("pencil");
                    },
                    children: p.jsx("img", {
                      src: "/img/paint/p.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: `Paint_tool window ${
                      n === "eraser" && "Paint_tool_selected"
                    }`,
                    onClick: () => {
                      i("eraser");
                    },
                    children: p.jsx("img", {
                      src: "/img/paint/e.png",
                      alt: "decor",
                    }),
                  }),
                  p.jsx("div", {
                    className: `Paint_tool window ${
                      n === "brush" && "Paint_tool_selected"
                    }`,
                    onClick: () => {
                      i("brush");
                    },
                    children: p.jsx("img", {
                      src: "/img/paint/b.png",
                      alt: "decor",
                    }),
                  }),
                  (n === "brush" || n === "eraser") &&
                    p.jsxs("div", {
                      className: "Paint_bs",
                      children: [
                        p.jsx("img", {
                          src: "/img/paint/large.png",
                          className: "Paint_bs_large",
                          alt: "decor",
                        }),
                        p.jsx("div", {
                          className: "is-vertical",
                          children: p.jsx("input", {
                            id: "range28",
                            className: "has-box-indicator",
                            type: "range",
                            min: "2",
                            max: "20",
                            step: "1",
                            onChange: (v) => c(v.target.value),
                            value: u,
                          }),
                        }),
                        p.jsx("img", {
                          src: "/img/paint/large.png",
                          className: "Paint_bs_small",
                          alt: "decor",
                        }),
                      ],
                    }),
                ],
              }),
              p.jsx("div", {
                className: "Paint_field",
                children: p.jsx("canvas", {
                  ref: s,
                  onMouseDown: h,
                  onMouseUp: d,
                  onMouseMove: f,
                  onTouchStart: h,
                  onTouchEnd: d,
                  onTouchMove: f,
                  style: {
                    width: "100%",
                    height: "100%",
                    minHeight: "300px",
                    backgroundColor: "white",
                  },
                }),
              }),
            ],
          }),
          p.jsxs("div", {
            className: "Paint_colors window",
            children: [
              p.jsx("div", {
                className: "Paint_colors_selected window",
                children: p.jsx("div", {
                  className: "Paint_colors_selected_inner window",
                  style: { background: `#${e}` },
                }),
              }),
              p.jsxs("div", {
                className: "Paint_colors_list Paint_colors_list_pc",
                children: [
                  p.jsx("div", {
                    className: "Paint_colors_row",
                    children: [
                      "000000",
                      "87888F",
                      "A80057",
                      "A8A857",
                      "00A857",
                      "57A8A8",
                      "0000A8",
                      "A857A8",
                      "959675",
                      "336363",
                      "0071FF",
                      "284EA8",
                      "2300FF",
                      "A85757",
                    ].map((v) =>
                      p.jsx(
                        "div",
                        {
                          className: "Paint_colors_el window",
                          style: { background: `#${v}` },
                          onClick: () => {
                            t(v);
                          },
                        },
                        v
                      )
                    ),
                  }),
                  p.jsx("div", {
                    className: "Paint_colors_row",
                    children: [
                      "FFFFFF",
                      "C0C7C8",
                      "FF0000",
                      "FFFF00",
                      "00FF00",
                      "00FFFF",
                      "0000FF",
                      "FF00FF",
                      "FFFF81",
                      "00FF81",
                      "8AFFFF",
                      "7979FF",
                      "FF0087",
                      "FF7648",
                    ].map((v) =>
                      p.jsx(
                        "div",
                        {
                          className: "Paint_colors_el window",
                          style: { background: `#${v}` },
                          onClick: () => {
                            t(v);
                          },
                        },
                        v
                      )
                    ),
                  }),
                ],
              }),
              p.jsx("div", {
                className: "Paint_colors_list Paint_colors_list_mob",
                children: p.jsx("div", {
                  className: "Paint_colors_row",
                  children: [
                    "FFFFFF",
                    "000000",
                    "313131",
                    "575757",
                    "87888F",
                    "C0C7C8",
                    "FF0000",
                    "FFFF00",
                    "00FF00",
                    "00FFFF",
                    "0000FF",
                    "FF00FF",
                    "FFFF81",
                    "00FF81",
                    "8AFFFF",
                    "7979FF",
                    "FF0087",
                    "FF7648",
                    "A80057",
                    "A8A857",
                    "00A857",
                    "57A8A8",
                    "0000A8",
                    "A857A8",
                    "959675",
                    "336363",
                    "0071FF",
                    "284EA8",
                    "2300FF",
                    "A85757",
                  ].map((v) =>
                    p.jsx(
                      "div",
                      {
                        className: "Paint_colors_el window",
                        style: { background: `#${v}` },
                        onClick: () => {
                          t(v);
                        },
                      },
                      v
                    )
                  ),
                }),
              }),
            ],
          }),
        ],
      }),
    });
  };
function q5(r, e) {
  if (r.match(/^[a-z]+:\/\//i)) return r;
  if (r.match(/^\/\//)) return window.location.protocol + r;
  if (r.match(/^[a-z]+:/i)) return r;
  const t = document.implementation.createHTMLDocument(),
    n = t.createElement("base"),
    i = t.createElement("a");
  return (
    t.head.appendChild(n),
    t.body.appendChild(i),
    e && (n.href = e),
    (i.href = r),
    i.href
  );
}
const Z5 = (() => {
  let r = 0;
  const e = () =>
    `0000${((Math.random() * 36 ** 4) << 0).toString(36)}`.slice(-4);
  return () => ((r += 1), `u${e()}${r}`);
})();
function Zs(r) {
  const e = [];
  for (let t = 0, n = r.length; t < n; t++) e.push(r[t]);
  return e;
}
function Xp(r, e) {
  const n = (r.ownerDocument.defaultView || window)
    .getComputedStyle(r)
    .getPropertyValue(e);
  return n ? parseFloat(n.replace("px", "")) : 0;
}
function Q5(r) {
  const e = Xp(r, "border-left-width"),
    t = Xp(r, "border-right-width");
  return r.clientWidth + e + t;
}
function J5(r) {
  const e = Xp(r, "border-top-width"),
    t = Xp(r, "border-bottom-width");
  return r.clientHeight + e + t;
}
function ZD(r, e = {}) {
  const t = e.width || Q5(r),
    n = e.height || J5(r);
  return { width: t, height: n };
}
function e$() {
  let r, e;
  try {
    e = process;
  } catch {}
  const t = e && e.env ? e.env.devicePixelRatio : null;
  return (
    t && ((r = parseInt(t, 10)), Number.isNaN(r) && (r = 1)),
    r || window.devicePixelRatio || 1
  );
}
const Bn = 16384;
function t$(r) {
  (r.width > Bn || r.height > Bn) &&
    (r.width > Bn && r.height > Bn
      ? r.width > r.height
        ? ((r.height *= Bn / r.width), (r.width = Bn))
        : ((r.width *= Bn / r.height), (r.height = Bn))
      : r.width > Bn
      ? ((r.height *= Bn / r.width), (r.width = Bn))
      : ((r.width *= Bn / r.height), (r.height = Bn)));
}
function Yp(r) {
  return new Promise((e, t) => {
    const n = new Image();
    (n.decode = () => e(n)),
      (n.onload = () => e(n)),
      (n.onerror = t),
      (n.crossOrigin = "anonymous"),
      (n.decoding = "async"),
      (n.src = r);
  });
}
async function r$(r) {
  return Promise.resolve()
    .then(() => new XMLSerializer().serializeToString(r))
    .then(encodeURIComponent)
    .then((e) => `data:image/svg+xml;charset=utf-8,${e}`);
}
async function n$(r, e, t) {
  const n = "http://www.w3.org/2000/svg",
    i = document.createElementNS(n, "svg"),
    s = document.createElementNS(n, "foreignObject");
  return (
    i.setAttribute("width", `${e}`),
    i.setAttribute("height", `${t}`),
    i.setAttribute("viewBox", `0 0 ${e} ${t}`),
    s.setAttribute("width", "100%"),
    s.setAttribute("height", "100%"),
    s.setAttribute("x", "0"),
    s.setAttribute("y", "0"),
    s.setAttribute("externalResourcesRequired", "true"),
    i.appendChild(s),
    s.appendChild(r),
    r$(i)
  );
}
const Dn = (r, e) => {
  if (r instanceof e) return !0;
  const t = Object.getPrototypeOf(r);
  return t === null ? !1 : t.constructor.name === e.name || Dn(t, e);
};
function i$(r) {
  const e = r.getPropertyValue("content");
  return `${r.cssText} content: '${e.replace(/'|"/g, "")}';`;
}
function s$(r) {
  return Zs(r)
    .map((e) => {
      const t = r.getPropertyValue(e),
        n = r.getPropertyPriority(e);
      return `${e}: ${t}${n ? " !important" : ""};`;
    })
    .join(" ");
}
function o$(r, e, t) {
  const n = `.${r}:${e}`,
    i = t.cssText ? i$(t) : s$(t);
  return document.createTextNode(`${n}{${i}}`);
}
function PE(r, e, t) {
  const n = window.getComputedStyle(r, t),
    i = n.getPropertyValue("content");
  if (i === "" || i === "none") return;
  const s = Z5();
  try {
    e.className = `${e.className} ${s}`;
  } catch {
    return;
  }
  const o = document.createElement("style");
  o.appendChild(o$(s, t, n)), e.appendChild(o);
}
function a$(r, e) {
  PE(r, e, ":before"), PE(r, e, ":after");
}
const CE = "application/font-woff",
  RE = "image/jpeg",
  l$ = {
    woff: CE,
    woff2: CE,
    ttf: "application/font-truetype",
    eot: "application/vnd.ms-fontobject",
    png: "image/png",
    jpg: RE,
    jpeg: RE,
    gif: "image/gif",
    tiff: "image/tiff",
    svg: "image/svg+xml",
    webp: "image/webp",
  };
function u$(r) {
  const e = /\.([^./]*?)$/g.exec(r);
  return e ? e[1] : "";
}
function ib(r) {
  const e = u$(r).toLowerCase();
  return l$[e] || "";
}
function c$(r) {
  return r.split(/,/)[1];
}
function Uv(r) {
  return r.search(/^(data:)/) !== -1;
}
function h$(r, e) {
  return `data:${e};base64,${r}`;
}
async function QD(r, e, t) {
  const n = await fetch(r, e);
  if (n.status === 404) throw new Error(`Resource "${n.url}" not found`);
  const i = await n.blob();
  return new Promise((s, o) => {
    const a = new FileReader();
    (a.onerror = o),
      (a.onloadend = () => {
        try {
          s(t({ res: n, result: a.result }));
        } catch (l) {
          o(l);
        }
      }),
      a.readAsDataURL(i);
  });
}
const Z_ = {};
function d$(r, e, t) {
  let n = r.replace(/\?.*/, "");
  return (
    t && (n = r),
    /ttf|otf|eot|woff2?/i.test(n) && (n = n.replace(/.*\//, "")),
    e ? `[${e}]${n}` : n
  );
}
async function sb(r, e, t) {
  const n = d$(r, e, t.includeQueryParams);
  if (Z_[n] != null) return Z_[n];
  t.cacheBust && (r += (/\?/.test(r) ? "&" : "?") + new Date().getTime());
  let i;
  try {
    const s = await QD(
      r,
      t.fetchRequestInit,
      ({ res: o, result: a }) => (
        e || (e = o.headers.get("Content-Type") || ""), c$(a)
      )
    );
    i = h$(s, e);
  } catch (s) {
    i = t.imagePlaceholder || "";
    let o = `Failed to fetch resource: ${r}`;
    s && (o = typeof s == "string" ? s : s.message), o && console.warn(o);
  }
  return (Z_[n] = i), i;
}
async function f$(r) {
  const e = r.toDataURL();
  return e === "data:," ? r.cloneNode(!1) : Yp(e);
}
async function p$(r, e) {
  if (r.currentSrc) {
    const s = document.createElement("canvas"),
      o = s.getContext("2d");
    (s.width = r.clientWidth),
      (s.height = r.clientHeight),
      o == null || o.drawImage(r, 0, 0, s.width, s.height);
    const a = s.toDataURL();
    return Yp(a);
  }
  const t = r.poster,
    n = ib(t),
    i = await sb(t, n, e);
  return Yp(i);
}
async function m$(r) {
  var e;
  try {
    if (
      !(
        (e = r == null ? void 0 : r.contentDocument) === null || e === void 0
      ) &&
      e.body
    )
      return await hg(r.contentDocument.body, {}, !0);
  } catch {}
  return r.cloneNode(!1);
}
async function g$(r, e) {
  return Dn(r, HTMLCanvasElement)
    ? f$(r)
    : Dn(r, HTMLVideoElement)
    ? p$(r, e)
    : Dn(r, HTMLIFrameElement)
    ? m$(r)
    : r.cloneNode(!1);
}
const _$ = (r) => r.tagName != null && r.tagName.toUpperCase() === "SLOT";
async function y$(r, e, t) {
  var n, i;
  let s = [];
  return (
    _$(r) && r.assignedNodes
      ? (s = Zs(r.assignedNodes()))
      : Dn(r, HTMLIFrameElement) &&
        !((n = r.contentDocument) === null || n === void 0) &&
        n.body
      ? (s = Zs(r.contentDocument.body.childNodes))
      : (s = Zs(
          ((i = r.shadowRoot) !== null && i !== void 0 ? i : r).childNodes
        )),
    s.length === 0 ||
      Dn(r, HTMLVideoElement) ||
      (await s.reduce(
        (o, a) =>
          o
            .then(() => hg(a, t))
            .then((l) => {
              l && e.appendChild(l);
            }),
        Promise.resolve()
      )),
    e
  );
}
function v$(r, e) {
  const t = e.style;
  if (!t) return;
  const n = window.getComputedStyle(r);
  n.cssText
    ? ((t.cssText = n.cssText), (t.transformOrigin = n.transformOrigin))
    : Zs(n).forEach((i) => {
        let s = n.getPropertyValue(i);
        i === "font-size" &&
          s.endsWith("px") &&
          (s = `${
            Math.floor(parseFloat(s.substring(0, s.length - 2))) - 0.1
          }px`),
          Dn(r, HTMLIFrameElement) &&
            i === "display" &&
            s === "inline" &&
            (s = "block"),
          i === "d" &&
            e.getAttribute("d") &&
            (s = `path(${e.getAttribute("d")})`),
          t.setProperty(i, s, n.getPropertyPriority(i));
      });
}
function x$(r, e) {
  Dn(r, HTMLTextAreaElement) && (e.innerHTML = r.value),
    Dn(r, HTMLInputElement) && e.setAttribute("value", r.value);
}
function w$(r, e) {
  if (Dn(r, HTMLSelectElement)) {
    const t = e,
      n = Array.from(t.children).find(
        (i) => r.value === i.getAttribute("value")
      );
    n && n.setAttribute("selected", "");
  }
}
function b$(r, e) {
  return Dn(e, Element) && (v$(r, e), a$(r, e), x$(r, e), w$(r, e)), e;
}
async function S$(r, e) {
  const t = r.querySelectorAll ? r.querySelectorAll("use") : [];
  if (t.length === 0) return r;
  const n = {};
  for (let s = 0; s < t.length; s++) {
    const a = t[s].getAttribute("xlink:href");
    if (a) {
      const l = r.querySelector(a),
        u = document.querySelector(a);
      !l && u && !n[a] && (n[a] = await hg(u, e, !0));
    }
  }
  const i = Object.values(n);
  if (i.length) {
    const s = "http://www.w3.org/1999/xhtml",
      o = document.createElementNS(s, "svg");
    o.setAttribute("xmlns", s),
      (o.style.position = "absolute"),
      (o.style.width = "0"),
      (o.style.height = "0"),
      (o.style.overflow = "hidden"),
      (o.style.display = "none");
    const a = document.createElementNS(s, "defs");
    o.appendChild(a);
    for (let l = 0; l < i.length; l++) a.appendChild(i[l]);
    r.appendChild(o);
  }
  return r;
}
async function hg(r, e, t) {
  return !t && e.filter && !e.filter(r)
    ? null
    : Promise.resolve(r)
        .then((n) => g$(n, e))
        .then((n) => y$(r, n, e))
        .then((n) => b$(r, n))
        .then((n) => S$(n, e));
}
const JD = /url\((['"]?)([^'"]+?)\1\)/g,
  E$ = /url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,
  T$ = /src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;
function k$(r) {
  const e = r.replace(/([.*+?^${}()|\[\]\/\\])/g, "\\$1");
  return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`, "g");
}
function A$(r) {
  const e = [];
  return r.replace(JD, (t, n, i) => (e.push(i), t)), e.filter((t) => !Uv(t));
}
async function P$(r, e, t, n, i) {
  try {
    const s = t ? q5(e, t) : e,
      o = ib(e);
    let a;
    return i || (a = await sb(s, o, n)), r.replace(k$(e), `$1${a}$3`);
  } catch {}
  return r;
}
function C$(r, { preferredFontFormat: e }) {
  return e
    ? r.replace(T$, (t) => {
        for (;;) {
          const [n, , i] = E$.exec(t) || [];
          if (!i) return "";
          if (i === e) return `src: ${n};`;
        }
      })
    : r;
}
function eM(r) {
  return r.search(JD) !== -1;
}
async function tM(r, e, t) {
  if (!eM(r)) return r;
  const n = C$(r, t);
  return A$(n).reduce(
    (s, o) => s.then((a) => P$(a, o, e, t)),
    Promise.resolve(n)
  );
}
async function Wd(r, e, t) {
  var n;
  const i =
    (n = e.style) === null || n === void 0 ? void 0 : n.getPropertyValue(r);
  if (i) {
    const s = await tM(i, null, t);
    return e.style.setProperty(r, s, e.style.getPropertyPriority(r)), !0;
  }
  return !1;
}
async function R$(r, e) {
  (await Wd("background", r, e)) || (await Wd("background-image", r, e)),
    (await Wd("mask", r, e)) || (await Wd("mask-image", r, e));
}
async function D$(r, e) {
  const t = Dn(r, HTMLImageElement);
  if (!(t && !Uv(r.src)) && !(Dn(r, SVGImageElement) && !Uv(r.href.baseVal)))
    return;
  const n = t ? r.src : r.href.baseVal,
    i = await sb(n, ib(n), e);
  await new Promise((s, o) => {
    (r.onload = s), (r.onerror = o);
    const a = r;
    a.decode && (a.decode = s),
      a.loading === "lazy" && (a.loading = "eager"),
      t ? ((r.srcset = ""), (r.src = i)) : (r.href.baseVal = i);
  });
}
async function M$(r, e) {
  const n = Zs(r.childNodes).map((i) => rM(i, e));
  await Promise.all(n).then(() => r);
}
async function rM(r, e) {
  Dn(r, Element) && (await R$(r, e), await D$(r, e), await M$(r, e));
}
function B$(r, e) {
  const { style: t } = r;
  e.backgroundColor && (t.backgroundColor = e.backgroundColor),
    e.width && (t.width = `${e.width}px`),
    e.height && (t.height = `${e.height}px`);
  const n = e.style;
  return (
    n != null &&
      Object.keys(n).forEach((i) => {
        t[i] = n[i];
      }),
    r
  );
}
const DE = {};
async function ME(r) {
  let e = DE[r];
  if (e != null) return e;
  const n = await (await fetch(r)).text();
  return (e = { url: r, cssText: n }), (DE[r] = e), e;
}
async function BE(r, e) {
  let t = r.cssText;
  const n = /url\(["']?([^"')]+)["']?\)/g,
    s = (t.match(/url\([^)]+\)/g) || []).map(async (o) => {
      let a = o.replace(n, "$1");
      return (
        a.startsWith("https://") || (a = new URL(a, r.url).href),
        QD(
          a,
          e.fetchRequestInit,
          ({ result: l }) => ((t = t.replace(o, `url(${l})`)), [o, l])
        )
      );
    });
  return Promise.all(s).then(() => t);
}
function OE(r) {
  if (r == null) return [];
  const e = [],
    t = /(\/\*[\s\S]*?\*\/)/gi;
  let n = r.replace(t, "");
  const i = new RegExp(
    "((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})",
    "gi"
  );
  for (;;) {
    const l = i.exec(n);
    if (l === null) break;
    e.push(l[0]);
  }
  n = n.replace(i, "");
  const s = /@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,
    o =
      "((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",
    a = new RegExp(o, "gi");
  for (;;) {
    let l = s.exec(n);
    if (l === null) {
      if (((l = a.exec(n)), l === null)) break;
      s.lastIndex = a.lastIndex;
    } else a.lastIndex = s.lastIndex;
    e.push(l[0]);
  }
  return e;
}
async function O$(r, e) {
  const t = [],
    n = [];
  return (
    r.forEach((i) => {
      if ("cssRules" in i)
        try {
          Zs(i.cssRules || []).forEach((s, o) => {
            if (s.type === CSSRule.IMPORT_RULE) {
              let a = o + 1;
              const l = s.href,
                u = ME(l)
                  .then((c) => BE(c, e))
                  .then((c) =>
                    OE(c).forEach((h) => {
                      try {
                        i.insertRule(
                          h,
                          h.startsWith("@import") ? (a += 1) : i.cssRules.length
                        );
                      } catch (d) {
                        console.error("Error inserting rule from remote css", {
                          rule: h,
                          error: d,
                        });
                      }
                    })
                  )
                  .catch((c) => {
                    console.error("Error loading remote css", c.toString());
                  });
              n.push(u);
            }
          });
        } catch (s) {
          const o = r.find((a) => a.href == null) || document.styleSheets[0];
          i.href != null &&
            n.push(
              ME(i.href)
                .then((a) => BE(a, e))
                .then((a) =>
                  OE(a).forEach((l) => {
                    o.insertRule(l, i.cssRules.length);
                  })
                )
                .catch((a) => {
                  console.error("Error loading remote stylesheet", a);
                })
            ),
            console.error("Error inlining remote css file", s);
        }
    }),
    Promise.all(n).then(
      () => (
        r.forEach((i) => {
          if ("cssRules" in i)
            try {
              Zs(i.cssRules || []).forEach((s) => {
                t.push(s);
              });
            } catch (s) {
              console.error(`Error while reading CSS rules from ${i.href}`, s);
            }
        }),
        t
      )
    )
  );
}
function I$(r) {
  return r
    .filter((e) => e.type === CSSRule.FONT_FACE_RULE)
    .filter((e) => eM(e.style.getPropertyValue("src")));
}
async function F$(r, e) {
  if (r.ownerDocument == null)
    throw new Error("Provided element is not within a Document");
  const t = Zs(r.ownerDocument.styleSheets),
    n = await O$(t, e);
  return I$(n);
}
async function N$(r, e) {
  const t = await F$(r, e);
  return (
    await Promise.all(
      t.map((i) => {
        const s = i.parentStyleSheet ? i.parentStyleSheet.href : null;
        return tM(i.cssText, s, e);
      })
    )
  ).join(`
`);
}
async function L$(r, e) {
  const t =
    e.fontEmbedCSS != null
      ? e.fontEmbedCSS
      : e.skipFonts
      ? null
      : await N$(r, e);
  if (t) {
    const n = document.createElement("style"),
      i = document.createTextNode(t);
    n.appendChild(i),
      r.firstChild ? r.insertBefore(n, r.firstChild) : r.appendChild(n);
  }
}
async function U$(r, e = {}) {
  const { width: t, height: n } = ZD(r, e),
    i = await hg(r, e, !0);
  return await L$(i, e), await rM(i, e), B$(i, e), await n$(i, t, n);
}
async function G$(r, e = {}) {
  const { width: t, height: n } = ZD(r, e),
    i = await U$(r, e),
    s = await Yp(i),
    o = document.createElement("canvas"),
    a = o.getContext("2d"),
    l = e.pixelRatio || e$(),
    u = e.canvasWidth || t,
    c = e.canvasHeight || n;
  return (
    (o.width = u * l),
    (o.height = c * l),
    e.skipAutoScale || t$(o),
    (o.style.width = `${u}`),
    (o.style.height = `${c}`),
    e.backgroundColor &&
      ((a.fillStyle = e.backgroundColor), a.fillRect(0, 0, o.width, o.height)),
    a.drawImage(s, 0, 0, o.width, o.height),
    o
  );
}
async function j$(r, e = {}) {
  return (await G$(r, e)).toDataURL();
}
const yo = ["Body", "Accessory", "Clothes", "Hat", "Sunglasses", "BG"],
  fa = [20, 19, 18, 20, 18, 20],
  $$ = (r) => {
    const [e, t] = K.useState("Body"),
      [n, i] = K.useState({
        Body: 0,
        Accessory: 0,
        Clothes: 0,
        Hat: 0,
        Sunglasses: 0,
        BG: 0,
      }),
      s = () => {
        i({
          Body: kl(1, fa[yo.indexOf("Body")]),
          Accessory: kl(1, fa[yo.indexOf("Accessory")]),
          Clothes: kl(1, fa[yo.indexOf("Clothes")]),
          Hat: kl(1, fa[yo.indexOf("Hat")]),
          Sunglasses: kl(1, fa[yo.indexOf("Sunglasses")]),
          BG: kl(1, fa[yo.indexOf("BG")]),
        });
      },
      o = () => {
        i({ Body: 0, Accessory: 0, Clothes: 0, Hat: 0, Sunglasses: 0, BG: 0 });
      },
      a = () => {
        const l = document.getElementById("meme-bear");
        j$(l)
          .then(function (u) {
            const c = document.createElement("a");
            (c.download = "meme_bear.png"), (c.href = u), c.click();
          })
          .catch(function (u) {
            console.error("Error on image creating", u);
          });
      };
    return p.jsx(pt, {
      type: "memeGen",
      children: p.jsxs("div", {
        className: "MemeGen",
        children: [
          p.jsxs("div", {
            className: "MemeGen_buttons",
            children: [
              p.jsxs("div", {
                className: "MemeGen_button",
                onClick: s,
                children: [p.jsx("span", { children: "R" }), "andomise"],
              }),
              p.jsxs("div", {
                className: "MemeGen_button",
                onClick: a,
                children: [p.jsx("span", { children: "D" }), "ownload"],
              }),
              p.jsxs("div", {
                className: "MemeGen_button",
                onClick: o,
                children: [p.jsx("span", { children: "R" }), "eset"],
              }),
            ],
          }),
          p.jsxs("div", {
            className: "MemeGen_inner",
            children: [
              p.jsxs("div", {
                className: "MemeGen_content window",
                children: [
                  p.jsxs("div", {
                    className: "MemeGen_bear window",
                    id: "meme-bear",
                    children: [
                      n.BG !== 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: `/img/memGen/BG/${n.BG}.png`,
                            alt: "decor",
                          }),
                        }),
                      n.Body === 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: "/img/memGen/knut.svg",
                            alt: "decor",
                          }),
                        }),
                      n.Body !== 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: `/img/memGen/Body/${n.Body}.png`,
                            alt: "decor",
                          }),
                        }),
                      n.Clothes !== 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: `/img/memGen/Clothes/${n.Clothes}.png`,
                            alt: "decor",
                          }),
                        }),
                      n.Accessory !== 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: `/img/memGen/Accessory/${n.Accessory}.png`,
                            alt: "decor",
                          }),
                        }),
                      n.Sunglasses !== 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: `/img/memGen/Sunglasses/${n.Sunglasses}.png`,
                            alt: "decor",
                          }),
                        }),
                      n.Hat !== 0 &&
                        p.jsx("div", {
                          className: "MemeGen_bear_el free_img",
                          children: p.jsx("img", {
                            src: `/img/memGen/Hat/${n.Hat}.png`,
                            alt: "decor",
                          }),
                        }),
                    ],
                  }),
                  p.jsx("div", {
                    className: "MemeGen_header",
                    children: "Customize your $knut",
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "MemeGen_castomize",
                children: [
                  p.jsx("div", {
                    className: "MemeGen_castomize_elements",
                    children: yo.map((l) =>
                      p.jsx(
                        "div",
                        {
                          className: `MemeGen_castomize_element ${
                            e === l && "MemeGen_castomize_element_selected"
                          }`,
                          onClick: () => {
                            t(l);
                          },
                          children: l,
                        },
                        `attr-${l}`
                      )
                    ),
                  }),
                  p.jsx("div", {
                    class: "window MemeGen_castomize_content",
                    children: Array.from(
                      { length: fa[yo.indexOf(e)] + 1 },
                      (l, u) =>
                        p.jsxs(
                          "div",
                          {
                            className: `MemeGen_castomize_content_element window ${
                              n[e] === u &&
                              "MemeGen_castomize_content_element_selected"
                            }`,
                            onClick: () => {
                              const c = JSON.parse(JSON.stringify(n));
                              (c[e] = u), i(c);
                            },
                            children: [
                              p.jsx("div", {
                                className:
                                  "MemeGen_castomize_content_element_decor window",
                                children: p.jsx("div", {
                                  className: `MemeGen_castomize_content_element_decor_el 
                                                ${
                                                  e === "Clothes" &&
                                                  "MemeGen_castomize_content_element_decor_el_l"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  "MemeGen_castomize_content_element_decor_el_xl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 1 &&
                                                  "MemeGen_castomize_content_element_decor_el_bot"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 2 &&
                                                  "MemeGen_castomize_content_element_decor_el_top MemeGen_castomize_content_element_decor_el_right_xl MemeGen_castomize_content_element_decor_el_xxxl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 3 &&
                                                  "MemeGen_castomize_content_element_decor_el_top MemeGen_castomize_content_element_decor_el_xxxl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 4 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_xl MemeGen_castomize_content_element_decor_el_right_s MemeGen_castomize_content_element_decor_el_xl "
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 5 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_l MemeGen_castomize_content_element_decor_el_right_xl MemeGen_castomize_content_element_decor_el_xxxl "
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 6 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_s MemeGen_castomize_content_element_decor_el_right_l MemeGen_castomize_content_element_decor_el_xxl "
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 7 &&
                                                  "MemeGen_castomize_content_element_decor_el_bot_s"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 8 &&
                                                  "MemeGen_castomize_content_element_decor_el_bot"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 9 &&
                                                  "MemeGen_castomize_content_element_decor_el_bot MemeGen_castomize_content_element_decor_el_xxl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 10 &&
                                                  "MemeGen_castomize_content_element_decor_el_bot_xl MemeGen_castomize_content_element_decor_el_left_xs MemeGen_castomize_content_element_decor_el_xxxl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 11 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_s MemeGen_castomize_content_element_decor_el_right_s MemeGen_castomize_content_element_decor_el_l"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 12 &&
                                                  "MemeGen_castomize_content_element_decor_el_top MemeGen_castomize_content_element_decor_el_right_xs"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 13 &&
                                                  "MemeGen_castomize_content_element_decor_el_top MemeGen_castomize_content_element_decor_el_right_s"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 14 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_l MemeGen_castomize_content_element_decor_el_xxxl MemeGen_castomize_content_element_decor_el_right_s"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 15 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_s  MemeGen_castomize_content_element_decor_el_right_s"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 16 &&
                                                  "MemeGen_castomize_content_element_decor_el_top_l MemeGen_castomize_content_element_decor_el_xxxl  MemeGen_castomize_content_element_decor_el_right_xl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 17 &&
                                                  "MemeGen_castomize_content_element_decor_el_top MemeGen_castomize_content_element_decor_el_xxxl  MemeGen_castomize_content_element_decor_el_right_xl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 18 &&
                                                  "MemeGen_castomize_content_element_decor_el_top MemeGen_castomize_content_element_decor_el_xxxl  MemeGen_castomize_content_element_decor_el_right_xl"
                                                } 
                                                ${
                                                  e === "Accessory" &&
                                                  u === 19 &&
                                                  "MemeGen_castomize_content_element_decor_el_bot_s MemeGen_castomize_content_element_decor_el_l "
                                                } 
                                                ${
                                                  e === "Hat" &&
                                                  "MemeGen_castomize_content_element_decor_el_bot_xxl MemeGen_castomize_content_element_decor_el_xxl "
                                                } 
                                                ${
                                                  e === "Sunglasses" &&
                                                  "MemeGen_castomize_content_element_decor_el_bot_xxl MemeGen_castomize_content_element_decor_el_left_xs MemeGen_castomize_content_element_decor_el_xxl "
                                                } 
                                                ${
                                                  u === 0 &&
                                                  "MemeGen_castomize_content_element_decor_el_no"
                                                } 
                                                free_img`,
                                  children: p.jsx("img", {
                                    src:
                                      u > 0
                                        ? `/img/memGen/${e}/${u}.png`
                                        : "/img/no.png",
                                    alt: "decor",
                                  }),
                                }),
                              }),
                              p.jsx("div", {
                                className:
                                  "MemeGen_castomize_content_element_name",
                                children: u > 0 ? `#${u}` : "No",
                              }),
                            ],
                          },
                          `attr-${e}-${u}`
                        )
                    ),
                  }),
                ],
              }),
            ],
          }),
        ],
      }),
    });
  };
function kl(r, e) {
  return Math.floor(Math.random() * (e - r + 1)) + r;
}
const z$ = (r) => {
  const [e, t] = K.useState(!1);
  let n;
  const i = () => {
    navigator.clipboard
      .writeText("7txNyx3A3Gn1fCZmqpEoEhABkGGdn2g1bisPg8HZi8hG")
      .then(() => {
        t(!0),
          clearTimeout(n),
          (n = setTimeout(() => {
            t(!1);
          }, 5e3));
      })
      .catch((s) => {
        console.error("Copy error: ", s);
      });
  };
  return p.jsx(pt, {
    type: "airdrop",
    children: p.jsxs("div", {
      className: "Airdrop",
      children: [
        p.jsx("div", { className: "Airdrop_header", children: "Airdrop" }),
        p.jsx("div", {
          className: "Airdrop_subheader",
          children:
            "Transfer the tokens to the address, and you are guaranteed to receive additional tokens with the sent sum until",
        }),
        p.jsxs("div", {
          className: "Airdrop_dateAndCopy",
          children: [
            p.jsx("button", { children: "SOON..." }),
            e &&
              p.jsxs("div", {
                className: "Airdrop_copy",
                children: [
                  p.jsx("img", { src: "/img/success.png", alt: "decor" }),
                  "Address successfully copied!",
                ],
              }),
          ],
        }),
        p.jsxs("div", {
          className: "Airdrop_content window",
          onClick: i,
          children: [
            p.jsxs("div", {
              className: "Airdrop_content_header",
              children: [
                p.jsx("div", {
                  className: "Airdrop_content_header_net",
                  children: "Solana",
                }),
                p.jsxs("div", {
                  className: "Airdrop_content_header_address",
                  children: [
                    "7txNyx3A3Gn1fCZmqpEoEhABkGGdn2g1bisPg8HZi8hG",
                    p.jsx("img", { src: "/img/copy.png", alt: "decor" }),
                  ],
                }),
              ],
            }),
            p.jsx("div", {
              className: "Airdrop_content_decor",
              children: p.jsx("img", { src: "/img/airdrop.png", alt: "decor" }),
            }),
          ],
        }),
      ],
    }),
  });
};
var Ce = {},
  dg = {};
dg.byteLength = V$;
dg.toByteArray = Y$;
dg.fromByteArray = Z$;
var gs = [],
  ui = [],
  W$ = typeof Uint8Array < "u" ? Uint8Array : Array,
  Q_ = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
for (var Al = 0, H$ = Q_.length; Al < H$; ++Al)
  (gs[Al] = Q_[Al]), (ui[Q_.charCodeAt(Al)] = Al);
ui[45] = 62;
ui[95] = 63;
function nM(r) {
  var e = r.length;
  if (e % 4 > 0)
    throw new Error("Invalid string. Length must be a multiple of 4");
  var t = r.indexOf("=");
  t === -1 && (t = e);
  var n = t === e ? 0 : 4 - (t % 4);
  return [t, n];
}
function V$(r) {
  var e = nM(r),
    t = e[0],
    n = e[1];
  return ((t + n) * 3) / 4 - n;
}
function X$(r, e, t) {
  return ((e + t) * 3) / 4 - t;
}
function Y$(r) {
  var e,
    t = nM(r),
    n = t[0],
    i = t[1],
    s = new W$(X$(r, n, i)),
    o = 0,
    a = i > 0 ? n - 4 : n,
    l;
  for (l = 0; l < a; l += 4)
    (e =
      (ui[r.charCodeAt(l)] << 18) |
      (ui[r.charCodeAt(l + 1)] << 12) |
      (ui[r.charCodeAt(l + 2)] << 6) |
      ui[r.charCodeAt(l + 3)]),
      (s[o++] = (e >> 16) & 255),
      (s[o++] = (e >> 8) & 255),
      (s[o++] = e & 255);
  return (
    i === 2 &&
      ((e = (ui[r.charCodeAt(l)] << 2) | (ui[r.charCodeAt(l + 1)] >> 4)),
      (s[o++] = e & 255)),
    i === 1 &&
      ((e =
        (ui[r.charCodeAt(l)] << 10) |
        (ui[r.charCodeAt(l + 1)] << 4) |
        (ui[r.charCodeAt(l + 2)] >> 2)),
      (s[o++] = (e >> 8) & 255),
      (s[o++] = e & 255)),
    s
  );
}
function K$(r) {
  return (
    gs[(r >> 18) & 63] + gs[(r >> 12) & 63] + gs[(r >> 6) & 63] + gs[r & 63]
  );
}
function q$(r, e, t) {
  for (var n, i = [], s = e; s < t; s += 3)
    (n =
      ((r[s] << 16) & 16711680) + ((r[s + 1] << 8) & 65280) + (r[s + 2] & 255)),
      i.push(K$(n));
  return i.join("");
}
function Z$(r) {
  for (
    var e, t = r.length, n = t % 3, i = [], s = 16383, o = 0, a = t - n;
    o < a;
    o += s
  )
    i.push(q$(r, o, o + s > a ? a : o + s));
  return (
    n === 1
      ? ((e = r[t - 1]), i.push(gs[e >> 2] + gs[(e << 4) & 63] + "=="))
      : n === 2 &&
        ((e = (r[t - 2] << 8) + r[t - 1]),
        i.push(gs[e >> 10] + gs[(e >> 4) & 63] + gs[(e << 2) & 63] + "=")),
    i.join("")
  );
}
var ob = {};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ ob.read =
  function (r, e, t, n, i) {
    var s,
      o,
      a = i * 8 - n - 1,
      l = (1 << a) - 1,
      u = l >> 1,
      c = -7,
      h = t ? i - 1 : 0,
      d = t ? -1 : 1,
      f = r[e + h];
    for (
      h += d, s = f & ((1 << -c) - 1), f >>= -c, c += a;
      c > 0;
      s = s * 256 + r[e + h], h += d, c -= 8
    );
    for (
      o = s & ((1 << -c) - 1), s >>= -c, c += n;
      c > 0;
      o = o * 256 + r[e + h], h += d, c -= 8
    );
    if (s === 0) s = 1 - u;
    else {
      if (s === l) return o ? NaN : (f ? -1 : 1) * (1 / 0);
      (o = o + Math.pow(2, n)), (s = s - u);
    }
    return (f ? -1 : 1) * o * Math.pow(2, s - n);
  };
ob.write = function (r, e, t, n, i, s) {
  var o,
    a,
    l,
    u = s * 8 - i - 1,
    c = (1 << u) - 1,
    h = c >> 1,
    d = i === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
    f = n ? 0 : s - 1,
    m = n ? 1 : -1,
    g = e < 0 || (e === 0 && 1 / e < 0) ? 1 : 0;
  for (
    e = Math.abs(e),
      isNaN(e) || e === 1 / 0
        ? ((a = isNaN(e) ? 1 : 0), (o = c))
        : ((o = Math.floor(Math.log(e) / Math.LN2)),
          e * (l = Math.pow(2, -o)) < 1 && (o--, (l *= 2)),
          o + h >= 1 ? (e += d / l) : (e += d * Math.pow(2, 1 - h)),
          e * l >= 2 && (o++, (l /= 2)),
          o + h >= c
            ? ((a = 0), (o = c))
            : o + h >= 1
            ? ((a = (e * l - 1) * Math.pow(2, i)), (o = o + h))
            : ((a = e * Math.pow(2, h - 1) * Math.pow(2, i)), (o = 0)));
    i >= 8;
    r[t + f] = a & 255, f += m, a /= 256, i -= 8
  );
  for (
    o = (o << i) | a, u += i;
    u > 0;
    r[t + f] = o & 255, f += m, o /= 256, u -= 8
  );
  r[t + f - m] |= g * 128;
};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ (function (r) {
  const e = dg,
    t = ob,
    n =
      typeof Symbol == "function" && typeof Symbol.for == "function"
        ? Symbol.for("nodejs.util.inspect.custom")
        : null;
  (r.Buffer = a), (r.SlowBuffer = w), (r.INSPECT_MAX_BYTES = 50);
  const i = 2147483647;
  (r.kMaxLength = i),
    (a.TYPED_ARRAY_SUPPORT = s()),
    !a.TYPED_ARRAY_SUPPORT &&
      typeof console < "u" &&
      typeof console.error == "function" &&
      console.error(
        "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
      );
  function s() {
    try {
      const D = new Uint8Array(1),
        S = {
          foo: function () {
            return 42;
          },
        };
      return (
        Object.setPrototypeOf(S, Uint8Array.prototype),
        Object.setPrototypeOf(D, S),
        D.foo() === 42
      );
    } catch {
      return !1;
    }
  }
  Object.defineProperty(a.prototype, "parent", {
    enumerable: !0,
    get: function () {
      if (a.isBuffer(this)) return this.buffer;
    },
  }),
    Object.defineProperty(a.prototype, "offset", {
      enumerable: !0,
      get: function () {
        if (a.isBuffer(this)) return this.byteOffset;
      },
    });
  function o(D) {
    if (D > i)
      throw new RangeError(
        'The value "' + D + '" is invalid for option "size"'
      );
    const S = new Uint8Array(D);
    return Object.setPrototypeOf(S, a.prototype), S;
  }
  function a(D, S, E) {
    if (typeof D == "number") {
      if (typeof S == "string")
        throw new TypeError(
          'The "string" argument must be of type string. Received type number'
        );
      return h(D);
    }
    return l(D, S, E);
  }
  a.poolSize = 8192;
  function l(D, S, E) {
    if (typeof D == "string") return d(D, S);
    if (ArrayBuffer.isView(D)) return m(D);
    if (D == null)
      throw new TypeError(
        "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " +
          typeof D
      );
    if (
      Sr(D, ArrayBuffer) ||
      (D && Sr(D.buffer, ArrayBuffer)) ||
      (typeof SharedArrayBuffer < "u" &&
        (Sr(D, SharedArrayBuffer) || (D && Sr(D.buffer, SharedArrayBuffer))))
    )
      return g(D, S, E);
    if (typeof D == "number")
      throw new TypeError(
        'The "value" argument must not be of type number. Received type number'
      );
    const U = D.valueOf && D.valueOf();
    if (U != null && U !== D) return a.from(U, S, E);
    const z = _(D);
    if (z) return z;
    if (
      typeof Symbol < "u" &&
      Symbol.toPrimitive != null &&
      typeof D[Symbol.toPrimitive] == "function"
    )
      return a.from(D[Symbol.toPrimitive]("string"), S, E);
    throw new TypeError(
      "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " +
        typeof D
    );
  }
  (a.from = function (D, S, E) {
    return l(D, S, E);
  }),
    Object.setPrototypeOf(a.prototype, Uint8Array.prototype),
    Object.setPrototypeOf(a, Uint8Array);
  function u(D) {
    if (typeof D != "number")
      throw new TypeError('"size" argument must be of type number');
    if (D < 0)
      throw new RangeError(
        'The value "' + D + '" is invalid for option "size"'
      );
  }
  function c(D, S, E) {
    return (
      u(D),
      D <= 0
        ? o(D)
        : S !== void 0
        ? typeof E == "string"
          ? o(D).fill(S, E)
          : o(D).fill(S)
        : o(D)
    );
  }
  a.alloc = function (D, S, E) {
    return c(D, S, E);
  };
  function h(D) {
    return u(D), o(D < 0 ? 0 : v(D) | 0);
  }
  (a.allocUnsafe = function (D) {
    return h(D);
  }),
    (a.allocUnsafeSlow = function (D) {
      return h(D);
    });
  function d(D, S) {
    if (((typeof S != "string" || S === "") && (S = "utf8"), !a.isEncoding(S)))
      throw new TypeError("Unknown encoding: " + S);
    const E = x(D, S) | 0;
    let U = o(E);
    const z = U.write(D, S);
    return z !== E && (U = U.slice(0, z)), U;
  }
  function f(D) {
    const S = D.length < 0 ? 0 : v(D.length) | 0,
      E = o(S);
    for (let U = 0; U < S; U += 1) E[U] = D[U] & 255;
    return E;
  }
  function m(D) {
    if (Sr(D, Uint8Array)) {
      const S = new Uint8Array(D);
      return g(S.buffer, S.byteOffset, S.byteLength);
    }
    return f(D);
  }
  function g(D, S, E) {
    if (S < 0 || D.byteLength < S)
      throw new RangeError('"offset" is outside of buffer bounds');
    if (D.byteLength < S + (E || 0))
      throw new RangeError('"length" is outside of buffer bounds');
    let U;
    return (
      S === void 0 && E === void 0
        ? (U = new Uint8Array(D))
        : E === void 0
        ? (U = new Uint8Array(D, S))
        : (U = new Uint8Array(D, S, E)),
      Object.setPrototypeOf(U, a.prototype),
      U
    );
  }
  function _(D) {
    if (a.isBuffer(D)) {
      const S = v(D.length) | 0,
        E = o(S);
      return E.length === 0 || D.copy(E, 0, 0, S), E;
    }
    if (D.length !== void 0)
      return typeof D.length != "number" || lt(D.length) ? o(0) : f(D);
    if (D.type === "Buffer" && Array.isArray(D.data)) return f(D.data);
  }
  function v(D) {
    if (D >= i)
      throw new RangeError(
        "Attempt to allocate Buffer larger than maximum size: 0x" +
          i.toString(16) +
          " bytes"
      );
    return D | 0;
  }
  function w(D) {
    return +D != D && (D = 0), a.alloc(+D);
  }
  (a.isBuffer = function (S) {
    return S != null && S._isBuffer === !0 && S !== a.prototype;
  }),
    (a.compare = function (S, E) {
      if (
        (Sr(S, Uint8Array) && (S = a.from(S, S.offset, S.byteLength)),
        Sr(E, Uint8Array) && (E = a.from(E, E.offset, E.byteLength)),
        !a.isBuffer(S) || !a.isBuffer(E))
      )
        throw new TypeError(
          'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
        );
      if (S === E) return 0;
      let U = S.length,
        z = E.length;
      for (let V = 0, q = Math.min(U, z); V < q; ++V)
        if (S[V] !== E[V]) {
          (U = S[V]), (z = E[V]);
          break;
        }
      return U < z ? -1 : z < U ? 1 : 0;
    }),
    (a.isEncoding = function (S) {
      switch (String(S).toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "latin1":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return !0;
        default:
          return !1;
      }
    }),
    (a.concat = function (S, E) {
      if (!Array.isArray(S))
        throw new TypeError('"list" argument must be an Array of Buffers');
      if (S.length === 0) return a.alloc(0);
      let U;
      if (E === void 0) for (E = 0, U = 0; U < S.length; ++U) E += S[U].length;
      const z = a.allocUnsafe(E);
      let V = 0;
      for (U = 0; U < S.length; ++U) {
        let q = S[U];
        if (Sr(q, Uint8Array))
          V + q.length > z.length
            ? (a.isBuffer(q) || (q = a.from(q)), q.copy(z, V))
            : Uint8Array.prototype.set.call(z, q, V);
        else if (a.isBuffer(q)) q.copy(z, V);
        else throw new TypeError('"list" argument must be an Array of Buffers');
        V += q.length;
      }
      return z;
    });
  function x(D, S) {
    if (a.isBuffer(D)) return D.length;
    if (ArrayBuffer.isView(D) || Sr(D, ArrayBuffer)) return D.byteLength;
    if (typeof D != "string")
      throw new TypeError(
        'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' +
          typeof D
      );
    const E = D.length,
      U = arguments.length > 2 && arguments[2] === !0;
    if (!U && E === 0) return 0;
    let z = !1;
    for (;;)
      switch (S) {
        case "ascii":
        case "latin1":
        case "binary":
          return E;
        case "utf8":
        case "utf-8":
          return Xe(D).length;
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return E * 2;
        case "hex":
          return E >>> 1;
        case "base64":
          return it(D).length;
        default:
          if (z) return U ? -1 : Xe(D).length;
          (S = ("" + S).toLowerCase()), (z = !0);
      }
  }
  a.byteLength = x;
  function k(D, S, E) {
    let U = !1;
    if (
      ((S === void 0 || S < 0) && (S = 0),
      S > this.length ||
        ((E === void 0 || E > this.length) && (E = this.length), E <= 0) ||
        ((E >>>= 0), (S >>>= 0), E <= S))
    )
      return "";
    for (D || (D = "utf8"); ; )
      switch (D) {
        case "hex":
          return B(this, S, E);
        case "utf8":
        case "utf-8":
          return y(this, S, E);
        case "ascii":
          return P(this, S, E);
        case "latin1":
        case "binary":
          return R(this, S, E);
        case "base64":
          return O(this, S, E);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return L(this, S, E);
        default:
          if (U) throw new TypeError("Unknown encoding: " + D);
          (D = (D + "").toLowerCase()), (U = !0);
      }
  }
  a.prototype._isBuffer = !0;
  function C(D, S, E) {
    const U = D[S];
    (D[S] = D[E]), (D[E] = U);
  }
  (a.prototype.swap16 = function () {
    const S = this.length;
    if (S % 2 !== 0)
      throw new RangeError("Buffer size must be a multiple of 16-bits");
    for (let E = 0; E < S; E += 2) C(this, E, E + 1);
    return this;
  }),
    (a.prototype.swap32 = function () {
      const S = this.length;
      if (S % 4 !== 0)
        throw new RangeError("Buffer size must be a multiple of 32-bits");
      for (let E = 0; E < S; E += 4) C(this, E, E + 3), C(this, E + 1, E + 2);
      return this;
    }),
    (a.prototype.swap64 = function () {
      const S = this.length;
      if (S % 8 !== 0)
        throw new RangeError("Buffer size must be a multiple of 64-bits");
      for (let E = 0; E < S; E += 8)
        C(this, E, E + 7),
          C(this, E + 1, E + 6),
          C(this, E + 2, E + 5),
          C(this, E + 3, E + 4);
      return this;
    }),
    (a.prototype.toString = function () {
      const S = this.length;
      return S === 0
        ? ""
        : arguments.length === 0
        ? y(this, 0, S)
        : k.apply(this, arguments);
    }),
    (a.prototype.toLocaleString = a.prototype.toString),
    (a.prototype.equals = function (S) {
      if (!a.isBuffer(S)) throw new TypeError("Argument must be a Buffer");
      return this === S ? !0 : a.compare(this, S) === 0;
    }),
    (a.prototype.inspect = function () {
      let S = "";
      const E = r.INSPECT_MAX_BYTES;
      return (
        (S = this.toString("hex", 0, E)
          .replace(/(.{2})/g, "$1 ")
          .trim()),
        this.length > E && (S += " ... "),
        "<Buffer " + S + ">"
      );
    }),
    n && (a.prototype[n] = a.prototype.inspect),
    (a.prototype.compare = function (S, E, U, z, V) {
      if (
        (Sr(S, Uint8Array) && (S = a.from(S, S.offset, S.byteLength)),
        !a.isBuffer(S))
      )
        throw new TypeError(
          'The "target" argument must be one of type Buffer or Uint8Array. Received type ' +
            typeof S
        );
      if (
        (E === void 0 && (E = 0),
        U === void 0 && (U = S ? S.length : 0),
        z === void 0 && (z = 0),
        V === void 0 && (V = this.length),
        E < 0 || U > S.length || z < 0 || V > this.length)
      )
        throw new RangeError("out of range index");
      if (z >= V && E >= U) return 0;
      if (z >= V) return -1;
      if (E >= U) return 1;
      if (((E >>>= 0), (U >>>= 0), (z >>>= 0), (V >>>= 0), this === S))
        return 0;
      let q = V - z,
        Ie = U - E;
      const De = Math.min(q, Ie),
        Ae = this.slice(z, V),
        bt = S.slice(E, U);
      for (let Se = 0; Se < De; ++Se)
        if (Ae[Se] !== bt[Se]) {
          (q = Ae[Se]), (Ie = bt[Se]);
          break;
        }
      return q < Ie ? -1 : Ie < q ? 1 : 0;
    });
  function F(D, S, E, U, z) {
    if (D.length === 0) return -1;
    if (
      (typeof E == "string"
        ? ((U = E), (E = 0))
        : E > 2147483647
        ? (E = 2147483647)
        : E < -2147483648 && (E = -2147483648),
      (E = +E),
      lt(E) && (E = z ? 0 : D.length - 1),
      E < 0 && (E = D.length + E),
      E >= D.length)
    ) {
      if (z) return -1;
      E = D.length - 1;
    } else if (E < 0)
      if (z) E = 0;
      else return -1;
    if ((typeof S == "string" && (S = a.from(S, U)), a.isBuffer(S)))
      return S.length === 0 ? -1 : I(D, S, E, U, z);
    if (typeof S == "number")
      return (
        (S = S & 255),
        typeof Uint8Array.prototype.indexOf == "function"
          ? z
            ? Uint8Array.prototype.indexOf.call(D, S, E)
            : Uint8Array.prototype.lastIndexOf.call(D, S, E)
          : I(D, [S], E, U, z)
      );
    throw new TypeError("val must be string, number or Buffer");
  }
  function I(D, S, E, U, z) {
    let V = 1,
      q = D.length,
      Ie = S.length;
    if (
      U !== void 0 &&
      ((U = String(U).toLowerCase()),
      U === "ucs2" || U === "ucs-2" || U === "utf16le" || U === "utf-16le")
    ) {
      if (D.length < 2 || S.length < 2) return -1;
      (V = 2), (q /= 2), (Ie /= 2), (E /= 2);
    }
    function De(bt, Se) {
      return V === 1 ? bt[Se] : bt.readUInt16BE(Se * V);
    }
    let Ae;
    if (z) {
      let bt = -1;
      for (Ae = E; Ae < q; Ae++)
        if (De(D, Ae) === De(S, bt === -1 ? 0 : Ae - bt)) {
          if ((bt === -1 && (bt = Ae), Ae - bt + 1 === Ie)) return bt * V;
        } else bt !== -1 && (Ae -= Ae - bt), (bt = -1);
    } else
      for (E + Ie > q && (E = q - Ie), Ae = E; Ae >= 0; Ae--) {
        let bt = !0;
        for (let Se = 0; Se < Ie; Se++)
          if (De(D, Ae + Se) !== De(S, Se)) {
            bt = !1;
            break;
          }
        if (bt) return Ae;
      }
    return -1;
  }
  (a.prototype.includes = function (S, E, U) {
    return this.indexOf(S, E, U) !== -1;
  }),
    (a.prototype.indexOf = function (S, E, U) {
      return F(this, S, E, U, !0);
    }),
    (a.prototype.lastIndexOf = function (S, E, U) {
      return F(this, S, E, U, !1);
    });
  function G(D, S, E, U) {
    E = Number(E) || 0;
    const z = D.length - E;
    U ? ((U = Number(U)), U > z && (U = z)) : (U = z);
    const V = S.length;
    U > V / 2 && (U = V / 2);
    let q;
    for (q = 0; q < U; ++q) {
      const Ie = parseInt(S.substr(q * 2, 2), 16);
      if (lt(Ie)) return q;
      D[E + q] = Ie;
    }
    return q;
  }
  function j(D, S, E, U) {
    return tt(Xe(S, D.length - E), D, E, U);
  }
  function $(D, S, E, U) {
    return tt(qe(S), D, E, U);
  }
  function H(D, S, E, U) {
    return tt(it(S), D, E, U);
  }
  function Q(D, S, E, U) {
    return tt(mo(S, D.length - E), D, E, U);
  }
  (a.prototype.write = function (S, E, U, z) {
    if (E === void 0) (z = "utf8"), (U = this.length), (E = 0);
    else if (U === void 0 && typeof E == "string")
      (z = E), (U = this.length), (E = 0);
    else if (isFinite(E))
      (E = E >>> 0),
        isFinite(U)
          ? ((U = U >>> 0), z === void 0 && (z = "utf8"))
          : ((z = U), (U = void 0));
    else
      throw new Error(
        "Buffer.write(string, encoding, offset[, length]) is no longer supported"
      );
    const V = this.length - E;
    if (
      ((U === void 0 || U > V) && (U = V),
      (S.length > 0 && (U < 0 || E < 0)) || E > this.length)
    )
      throw new RangeError("Attempt to write outside buffer bounds");
    z || (z = "utf8");
    let q = !1;
    for (;;)
      switch (z) {
        case "hex":
          return G(this, S, E, U);
        case "utf8":
        case "utf-8":
          return j(this, S, E, U);
        case "ascii":
        case "latin1":
        case "binary":
          return $(this, S, E, U);
        case "base64":
          return H(this, S, E, U);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return Q(this, S, E, U);
        default:
          if (q) throw new TypeError("Unknown encoding: " + z);
          (z = ("" + z).toLowerCase()), (q = !0);
      }
  }),
    (a.prototype.toJSON = function () {
      return {
        type: "Buffer",
        data: Array.prototype.slice.call(this._arr || this, 0),
      };
    });
  function O(D, S, E) {
    return S === 0 && E === D.length
      ? e.fromByteArray(D)
      : e.fromByteArray(D.slice(S, E));
  }
  function y(D, S, E) {
    E = Math.min(D.length, E);
    const U = [];
    let z = S;
    for (; z < E; ) {
      const V = D[z];
      let q = null,
        Ie = V > 239 ? 4 : V > 223 ? 3 : V > 191 ? 2 : 1;
      if (z + Ie <= E) {
        let De, Ae, bt, Se;
        switch (Ie) {
          case 1:
            V < 128 && (q = V);
            break;
          case 2:
            (De = D[z + 1]),
              (De & 192) === 128 &&
                ((Se = ((V & 31) << 6) | (De & 63)), Se > 127 && (q = Se));
            break;
          case 3:
            (De = D[z + 1]),
              (Ae = D[z + 2]),
              (De & 192) === 128 &&
                (Ae & 192) === 128 &&
                ((Se = ((V & 15) << 12) | ((De & 63) << 6) | (Ae & 63)),
                Se > 2047 && (Se < 55296 || Se > 57343) && (q = Se));
            break;
          case 4:
            (De = D[z + 1]),
              (Ae = D[z + 2]),
              (bt = D[z + 3]),
              (De & 192) === 128 &&
                (Ae & 192) === 128 &&
                (bt & 192) === 128 &&
                ((Se =
                  ((V & 15) << 18) |
                  ((De & 63) << 12) |
                  ((Ae & 63) << 6) |
                  (bt & 63)),
                Se > 65535 && Se < 1114112 && (q = Se));
        }
      }
      q === null
        ? ((q = 65533), (Ie = 1))
        : q > 65535 &&
          ((q -= 65536),
          U.push(((q >>> 10) & 1023) | 55296),
          (q = 56320 | (q & 1023))),
        U.push(q),
        (z += Ie);
    }
    return A(U);
  }
  const T = 4096;
  function A(D) {
    const S = D.length;
    if (S <= T) return String.fromCharCode.apply(String, D);
    let E = "",
      U = 0;
    for (; U < S; )
      E += String.fromCharCode.apply(String, D.slice(U, (U += T)));
    return E;
  }
  function P(D, S, E) {
    let U = "";
    E = Math.min(D.length, E);
    for (let z = S; z < E; ++z) U += String.fromCharCode(D[z] & 127);
    return U;
  }
  function R(D, S, E) {
    let U = "";
    E = Math.min(D.length, E);
    for (let z = S; z < E; ++z) U += String.fromCharCode(D[z]);
    return U;
  }
  function B(D, S, E) {
    const U = D.length;
    (!S || S < 0) && (S = 0), (!E || E < 0 || E > U) && (E = U);
    let z = "";
    for (let V = S; V < E; ++V) z += xt[D[V]];
    return z;
  }
  function L(D, S, E) {
    const U = D.slice(S, E);
    let z = "";
    for (let V = 0; V < U.length - 1; V += 2)
      z += String.fromCharCode(U[V] + U[V + 1] * 256);
    return z;
  }
  a.prototype.slice = function (S, E) {
    const U = this.length;
    (S = ~~S),
      (E = E === void 0 ? U : ~~E),
      S < 0 ? ((S += U), S < 0 && (S = 0)) : S > U && (S = U),
      E < 0 ? ((E += U), E < 0 && (E = 0)) : E > U && (E = U),
      E < S && (E = S);
    const z = this.subarray(S, E);
    return Object.setPrototypeOf(z, a.prototype), z;
  };
  function M(D, S, E) {
    if (D % 1 !== 0 || D < 0) throw new RangeError("offset is not uint");
    if (D + S > E)
      throw new RangeError("Trying to access beyond buffer length");
  }
  (a.prototype.readUintLE = a.prototype.readUIntLE =
    function (S, E, U) {
      (S = S >>> 0), (E = E >>> 0), U || M(S, E, this.length);
      let z = this[S],
        V = 1,
        q = 0;
      for (; ++q < E && (V *= 256); ) z += this[S + q] * V;
      return z;
    }),
    (a.prototype.readUintBE = a.prototype.readUIntBE =
      function (S, E, U) {
        (S = S >>> 0), (E = E >>> 0), U || M(S, E, this.length);
        let z = this[S + --E],
          V = 1;
        for (; E > 0 && (V *= 256); ) z += this[S + --E] * V;
        return z;
      }),
    (a.prototype.readUint8 = a.prototype.readUInt8 =
      function (S, E) {
        return (S = S >>> 0), E || M(S, 1, this.length), this[S];
      }),
    (a.prototype.readUint16LE = a.prototype.readUInt16LE =
      function (S, E) {
        return (
          (S = S >>> 0), E || M(S, 2, this.length), this[S] | (this[S + 1] << 8)
        );
      }),
    (a.prototype.readUint16BE = a.prototype.readUInt16BE =
      function (S, E) {
        return (
          (S = S >>> 0), E || M(S, 2, this.length), (this[S] << 8) | this[S + 1]
        );
      }),
    (a.prototype.readUint32LE = a.prototype.readUInt32LE =
      function (S, E) {
        return (
          (S = S >>> 0),
          E || M(S, 4, this.length),
          (this[S] | (this[S + 1] << 8) | (this[S + 2] << 16)) +
            this[S + 3] * 16777216
        );
      }),
    (a.prototype.readUint32BE = a.prototype.readUInt32BE =
      function (S, E) {
        return (
          (S = S >>> 0),
          E || M(S, 4, this.length),
          this[S] * 16777216 +
            ((this[S + 1] << 16) | (this[S + 2] << 8) | this[S + 3])
        );
      }),
    (a.prototype.readBigUInt64LE = _n(function (S) {
      (S = S >>> 0), mt(S, "offset");
      const E = this[S],
        U = this[S + 7];
      (E === void 0 || U === void 0) && We(S, this.length - 8);
      const z =
          E + this[++S] * 2 ** 8 + this[++S] * 2 ** 16 + this[++S] * 2 ** 24,
        V = this[++S] + this[++S] * 2 ** 8 + this[++S] * 2 ** 16 + U * 2 ** 24;
      return BigInt(z) + (BigInt(V) << BigInt(32));
    })),
    (a.prototype.readBigUInt64BE = _n(function (S) {
      (S = S >>> 0), mt(S, "offset");
      const E = this[S],
        U = this[S + 7];
      (E === void 0 || U === void 0) && We(S, this.length - 8);
      const z =
          E * 2 ** 24 + this[++S] * 2 ** 16 + this[++S] * 2 ** 8 + this[++S],
        V = this[++S] * 2 ** 24 + this[++S] * 2 ** 16 + this[++S] * 2 ** 8 + U;
      return (BigInt(z) << BigInt(32)) + BigInt(V);
    })),
    (a.prototype.readIntLE = function (S, E, U) {
      (S = S >>> 0), (E = E >>> 0), U || M(S, E, this.length);
      let z = this[S],
        V = 1,
        q = 0;
      for (; ++q < E && (V *= 256); ) z += this[S + q] * V;
      return (V *= 128), z >= V && (z -= Math.pow(2, 8 * E)), z;
    }),
    (a.prototype.readIntBE = function (S, E, U) {
      (S = S >>> 0), (E = E >>> 0), U || M(S, E, this.length);
      let z = E,
        V = 1,
        q = this[S + --z];
      for (; z > 0 && (V *= 256); ) q += this[S + --z] * V;
      return (V *= 128), q >= V && (q -= Math.pow(2, 8 * E)), q;
    }),
    (a.prototype.readInt8 = function (S, E) {
      return (
        (S = S >>> 0),
        E || M(S, 1, this.length),
        this[S] & 128 ? (255 - this[S] + 1) * -1 : this[S]
      );
    }),
    (a.prototype.readInt16LE = function (S, E) {
      (S = S >>> 0), E || M(S, 2, this.length);
      const U = this[S] | (this[S + 1] << 8);
      return U & 32768 ? U | 4294901760 : U;
    }),
    (a.prototype.readInt16BE = function (S, E) {
      (S = S >>> 0), E || M(S, 2, this.length);
      const U = this[S + 1] | (this[S] << 8);
      return U & 32768 ? U | 4294901760 : U;
    }),
    (a.prototype.readInt32LE = function (S, E) {
      return (
        (S = S >>> 0),
        E || M(S, 4, this.length),
        this[S] | (this[S + 1] << 8) | (this[S + 2] << 16) | (this[S + 3] << 24)
      );
    }),
    (a.prototype.readInt32BE = function (S, E) {
      return (
        (S = S >>> 0),
        E || M(S, 4, this.length),
        (this[S] << 24) | (this[S + 1] << 16) | (this[S + 2] << 8) | this[S + 3]
      );
    }),
    (a.prototype.readBigInt64LE = _n(function (S) {
      (S = S >>> 0), mt(S, "offset");
      const E = this[S],
        U = this[S + 7];
      (E === void 0 || U === void 0) && We(S, this.length - 8);
      const z =
        this[S + 4] + this[S + 5] * 2 ** 8 + this[S + 6] * 2 ** 16 + (U << 24);
      return (
        (BigInt(z) << BigInt(32)) +
        BigInt(
          E + this[++S] * 2 ** 8 + this[++S] * 2 ** 16 + this[++S] * 2 ** 24
        )
      );
    })),
    (a.prototype.readBigInt64BE = _n(function (S) {
      (S = S >>> 0), mt(S, "offset");
      const E = this[S],
        U = this[S + 7];
      (E === void 0 || U === void 0) && We(S, this.length - 8);
      const z =
        (E << 24) + this[++S] * 2 ** 16 + this[++S] * 2 ** 8 + this[++S];
      return (
        (BigInt(z) << BigInt(32)) +
        BigInt(
          this[++S] * 2 ** 24 + this[++S] * 2 ** 16 + this[++S] * 2 ** 8 + U
        )
      );
    })),
    (a.prototype.readFloatLE = function (S, E) {
      return (
        (S = S >>> 0), E || M(S, 4, this.length), t.read(this, S, !0, 23, 4)
      );
    }),
    (a.prototype.readFloatBE = function (S, E) {
      return (
        (S = S >>> 0), E || M(S, 4, this.length), t.read(this, S, !1, 23, 4)
      );
    }),
    (a.prototype.readDoubleLE = function (S, E) {
      return (
        (S = S >>> 0), E || M(S, 8, this.length), t.read(this, S, !0, 52, 8)
      );
    }),
    (a.prototype.readDoubleBE = function (S, E) {
      return (
        (S = S >>> 0), E || M(S, 8, this.length), t.read(this, S, !1, 52, 8)
      );
    });
  function b(D, S, E, U, z, V) {
    if (!a.isBuffer(D))
      throw new TypeError('"buffer" argument must be a Buffer instance');
    if (S > z || S < V)
      throw new RangeError('"value" argument is out of bounds');
    if (E + U > D.length) throw new RangeError("Index out of range");
  }
  (a.prototype.writeUintLE = a.prototype.writeUIntLE =
    function (S, E, U, z) {
      if (((S = +S), (E = E >>> 0), (U = U >>> 0), !z)) {
        const Ie = Math.pow(2, 8 * U) - 1;
        b(this, S, E, U, Ie, 0);
      }
      let V = 1,
        q = 0;
      for (this[E] = S & 255; ++q < U && (V *= 256); )
        this[E + q] = (S / V) & 255;
      return E + U;
    }),
    (a.prototype.writeUintBE = a.prototype.writeUIntBE =
      function (S, E, U, z) {
        if (((S = +S), (E = E >>> 0), (U = U >>> 0), !z)) {
          const Ie = Math.pow(2, 8 * U) - 1;
          b(this, S, E, U, Ie, 0);
        }
        let V = U - 1,
          q = 1;
        for (this[E + V] = S & 255; --V >= 0 && (q *= 256); )
          this[E + V] = (S / q) & 255;
        return E + U;
      }),
    (a.prototype.writeUint8 = a.prototype.writeUInt8 =
      function (S, E, U) {
        return (
          (S = +S),
          (E = E >>> 0),
          U || b(this, S, E, 1, 255, 0),
          (this[E] = S & 255),
          E + 1
        );
      }),
    (a.prototype.writeUint16LE = a.prototype.writeUInt16LE =
      function (S, E, U) {
        return (
          (S = +S),
          (E = E >>> 0),
          U || b(this, S, E, 2, 65535, 0),
          (this[E] = S & 255),
          (this[E + 1] = S >>> 8),
          E + 2
        );
      }),
    (a.prototype.writeUint16BE = a.prototype.writeUInt16BE =
      function (S, E, U) {
        return (
          (S = +S),
          (E = E >>> 0),
          U || b(this, S, E, 2, 65535, 0),
          (this[E] = S >>> 8),
          (this[E + 1] = S & 255),
          E + 2
        );
      }),
    (a.prototype.writeUint32LE = a.prototype.writeUInt32LE =
      function (S, E, U) {
        return (
          (S = +S),
          (E = E >>> 0),
          U || b(this, S, E, 4, 4294967295, 0),
          (this[E + 3] = S >>> 24),
          (this[E + 2] = S >>> 16),
          (this[E + 1] = S >>> 8),
          (this[E] = S & 255),
          E + 4
        );
      }),
    (a.prototype.writeUint32BE = a.prototype.writeUInt32BE =
      function (S, E, U) {
        return (
          (S = +S),
          (E = E >>> 0),
          U || b(this, S, E, 4, 4294967295, 0),
          (this[E] = S >>> 24),
          (this[E + 1] = S >>> 16),
          (this[E + 2] = S >>> 8),
          (this[E + 3] = S & 255),
          E + 4
        );
      });
  function N(D, S, E, U, z) {
    be(S, U, z, D, E, 7);
    let V = Number(S & BigInt(4294967295));
    (D[E++] = V),
      (V = V >> 8),
      (D[E++] = V),
      (V = V >> 8),
      (D[E++] = V),
      (V = V >> 8),
      (D[E++] = V);
    let q = Number((S >> BigInt(32)) & BigInt(4294967295));
    return (
      (D[E++] = q),
      (q = q >> 8),
      (D[E++] = q),
      (q = q >> 8),
      (D[E++] = q),
      (q = q >> 8),
      (D[E++] = q),
      E
    );
  }
  function J(D, S, E, U, z) {
    be(S, U, z, D, E, 7);
    let V = Number(S & BigInt(4294967295));
    (D[E + 7] = V),
      (V = V >> 8),
      (D[E + 6] = V),
      (V = V >> 8),
      (D[E + 5] = V),
      (V = V >> 8),
      (D[E + 4] = V);
    let q = Number((S >> BigInt(32)) & BigInt(4294967295));
    return (
      (D[E + 3] = q),
      (q = q >> 8),
      (D[E + 2] = q),
      (q = q >> 8),
      (D[E + 1] = q),
      (q = q >> 8),
      (D[E] = q),
      E + 8
    );
  }
  (a.prototype.writeBigUInt64LE = _n(function (S, E = 0) {
    return N(this, S, E, BigInt(0), BigInt("0xffffffffffffffff"));
  })),
    (a.prototype.writeBigUInt64BE = _n(function (S, E = 0) {
      return J(this, S, E, BigInt(0), BigInt("0xffffffffffffffff"));
    })),
    (a.prototype.writeIntLE = function (S, E, U, z) {
      if (((S = +S), (E = E >>> 0), !z)) {
        const De = Math.pow(2, 8 * U - 1);
        b(this, S, E, U, De - 1, -De);
      }
      let V = 0,
        q = 1,
        Ie = 0;
      for (this[E] = S & 255; ++V < U && (q *= 256); )
        S < 0 && Ie === 0 && this[E + V - 1] !== 0 && (Ie = 1),
          (this[E + V] = (((S / q) >> 0) - Ie) & 255);
      return E + U;
    }),
    (a.prototype.writeIntBE = function (S, E, U, z) {
      if (((S = +S), (E = E >>> 0), !z)) {
        const De = Math.pow(2, 8 * U - 1);
        b(this, S, E, U, De - 1, -De);
      }
      let V = U - 1,
        q = 1,
        Ie = 0;
      for (this[E + V] = S & 255; --V >= 0 && (q *= 256); )
        S < 0 && Ie === 0 && this[E + V + 1] !== 0 && (Ie = 1),
          (this[E + V] = (((S / q) >> 0) - Ie) & 255);
      return E + U;
    }),
    (a.prototype.writeInt8 = function (S, E, U) {
      return (
        (S = +S),
        (E = E >>> 0),
        U || b(this, S, E, 1, 127, -128),
        S < 0 && (S = 255 + S + 1),
        (this[E] = S & 255),
        E + 1
      );
    }),
    (a.prototype.writeInt16LE = function (S, E, U) {
      return (
        (S = +S),
        (E = E >>> 0),
        U || b(this, S, E, 2, 32767, -32768),
        (this[E] = S & 255),
        (this[E + 1] = S >>> 8),
        E + 2
      );
    }),
    (a.prototype.writeInt16BE = function (S, E, U) {
      return (
        (S = +S),
        (E = E >>> 0),
        U || b(this, S, E, 2, 32767, -32768),
        (this[E] = S >>> 8),
        (this[E + 1] = S & 255),
        E + 2
      );
    }),
    (a.prototype.writeInt32LE = function (S, E, U) {
      return (
        (S = +S),
        (E = E >>> 0),
        U || b(this, S, E, 4, 2147483647, -2147483648),
        (this[E] = S & 255),
        (this[E + 1] = S >>> 8),
        (this[E + 2] = S >>> 16),
        (this[E + 3] = S >>> 24),
        E + 4
      );
    }),
    (a.prototype.writeInt32BE = function (S, E, U) {
      return (
        (S = +S),
        (E = E >>> 0),
        U || b(this, S, E, 4, 2147483647, -2147483648),
        S < 0 && (S = 4294967295 + S + 1),
        (this[E] = S >>> 24),
        (this[E + 1] = S >>> 16),
        (this[E + 2] = S >>> 8),
        (this[E + 3] = S & 255),
        E + 4
      );
    }),
    (a.prototype.writeBigInt64LE = _n(function (S, E = 0) {
      return N(
        this,
        S,
        E,
        -BigInt("0x8000000000000000"),
        BigInt("0x7fffffffffffffff")
      );
    })),
    (a.prototype.writeBigInt64BE = _n(function (S, E = 0) {
      return J(
        this,
        S,
        E,
        -BigInt("0x8000000000000000"),
        BigInt("0x7fffffffffffffff")
      );
    }));
  function te(D, S, E, U, z, V) {
    if (E + U > D.length) throw new RangeError("Index out of range");
    if (E < 0) throw new RangeError("Index out of range");
  }
  function ne(D, S, E, U, z) {
    return (
      (S = +S),
      (E = E >>> 0),
      z || te(D, S, E, 4),
      t.write(D, S, E, U, 23, 4),
      E + 4
    );
  }
  (a.prototype.writeFloatLE = function (S, E, U) {
    return ne(this, S, E, !0, U);
  }),
    (a.prototype.writeFloatBE = function (S, E, U) {
      return ne(this, S, E, !1, U);
    });
  function ke(D, S, E, U, z) {
    return (
      (S = +S),
      (E = E >>> 0),
      z || te(D, S, E, 8),
      t.write(D, S, E, U, 52, 8),
      E + 8
    );
  }
  (a.prototype.writeDoubleLE = function (S, E, U) {
    return ke(this, S, E, !0, U);
  }),
    (a.prototype.writeDoubleBE = function (S, E, U) {
      return ke(this, S, E, !1, U);
    }),
    (a.prototype.copy = function (S, E, U, z) {
      if (!a.isBuffer(S)) throw new TypeError("argument should be a Buffer");
      if (
        (U || (U = 0),
        !z && z !== 0 && (z = this.length),
        E >= S.length && (E = S.length),
        E || (E = 0),
        z > 0 && z < U && (z = U),
        z === U || S.length === 0 || this.length === 0)
      )
        return 0;
      if (E < 0) throw new RangeError("targetStart out of bounds");
      if (U < 0 || U >= this.length) throw new RangeError("Index out of range");
      if (z < 0) throw new RangeError("sourceEnd out of bounds");
      z > this.length && (z = this.length),
        S.length - E < z - U && (z = S.length - E + U);
      const V = z - U;
      return (
        this === S && typeof Uint8Array.prototype.copyWithin == "function"
          ? this.copyWithin(E, U, z)
          : Uint8Array.prototype.set.call(S, this.subarray(U, z), E),
        V
      );
    }),
    (a.prototype.fill = function (S, E, U, z) {
      if (typeof S == "string") {
        if (
          (typeof E == "string"
            ? ((z = E), (E = 0), (U = this.length))
            : typeof U == "string" && ((z = U), (U = this.length)),
          z !== void 0 && typeof z != "string")
        )
          throw new TypeError("encoding must be a string");
        if (typeof z == "string" && !a.isEncoding(z))
          throw new TypeError("Unknown encoding: " + z);
        if (S.length === 1) {
          const q = S.charCodeAt(0);
          ((z === "utf8" && q < 128) || z === "latin1") && (S = q);
        }
      } else
        typeof S == "number"
          ? (S = S & 255)
          : typeof S == "boolean" && (S = Number(S));
      if (E < 0 || this.length < E || this.length < U)
        throw new RangeError("Out of range index");
      if (U <= E) return this;
      (E = E >>> 0), (U = U === void 0 ? this.length : U >>> 0), S || (S = 0);
      let V;
      if (typeof S == "number") for (V = E; V < U; ++V) this[V] = S;
      else {
        const q = a.isBuffer(S) ? S : a.from(S, z),
          Ie = q.length;
        if (Ie === 0)
          throw new TypeError(
            'The value "' + S + '" is invalid for argument "value"'
          );
        for (V = 0; V < U - E; ++V) this[V + E] = q[V % Ie];
      }
      return this;
    });
  const ye = {};
  function ve(D, S, E) {
    ye[D] = class extends E {
      constructor() {
        super(),
          Object.defineProperty(this, "message", {
            value: S.apply(this, arguments),
            writable: !0,
            configurable: !0,
          }),
          (this.name = `${this.name} [${D}]`),
          this.stack,
          delete this.name;
      }
      get code() {
        return D;
      }
      set code(z) {
        Object.defineProperty(this, "code", {
          configurable: !0,
          enumerable: !0,
          value: z,
          writable: !0,
        });
      }
      toString() {
        return `${this.name} [${D}]: ${this.message}`;
      }
    };
  }
  ve(
    "ERR_BUFFER_OUT_OF_BOUNDS",
    function (D) {
      return D
        ? `${D} is outside of buffer bounds`
        : "Attempt to access memory outside buffer bounds";
    },
    RangeError
  ),
    ve(
      "ERR_INVALID_ARG_TYPE",
      function (D, S) {
        return `The "${D}" argument must be of type number. Received type ${typeof S}`;
      },
      TypeError
    ),
    ve(
      "ERR_OUT_OF_RANGE",
      function (D, S, E) {
        let U = `The value of "${D}" is out of range.`,
          z = E;
        return (
          Number.isInteger(E) && Math.abs(E) > 2 ** 32
            ? (z = Tt(String(E)))
            : typeof E == "bigint" &&
              ((z = String(E)),
              (E > BigInt(2) ** BigInt(32) || E < -(BigInt(2) ** BigInt(32))) &&
                (z = Tt(z)),
              (z += "n")),
          (U += ` It must be ${S}. Received ${z}`),
          U
        );
      },
      RangeError
    );
  function Tt(D) {
    let S = "",
      E = D.length;
    const U = D[0] === "-" ? 1 : 0;
    for (; E >= U + 4; E -= 3) S = `_${D.slice(E - 3, E)}${S}`;
    return `${D.slice(0, E)}${S}`;
  }
  function Oe(D, S, E) {
    mt(S, "offset"),
      (D[S] === void 0 || D[S + E] === void 0) && We(S, D.length - (E + 1));
  }
  function be(D, S, E, U, z, V) {
    if (D > E || D < S) {
      const q = typeof S == "bigint" ? "n" : "";
      let Ie;
      throw (
        (S === 0 || S === BigInt(0)
          ? (Ie = `>= 0${q} and < 2${q} ** ${(V + 1) * 8}${q}`)
          : (Ie = `>= -(2${q} ** ${(V + 1) * 8 - 1}${q}) and < 2 ** ${
              (V + 1) * 8 - 1
            }${q}`),
        new ye.ERR_OUT_OF_RANGE("value", Ie, D))
      );
    }
    Oe(U, z, V);
  }
  function mt(D, S) {
    if (typeof D != "number") throw new ye.ERR_INVALID_ARG_TYPE(S, "number", D);
  }
  function We(D, S, E) {
    throw Math.floor(D) !== D
      ? (mt(D, E), new ye.ERR_OUT_OF_RANGE("offset", "an integer", D))
      : S < 0
      ? new ye.ERR_BUFFER_OUT_OF_BOUNDS()
      : new ye.ERR_OUT_OF_RANGE("offset", `>= 0 and <= ${S}`, D);
  }
  const He = /[^+/0-9A-Za-z-_]/g;
  function gn(D) {
    if (((D = D.split("=")[0]), (D = D.trim().replace(He, "")), D.length < 2))
      return "";
    for (; D.length % 4 !== 0; ) D = D + "=";
    return D;
  }
  function Xe(D, S) {
    S = S || 1 / 0;
    let E;
    const U = D.length;
    let z = null;
    const V = [];
    for (let q = 0; q < U; ++q) {
      if (((E = D.charCodeAt(q)), E > 55295 && E < 57344)) {
        if (!z) {
          if (E > 56319) {
            (S -= 3) > -1 && V.push(239, 191, 189);
            continue;
          } else if (q + 1 === U) {
            (S -= 3) > -1 && V.push(239, 191, 189);
            continue;
          }
          z = E;
          continue;
        }
        if (E < 56320) {
          (S -= 3) > -1 && V.push(239, 191, 189), (z = E);
          continue;
        }
        E = (((z - 55296) << 10) | (E - 56320)) + 65536;
      } else z && (S -= 3) > -1 && V.push(239, 191, 189);
      if (((z = null), E < 128)) {
        if ((S -= 1) < 0) break;
        V.push(E);
      } else if (E < 2048) {
        if ((S -= 2) < 0) break;
        V.push((E >> 6) | 192, (E & 63) | 128);
      } else if (E < 65536) {
        if ((S -= 3) < 0) break;
        V.push((E >> 12) | 224, ((E >> 6) & 63) | 128, (E & 63) | 128);
      } else if (E < 1114112) {
        if ((S -= 4) < 0) break;
        V.push(
          (E >> 18) | 240,
          ((E >> 12) & 63) | 128,
          ((E >> 6) & 63) | 128,
          (E & 63) | 128
        );
      } else throw new Error("Invalid code point");
    }
    return V;
  }
  function qe(D) {
    const S = [];
    for (let E = 0; E < D.length; ++E) S.push(D.charCodeAt(E) & 255);
    return S;
  }
  function mo(D, S) {
    let E, U, z;
    const V = [];
    for (let q = 0; q < D.length && !((S -= 2) < 0); ++q)
      (E = D.charCodeAt(q)), (U = E >> 8), (z = E % 256), V.push(z), V.push(U);
    return V;
  }
  function it(D) {
    return e.toByteArray(gn(D));
  }
  function tt(D, S, E, U) {
    let z;
    for (z = 0; z < U && !(z + E >= S.length || z >= D.length); ++z)
      S[z + E] = D[z];
    return z;
  }
  function Sr(D, S) {
    return (
      D instanceof S ||
      (D != null &&
        D.constructor != null &&
        D.constructor.name != null &&
        D.constructor.name === S.name)
    );
  }
  function lt(D) {
    return D !== D;
  }
  const xt = (function () {
    const D = "0123456789abcdef",
      S = new Array(256);
    for (let E = 0; E < 16; ++E) {
      const U = E * 16;
      for (let z = 0; z < 16; ++z) S[U + z] = D[E] + D[z];
    }
    return S;
  })();
  function _n(D) {
    return typeof BigInt > "u" ? wt : D;
  }
  function wt() {
    throw new Error("BigInt not supported");
  }
})(Ce);
function IE(r) {
  if (!Number.isSafeInteger(r) || r < 0)
    throw new Error(`positive integer expected, not ${r}`);
}
function Q$(r) {
  return (
    r instanceof Uint8Array ||
    (r != null && typeof r == "object" && r.constructor.name === "Uint8Array")
  );
}
function fg(r, ...e) {
  if (!Q$(r)) throw new Error("Uint8Array expected");
  if (e.length > 0 && !e.includes(r.length))
    throw new Error(
      `Uint8Array expected of length ${e}, not of length=${r.length}`
    );
}
function J$(r) {
  if (typeof r != "function" || typeof r.create != "function")
    throw new Error("Hash should be wrapped by utils.wrapConstructor");
  IE(r.outputLen), IE(r.blockLen);
}
function Kp(r, e = !0) {
  if (r.destroyed) throw new Error("Hash instance has been destroyed");
  if (e && r.finished) throw new Error("Hash#digest() has already been called");
}
function ez(r, e) {
  fg(r);
  const t = e.outputLen;
  if (r.length < t)
    throw new Error(
      `digestInto() expects output buffer of length at least ${t}`
    );
}
const Pl =
  typeof globalThis == "object" && "crypto" in globalThis
    ? globalThis.crypto
    : void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const J_ =
    (r) => new DataView(r.buffer, r.byteOffset, r.byteLength),
  ls = (r, e) => (r << (32 - e)) | (r >>> e);
new Uint8Array(new Uint32Array([287454020]).buffer)[0];
function tz(r) {
  if (typeof r != "string")
    throw new Error(`utf8ToBytes expected string, got ${typeof r}`);
  return new Uint8Array(new TextEncoder().encode(r));
}
function ab(r) {
  return typeof r == "string" && (r = tz(r)), fg(r), r;
}
function rz(...r) {
  let e = 0;
  for (let n = 0; n < r.length; n++) {
    const i = r[n];
    fg(i), (e += i.length);
  }
  const t = new Uint8Array(e);
  for (let n = 0, i = 0; n < r.length; n++) {
    const s = r[n];
    t.set(s, i), (i += s.length);
  }
  return t;
}
class iM {
  clone() {
    return this._cloneInto();
  }
}
function sM(r) {
  const e = (n) => r().update(ab(n)).digest(),
    t = r();
  return (
    (e.outputLen = t.outputLen),
    (e.blockLen = t.blockLen),
    (e.create = () => r()),
    e
  );
}
function oM(r = 32) {
  if (Pl && typeof Pl.getRandomValues == "function")
    return Pl.getRandomValues(new Uint8Array(r));
  if (Pl && typeof Pl.randomBytes == "function") return Pl.randomBytes(r);
  throw new Error("crypto.getRandomValues must be defined");
}
function nz(r, e, t, n) {
  if (typeof r.setBigUint64 == "function") return r.setBigUint64(e, t, n);
  const i = BigInt(32),
    s = BigInt(4294967295),
    o = Number((t >> i) & s),
    a = Number(t & s),
    l = n ? 4 : 0,
    u = n ? 0 : 4;
  r.setUint32(e + l, o, n), r.setUint32(e + u, a, n);
}
const iz = (r, e, t) => (r & e) ^ (~r & t),
  sz = (r, e, t) => (r & e) ^ (r & t) ^ (e & t);
class aM extends iM {
  constructor(e, t, n, i) {
    super(),
      (this.blockLen = e),
      (this.outputLen = t),
      (this.padOffset = n),
      (this.isLE = i),
      (this.finished = !1),
      (this.length = 0),
      (this.pos = 0),
      (this.destroyed = !1),
      (this.buffer = new Uint8Array(e)),
      (this.view = J_(this.buffer));
  }
  update(e) {
    Kp(this);
    const { view: t, buffer: n, blockLen: i } = this;
    e = ab(e);
    const s = e.length;
    for (let o = 0; o < s; ) {
      const a = Math.min(i - this.pos, s - o);
      if (a === i) {
        const l = J_(e);
        for (; i <= s - o; o += i) this.process(l, o);
        continue;
      }
      n.set(e.subarray(o, o + a), this.pos),
        (this.pos += a),
        (o += a),
        this.pos === i && (this.process(t, 0), (this.pos = 0));
    }
    return (this.length += e.length), this.roundClean(), this;
  }
  digestInto(e) {
    Kp(this), ez(e, this), (this.finished = !0);
    const { buffer: t, view: n, blockLen: i, isLE: s } = this;
    let { pos: o } = this;
    (t[o++] = 128),
      this.buffer.subarray(o).fill(0),
      this.padOffset > i - o && (this.process(n, 0), (o = 0));
    for (let h = o; h < i; h++) t[h] = 0;
    nz(n, i - 8, BigInt(this.length * 8), s), this.process(n, 0);
    const a = J_(e),
      l = this.outputLen;
    if (l % 4) throw new Error("_sha2: outputLen should be aligned to 32bit");
    const u = l / 4,
      c = this.get();
    if (u > c.length) throw new Error("_sha2: outputLen bigger than state");
    for (let h = 0; h < u; h++) a.setUint32(4 * h, c[h], s);
  }
  digest() {
    const { buffer: e, outputLen: t } = this;
    this.digestInto(e);
    const n = e.slice(0, t);
    return this.destroy(), n;
  }
  _cloneInto(e) {
    e || (e = new this.constructor()), e.set(...this.get());
    const {
      blockLen: t,
      buffer: n,
      length: i,
      finished: s,
      destroyed: o,
      pos: a,
    } = this;
    return (
      (e.length = i),
      (e.pos = a),
      (e.finished = s),
      (e.destroyed = o),
      i % t && e.buffer.set(n),
      e
    );
  }
}
const Hd = BigInt(2 ** 32 - 1),
  Gv = BigInt(32);
function lM(r, e = !1) {
  return e
    ? { h: Number(r & Hd), l: Number((r >> Gv) & Hd) }
    : { h: Number((r >> Gv) & Hd) | 0, l: Number(r & Hd) | 0 };
}
function oz(r, e = !1) {
  let t = new Uint32Array(r.length),
    n = new Uint32Array(r.length);
  for (let i = 0; i < r.length; i++) {
    const { h: s, l: o } = lM(r[i], e);
    [t[i], n[i]] = [s, o];
  }
  return [t, n];
}
const az = (r, e) => (BigInt(r >>> 0) << Gv) | BigInt(e >>> 0),
  lz = (r, e, t) => r >>> t,
  uz = (r, e, t) => (r << (32 - t)) | (e >>> t),
  cz = (r, e, t) => (r >>> t) | (e << (32 - t)),
  hz = (r, e, t) => (r << (32 - t)) | (e >>> t),
  dz = (r, e, t) => (r << (64 - t)) | (e >>> (t - 32)),
  fz = (r, e, t) => (r >>> (t - 32)) | (e << (64 - t)),
  pz = (r, e) => e,
  mz = (r, e) => r,
  gz = (r, e, t) => (r << t) | (e >>> (32 - t)),
  _z = (r, e, t) => (e << t) | (r >>> (32 - t)),
  yz = (r, e, t) => (e << (t - 32)) | (r >>> (64 - t)),
  vz = (r, e, t) => (r << (t - 32)) | (e >>> (64 - t));
function xz(r, e, t, n) {
  const i = (e >>> 0) + (n >>> 0);
  return { h: (r + t + ((i / 2 ** 32) | 0)) | 0, l: i | 0 };
}
const wz = (r, e, t) => (r >>> 0) + (e >>> 0) + (t >>> 0),
  bz = (r, e, t, n) => (e + t + n + ((r / 2 ** 32) | 0)) | 0,
  Sz = (r, e, t, n) => (r >>> 0) + (e >>> 0) + (t >>> 0) + (n >>> 0),
  Ez = (r, e, t, n, i) => (e + t + n + i + ((r / 2 ** 32) | 0)) | 0,
  Tz = (r, e, t, n, i) =>
    (r >>> 0) + (e >>> 0) + (t >>> 0) + (n >>> 0) + (i >>> 0),
  kz = (r, e, t, n, i, s) => (e + t + n + i + s + ((r / 2 ** 32) | 0)) | 0,
  Fe = {
    fromBig: lM,
    split: oz,
    toBig: az,
    shrSH: lz,
    shrSL: uz,
    rotrSH: cz,
    rotrSL: hz,
    rotrBH: dz,
    rotrBL: fz,
    rotr32H: pz,
    rotr32L: mz,
    rotlSH: gz,
    rotlSL: _z,
    rotlBH: yz,
    rotlBL: vz,
    add: xz,
    add3L: wz,
    add3H: bz,
    add4L: Sz,
    add4H: Ez,
    add5H: kz,
    add5L: Tz,
  },
  [Az, Pz] = Fe.split(
    [
      "0x428a2f98d728ae22",
      "0x7137449123ef65cd",
      "0xb5c0fbcfec4d3b2f",
      "0xe9b5dba58189dbbc",
      "0x3956c25bf348b538",
      "0x59f111f1b605d019",
      "0x923f82a4af194f9b",
      "0xab1c5ed5da6d8118",
      "0xd807aa98a3030242",
      "0x12835b0145706fbe",
      "0x243185be4ee4b28c",
      "0x550c7dc3d5ffb4e2",
      "0x72be5d74f27b896f",
      "0x80deb1fe3b1696b1",
      "0x9bdc06a725c71235",
      "0xc19bf174cf692694",
      "0xe49b69c19ef14ad2",
      "0xefbe4786384f25e3",
      "0x0fc19dc68b8cd5b5",
      "0x240ca1cc77ac9c65",
      "0x2de92c6f592b0275",
      "0x4a7484aa6ea6e483",
      "0x5cb0a9dcbd41fbd4",
      "0x76f988da831153b5",
      "0x983e5152ee66dfab",
      "0xa831c66d2db43210",
      "0xb00327c898fb213f",
      "0xbf597fc7beef0ee4",
      "0xc6e00bf33da88fc2",
      "0xd5a79147930aa725",
      "0x06ca6351e003826f",
      "0x142929670a0e6e70",
      "0x27b70a8546d22ffc",
      "0x2e1b21385c26c926",
      "0x4d2c6dfc5ac42aed",
      "0x53380d139d95b3df",
      "0x650a73548baf63de",
      "0x766a0abb3c77b2a8",
      "0x81c2c92e47edaee6",
      "0x92722c851482353b",
      "0xa2bfe8a14cf10364",
      "0xa81a664bbc423001",
      "0xc24b8b70d0f89791",
      "0xc76c51a30654be30",
      "0xd192e819d6ef5218",
      "0xd69906245565a910",
      "0xf40e35855771202a",
      "0x106aa07032bbd1b8",
      "0x19a4c116b8d2d0c8",
      "0x1e376c085141ab53",
      "0x2748774cdf8eeb99",
      "0x34b0bcb5e19b48a8",
      "0x391c0cb3c5c95a63",
      "0x4ed8aa4ae3418acb",
      "0x5b9cca4f7763e373",
      "0x682e6ff3d6b2b8a3",
      "0x748f82ee5defb2fc",
      "0x78a5636f43172f60",
      "0x84c87814a1f0ab72",
      "0x8cc702081a6439ec",
      "0x90befffa23631e28",
      "0xa4506cebde82bde9",
      "0xbef9a3f7b2c67915",
      "0xc67178f2e372532b",
      "0xca273eceea26619c",
      "0xd186b8c721c0c207",
      "0xeada7dd6cde0eb1e",
      "0xf57d4f7fee6ed178",
      "0x06f067aa72176fba",
      "0x0a637dc5a2c898a6",
      "0x113f9804bef90dae",
      "0x1b710b35131c471b",
      "0x28db77f523047d84",
      "0x32caab7b40c72493",
      "0x3c9ebe0a15c9bebc",
      "0x431d67c49c100d4c",
      "0x4cc5d4becb3e42b6",
      "0x597f299cfc657e2a",
      "0x5fcb6fab3ad6faec",
      "0x6c44198c4a475817",
    ].map((r) => BigInt(r))
  ),
  vo = new Uint32Array(80),
  xo = new Uint32Array(80);
class Cz extends aM {
  constructor() {
    super(128, 64, 16, !1),
      (this.Ah = 1779033703),
      (this.Al = -205731576),
      (this.Bh = -1150833019),
      (this.Bl = -2067093701),
      (this.Ch = 1013904242),
      (this.Cl = -23791573),
      (this.Dh = -1521486534),
      (this.Dl = 1595750129),
      (this.Eh = 1359893119),
      (this.El = -1377402159),
      (this.Fh = -1694144372),
      (this.Fl = 725511199),
      (this.Gh = 528734635),
      (this.Gl = -79577749),
      (this.Hh = 1541459225),
      (this.Hl = 327033209);
  }
  get() {
    const {
      Ah: e,
      Al: t,
      Bh: n,
      Bl: i,
      Ch: s,
      Cl: o,
      Dh: a,
      Dl: l,
      Eh: u,
      El: c,
      Fh: h,
      Fl: d,
      Gh: f,
      Gl: m,
      Hh: g,
      Hl: _,
    } = this;
    return [e, t, n, i, s, o, a, l, u, c, h, d, f, m, g, _];
  }
  set(e, t, n, i, s, o, a, l, u, c, h, d, f, m, g, _) {
    (this.Ah = e | 0),
      (this.Al = t | 0),
      (this.Bh = n | 0),
      (this.Bl = i | 0),
      (this.Ch = s | 0),
      (this.Cl = o | 0),
      (this.Dh = a | 0),
      (this.Dl = l | 0),
      (this.Eh = u | 0),
      (this.El = c | 0),
      (this.Fh = h | 0),
      (this.Fl = d | 0),
      (this.Gh = f | 0),
      (this.Gl = m | 0),
      (this.Hh = g | 0),
      (this.Hl = _ | 0);
  }
  process(e, t) {
    for (let x = 0; x < 16; x++, t += 4)
      (vo[x] = e.getUint32(t)), (xo[x] = e.getUint32((t += 4)));
    for (let x = 16; x < 80; x++) {
      const k = vo[x - 15] | 0,
        C = xo[x - 15] | 0,
        F = Fe.rotrSH(k, C, 1) ^ Fe.rotrSH(k, C, 8) ^ Fe.shrSH(k, C, 7),
        I = Fe.rotrSL(k, C, 1) ^ Fe.rotrSL(k, C, 8) ^ Fe.shrSL(k, C, 7),
        G = vo[x - 2] | 0,
        j = xo[x - 2] | 0,
        $ = Fe.rotrSH(G, j, 19) ^ Fe.rotrBH(G, j, 61) ^ Fe.shrSH(G, j, 6),
        H = Fe.rotrSL(G, j, 19) ^ Fe.rotrBL(G, j, 61) ^ Fe.shrSL(G, j, 6),
        Q = Fe.add4L(I, H, xo[x - 7], xo[x - 16]),
        O = Fe.add4H(Q, F, $, vo[x - 7], vo[x - 16]);
      (vo[x] = O | 0), (xo[x] = Q | 0);
    }
    let {
      Ah: n,
      Al: i,
      Bh: s,
      Bl: o,
      Ch: a,
      Cl: l,
      Dh: u,
      Dl: c,
      Eh: h,
      El: d,
      Fh: f,
      Fl: m,
      Gh: g,
      Gl: _,
      Hh: v,
      Hl: w,
    } = this;
    for (let x = 0; x < 80; x++) {
      const k = Fe.rotrSH(h, d, 14) ^ Fe.rotrSH(h, d, 18) ^ Fe.rotrBH(h, d, 41),
        C = Fe.rotrSL(h, d, 14) ^ Fe.rotrSL(h, d, 18) ^ Fe.rotrBL(h, d, 41),
        F = (h & f) ^ (~h & g),
        I = (d & m) ^ (~d & _),
        G = Fe.add5L(w, C, I, Pz[x], xo[x]),
        j = Fe.add5H(G, v, k, F, Az[x], vo[x]),
        $ = G | 0,
        H = Fe.rotrSH(n, i, 28) ^ Fe.rotrBH(n, i, 34) ^ Fe.rotrBH(n, i, 39),
        Q = Fe.rotrSL(n, i, 28) ^ Fe.rotrBL(n, i, 34) ^ Fe.rotrBL(n, i, 39),
        O = (n & s) ^ (n & a) ^ (s & a),
        y = (i & o) ^ (i & l) ^ (o & l);
      (v = g | 0),
        (w = _ | 0),
        (g = f | 0),
        (_ = m | 0),
        (f = h | 0),
        (m = d | 0),
        ({ h, l: d } = Fe.add(u | 0, c | 0, j | 0, $ | 0)),
        (u = a | 0),
        (c = l | 0),
        (a = s | 0),
        (l = o | 0),
        (s = n | 0),
        (o = i | 0);
      const T = Fe.add3L($, Q, y);
      (n = Fe.add3H(T, j, H, O)), (i = T | 0);
    }
    ({ h: n, l: i } = Fe.add(this.Ah | 0, this.Al | 0, n | 0, i | 0)),
      ({ h: s, l: o } = Fe.add(this.Bh | 0, this.Bl | 0, s | 0, o | 0)),
      ({ h: a, l } = Fe.add(this.Ch | 0, this.Cl | 0, a | 0, l | 0)),
      ({ h: u, l: c } = Fe.add(this.Dh | 0, this.Dl | 0, u | 0, c | 0)),
      ({ h, l: d } = Fe.add(this.Eh | 0, this.El | 0, h | 0, d | 0)),
      ({ h: f, l: m } = Fe.add(this.Fh | 0, this.Fl | 0, f | 0, m | 0)),
      ({ h: g, l: _ } = Fe.add(this.Gh | 0, this.Gl | 0, g | 0, _ | 0)),
      ({ h: v, l: w } = Fe.add(this.Hh | 0, this.Hl | 0, v | 0, w | 0)),
      this.set(n, i, s, o, a, l, u, c, h, d, f, m, g, _, v, w);
  }
  roundClean() {
    vo.fill(0), xo.fill(0);
  }
  destroy() {
    this.buffer.fill(0),
      this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
  }
}
const Rz = sM(() => new Cz());
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const lb =
    BigInt(0),
  pg = BigInt(1),
  Dz = BigInt(2);
function il(r) {
  return (
    r instanceof Uint8Array ||
    (r != null && typeof r == "object" && r.constructor.name === "Uint8Array")
  );
}
function ud(r) {
  if (!il(r)) throw new Error("Uint8Array expected");
}
function Qs(r, e) {
  if (typeof e != "boolean")
    throw new Error(`${r} must be valid boolean, got "${e}".`);
}
const Mz = Array.from({ length: 256 }, (r, e) =>
  e.toString(16).padStart(2, "0")
);
function sl(r) {
  ud(r);
  let e = "";
  for (let t = 0; t < r.length; t++) e += Mz[r[t]];
  return e;
}
function Jl(r) {
  const e = r.toString(16);
  return e.length & 1 ? `0${e}` : e;
}
function ub(r) {
  if (typeof r != "string")
    throw new Error("hex string expected, got " + typeof r);
  return BigInt(r === "" ? "0" : `0x${r}`);
}
const Ms = { _0: 48, _9: 57, _A: 65, _F: 70, _a: 97, _f: 102 };
function FE(r) {
  if (r >= Ms._0 && r <= Ms._9) return r - Ms._0;
  if (r >= Ms._A && r <= Ms._F) return r - (Ms._A - 10);
  if (r >= Ms._a && r <= Ms._f) return r - (Ms._a - 10);
}
function Mu(r) {
  if (typeof r != "string")
    throw new Error("hex string expected, got " + typeof r);
  const e = r.length,
    t = e / 2;
  if (e % 2)
    throw new Error(
      "padded hex string expected, got unpadded hex of length " + e
    );
  const n = new Uint8Array(t);
  for (let i = 0, s = 0; i < t; i++, s += 2) {
    const o = FE(r.charCodeAt(s)),
      a = FE(r.charCodeAt(s + 1));
    if (o === void 0 || a === void 0) {
      const l = r[s] + r[s + 1];
      throw new Error(
        'hex string expected, got non-hex character "' + l + '" at index ' + s
      );
    }
    n[i] = o * 16 + a;
  }
  return n;
}
function za(r) {
  return ub(sl(r));
}
function hu(r) {
  return ud(r), ub(sl(Uint8Array.from(r).reverse()));
}
function Bu(r, e) {
  return Mu(r.toString(16).padStart(e * 2, "0"));
}
function Fh(r, e) {
  return Bu(r, e).reverse();
}
function Bz(r) {
  return Mu(Jl(r));
}
function vr(r, e, t) {
  let n;
  if (typeof e == "string")
    try {
      n = Mu(e);
    } catch (s) {
      throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${s}`);
    }
  else if (il(e)) n = Uint8Array.from(e);
  else throw new Error(`${r} must be hex string or Uint8Array`);
  const i = n.length;
  if (typeof t == "number" && i !== t)
    throw new Error(`${r} expected ${t} bytes, got ${i}`);
  return n;
}
function ol(...r) {
  let e = 0;
  for (let n = 0; n < r.length; n++) {
    const i = r[n];
    ud(i), (e += i.length);
  }
  const t = new Uint8Array(e);
  for (let n = 0, i = 0; n < r.length; n++) {
    const s = r[n];
    t.set(s, i), (i += s.length);
  }
  return t;
}
function Oz(r, e) {
  if (r.length !== e.length) return !1;
  let t = 0;
  for (let n = 0; n < r.length; n++) t |= r[n] ^ e[n];
  return t === 0;
}
function Iz(r) {
  if (typeof r != "string")
    throw new Error(`utf8ToBytes expected string, got ${typeof r}`);
  return new Uint8Array(new TextEncoder().encode(r));
}
const e0 = (r) => typeof r == "bigint" && lb <= r;
function mg(r, e, t) {
  return e0(r) && e0(e) && e0(t) && e <= r && r < t;
}
function vi(r, e, t, n) {
  if (!mg(e, t, n))
    throw new Error(
      `expected valid ${r}: ${t} <= n < ${n}, got ${typeof e} ${e}`
    );
}
function uM(r) {
  let e;
  for (e = 0; r > lb; r >>= pg, e += 1);
  return e;
}
function Fz(r, e) {
  return (r >> BigInt(e)) & pg;
}
function Nz(r, e, t) {
  return r | ((t ? pg : lb) << BigInt(e));
}
const cb = (r) => (Dz << BigInt(r - 1)) - pg,
  t0 = (r) => new Uint8Array(r),
  NE = (r) => Uint8Array.from(r);
function cM(r, e, t) {
  if (typeof r != "number" || r < 2)
    throw new Error("hashLen must be a number");
  if (typeof e != "number" || e < 2)
    throw new Error("qByteLen must be a number");
  if (typeof t != "function") throw new Error("hmacFn must be a function");
  let n = t0(r),
    i = t0(r),
    s = 0;
  const o = () => {
      n.fill(1), i.fill(0), (s = 0);
    },
    a = (...h) => t(i, n, ...h),
    l = (h = t0()) => {
      (i = a(NE([0]), h)),
        (n = a()),
        h.length !== 0 && ((i = a(NE([1]), h)), (n = a()));
    },
    u = () => {
      if (s++ >= 1e3) throw new Error("drbg: tried 1000 values");
      let h = 0;
      const d = [];
      for (; h < e; ) {
        n = a();
        const f = n.slice();
        d.push(f), (h += n.length);
      }
      return ol(...d);
    };
  return (h, d) => {
    o(), l(h);
    let f;
    for (; !(f = d(u())); ) l();
    return o(), f;
  };
}
const Lz = {
  bigint: (r) => typeof r == "bigint",
  function: (r) => typeof r == "function",
  boolean: (r) => typeof r == "boolean",
  string: (r) => typeof r == "string",
  stringOrUint8Array: (r) => typeof r == "string" || il(r),
  isSafeInteger: (r) => Number.isSafeInteger(r),
  array: (r) => Array.isArray(r),
  field: (r, e) => e.Fp.isValid(r),
  hash: (r) => typeof r == "function" && Number.isSafeInteger(r.outputLen),
};
function Ku(r, e, t = {}) {
  const n = (i, s, o) => {
    const a = Lz[s];
    if (typeof a != "function")
      throw new Error(`Invalid validator "${s}", expected function`);
    const l = r[i];
    if (!(o && l === void 0) && !a(l, r))
      throw new Error(
        `Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`
      );
  };
  for (const [i, s] of Object.entries(e)) n(i, s, !1);
  for (const [i, s] of Object.entries(t)) n(i, s, !0);
  return r;
}
const Uz = () => {
  throw new Error("not implemented");
};
function Nh(r) {
  const e = new WeakMap();
  return (t, ...n) => {
    const i = e.get(t);
    if (i !== void 0) return i;
    const s = r(t, ...n);
    return e.set(t, s), s;
  };
}
const Gz = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      aInRange: vi,
      abool: Qs,
      abytes: ud,
      bitGet: Fz,
      bitLen: uM,
      bitMask: cb,
      bitSet: Nz,
      bytesToHex: sl,
      bytesToNumberBE: za,
      bytesToNumberLE: hu,
      concatBytes: ol,
      createHmacDrbg: cM,
      ensureBytes: vr,
      equalBytes: Oz,
      hexToBytes: Mu,
      hexToNumber: ub,
      inRange: mg,
      isBytes: il,
      memoized: Nh,
      notImplemented: Uz,
      numberToBytesBE: Bu,
      numberToBytesLE: Fh,
      numberToHexUnpadded: Jl,
      numberToVarBytesBE: Bz,
      utf8ToBytes: Iz,
      validateObject: Ku,
    },
    Symbol.toStringTag,
    { value: "Module" }
  )
);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const Br =
    BigInt(0),
  Ot = BigInt(1),
  Ta = BigInt(2),
  jz = BigInt(3),
  jv = BigInt(4),
  LE = BigInt(5),
  UE = BigInt(8);
BigInt(9);
BigInt(16);
function At(r, e) {
  const t = r % e;
  return t >= Br ? t : e + t;
}
function $z(r, e, t) {
  if (t <= Br || e < Br) throw new Error("Expected power/modulo > 0");
  if (t === Ot) return Br;
  let n = Ot;
  for (; e > Br; ) e & Ot && (n = (n * r) % t), (r = (r * r) % t), (e >>= Ot);
  return n;
}
function $t(r, e, t) {
  let n = r;
  for (; e-- > Br; ) (n *= n), (n %= t);
  return n;
}
function $v(r, e) {
  if (r === Br || e <= Br)
    throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);
  let t = At(r, e),
    n = e,
    i = Br,
    s = Ot;
  for (; t !== Br; ) {
    const a = n / t,
      l = n % t,
      u = i - s * a;
    (n = t), (t = l), (i = s), (s = u);
  }
  if (n !== Ot) throw new Error("invert: does not exist");
  return At(i, e);
}
function zz(r) {
  const e = (r - Ot) / Ta;
  let t, n, i;
  for (t = r - Ot, n = 0; t % Ta === Br; t /= Ta, n++);
  for (i = Ta; i < r && $z(i, e, r) !== r - Ot; i++);
  if (n === 1) {
    const o = (r + Ot) / jv;
    return function (l, u) {
      const c = l.pow(u, o);
      if (!l.eql(l.sqr(c), u)) throw new Error("Cannot find square root");
      return c;
    };
  }
  const s = (t + Ot) / Ta;
  return function (a, l) {
    if (a.pow(l, e) === a.neg(a.ONE))
      throw new Error("Cannot find square root");
    let u = n,
      c = a.pow(a.mul(a.ONE, i), t),
      h = a.pow(l, s),
      d = a.pow(l, t);
    for (; !a.eql(d, a.ONE); ) {
      if (a.eql(d, a.ZERO)) return a.ZERO;
      let f = 1;
      for (let g = a.sqr(d); f < u && !a.eql(g, a.ONE); f++) g = a.sqr(g);
      const m = a.pow(c, Ot << BigInt(u - f - 1));
      (c = a.sqr(m)), (h = a.mul(h, m)), (d = a.mul(d, c)), (u = f);
    }
    return h;
  };
}
function Wz(r) {
  if (r % jv === jz) {
    const e = (r + Ot) / jv;
    return function (n, i) {
      const s = n.pow(i, e);
      if (!n.eql(n.sqr(s), i)) throw new Error("Cannot find square root");
      return s;
    };
  }
  if (r % UE === LE) {
    const e = (r - LE) / UE;
    return function (n, i) {
      const s = n.mul(i, Ta),
        o = n.pow(s, e),
        a = n.mul(i, o),
        l = n.mul(n.mul(a, Ta), o),
        u = n.mul(a, n.sub(l, n.ONE));
      if (!n.eql(n.sqr(u), i)) throw new Error("Cannot find square root");
      return u;
    };
  }
  return zz(r);
}
const Hz = (r, e) => (At(r, e) & Ot) === Ot,
  Vz = [
    "create",
    "isValid",
    "is0",
    "neg",
    "inv",
    "sqrt",
    "sqr",
    "eql",
    "add",
    "sub",
    "mul",
    "pow",
    "div",
    "addN",
    "subN",
    "mulN",
    "sqrN",
  ];
function Xz(r) {
  const e = {
      ORDER: "bigint",
      MASK: "bigint",
      BYTES: "isSafeInteger",
      BITS: "isSafeInteger",
    },
    t = Vz.reduce((n, i) => ((n[i] = "function"), n), e);
  return Ku(r, t);
}
function Yz(r, e, t) {
  if (t < Br) throw new Error("Expected power > 0");
  if (t === Br) return r.ONE;
  if (t === Ot) return e;
  let n = r.ONE,
    i = e;
  for (; t > Br; ) t & Ot && (n = r.mul(n, i)), (i = r.sqr(i)), (t >>= Ot);
  return n;
}
function Kz(r, e) {
  const t = new Array(e.length),
    n = e.reduce(
      (s, o, a) => (r.is0(o) ? s : ((t[a] = s), r.mul(s, o))),
      r.ONE
    ),
    i = r.inv(n);
  return (
    e.reduceRight(
      (s, o, a) => (r.is0(o) ? s : ((t[a] = r.mul(s, t[a])), r.mul(s, o))),
      i
    ),
    t
  );
}
function hM(r, e) {
  const t = e !== void 0 ? e : r.toString(2).length,
    n = Math.ceil(t / 8);
  return { nBitLength: t, nByteLength: n };
}
function gg(r, e, t = !1, n = {}) {
  if (r <= Br) throw new Error(`Expected Field ORDER > 0, got ${r}`);
  const { nBitLength: i, nByteLength: s } = hM(r, e);
  if (s > 2048)
    throw new Error("Field lengths over 2048 bytes are not supported");
  const o = Wz(r),
    a = Object.freeze({
      ORDER: r,
      BITS: i,
      BYTES: s,
      MASK: cb(i),
      ZERO: Br,
      ONE: Ot,
      create: (l) => At(l, r),
      isValid: (l) => {
        if (typeof l != "bigint")
          throw new Error(
            `Invalid field element: expected bigint, got ${typeof l}`
          );
        return Br <= l && l < r;
      },
      is0: (l) => l === Br,
      isOdd: (l) => (l & Ot) === Ot,
      neg: (l) => At(-l, r),
      eql: (l, u) => l === u,
      sqr: (l) => At(l * l, r),
      add: (l, u) => At(l + u, r),
      sub: (l, u) => At(l - u, r),
      mul: (l, u) => At(l * u, r),
      pow: (l, u) => Yz(a, l, u),
      div: (l, u) => At(l * $v(u, r), r),
      sqrN: (l) => l * l,
      addN: (l, u) => l + u,
      subN: (l, u) => l - u,
      mulN: (l, u) => l * u,
      inv: (l) => $v(l, r),
      sqrt: n.sqrt || ((l) => o(a, l)),
      invertBatch: (l) => Kz(a, l),
      cmov: (l, u, c) => (c ? u : l),
      toBytes: (l) => (t ? Fh(l, s) : Bu(l, s)),
      fromBytes: (l) => {
        if (l.length !== s)
          throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);
        return t ? hu(l) : za(l);
      },
    });
  return Object.freeze(a);
}
function dM(r) {
  if (typeof r != "bigint") throw new Error("field order must be bigint");
  const e = r.toString(2).length;
  return Math.ceil(e / 8);
}
function fM(r) {
  const e = dM(r);
  return e + Math.ceil(e / 2);
}
function qz(r, e, t = !1) {
  const n = r.length,
    i = dM(e),
    s = fM(e);
  if (n < 16 || n < s || n > 1024)
    throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);
  const o = t ? za(r) : hu(r),
    a = At(o, e - Ot) + Ot;
  return t ? Fh(a, i) : Bu(a, i);
}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const Zz =
    BigInt(0),
  r0 = BigInt(1),
  n0 = new WeakMap(),
  GE = new WeakMap();
function pM(r, e) {
  const t = (s, o) => {
      const a = o.negate();
      return s ? a : o;
    },
    n = (s) => {
      if (!Number.isSafeInteger(s) || s <= 0 || s > e)
        throw new Error(`Wrong window size=${s}, should be [1..${e}]`);
    },
    i = (s) => {
      n(s);
      const o = Math.ceil(e / s) + 1,
        a = 2 ** (s - 1);
      return { windows: o, windowSize: a };
    };
  return {
    constTimeNegate: t,
    unsafeLadder(s, o) {
      let a = r.ZERO,
        l = s;
      for (; o > Zz; ) o & r0 && (a = a.add(l)), (l = l.double()), (o >>= r0);
      return a;
    },
    precomputeWindow(s, o) {
      const { windows: a, windowSize: l } = i(o),
        u = [];
      let c = s,
        h = c;
      for (let d = 0; d < a; d++) {
        (h = c), u.push(h);
        for (let f = 1; f < l; f++) (h = h.add(c)), u.push(h);
        c = h.double();
      }
      return u;
    },
    wNAF(s, o, a) {
      const { windows: l, windowSize: u } = i(s);
      let c = r.ZERO,
        h = r.BASE;
      const d = BigInt(2 ** s - 1),
        f = 2 ** s,
        m = BigInt(s);
      for (let g = 0; g < l; g++) {
        const _ = g * u;
        let v = Number(a & d);
        (a >>= m), v > u && ((v -= f), (a += r0));
        const w = _,
          x = _ + Math.abs(v) - 1,
          k = g % 2 !== 0,
          C = v < 0;
        v === 0 ? (h = h.add(t(k, o[w]))) : (c = c.add(t(C, o[x])));
      }
      return { p: c, f: h };
    },
    wNAFCached(s, o, a) {
      const l = GE.get(s) || 1;
      let u = n0.get(s);
      return (
        u || ((u = this.precomputeWindow(s, l)), l !== 1 && n0.set(s, a(u))),
        this.wNAF(l, u, o)
      );
    },
    setWindowSize(s, o) {
      n(o), GE.set(s, o), n0.delete(s);
    },
  };
}
function mM(r, e, t, n) {
  if (!Array.isArray(t) || !Array.isArray(n) || n.length !== t.length)
    throw new Error("arrays of points and scalars must have equal length");
  n.forEach((c, h) => {
    if (!e.isValid(c)) throw new Error(`wrong scalar at index ${h}`);
  }),
    t.forEach((c, h) => {
      if (!(c instanceof r)) throw new Error(`wrong point at index ${h}`);
    });
  const i = uM(BigInt(t.length)),
    s = i > 12 ? i - 3 : i > 4 ? i - 2 : i ? 2 : 1,
    o = (1 << s) - 1,
    a = new Array(o + 1).fill(r.ZERO),
    l = Math.floor((e.BITS - 1) / s) * s;
  let u = r.ZERO;
  for (let c = l; c >= 0; c -= s) {
    a.fill(r.ZERO);
    for (let d = 0; d < n.length; d++) {
      const f = n[d],
        m = Number((f >> BigInt(c)) & BigInt(o));
      a[m] = a[m].add(t[d]);
    }
    let h = r.ZERO;
    for (let d = a.length - 1, f = r.ZERO; d > 0; d--)
      (f = f.add(a[d])), (h = h.add(f));
    if (((u = u.add(h)), c !== 0)) for (let d = 0; d < s; d++) u = u.double();
  }
  return u;
}
function hb(r) {
  return (
    Xz(r.Fp),
    Ku(
      r,
      { n: "bigint", h: "bigint", Gx: "field", Gy: "field" },
      { nBitLength: "isSafeInteger", nByteLength: "isSafeInteger" }
    ),
    Object.freeze({ ...hM(r.n, r.nBitLength), ...r, p: r.Fp.ORDER })
  );
}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const Fi =
    BigInt(0),
  yn = BigInt(1),
  Vd = BigInt(2),
  Qz = BigInt(8),
  Jz = { zip215: !0 };
function eW(r) {
  const e = hb(r);
  return (
    Ku(
      r,
      { hash: "function", a: "bigint", d: "bigint", randomBytes: "function" },
      {
        adjustScalarBytes: "function",
        domain: "function",
        uvRatio: "function",
        mapToCurve: "function",
      }
    ),
    Object.freeze({ ...e })
  );
}
function tW(r) {
  const e = eW(r),
    { Fp: t, n, prehash: i, hash: s, randomBytes: o, nByteLength: a, h: l } = e,
    u = Vd << (BigInt(a * 8) - yn),
    c = t.create,
    h = gg(e.n, e.nBitLength),
    d =
      e.uvRatio ||
      ((A, P) => {
        try {
          return { isValid: !0, value: t.sqrt(A * t.inv(P)) };
        } catch {
          return { isValid: !1, value: Fi };
        }
      }),
    f = e.adjustScalarBytes || ((A) => A),
    m =
      e.domain ||
      ((A, P, R) => {
        if ((Qs("phflag", R), P.length || R))
          throw new Error("Contexts/pre-hash are not supported");
        return A;
      });
  function g(A, P) {
    vi("coordinate " + A, P, Fi, u);
  }
  function _(A) {
    if (!(A instanceof x)) throw new Error("ExtendedPoint expected");
  }
  const v = Nh((A, P) => {
      const { ex: R, ey: B, ez: L } = A,
        M = A.is0();
      P == null && (P = M ? Qz : t.inv(L));
      const b = c(R * P),
        N = c(B * P),
        J = c(L * P);
      if (M) return { x: Fi, y: yn };
      if (J !== yn) throw new Error("invZ was invalid");
      return { x: b, y: N };
    }),
    w = Nh((A) => {
      const { a: P, d: R } = e;
      if (A.is0()) throw new Error("bad point: ZERO");
      const { ex: B, ey: L, ez: M, et: b } = A,
        N = c(B * B),
        J = c(L * L),
        te = c(M * M),
        ne = c(te * te),
        ke = c(N * P),
        ye = c(te * c(ke + J)),
        ve = c(ne + c(R * c(N * J)));
      if (ye !== ve) throw new Error("bad point: equation left != right (1)");
      const Tt = c(B * L),
        Oe = c(M * b);
      if (Tt !== Oe) throw new Error("bad point: equation left != right (2)");
      return !0;
    });
  class x {
    constructor(P, R, B, L) {
      (this.ex = P),
        (this.ey = R),
        (this.ez = B),
        (this.et = L),
        g("x", P),
        g("y", R),
        g("z", B),
        g("t", L),
        Object.freeze(this);
    }
    get x() {
      return this.toAffine().x;
    }
    get y() {
      return this.toAffine().y;
    }
    static fromAffine(P) {
      if (P instanceof x) throw new Error("extended point not allowed");
      const { x: R, y: B } = P || {};
      return g("x", R), g("y", B), new x(R, B, yn, c(R * B));
    }
    static normalizeZ(P) {
      const R = t.invertBatch(P.map((B) => B.ez));
      return P.map((B, L) => B.toAffine(R[L])).map(x.fromAffine);
    }
    static msm(P, R) {
      return mM(x, h, P, R);
    }
    _setWindowSize(P) {
      F.setWindowSize(this, P);
    }
    assertValidity() {
      w(this);
    }
    equals(P) {
      _(P);
      const { ex: R, ey: B, ez: L } = this,
        { ex: M, ey: b, ez: N } = P,
        J = c(R * N),
        te = c(M * L),
        ne = c(B * N),
        ke = c(b * L);
      return J === te && ne === ke;
    }
    is0() {
      return this.equals(x.ZERO);
    }
    negate() {
      return new x(c(-this.ex), this.ey, this.ez, c(-this.et));
    }
    double() {
      const { a: P } = e,
        { ex: R, ey: B, ez: L } = this,
        M = c(R * R),
        b = c(B * B),
        N = c(Vd * c(L * L)),
        J = c(P * M),
        te = R + B,
        ne = c(c(te * te) - M - b),
        ke = J + b,
        ye = ke - N,
        ve = J - b,
        Tt = c(ne * ye),
        Oe = c(ke * ve),
        be = c(ne * ve),
        mt = c(ye * ke);
      return new x(Tt, Oe, mt, be);
    }
    add(P) {
      _(P);
      const { a: R, d: B } = e,
        { ex: L, ey: M, ez: b, et: N } = this,
        { ex: J, ey: te, ez: ne, et: ke } = P;
      if (R === BigInt(-1)) {
        const it = c((M - L) * (te + J)),
          tt = c((M + L) * (te - J)),
          Sr = c(tt - it);
        if (Sr === Fi) return this.double();
        const lt = c(b * Vd * ke),
          xt = c(N * Vd * ne),
          _n = xt + lt,
          wt = tt + it,
          D = xt - lt,
          S = c(_n * Sr),
          E = c(wt * D),
          U = c(_n * D),
          z = c(Sr * wt);
        return new x(S, E, z, U);
      }
      const ye = c(L * J),
        ve = c(M * te),
        Tt = c(N * B * ke),
        Oe = c(b * ne),
        be = c((L + M) * (J + te) - ye - ve),
        mt = Oe - Tt,
        We = Oe + Tt,
        He = c(ve - R * ye),
        gn = c(be * mt),
        Xe = c(We * He),
        qe = c(be * He),
        mo = c(mt * We);
      return new x(gn, Xe, mo, qe);
    }
    subtract(P) {
      return this.add(P.negate());
    }
    wNAF(P) {
      return F.wNAFCached(this, P, x.normalizeZ);
    }
    multiply(P) {
      const R = P;
      vi("scalar", R, yn, n);
      const { p: B, f: L } = this.wNAF(R);
      return x.normalizeZ([B, L])[0];
    }
    multiplyUnsafe(P) {
      const R = P;
      return (
        vi("scalar", R, Fi, n),
        R === Fi
          ? C
          : this.equals(C) || R === yn
          ? this
          : this.equals(k)
          ? this.wNAF(R).p
          : F.unsafeLadder(this, R)
      );
    }
    isSmallOrder() {
      return this.multiplyUnsafe(l).is0();
    }
    isTorsionFree() {
      return F.unsafeLadder(this, n).is0();
    }
    toAffine(P) {
      return v(this, P);
    }
    clearCofactor() {
      const { h: P } = e;
      return P === yn ? this : this.multiplyUnsafe(P);
    }
    static fromHex(P, R = !1) {
      const { d: B, a: L } = e,
        M = t.BYTES;
      (P = vr("pointHex", P, M)), Qs("zip215", R);
      const b = P.slice(),
        N = P[M - 1];
      b[M - 1] = N & -129;
      const J = hu(b),
        te = R ? u : t.ORDER;
      vi("pointHex.y", J, Fi, te);
      const ne = c(J * J),
        ke = c(ne - yn),
        ye = c(B * ne - L);
      let { isValid: ve, value: Tt } = d(ke, ye);
      if (!ve) throw new Error("Point.fromHex: invalid y coordinate");
      const Oe = (Tt & yn) === yn,
        be = (N & 128) !== 0;
      if (!R && Tt === Fi && be)
        throw new Error("Point.fromHex: x=0 and x_0=1");
      return be !== Oe && (Tt = c(-Tt)), x.fromAffine({ x: Tt, y: J });
    }
    static fromPrivateKey(P) {
      return j(P).point;
    }
    toRawBytes() {
      const { x: P, y: R } = this.toAffine(),
        B = Fh(R, t.BYTES);
      return (B[B.length - 1] |= P & yn ? 128 : 0), B;
    }
    toHex() {
      return sl(this.toRawBytes());
    }
  }
  (x.BASE = new x(e.Gx, e.Gy, yn, c(e.Gx * e.Gy))),
    (x.ZERO = new x(Fi, yn, yn, Fi));
  const { BASE: k, ZERO: C } = x,
    F = pM(x, a * 8);
  function I(A) {
    return At(A, n);
  }
  function G(A) {
    return I(hu(A));
  }
  function j(A) {
    const P = a;
    A = vr("private key", A, P);
    const R = vr("hashed private key", s(A), 2 * P),
      B = f(R.slice(0, P)),
      L = R.slice(P, 2 * P),
      M = G(B),
      b = k.multiply(M),
      N = b.toRawBytes();
    return { head: B, prefix: L, scalar: M, point: b, pointBytes: N };
  }
  function $(A) {
    return j(A).pointBytes;
  }
  function H(A = new Uint8Array(), ...P) {
    const R = ol(...P);
    return G(s(m(R, vr("context", A), !!i)));
  }
  function Q(A, P, R = {}) {
    (A = vr("message", A)), i && (A = i(A));
    const { prefix: B, scalar: L, pointBytes: M } = j(P),
      b = H(R.context, B, A),
      N = k.multiply(b).toRawBytes(),
      J = H(R.context, N, M, A),
      te = I(b + J * L);
    vi("signature.s", te, Fi, n);
    const ne = ol(N, Fh(te, t.BYTES));
    return vr("result", ne, a * 2);
  }
  const O = Jz;
  function y(A, P, R, B = O) {
    const { context: L, zip215: M } = B,
      b = t.BYTES;
    (A = vr("signature", A, 2 * b)),
      (P = vr("message", P)),
      M !== void 0 && Qs("zip215", M),
      i && (P = i(P));
    const N = hu(A.slice(b, 2 * b));
    let J, te, ne;
    try {
      (J = x.fromHex(R, M)),
        (te = x.fromHex(A.slice(0, b), M)),
        (ne = k.multiplyUnsafe(N));
    } catch {
      return !1;
    }
    if (!M && J.isSmallOrder()) return !1;
    const ke = H(L, te.toRawBytes(), J.toRawBytes(), P);
    return te
      .add(J.multiplyUnsafe(ke))
      .subtract(ne)
      .clearCofactor()
      .equals(x.ZERO);
  }
  return (
    k._setWindowSize(8),
    {
      CURVE: e,
      getPublicKey: $,
      sign: Q,
      verify: y,
      ExtendedPoint: x,
      utils: {
        getExtendedPublicKey: j,
        randomPrivateKey: () => o(t.BYTES),
        precompute(A = 8, P = x.BASE) {
          return P._setWindowSize(A), P.multiply(BigInt(3)), P;
        },
      },
    }
  );
}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const db =
    BigInt(
      "57896044618658097711785492504343953926634992332820282019728792003956564819949"
    ),
  jE = BigInt(
    "19681161376707505956807079304988542015446066515923890162744021073123829784752"
  );
BigInt(0);
const rW = BigInt(1),
  $E = BigInt(2);
BigInt(3);
const nW = BigInt(5),
  iW = BigInt(8);
function sW(r) {
  const e = BigInt(10),
    t = BigInt(20),
    n = BigInt(40),
    i = BigInt(80),
    s = db,
    a = (((r * r) % s) * r) % s,
    l = ($t(a, $E, s) * a) % s,
    u = ($t(l, rW, s) * r) % s,
    c = ($t(u, nW, s) * u) % s,
    h = ($t(c, e, s) * c) % s,
    d = ($t(h, t, s) * h) % s,
    f = ($t(d, n, s) * d) % s,
    m = ($t(f, i, s) * f) % s,
    g = ($t(m, i, s) * f) % s,
    _ = ($t(g, e, s) * c) % s;
  return { pow_p_5_8: ($t(_, $E, s) * r) % s, b2: a };
}
function oW(r) {
  return (r[0] &= 248), (r[31] &= 127), (r[31] |= 64), r;
}
function aW(r, e) {
  const t = db,
    n = At(e * e * e, t),
    i = At(n * n * e, t),
    s = sW(r * i).pow_p_5_8;
  let o = At(r * n * s, t);
  const a = At(e * o * o, t),
    l = o,
    u = At(o * jE, t),
    c = a === r,
    h = a === At(-r, t),
    d = a === At(-r * jE, t);
  return (
    c && (o = l),
    (h || d) && (o = u),
    Hz(o, t) && (o = At(-o, t)),
    { isValid: c || h, value: o }
  );
}
const lW = gg(db, void 0, !0),
  uW = {
    a: BigInt(-1),
    d: BigInt(
      "37095705934669439343138083508754565189542113879843219016388785533085940283555"
    ),
    Fp: lW,
    n: BigInt(
      "7237005577332262213973186563042994240857116359379907606001950938285454250989"
    ),
    h: iW,
    Gx: BigInt(
      "15112221349535400772501151409588531511454012693041857206046113283949847762202"
    ),
    Gy: BigInt(
      "46316835694926478169428394003475163141307993866256225615783033603165251855960"
    ),
    hash: Rz,
    randomBytes: oM,
    adjustScalarBytes: oW,
    uvRatio: aW,
  },
  fb = tW(uW);
var pb = { exports: {} };
const cW = {},
  hW = Object.freeze(
    Object.defineProperty(
      { __proto__: null, default: cW },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  dW = Mx(hW);
pb.exports;
(function (r) {
  (function (e, t) {
    function n(O, y) {
      if (!O) throw new Error(y || "Assertion failed");
    }
    function i(O, y) {
      O.super_ = y;
      var T = function () {};
      (T.prototype = y.prototype),
        (O.prototype = new T()),
        (O.prototype.constructor = O);
    }
    function s(O, y, T) {
      if (s.isBN(O)) return O;
      (this.negative = 0),
        (this.words = null),
        (this.length = 0),
        (this.red = null),
        O !== null &&
          ((y === "le" || y === "be") && ((T = y), (y = 10)),
          this._init(O || 0, y || 10, T || "be"));
    }
    typeof e == "object" ? (e.exports = s) : (t.BN = s),
      (s.BN = s),
      (s.wordSize = 26);
    var o;
    try {
      typeof window < "u" && typeof window.Buffer < "u"
        ? (o = window.Buffer)
        : (o = dW.Buffer);
    } catch {}
    (s.isBN = function (y) {
      return y instanceof s
        ? !0
        : y !== null &&
            typeof y == "object" &&
            y.constructor.wordSize === s.wordSize &&
            Array.isArray(y.words);
    }),
      (s.max = function (y, T) {
        return y.cmp(T) > 0 ? y : T;
      }),
      (s.min = function (y, T) {
        return y.cmp(T) < 0 ? y : T;
      }),
      (s.prototype._init = function (y, T, A) {
        if (typeof y == "number") return this._initNumber(y, T, A);
        if (typeof y == "object") return this._initArray(y, T, A);
        T === "hex" && (T = 16),
          n(T === (T | 0) && T >= 2 && T <= 36),
          (y = y.toString().replace(/\s+/g, ""));
        var P = 0;
        y[0] === "-" && (P++, (this.negative = 1)),
          P < y.length &&
            (T === 16
              ? this._parseHex(y, P, A)
              : (this._parseBase(y, T, P),
                A === "le" && this._initArray(this.toArray(), T, A)));
      }),
      (s.prototype._initNumber = function (y, T, A) {
        y < 0 && ((this.negative = 1), (y = -y)),
          y < 67108864
            ? ((this.words = [y & 67108863]), (this.length = 1))
            : y < 4503599627370496
            ? ((this.words = [y & 67108863, (y / 67108864) & 67108863]),
              (this.length = 2))
            : (n(y < 9007199254740992),
              (this.words = [y & 67108863, (y / 67108864) & 67108863, 1]),
              (this.length = 3)),
          A === "le" && this._initArray(this.toArray(), T, A);
      }),
      (s.prototype._initArray = function (y, T, A) {
        if ((n(typeof y.length == "number"), y.length <= 0))
          return (this.words = [0]), (this.length = 1), this;
        (this.length = Math.ceil(y.length / 3)),
          (this.words = new Array(this.length));
        for (var P = 0; P < this.length; P++) this.words[P] = 0;
        var R,
          B,
          L = 0;
        if (A === "be")
          for (P = y.length - 1, R = 0; P >= 0; P -= 3)
            (B = y[P] | (y[P - 1] << 8) | (y[P - 2] << 16)),
              (this.words[R] |= (B << L) & 67108863),
              (this.words[R + 1] = (B >>> (26 - L)) & 67108863),
              (L += 24),
              L >= 26 && ((L -= 26), R++);
        else if (A === "le")
          for (P = 0, R = 0; P < y.length; P += 3)
            (B = y[P] | (y[P + 1] << 8) | (y[P + 2] << 16)),
              (this.words[R] |= (B << L) & 67108863),
              (this.words[R + 1] = (B >>> (26 - L)) & 67108863),
              (L += 24),
              L >= 26 && ((L -= 26), R++);
        return this._strip();
      });
    function a(O, y) {
      var T = O.charCodeAt(y);
      if (T >= 48 && T <= 57) return T - 48;
      if (T >= 65 && T <= 70) return T - 55;
      if (T >= 97 && T <= 102) return T - 87;
      n(!1, "Invalid character in " + O);
    }
    function l(O, y, T) {
      var A = a(O, T);
      return T - 1 >= y && (A |= a(O, T - 1) << 4), A;
    }
    s.prototype._parseHex = function (y, T, A) {
      (this.length = Math.ceil((y.length - T) / 6)),
        (this.words = new Array(this.length));
      for (var P = 0; P < this.length; P++) this.words[P] = 0;
      var R = 0,
        B = 0,
        L;
      if (A === "be")
        for (P = y.length - 1; P >= T; P -= 2)
          (L = l(y, T, P) << R),
            (this.words[B] |= L & 67108863),
            R >= 18
              ? ((R -= 18), (B += 1), (this.words[B] |= L >>> 26))
              : (R += 8);
      else {
        var M = y.length - T;
        for (P = M % 2 === 0 ? T + 1 : T; P < y.length; P += 2)
          (L = l(y, T, P) << R),
            (this.words[B] |= L & 67108863),
            R >= 18
              ? ((R -= 18), (B += 1), (this.words[B] |= L >>> 26))
              : (R += 8);
      }
      this._strip();
    };
    function u(O, y, T, A) {
      for (var P = 0, R = 0, B = Math.min(O.length, T), L = y; L < B; L++) {
        var M = O.charCodeAt(L) - 48;
        (P *= A),
          M >= 49 ? (R = M - 49 + 10) : M >= 17 ? (R = M - 17 + 10) : (R = M),
          n(M >= 0 && R < A, "Invalid character"),
          (P += R);
      }
      return P;
    }
    (s.prototype._parseBase = function (y, T, A) {
      (this.words = [0]), (this.length = 1);
      for (var P = 0, R = 1; R <= 67108863; R *= T) P++;
      P--, (R = (R / T) | 0);
      for (
        var B = y.length - A,
          L = B % P,
          M = Math.min(B, B - L) + A,
          b = 0,
          N = A;
        N < M;
        N += P
      )
        (b = u(y, N, N + P, T)),
          this.imuln(R),
          this.words[0] + b < 67108864 ? (this.words[0] += b) : this._iaddn(b);
      if (L !== 0) {
        var J = 1;
        for (b = u(y, N, y.length, T), N = 0; N < L; N++) J *= T;
        this.imuln(J),
          this.words[0] + b < 67108864 ? (this.words[0] += b) : this._iaddn(b);
      }
      this._strip();
    }),
      (s.prototype.copy = function (y) {
        y.words = new Array(this.length);
        for (var T = 0; T < this.length; T++) y.words[T] = this.words[T];
        (y.length = this.length),
          (y.negative = this.negative),
          (y.red = this.red);
      });
    function c(O, y) {
      (O.words = y.words),
        (O.length = y.length),
        (O.negative = y.negative),
        (O.red = y.red);
    }
    if (
      ((s.prototype._move = function (y) {
        c(y, this);
      }),
      (s.prototype.clone = function () {
        var y = new s(null);
        return this.copy(y), y;
      }),
      (s.prototype._expand = function (y) {
        for (; this.length < y; ) this.words[this.length++] = 0;
        return this;
      }),
      (s.prototype._strip = function () {
        for (; this.length > 1 && this.words[this.length - 1] === 0; )
          this.length--;
        return this._normSign();
      }),
      (s.prototype._normSign = function () {
        return (
          this.length === 1 && this.words[0] === 0 && (this.negative = 0), this
        );
      }),
      typeof Symbol < "u" && typeof Symbol.for == "function")
    )
      try {
        s.prototype[Symbol.for("nodejs.util.inspect.custom")] = h;
      } catch {
        s.prototype.inspect = h;
      }
    else s.prototype.inspect = h;
    function h() {
      return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
    }
    var d = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000",
      ],
      f = [
        0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
      ],
      m = [
        0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607,
        16777216, 43046721, 1e7, 19487171, 35831808, 62748517, 7529536,
        11390625, 16777216, 24137569, 34012224, 47045881, 64e6, 4084101,
        5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368,
        20511149, 243e5, 28629151, 33554432, 39135393, 45435424, 52521875,
        60466176,
      ];
    (s.prototype.toString = function (y, T) {
      (y = y || 10), (T = T | 0 || 1);
      var A;
      if (y === 16 || y === "hex") {
        A = "";
        for (var P = 0, R = 0, B = 0; B < this.length; B++) {
          var L = this.words[B],
            M = (((L << P) | R) & 16777215).toString(16);
          (R = (L >>> (24 - P)) & 16777215),
            (P += 2),
            P >= 26 && ((P -= 26), B--),
            R !== 0 || B !== this.length - 1
              ? (A = d[6 - M.length] + M + A)
              : (A = M + A);
        }
        for (R !== 0 && (A = R.toString(16) + A); A.length % T !== 0; )
          A = "0" + A;
        return this.negative !== 0 && (A = "-" + A), A;
      }
      if (y === (y | 0) && y >= 2 && y <= 36) {
        var b = f[y],
          N = m[y];
        A = "";
        var J = this.clone();
        for (J.negative = 0; !J.isZero(); ) {
          var te = J.modrn(N).toString(y);
          (J = J.idivn(N)),
            J.isZero() ? (A = te + A) : (A = d[b - te.length] + te + A);
        }
        for (this.isZero() && (A = "0" + A); A.length % T !== 0; ) A = "0" + A;
        return this.negative !== 0 && (A = "-" + A), A;
      }
      n(!1, "Base should be between 2 and 36");
    }),
      (s.prototype.toNumber = function () {
        var y = this.words[0];
        return (
          this.length === 2
            ? (y += this.words[1] * 67108864)
            : this.length === 3 && this.words[2] === 1
            ? (y += 4503599627370496 + this.words[1] * 67108864)
            : this.length > 2 &&
              n(!1, "Number can only safely store up to 53 bits"),
          this.negative !== 0 ? -y : y
        );
      }),
      (s.prototype.toJSON = function () {
        return this.toString(16, 2);
      }),
      o &&
        (s.prototype.toBuffer = function (y, T) {
          return this.toArrayLike(o, y, T);
        }),
      (s.prototype.toArray = function (y, T) {
        return this.toArrayLike(Array, y, T);
      });
    var g = function (y, T) {
      return y.allocUnsafe ? y.allocUnsafe(T) : new y(T);
    };
    (s.prototype.toArrayLike = function (y, T, A) {
      this._strip();
      var P = this.byteLength(),
        R = A || Math.max(1, P);
      n(P <= R, "byte array longer than desired length"),
        n(R > 0, "Requested array length <= 0");
      var B = g(y, R),
        L = T === "le" ? "LE" : "BE";
      return this["_toArrayLike" + L](B, P), B;
    }),
      (s.prototype._toArrayLikeLE = function (y, T) {
        for (var A = 0, P = 0, R = 0, B = 0; R < this.length; R++) {
          var L = (this.words[R] << B) | P;
          (y[A++] = L & 255),
            A < y.length && (y[A++] = (L >> 8) & 255),
            A < y.length && (y[A++] = (L >> 16) & 255),
            B === 6
              ? (A < y.length && (y[A++] = (L >> 24) & 255), (P = 0), (B = 0))
              : ((P = L >>> 24), (B += 2));
        }
        if (A < y.length) for (y[A++] = P; A < y.length; ) y[A++] = 0;
      }),
      (s.prototype._toArrayLikeBE = function (y, T) {
        for (var A = y.length - 1, P = 0, R = 0, B = 0; R < this.length; R++) {
          var L = (this.words[R] << B) | P;
          (y[A--] = L & 255),
            A >= 0 && (y[A--] = (L >> 8) & 255),
            A >= 0 && (y[A--] = (L >> 16) & 255),
            B === 6
              ? (A >= 0 && (y[A--] = (L >> 24) & 255), (P = 0), (B = 0))
              : ((P = L >>> 24), (B += 2));
        }
        if (A >= 0) for (y[A--] = P; A >= 0; ) y[A--] = 0;
      }),
      Math.clz32
        ? (s.prototype._countBits = function (y) {
            return 32 - Math.clz32(y);
          })
        : (s.prototype._countBits = function (y) {
            var T = y,
              A = 0;
            return (
              T >= 4096 && ((A += 13), (T >>>= 13)),
              T >= 64 && ((A += 7), (T >>>= 7)),
              T >= 8 && ((A += 4), (T >>>= 4)),
              T >= 2 && ((A += 2), (T >>>= 2)),
              A + T
            );
          }),
      (s.prototype._zeroBits = function (y) {
        if (y === 0) return 26;
        var T = y,
          A = 0;
        return (
          T & 8191 || ((A += 13), (T >>>= 13)),
          T & 127 || ((A += 7), (T >>>= 7)),
          T & 15 || ((A += 4), (T >>>= 4)),
          T & 3 || ((A += 2), (T >>>= 2)),
          T & 1 || A++,
          A
        );
      }),
      (s.prototype.bitLength = function () {
        var y = this.words[this.length - 1],
          T = this._countBits(y);
        return (this.length - 1) * 26 + T;
      });
    function _(O) {
      for (var y = new Array(O.bitLength()), T = 0; T < y.length; T++) {
        var A = (T / 26) | 0,
          P = T % 26;
        y[T] = (O.words[A] >>> P) & 1;
      }
      return y;
    }
    (s.prototype.zeroBits = function () {
      if (this.isZero()) return 0;
      for (var y = 0, T = 0; T < this.length; T++) {
        var A = this._zeroBits(this.words[T]);
        if (((y += A), A !== 26)) break;
      }
      return y;
    }),
      (s.prototype.byteLength = function () {
        return Math.ceil(this.bitLength() / 8);
      }),
      (s.prototype.toTwos = function (y) {
        return this.negative !== 0
          ? this.abs().inotn(y).iaddn(1)
          : this.clone();
      }),
      (s.prototype.fromTwos = function (y) {
        return this.testn(y - 1) ? this.notn(y).iaddn(1).ineg() : this.clone();
      }),
      (s.prototype.isNeg = function () {
        return this.negative !== 0;
      }),
      (s.prototype.neg = function () {
        return this.clone().ineg();
      }),
      (s.prototype.ineg = function () {
        return this.isZero() || (this.negative ^= 1), this;
      }),
      (s.prototype.iuor = function (y) {
        for (; this.length < y.length; ) this.words[this.length++] = 0;
        for (var T = 0; T < y.length; T++)
          this.words[T] = this.words[T] | y.words[T];
        return this._strip();
      }),
      (s.prototype.ior = function (y) {
        return n((this.negative | y.negative) === 0), this.iuor(y);
      }),
      (s.prototype.or = function (y) {
        return this.length > y.length
          ? this.clone().ior(y)
          : y.clone().ior(this);
      }),
      (s.prototype.uor = function (y) {
        return this.length > y.length
          ? this.clone().iuor(y)
          : y.clone().iuor(this);
      }),
      (s.prototype.iuand = function (y) {
        var T;
        this.length > y.length ? (T = y) : (T = this);
        for (var A = 0; A < T.length; A++)
          this.words[A] = this.words[A] & y.words[A];
        return (this.length = T.length), this._strip();
      }),
      (s.prototype.iand = function (y) {
        return n((this.negative | y.negative) === 0), this.iuand(y);
      }),
      (s.prototype.and = function (y) {
        return this.length > y.length
          ? this.clone().iand(y)
          : y.clone().iand(this);
      }),
      (s.prototype.uand = function (y) {
        return this.length > y.length
          ? this.clone().iuand(y)
          : y.clone().iuand(this);
      }),
      (s.prototype.iuxor = function (y) {
        var T, A;
        this.length > y.length ? ((T = this), (A = y)) : ((T = y), (A = this));
        for (var P = 0; P < A.length; P++)
          this.words[P] = T.words[P] ^ A.words[P];
        if (this !== T) for (; P < T.length; P++) this.words[P] = T.words[P];
        return (this.length = T.length), this._strip();
      }),
      (s.prototype.ixor = function (y) {
        return n((this.negative | y.negative) === 0), this.iuxor(y);
      }),
      (s.prototype.xor = function (y) {
        return this.length > y.length
          ? this.clone().ixor(y)
          : y.clone().ixor(this);
      }),
      (s.prototype.uxor = function (y) {
        return this.length > y.length
          ? this.clone().iuxor(y)
          : y.clone().iuxor(this);
      }),
      (s.prototype.inotn = function (y) {
        n(typeof y == "number" && y >= 0);
        var T = Math.ceil(y / 26) | 0,
          A = y % 26;
        this._expand(T), A > 0 && T--;
        for (var P = 0; P < T; P++) this.words[P] = ~this.words[P] & 67108863;
        return (
          A > 0 && (this.words[P] = ~this.words[P] & (67108863 >> (26 - A))),
          this._strip()
        );
      }),
      (s.prototype.notn = function (y) {
        return this.clone().inotn(y);
      }),
      (s.prototype.setn = function (y, T) {
        n(typeof y == "number" && y >= 0);
        var A = (y / 26) | 0,
          P = y % 26;
        return (
          this._expand(A + 1),
          T
            ? (this.words[A] = this.words[A] | (1 << P))
            : (this.words[A] = this.words[A] & ~(1 << P)),
          this._strip()
        );
      }),
      (s.prototype.iadd = function (y) {
        var T;
        if (this.negative !== 0 && y.negative === 0)
          return (
            (this.negative = 0),
            (T = this.isub(y)),
            (this.negative ^= 1),
            this._normSign()
          );
        if (this.negative === 0 && y.negative !== 0)
          return (
            (y.negative = 0),
            (T = this.isub(y)),
            (y.negative = 1),
            T._normSign()
          );
        var A, P;
        this.length > y.length ? ((A = this), (P = y)) : ((A = y), (P = this));
        for (var R = 0, B = 0; B < P.length; B++)
          (T = (A.words[B] | 0) + (P.words[B] | 0) + R),
            (this.words[B] = T & 67108863),
            (R = T >>> 26);
        for (; R !== 0 && B < A.length; B++)
          (T = (A.words[B] | 0) + R),
            (this.words[B] = T & 67108863),
            (R = T >>> 26);
        if (((this.length = A.length), R !== 0))
          (this.words[this.length] = R), this.length++;
        else if (A !== this)
          for (; B < A.length; B++) this.words[B] = A.words[B];
        return this;
      }),
      (s.prototype.add = function (y) {
        var T;
        return y.negative !== 0 && this.negative === 0
          ? ((y.negative = 0), (T = this.sub(y)), (y.negative ^= 1), T)
          : y.negative === 0 && this.negative !== 0
          ? ((this.negative = 0), (T = y.sub(this)), (this.negative = 1), T)
          : this.length > y.length
          ? this.clone().iadd(y)
          : y.clone().iadd(this);
      }),
      (s.prototype.isub = function (y) {
        if (y.negative !== 0) {
          y.negative = 0;
          var T = this.iadd(y);
          return (y.negative = 1), T._normSign();
        } else if (this.negative !== 0)
          return (
            (this.negative = 0),
            this.iadd(y),
            (this.negative = 1),
            this._normSign()
          );
        var A = this.cmp(y);
        if (A === 0)
          return (
            (this.negative = 0), (this.length = 1), (this.words[0] = 0), this
          );
        var P, R;
        A > 0 ? ((P = this), (R = y)) : ((P = y), (R = this));
        for (var B = 0, L = 0; L < R.length; L++)
          (T = (P.words[L] | 0) - (R.words[L] | 0) + B),
            (B = T >> 26),
            (this.words[L] = T & 67108863);
        for (; B !== 0 && L < P.length; L++)
          (T = (P.words[L] | 0) + B),
            (B = T >> 26),
            (this.words[L] = T & 67108863);
        if (B === 0 && L < P.length && P !== this)
          for (; L < P.length; L++) this.words[L] = P.words[L];
        return (
          (this.length = Math.max(this.length, L)),
          P !== this && (this.negative = 1),
          this._strip()
        );
      }),
      (s.prototype.sub = function (y) {
        return this.clone().isub(y);
      });
    function v(O, y, T) {
      T.negative = y.negative ^ O.negative;
      var A = (O.length + y.length) | 0;
      (T.length = A), (A = (A - 1) | 0);
      var P = O.words[0] | 0,
        R = y.words[0] | 0,
        B = P * R,
        L = B & 67108863,
        M = (B / 67108864) | 0;
      T.words[0] = L;
      for (var b = 1; b < A; b++) {
        for (
          var N = M >>> 26,
            J = M & 67108863,
            te = Math.min(b, y.length - 1),
            ne = Math.max(0, b - O.length + 1);
          ne <= te;
          ne++
        ) {
          var ke = (b - ne) | 0;
          (P = O.words[ke] | 0),
            (R = y.words[ne] | 0),
            (B = P * R + J),
            (N += (B / 67108864) | 0),
            (J = B & 67108863);
        }
        (T.words[b] = J | 0), (M = N | 0);
      }
      return M !== 0 ? (T.words[b] = M | 0) : T.length--, T._strip();
    }
    var w = function (y, T, A) {
      var P = y.words,
        R = T.words,
        B = A.words,
        L = 0,
        M,
        b,
        N,
        J = P[0] | 0,
        te = J & 8191,
        ne = J >>> 13,
        ke = P[1] | 0,
        ye = ke & 8191,
        ve = ke >>> 13,
        Tt = P[2] | 0,
        Oe = Tt & 8191,
        be = Tt >>> 13,
        mt = P[3] | 0,
        We = mt & 8191,
        He = mt >>> 13,
        gn = P[4] | 0,
        Xe = gn & 8191,
        qe = gn >>> 13,
        mo = P[5] | 0,
        it = mo & 8191,
        tt = mo >>> 13,
        Sr = P[6] | 0,
        lt = Sr & 8191,
        xt = Sr >>> 13,
        _n = P[7] | 0,
        wt = _n & 8191,
        D = _n >>> 13,
        S = P[8] | 0,
        E = S & 8191,
        U = S >>> 13,
        z = P[9] | 0,
        V = z & 8191,
        q = z >>> 13,
        Ie = R[0] | 0,
        De = Ie & 8191,
        Ae = Ie >>> 13,
        bt = R[1] | 0,
        Se = bt & 8191,
        qt = bt >>> 13,
        g1 = R[2] | 0,
        Zt = g1 & 8191,
        Qt = g1 >>> 13,
        _1 = R[3] | 0,
        Jt = _1 & 8191,
        er = _1 >>> 13,
        y1 = R[4] | 0,
        tr = y1 & 8191,
        rr = y1 >>> 13,
        v1 = R[5] | 0,
        nr = v1 & 8191,
        ir = v1 >>> 13,
        x1 = R[6] | 0,
        sr = x1 & 8191,
        or = x1 >>> 13,
        w1 = R[7] | 0,
        ar = w1 & 8191,
        lr = w1 >>> 13,
        b1 = R[8] | 0,
        ur = b1 & 8191,
        cr = b1 >>> 13,
        S1 = R[9] | 0,
        hr = S1 & 8191,
        dr = S1 >>> 13;
      (A.negative = y.negative ^ T.negative),
        (A.length = 19),
        (M = Math.imul(te, De)),
        (b = Math.imul(te, Ae)),
        (b = (b + Math.imul(ne, De)) | 0),
        (N = Math.imul(ne, Ae));
      var Gg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Gg >>> 26)) | 0),
        (Gg &= 67108863),
        (M = Math.imul(ye, De)),
        (b = Math.imul(ye, Ae)),
        (b = (b + Math.imul(ve, De)) | 0),
        (N = Math.imul(ve, Ae)),
        (M = (M + Math.imul(te, Se)) | 0),
        (b = (b + Math.imul(te, qt)) | 0),
        (b = (b + Math.imul(ne, Se)) | 0),
        (N = (N + Math.imul(ne, qt)) | 0);
      var jg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (jg >>> 26)) | 0),
        (jg &= 67108863),
        (M = Math.imul(Oe, De)),
        (b = Math.imul(Oe, Ae)),
        (b = (b + Math.imul(be, De)) | 0),
        (N = Math.imul(be, Ae)),
        (M = (M + Math.imul(ye, Se)) | 0),
        (b = (b + Math.imul(ye, qt)) | 0),
        (b = (b + Math.imul(ve, Se)) | 0),
        (N = (N + Math.imul(ve, qt)) | 0),
        (M = (M + Math.imul(te, Zt)) | 0),
        (b = (b + Math.imul(te, Qt)) | 0),
        (b = (b + Math.imul(ne, Zt)) | 0),
        (N = (N + Math.imul(ne, Qt)) | 0);
      var $g = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + ($g >>> 26)) | 0),
        ($g &= 67108863),
        (M = Math.imul(We, De)),
        (b = Math.imul(We, Ae)),
        (b = (b + Math.imul(He, De)) | 0),
        (N = Math.imul(He, Ae)),
        (M = (M + Math.imul(Oe, Se)) | 0),
        (b = (b + Math.imul(Oe, qt)) | 0),
        (b = (b + Math.imul(be, Se)) | 0),
        (N = (N + Math.imul(be, qt)) | 0),
        (M = (M + Math.imul(ye, Zt)) | 0),
        (b = (b + Math.imul(ye, Qt)) | 0),
        (b = (b + Math.imul(ve, Zt)) | 0),
        (N = (N + Math.imul(ve, Qt)) | 0),
        (M = (M + Math.imul(te, Jt)) | 0),
        (b = (b + Math.imul(te, er)) | 0),
        (b = (b + Math.imul(ne, Jt)) | 0),
        (N = (N + Math.imul(ne, er)) | 0);
      var zg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (zg >>> 26)) | 0),
        (zg &= 67108863),
        (M = Math.imul(Xe, De)),
        (b = Math.imul(Xe, Ae)),
        (b = (b + Math.imul(qe, De)) | 0),
        (N = Math.imul(qe, Ae)),
        (M = (M + Math.imul(We, Se)) | 0),
        (b = (b + Math.imul(We, qt)) | 0),
        (b = (b + Math.imul(He, Se)) | 0),
        (N = (N + Math.imul(He, qt)) | 0),
        (M = (M + Math.imul(Oe, Zt)) | 0),
        (b = (b + Math.imul(Oe, Qt)) | 0),
        (b = (b + Math.imul(be, Zt)) | 0),
        (N = (N + Math.imul(be, Qt)) | 0),
        (M = (M + Math.imul(ye, Jt)) | 0),
        (b = (b + Math.imul(ye, er)) | 0),
        (b = (b + Math.imul(ve, Jt)) | 0),
        (N = (N + Math.imul(ve, er)) | 0),
        (M = (M + Math.imul(te, tr)) | 0),
        (b = (b + Math.imul(te, rr)) | 0),
        (b = (b + Math.imul(ne, tr)) | 0),
        (N = (N + Math.imul(ne, rr)) | 0);
      var Wg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Wg >>> 26)) | 0),
        (Wg &= 67108863),
        (M = Math.imul(it, De)),
        (b = Math.imul(it, Ae)),
        (b = (b + Math.imul(tt, De)) | 0),
        (N = Math.imul(tt, Ae)),
        (M = (M + Math.imul(Xe, Se)) | 0),
        (b = (b + Math.imul(Xe, qt)) | 0),
        (b = (b + Math.imul(qe, Se)) | 0),
        (N = (N + Math.imul(qe, qt)) | 0),
        (M = (M + Math.imul(We, Zt)) | 0),
        (b = (b + Math.imul(We, Qt)) | 0),
        (b = (b + Math.imul(He, Zt)) | 0),
        (N = (N + Math.imul(He, Qt)) | 0),
        (M = (M + Math.imul(Oe, Jt)) | 0),
        (b = (b + Math.imul(Oe, er)) | 0),
        (b = (b + Math.imul(be, Jt)) | 0),
        (N = (N + Math.imul(be, er)) | 0),
        (M = (M + Math.imul(ye, tr)) | 0),
        (b = (b + Math.imul(ye, rr)) | 0),
        (b = (b + Math.imul(ve, tr)) | 0),
        (N = (N + Math.imul(ve, rr)) | 0),
        (M = (M + Math.imul(te, nr)) | 0),
        (b = (b + Math.imul(te, ir)) | 0),
        (b = (b + Math.imul(ne, nr)) | 0),
        (N = (N + Math.imul(ne, ir)) | 0);
      var Hg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Hg >>> 26)) | 0),
        (Hg &= 67108863),
        (M = Math.imul(lt, De)),
        (b = Math.imul(lt, Ae)),
        (b = (b + Math.imul(xt, De)) | 0),
        (N = Math.imul(xt, Ae)),
        (M = (M + Math.imul(it, Se)) | 0),
        (b = (b + Math.imul(it, qt)) | 0),
        (b = (b + Math.imul(tt, Se)) | 0),
        (N = (N + Math.imul(tt, qt)) | 0),
        (M = (M + Math.imul(Xe, Zt)) | 0),
        (b = (b + Math.imul(Xe, Qt)) | 0),
        (b = (b + Math.imul(qe, Zt)) | 0),
        (N = (N + Math.imul(qe, Qt)) | 0),
        (M = (M + Math.imul(We, Jt)) | 0),
        (b = (b + Math.imul(We, er)) | 0),
        (b = (b + Math.imul(He, Jt)) | 0),
        (N = (N + Math.imul(He, er)) | 0),
        (M = (M + Math.imul(Oe, tr)) | 0),
        (b = (b + Math.imul(Oe, rr)) | 0),
        (b = (b + Math.imul(be, tr)) | 0),
        (N = (N + Math.imul(be, rr)) | 0),
        (M = (M + Math.imul(ye, nr)) | 0),
        (b = (b + Math.imul(ye, ir)) | 0),
        (b = (b + Math.imul(ve, nr)) | 0),
        (N = (N + Math.imul(ve, ir)) | 0),
        (M = (M + Math.imul(te, sr)) | 0),
        (b = (b + Math.imul(te, or)) | 0),
        (b = (b + Math.imul(ne, sr)) | 0),
        (N = (N + Math.imul(ne, or)) | 0);
      var Vg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Vg >>> 26)) | 0),
        (Vg &= 67108863),
        (M = Math.imul(wt, De)),
        (b = Math.imul(wt, Ae)),
        (b = (b + Math.imul(D, De)) | 0),
        (N = Math.imul(D, Ae)),
        (M = (M + Math.imul(lt, Se)) | 0),
        (b = (b + Math.imul(lt, qt)) | 0),
        (b = (b + Math.imul(xt, Se)) | 0),
        (N = (N + Math.imul(xt, qt)) | 0),
        (M = (M + Math.imul(it, Zt)) | 0),
        (b = (b + Math.imul(it, Qt)) | 0),
        (b = (b + Math.imul(tt, Zt)) | 0),
        (N = (N + Math.imul(tt, Qt)) | 0),
        (M = (M + Math.imul(Xe, Jt)) | 0),
        (b = (b + Math.imul(Xe, er)) | 0),
        (b = (b + Math.imul(qe, Jt)) | 0),
        (N = (N + Math.imul(qe, er)) | 0),
        (M = (M + Math.imul(We, tr)) | 0),
        (b = (b + Math.imul(We, rr)) | 0),
        (b = (b + Math.imul(He, tr)) | 0),
        (N = (N + Math.imul(He, rr)) | 0),
        (M = (M + Math.imul(Oe, nr)) | 0),
        (b = (b + Math.imul(Oe, ir)) | 0),
        (b = (b + Math.imul(be, nr)) | 0),
        (N = (N + Math.imul(be, ir)) | 0),
        (M = (M + Math.imul(ye, sr)) | 0),
        (b = (b + Math.imul(ye, or)) | 0),
        (b = (b + Math.imul(ve, sr)) | 0),
        (N = (N + Math.imul(ve, or)) | 0),
        (M = (M + Math.imul(te, ar)) | 0),
        (b = (b + Math.imul(te, lr)) | 0),
        (b = (b + Math.imul(ne, ar)) | 0),
        (N = (N + Math.imul(ne, lr)) | 0);
      var Xg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Xg >>> 26)) | 0),
        (Xg &= 67108863),
        (M = Math.imul(E, De)),
        (b = Math.imul(E, Ae)),
        (b = (b + Math.imul(U, De)) | 0),
        (N = Math.imul(U, Ae)),
        (M = (M + Math.imul(wt, Se)) | 0),
        (b = (b + Math.imul(wt, qt)) | 0),
        (b = (b + Math.imul(D, Se)) | 0),
        (N = (N + Math.imul(D, qt)) | 0),
        (M = (M + Math.imul(lt, Zt)) | 0),
        (b = (b + Math.imul(lt, Qt)) | 0),
        (b = (b + Math.imul(xt, Zt)) | 0),
        (N = (N + Math.imul(xt, Qt)) | 0),
        (M = (M + Math.imul(it, Jt)) | 0),
        (b = (b + Math.imul(it, er)) | 0),
        (b = (b + Math.imul(tt, Jt)) | 0),
        (N = (N + Math.imul(tt, er)) | 0),
        (M = (M + Math.imul(Xe, tr)) | 0),
        (b = (b + Math.imul(Xe, rr)) | 0),
        (b = (b + Math.imul(qe, tr)) | 0),
        (N = (N + Math.imul(qe, rr)) | 0),
        (M = (M + Math.imul(We, nr)) | 0),
        (b = (b + Math.imul(We, ir)) | 0),
        (b = (b + Math.imul(He, nr)) | 0),
        (N = (N + Math.imul(He, ir)) | 0),
        (M = (M + Math.imul(Oe, sr)) | 0),
        (b = (b + Math.imul(Oe, or)) | 0),
        (b = (b + Math.imul(be, sr)) | 0),
        (N = (N + Math.imul(be, or)) | 0),
        (M = (M + Math.imul(ye, ar)) | 0),
        (b = (b + Math.imul(ye, lr)) | 0),
        (b = (b + Math.imul(ve, ar)) | 0),
        (N = (N + Math.imul(ve, lr)) | 0),
        (M = (M + Math.imul(te, ur)) | 0),
        (b = (b + Math.imul(te, cr)) | 0),
        (b = (b + Math.imul(ne, ur)) | 0),
        (N = (N + Math.imul(ne, cr)) | 0);
      var Yg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Yg >>> 26)) | 0),
        (Yg &= 67108863),
        (M = Math.imul(V, De)),
        (b = Math.imul(V, Ae)),
        (b = (b + Math.imul(q, De)) | 0),
        (N = Math.imul(q, Ae)),
        (M = (M + Math.imul(E, Se)) | 0),
        (b = (b + Math.imul(E, qt)) | 0),
        (b = (b + Math.imul(U, Se)) | 0),
        (N = (N + Math.imul(U, qt)) | 0),
        (M = (M + Math.imul(wt, Zt)) | 0),
        (b = (b + Math.imul(wt, Qt)) | 0),
        (b = (b + Math.imul(D, Zt)) | 0),
        (N = (N + Math.imul(D, Qt)) | 0),
        (M = (M + Math.imul(lt, Jt)) | 0),
        (b = (b + Math.imul(lt, er)) | 0),
        (b = (b + Math.imul(xt, Jt)) | 0),
        (N = (N + Math.imul(xt, er)) | 0),
        (M = (M + Math.imul(it, tr)) | 0),
        (b = (b + Math.imul(it, rr)) | 0),
        (b = (b + Math.imul(tt, tr)) | 0),
        (N = (N + Math.imul(tt, rr)) | 0),
        (M = (M + Math.imul(Xe, nr)) | 0),
        (b = (b + Math.imul(Xe, ir)) | 0),
        (b = (b + Math.imul(qe, nr)) | 0),
        (N = (N + Math.imul(qe, ir)) | 0),
        (M = (M + Math.imul(We, sr)) | 0),
        (b = (b + Math.imul(We, or)) | 0),
        (b = (b + Math.imul(He, sr)) | 0),
        (N = (N + Math.imul(He, or)) | 0),
        (M = (M + Math.imul(Oe, ar)) | 0),
        (b = (b + Math.imul(Oe, lr)) | 0),
        (b = (b + Math.imul(be, ar)) | 0),
        (N = (N + Math.imul(be, lr)) | 0),
        (M = (M + Math.imul(ye, ur)) | 0),
        (b = (b + Math.imul(ye, cr)) | 0),
        (b = (b + Math.imul(ve, ur)) | 0),
        (N = (N + Math.imul(ve, cr)) | 0),
        (M = (M + Math.imul(te, hr)) | 0),
        (b = (b + Math.imul(te, dr)) | 0),
        (b = (b + Math.imul(ne, hr)) | 0),
        (N = (N + Math.imul(ne, dr)) | 0);
      var Kg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Kg >>> 26)) | 0),
        (Kg &= 67108863),
        (M = Math.imul(V, Se)),
        (b = Math.imul(V, qt)),
        (b = (b + Math.imul(q, Se)) | 0),
        (N = Math.imul(q, qt)),
        (M = (M + Math.imul(E, Zt)) | 0),
        (b = (b + Math.imul(E, Qt)) | 0),
        (b = (b + Math.imul(U, Zt)) | 0),
        (N = (N + Math.imul(U, Qt)) | 0),
        (M = (M + Math.imul(wt, Jt)) | 0),
        (b = (b + Math.imul(wt, er)) | 0),
        (b = (b + Math.imul(D, Jt)) | 0),
        (N = (N + Math.imul(D, er)) | 0),
        (M = (M + Math.imul(lt, tr)) | 0),
        (b = (b + Math.imul(lt, rr)) | 0),
        (b = (b + Math.imul(xt, tr)) | 0),
        (N = (N + Math.imul(xt, rr)) | 0),
        (M = (M + Math.imul(it, nr)) | 0),
        (b = (b + Math.imul(it, ir)) | 0),
        (b = (b + Math.imul(tt, nr)) | 0),
        (N = (N + Math.imul(tt, ir)) | 0),
        (M = (M + Math.imul(Xe, sr)) | 0),
        (b = (b + Math.imul(Xe, or)) | 0),
        (b = (b + Math.imul(qe, sr)) | 0),
        (N = (N + Math.imul(qe, or)) | 0),
        (M = (M + Math.imul(We, ar)) | 0),
        (b = (b + Math.imul(We, lr)) | 0),
        (b = (b + Math.imul(He, ar)) | 0),
        (N = (N + Math.imul(He, lr)) | 0),
        (M = (M + Math.imul(Oe, ur)) | 0),
        (b = (b + Math.imul(Oe, cr)) | 0),
        (b = (b + Math.imul(be, ur)) | 0),
        (N = (N + Math.imul(be, cr)) | 0),
        (M = (M + Math.imul(ye, hr)) | 0),
        (b = (b + Math.imul(ye, dr)) | 0),
        (b = (b + Math.imul(ve, hr)) | 0),
        (N = (N + Math.imul(ve, dr)) | 0);
      var qg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (qg >>> 26)) | 0),
        (qg &= 67108863),
        (M = Math.imul(V, Zt)),
        (b = Math.imul(V, Qt)),
        (b = (b + Math.imul(q, Zt)) | 0),
        (N = Math.imul(q, Qt)),
        (M = (M + Math.imul(E, Jt)) | 0),
        (b = (b + Math.imul(E, er)) | 0),
        (b = (b + Math.imul(U, Jt)) | 0),
        (N = (N + Math.imul(U, er)) | 0),
        (M = (M + Math.imul(wt, tr)) | 0),
        (b = (b + Math.imul(wt, rr)) | 0),
        (b = (b + Math.imul(D, tr)) | 0),
        (N = (N + Math.imul(D, rr)) | 0),
        (M = (M + Math.imul(lt, nr)) | 0),
        (b = (b + Math.imul(lt, ir)) | 0),
        (b = (b + Math.imul(xt, nr)) | 0),
        (N = (N + Math.imul(xt, ir)) | 0),
        (M = (M + Math.imul(it, sr)) | 0),
        (b = (b + Math.imul(it, or)) | 0),
        (b = (b + Math.imul(tt, sr)) | 0),
        (N = (N + Math.imul(tt, or)) | 0),
        (M = (M + Math.imul(Xe, ar)) | 0),
        (b = (b + Math.imul(Xe, lr)) | 0),
        (b = (b + Math.imul(qe, ar)) | 0),
        (N = (N + Math.imul(qe, lr)) | 0),
        (M = (M + Math.imul(We, ur)) | 0),
        (b = (b + Math.imul(We, cr)) | 0),
        (b = (b + Math.imul(He, ur)) | 0),
        (N = (N + Math.imul(He, cr)) | 0),
        (M = (M + Math.imul(Oe, hr)) | 0),
        (b = (b + Math.imul(Oe, dr)) | 0),
        (b = (b + Math.imul(be, hr)) | 0),
        (N = (N + Math.imul(be, dr)) | 0);
      var Zg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Zg >>> 26)) | 0),
        (Zg &= 67108863),
        (M = Math.imul(V, Jt)),
        (b = Math.imul(V, er)),
        (b = (b + Math.imul(q, Jt)) | 0),
        (N = Math.imul(q, er)),
        (M = (M + Math.imul(E, tr)) | 0),
        (b = (b + Math.imul(E, rr)) | 0),
        (b = (b + Math.imul(U, tr)) | 0),
        (N = (N + Math.imul(U, rr)) | 0),
        (M = (M + Math.imul(wt, nr)) | 0),
        (b = (b + Math.imul(wt, ir)) | 0),
        (b = (b + Math.imul(D, nr)) | 0),
        (N = (N + Math.imul(D, ir)) | 0),
        (M = (M + Math.imul(lt, sr)) | 0),
        (b = (b + Math.imul(lt, or)) | 0),
        (b = (b + Math.imul(xt, sr)) | 0),
        (N = (N + Math.imul(xt, or)) | 0),
        (M = (M + Math.imul(it, ar)) | 0),
        (b = (b + Math.imul(it, lr)) | 0),
        (b = (b + Math.imul(tt, ar)) | 0),
        (N = (N + Math.imul(tt, lr)) | 0),
        (M = (M + Math.imul(Xe, ur)) | 0),
        (b = (b + Math.imul(Xe, cr)) | 0),
        (b = (b + Math.imul(qe, ur)) | 0),
        (N = (N + Math.imul(qe, cr)) | 0),
        (M = (M + Math.imul(We, hr)) | 0),
        (b = (b + Math.imul(We, dr)) | 0),
        (b = (b + Math.imul(He, hr)) | 0),
        (N = (N + Math.imul(He, dr)) | 0);
      var Qg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Qg >>> 26)) | 0),
        (Qg &= 67108863),
        (M = Math.imul(V, tr)),
        (b = Math.imul(V, rr)),
        (b = (b + Math.imul(q, tr)) | 0),
        (N = Math.imul(q, rr)),
        (M = (M + Math.imul(E, nr)) | 0),
        (b = (b + Math.imul(E, ir)) | 0),
        (b = (b + Math.imul(U, nr)) | 0),
        (N = (N + Math.imul(U, ir)) | 0),
        (M = (M + Math.imul(wt, sr)) | 0),
        (b = (b + Math.imul(wt, or)) | 0),
        (b = (b + Math.imul(D, sr)) | 0),
        (N = (N + Math.imul(D, or)) | 0),
        (M = (M + Math.imul(lt, ar)) | 0),
        (b = (b + Math.imul(lt, lr)) | 0),
        (b = (b + Math.imul(xt, ar)) | 0),
        (N = (N + Math.imul(xt, lr)) | 0),
        (M = (M + Math.imul(it, ur)) | 0),
        (b = (b + Math.imul(it, cr)) | 0),
        (b = (b + Math.imul(tt, ur)) | 0),
        (N = (N + Math.imul(tt, cr)) | 0),
        (M = (M + Math.imul(Xe, hr)) | 0),
        (b = (b + Math.imul(Xe, dr)) | 0),
        (b = (b + Math.imul(qe, hr)) | 0),
        (N = (N + Math.imul(qe, dr)) | 0);
      var Jg = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (Jg >>> 26)) | 0),
        (Jg &= 67108863),
        (M = Math.imul(V, nr)),
        (b = Math.imul(V, ir)),
        (b = (b + Math.imul(q, nr)) | 0),
        (N = Math.imul(q, ir)),
        (M = (M + Math.imul(E, sr)) | 0),
        (b = (b + Math.imul(E, or)) | 0),
        (b = (b + Math.imul(U, sr)) | 0),
        (N = (N + Math.imul(U, or)) | 0),
        (M = (M + Math.imul(wt, ar)) | 0),
        (b = (b + Math.imul(wt, lr)) | 0),
        (b = (b + Math.imul(D, ar)) | 0),
        (N = (N + Math.imul(D, lr)) | 0),
        (M = (M + Math.imul(lt, ur)) | 0),
        (b = (b + Math.imul(lt, cr)) | 0),
        (b = (b + Math.imul(xt, ur)) | 0),
        (N = (N + Math.imul(xt, cr)) | 0),
        (M = (M + Math.imul(it, hr)) | 0),
        (b = (b + Math.imul(it, dr)) | 0),
        (b = (b + Math.imul(tt, hr)) | 0),
        (N = (N + Math.imul(tt, dr)) | 0);
      var e_ = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (e_ >>> 26)) | 0),
        (e_ &= 67108863),
        (M = Math.imul(V, sr)),
        (b = Math.imul(V, or)),
        (b = (b + Math.imul(q, sr)) | 0),
        (N = Math.imul(q, or)),
        (M = (M + Math.imul(E, ar)) | 0),
        (b = (b + Math.imul(E, lr)) | 0),
        (b = (b + Math.imul(U, ar)) | 0),
        (N = (N + Math.imul(U, lr)) | 0),
        (M = (M + Math.imul(wt, ur)) | 0),
        (b = (b + Math.imul(wt, cr)) | 0),
        (b = (b + Math.imul(D, ur)) | 0),
        (N = (N + Math.imul(D, cr)) | 0),
        (M = (M + Math.imul(lt, hr)) | 0),
        (b = (b + Math.imul(lt, dr)) | 0),
        (b = (b + Math.imul(xt, hr)) | 0),
        (N = (N + Math.imul(xt, dr)) | 0);
      var t_ = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (t_ >>> 26)) | 0),
        (t_ &= 67108863),
        (M = Math.imul(V, ar)),
        (b = Math.imul(V, lr)),
        (b = (b + Math.imul(q, ar)) | 0),
        (N = Math.imul(q, lr)),
        (M = (M + Math.imul(E, ur)) | 0),
        (b = (b + Math.imul(E, cr)) | 0),
        (b = (b + Math.imul(U, ur)) | 0),
        (N = (N + Math.imul(U, cr)) | 0),
        (M = (M + Math.imul(wt, hr)) | 0),
        (b = (b + Math.imul(wt, dr)) | 0),
        (b = (b + Math.imul(D, hr)) | 0),
        (N = (N + Math.imul(D, dr)) | 0);
      var r_ = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (r_ >>> 26)) | 0),
        (r_ &= 67108863),
        (M = Math.imul(V, ur)),
        (b = Math.imul(V, cr)),
        (b = (b + Math.imul(q, ur)) | 0),
        (N = Math.imul(q, cr)),
        (M = (M + Math.imul(E, hr)) | 0),
        (b = (b + Math.imul(E, dr)) | 0),
        (b = (b + Math.imul(U, hr)) | 0),
        (N = (N + Math.imul(U, dr)) | 0);
      var n_ = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      (L = (((N + (b >>> 13)) | 0) + (n_ >>> 26)) | 0),
        (n_ &= 67108863),
        (M = Math.imul(V, hr)),
        (b = Math.imul(V, dr)),
        (b = (b + Math.imul(q, hr)) | 0),
        (N = Math.imul(q, dr));
      var i_ = (((L + M) | 0) + ((b & 8191) << 13)) | 0;
      return (
        (L = (((N + (b >>> 13)) | 0) + (i_ >>> 26)) | 0),
        (i_ &= 67108863),
        (B[0] = Gg),
        (B[1] = jg),
        (B[2] = $g),
        (B[3] = zg),
        (B[4] = Wg),
        (B[5] = Hg),
        (B[6] = Vg),
        (B[7] = Xg),
        (B[8] = Yg),
        (B[9] = Kg),
        (B[10] = qg),
        (B[11] = Zg),
        (B[12] = Qg),
        (B[13] = Jg),
        (B[14] = e_),
        (B[15] = t_),
        (B[16] = r_),
        (B[17] = n_),
        (B[18] = i_),
        L !== 0 && ((B[19] = L), A.length++),
        A
      );
    };
    Math.imul || (w = v);
    function x(O, y, T) {
      (T.negative = y.negative ^ O.negative), (T.length = O.length + y.length);
      for (var A = 0, P = 0, R = 0; R < T.length - 1; R++) {
        var B = P;
        P = 0;
        for (
          var L = A & 67108863,
            M = Math.min(R, y.length - 1),
            b = Math.max(0, R - O.length + 1);
          b <= M;
          b++
        ) {
          var N = R - b,
            J = O.words[N] | 0,
            te = y.words[b] | 0,
            ne = J * te,
            ke = ne & 67108863;
          (B = (B + ((ne / 67108864) | 0)) | 0),
            (ke = (ke + L) | 0),
            (L = ke & 67108863),
            (B = (B + (ke >>> 26)) | 0),
            (P += B >>> 26),
            (B &= 67108863);
        }
        (T.words[R] = L), (A = B), (B = P);
      }
      return A !== 0 ? (T.words[R] = A) : T.length--, T._strip();
    }
    function k(O, y, T) {
      return x(O, y, T);
    }
    (s.prototype.mulTo = function (y, T) {
      var A,
        P = this.length + y.length;
      return (
        this.length === 10 && y.length === 10
          ? (A = w(this, y, T))
          : P < 63
          ? (A = v(this, y, T))
          : P < 1024
          ? (A = x(this, y, T))
          : (A = k(this, y, T)),
        A
      );
    }),
      (s.prototype.mul = function (y) {
        var T = new s(null);
        return (T.words = new Array(this.length + y.length)), this.mulTo(y, T);
      }),
      (s.prototype.mulf = function (y) {
        var T = new s(null);
        return (T.words = new Array(this.length + y.length)), k(this, y, T);
      }),
      (s.prototype.imul = function (y) {
        return this.clone().mulTo(y, this);
      }),
      (s.prototype.imuln = function (y) {
        var T = y < 0;
        T && (y = -y), n(typeof y == "number"), n(y < 67108864);
        for (var A = 0, P = 0; P < this.length; P++) {
          var R = (this.words[P] | 0) * y,
            B = (R & 67108863) + (A & 67108863);
          (A >>= 26),
            (A += (R / 67108864) | 0),
            (A += B >>> 26),
            (this.words[P] = B & 67108863);
        }
        return (
          A !== 0 && ((this.words[P] = A), this.length++),
          T ? this.ineg() : this
        );
      }),
      (s.prototype.muln = function (y) {
        return this.clone().imuln(y);
      }),
      (s.prototype.sqr = function () {
        return this.mul(this);
      }),
      (s.prototype.isqr = function () {
        return this.imul(this.clone());
      }),
      (s.prototype.pow = function (y) {
        var T = _(y);
        if (T.length === 0) return new s(1);
        for (var A = this, P = 0; P < T.length && T[P] === 0; P++, A = A.sqr());
        if (++P < T.length)
          for (var R = A.sqr(); P < T.length; P++, R = R.sqr())
            T[P] !== 0 && (A = A.mul(R));
        return A;
      }),
      (s.prototype.iushln = function (y) {
        n(typeof y == "number" && y >= 0);
        var T = y % 26,
          A = (y - T) / 26,
          P = (67108863 >>> (26 - T)) << (26 - T),
          R;
        if (T !== 0) {
          var B = 0;
          for (R = 0; R < this.length; R++) {
            var L = this.words[R] & P,
              M = ((this.words[R] | 0) - L) << T;
            (this.words[R] = M | B), (B = L >>> (26 - T));
          }
          B && ((this.words[R] = B), this.length++);
        }
        if (A !== 0) {
          for (R = this.length - 1; R >= 0; R--)
            this.words[R + A] = this.words[R];
          for (R = 0; R < A; R++) this.words[R] = 0;
          this.length += A;
        }
        return this._strip();
      }),
      (s.prototype.ishln = function (y) {
        return n(this.negative === 0), this.iushln(y);
      }),
      (s.prototype.iushrn = function (y, T, A) {
        n(typeof y == "number" && y >= 0);
        var P;
        T ? (P = (T - (T % 26)) / 26) : (P = 0);
        var R = y % 26,
          B = Math.min((y - R) / 26, this.length),
          L = 67108863 ^ ((67108863 >>> R) << R),
          M = A;
        if (((P -= B), (P = Math.max(0, P)), M)) {
          for (var b = 0; b < B; b++) M.words[b] = this.words[b];
          M.length = B;
        }
        if (B !== 0)
          if (this.length > B)
            for (this.length -= B, b = 0; b < this.length; b++)
              this.words[b] = this.words[b + B];
          else (this.words[0] = 0), (this.length = 1);
        var N = 0;
        for (b = this.length - 1; b >= 0 && (N !== 0 || b >= P); b--) {
          var J = this.words[b] | 0;
          (this.words[b] = (N << (26 - R)) | (J >>> R)), (N = J & L);
        }
        return (
          M && N !== 0 && (M.words[M.length++] = N),
          this.length === 0 && ((this.words[0] = 0), (this.length = 1)),
          this._strip()
        );
      }),
      (s.prototype.ishrn = function (y, T, A) {
        return n(this.negative === 0), this.iushrn(y, T, A);
      }),
      (s.prototype.shln = function (y) {
        return this.clone().ishln(y);
      }),
      (s.prototype.ushln = function (y) {
        return this.clone().iushln(y);
      }),
      (s.prototype.shrn = function (y) {
        return this.clone().ishrn(y);
      }),
      (s.prototype.ushrn = function (y) {
        return this.clone().iushrn(y);
      }),
      (s.prototype.testn = function (y) {
        n(typeof y == "number" && y >= 0);
        var T = y % 26,
          A = (y - T) / 26,
          P = 1 << T;
        if (this.length <= A) return !1;
        var R = this.words[A];
        return !!(R & P);
      }),
      (s.prototype.imaskn = function (y) {
        n(typeof y == "number" && y >= 0);
        var T = y % 26,
          A = (y - T) / 26;
        if (
          (n(this.negative === 0, "imaskn works only with positive numbers"),
          this.length <= A)
        )
          return this;
        if (
          (T !== 0 && A++, (this.length = Math.min(A, this.length)), T !== 0)
        ) {
          var P = 67108863 ^ ((67108863 >>> T) << T);
          this.words[this.length - 1] &= P;
        }
        return this._strip();
      }),
      (s.prototype.maskn = function (y) {
        return this.clone().imaskn(y);
      }),
      (s.prototype.iaddn = function (y) {
        return (
          n(typeof y == "number"),
          n(y < 67108864),
          y < 0
            ? this.isubn(-y)
            : this.negative !== 0
            ? this.length === 1 && (this.words[0] | 0) <= y
              ? ((this.words[0] = y - (this.words[0] | 0)),
                (this.negative = 0),
                this)
              : ((this.negative = 0), this.isubn(y), (this.negative = 1), this)
            : this._iaddn(y)
        );
      }),
      (s.prototype._iaddn = function (y) {
        this.words[0] += y;
        for (var T = 0; T < this.length && this.words[T] >= 67108864; T++)
          (this.words[T] -= 67108864),
            T === this.length - 1
              ? (this.words[T + 1] = 1)
              : this.words[T + 1]++;
        return (this.length = Math.max(this.length, T + 1)), this;
      }),
      (s.prototype.isubn = function (y) {
        if ((n(typeof y == "number"), n(y < 67108864), y < 0))
          return this.iaddn(-y);
        if (this.negative !== 0)
          return (this.negative = 0), this.iaddn(y), (this.negative = 1), this;
        if (((this.words[0] -= y), this.length === 1 && this.words[0] < 0))
          (this.words[0] = -this.words[0]), (this.negative = 1);
        else
          for (var T = 0; T < this.length && this.words[T] < 0; T++)
            (this.words[T] += 67108864), (this.words[T + 1] -= 1);
        return this._strip();
      }),
      (s.prototype.addn = function (y) {
        return this.clone().iaddn(y);
      }),
      (s.prototype.subn = function (y) {
        return this.clone().isubn(y);
      }),
      (s.prototype.iabs = function () {
        return (this.negative = 0), this;
      }),
      (s.prototype.abs = function () {
        return this.clone().iabs();
      }),
      (s.prototype._ishlnsubmul = function (y, T, A) {
        var P = y.length + A,
          R;
        this._expand(P);
        var B,
          L = 0;
        for (R = 0; R < y.length; R++) {
          B = (this.words[R + A] | 0) + L;
          var M = (y.words[R] | 0) * T;
          (B -= M & 67108863),
            (L = (B >> 26) - ((M / 67108864) | 0)),
            (this.words[R + A] = B & 67108863);
        }
        for (; R < this.length - A; R++)
          (B = (this.words[R + A] | 0) + L),
            (L = B >> 26),
            (this.words[R + A] = B & 67108863);
        if (L === 0) return this._strip();
        for (n(L === -1), L = 0, R = 0; R < this.length; R++)
          (B = -(this.words[R] | 0) + L),
            (L = B >> 26),
            (this.words[R] = B & 67108863);
        return (this.negative = 1), this._strip();
      }),
      (s.prototype._wordDiv = function (y, T) {
        var A = this.length - y.length,
          P = this.clone(),
          R = y,
          B = R.words[R.length - 1] | 0,
          L = this._countBits(B);
        (A = 26 - L),
          A !== 0 &&
            ((R = R.ushln(A)), P.iushln(A), (B = R.words[R.length - 1] | 0));
        var M = P.length - R.length,
          b;
        if (T !== "mod") {
          (b = new s(null)),
            (b.length = M + 1),
            (b.words = new Array(b.length));
          for (var N = 0; N < b.length; N++) b.words[N] = 0;
        }
        var J = P.clone()._ishlnsubmul(R, 1, M);
        J.negative === 0 && ((P = J), b && (b.words[M] = 1));
        for (var te = M - 1; te >= 0; te--) {
          var ne =
            (P.words[R.length + te] | 0) * 67108864 +
            (P.words[R.length + te - 1] | 0);
          for (
            ne = Math.min((ne / B) | 0, 67108863), P._ishlnsubmul(R, ne, te);
            P.negative !== 0;

          )
            ne--,
              (P.negative = 0),
              P._ishlnsubmul(R, 1, te),
              P.isZero() || (P.negative ^= 1);
          b && (b.words[te] = ne);
        }
        return (
          b && b._strip(),
          P._strip(),
          T !== "div" && A !== 0 && P.iushrn(A),
          { div: b || null, mod: P }
        );
      }),
      (s.prototype.divmod = function (y, T, A) {
        if ((n(!y.isZero()), this.isZero()))
          return { div: new s(0), mod: new s(0) };
        var P, R, B;
        return this.negative !== 0 && y.negative === 0
          ? ((B = this.neg().divmod(y, T)),
            T !== "mod" && (P = B.div.neg()),
            T !== "div" &&
              ((R = B.mod.neg()), A && R.negative !== 0 && R.iadd(y)),
            { div: P, mod: R })
          : this.negative === 0 && y.negative !== 0
          ? ((B = this.divmod(y.neg(), T)),
            T !== "mod" && (P = B.div.neg()),
            { div: P, mod: B.mod })
          : this.negative & y.negative
          ? ((B = this.neg().divmod(y.neg(), T)),
            T !== "div" &&
              ((R = B.mod.neg()), A && R.negative !== 0 && R.isub(y)),
            { div: B.div, mod: R })
          : y.length > this.length || this.cmp(y) < 0
          ? { div: new s(0), mod: this }
          : y.length === 1
          ? T === "div"
            ? { div: this.divn(y.words[0]), mod: null }
            : T === "mod"
            ? { div: null, mod: new s(this.modrn(y.words[0])) }
            : { div: this.divn(y.words[0]), mod: new s(this.modrn(y.words[0])) }
          : this._wordDiv(y, T);
      }),
      (s.prototype.div = function (y) {
        return this.divmod(y, "div", !1).div;
      }),
      (s.prototype.mod = function (y) {
        return this.divmod(y, "mod", !1).mod;
      }),
      (s.prototype.umod = function (y) {
        return this.divmod(y, "mod", !0).mod;
      }),
      (s.prototype.divRound = function (y) {
        var T = this.divmod(y);
        if (T.mod.isZero()) return T.div;
        var A = T.div.negative !== 0 ? T.mod.isub(y) : T.mod,
          P = y.ushrn(1),
          R = y.andln(1),
          B = A.cmp(P);
        return B < 0 || (R === 1 && B === 0)
          ? T.div
          : T.div.negative !== 0
          ? T.div.isubn(1)
          : T.div.iaddn(1);
      }),
      (s.prototype.modrn = function (y) {
        var T = y < 0;
        T && (y = -y), n(y <= 67108863);
        for (var A = (1 << 26) % y, P = 0, R = this.length - 1; R >= 0; R--)
          P = (A * P + (this.words[R] | 0)) % y;
        return T ? -P : P;
      }),
      (s.prototype.modn = function (y) {
        return this.modrn(y);
      }),
      (s.prototype.idivn = function (y) {
        var T = y < 0;
        T && (y = -y), n(y <= 67108863);
        for (var A = 0, P = this.length - 1; P >= 0; P--) {
          var R = (this.words[P] | 0) + A * 67108864;
          (this.words[P] = (R / y) | 0), (A = R % y);
        }
        return this._strip(), T ? this.ineg() : this;
      }),
      (s.prototype.divn = function (y) {
        return this.clone().idivn(y);
      }),
      (s.prototype.egcd = function (y) {
        n(y.negative === 0), n(!y.isZero());
        var T = this,
          A = y.clone();
        T.negative !== 0 ? (T = T.umod(y)) : (T = T.clone());
        for (
          var P = new s(1), R = new s(0), B = new s(0), L = new s(1), M = 0;
          T.isEven() && A.isEven();

        )
          T.iushrn(1), A.iushrn(1), ++M;
        for (var b = A.clone(), N = T.clone(); !T.isZero(); ) {
          for (var J = 0, te = 1; !(T.words[0] & te) && J < 26; ++J, te <<= 1);
          if (J > 0)
            for (T.iushrn(J); J-- > 0; )
              (P.isOdd() || R.isOdd()) && (P.iadd(b), R.isub(N)),
                P.iushrn(1),
                R.iushrn(1);
          for (
            var ne = 0, ke = 1;
            !(A.words[0] & ke) && ne < 26;
            ++ne, ke <<= 1
          );
          if (ne > 0)
            for (A.iushrn(ne); ne-- > 0; )
              (B.isOdd() || L.isOdd()) && (B.iadd(b), L.isub(N)),
                B.iushrn(1),
                L.iushrn(1);
          T.cmp(A) >= 0
            ? (T.isub(A), P.isub(B), R.isub(L))
            : (A.isub(T), B.isub(P), L.isub(R));
        }
        return { a: B, b: L, gcd: A.iushln(M) };
      }),
      (s.prototype._invmp = function (y) {
        n(y.negative === 0), n(!y.isZero());
        var T = this,
          A = y.clone();
        T.negative !== 0 ? (T = T.umod(y)) : (T = T.clone());
        for (
          var P = new s(1), R = new s(0), B = A.clone();
          T.cmpn(1) > 0 && A.cmpn(1) > 0;

        ) {
          for (var L = 0, M = 1; !(T.words[0] & M) && L < 26; ++L, M <<= 1);
          if (L > 0)
            for (T.iushrn(L); L-- > 0; ) P.isOdd() && P.iadd(B), P.iushrn(1);
          for (var b = 0, N = 1; !(A.words[0] & N) && b < 26; ++b, N <<= 1);
          if (b > 0)
            for (A.iushrn(b); b-- > 0; ) R.isOdd() && R.iadd(B), R.iushrn(1);
          T.cmp(A) >= 0 ? (T.isub(A), P.isub(R)) : (A.isub(T), R.isub(P));
        }
        var J;
        return (
          T.cmpn(1) === 0 ? (J = P) : (J = R), J.cmpn(0) < 0 && J.iadd(y), J
        );
      }),
      (s.prototype.gcd = function (y) {
        if (this.isZero()) return y.abs();
        if (y.isZero()) return this.abs();
        var T = this.clone(),
          A = y.clone();
        (T.negative = 0), (A.negative = 0);
        for (var P = 0; T.isEven() && A.isEven(); P++) T.iushrn(1), A.iushrn(1);
        do {
          for (; T.isEven(); ) T.iushrn(1);
          for (; A.isEven(); ) A.iushrn(1);
          var R = T.cmp(A);
          if (R < 0) {
            var B = T;
            (T = A), (A = B);
          } else if (R === 0 || A.cmpn(1) === 0) break;
          T.isub(A);
        } while (!0);
        return A.iushln(P);
      }),
      (s.prototype.invm = function (y) {
        return this.egcd(y).a.umod(y);
      }),
      (s.prototype.isEven = function () {
        return (this.words[0] & 1) === 0;
      }),
      (s.prototype.isOdd = function () {
        return (this.words[0] & 1) === 1;
      }),
      (s.prototype.andln = function (y) {
        return this.words[0] & y;
      }),
      (s.prototype.bincn = function (y) {
        n(typeof y == "number");
        var T = y % 26,
          A = (y - T) / 26,
          P = 1 << T;
        if (this.length <= A)
          return this._expand(A + 1), (this.words[A] |= P), this;
        for (var R = P, B = A; R !== 0 && B < this.length; B++) {
          var L = this.words[B] | 0;
          (L += R), (R = L >>> 26), (L &= 67108863), (this.words[B] = L);
        }
        return R !== 0 && ((this.words[B] = R), this.length++), this;
      }),
      (s.prototype.isZero = function () {
        return this.length === 1 && this.words[0] === 0;
      }),
      (s.prototype.cmpn = function (y) {
        var T = y < 0;
        if (this.negative !== 0 && !T) return -1;
        if (this.negative === 0 && T) return 1;
        this._strip();
        var A;
        if (this.length > 1) A = 1;
        else {
          T && (y = -y), n(y <= 67108863, "Number is too big");
          var P = this.words[0] | 0;
          A = P === y ? 0 : P < y ? -1 : 1;
        }
        return this.negative !== 0 ? -A | 0 : A;
      }),
      (s.prototype.cmp = function (y) {
        if (this.negative !== 0 && y.negative === 0) return -1;
        if (this.negative === 0 && y.negative !== 0) return 1;
        var T = this.ucmp(y);
        return this.negative !== 0 ? -T | 0 : T;
      }),
      (s.prototype.ucmp = function (y) {
        if (this.length > y.length) return 1;
        if (this.length < y.length) return -1;
        for (var T = 0, A = this.length - 1; A >= 0; A--) {
          var P = this.words[A] | 0,
            R = y.words[A] | 0;
          if (P !== R) {
            P < R ? (T = -1) : P > R && (T = 1);
            break;
          }
        }
        return T;
      }),
      (s.prototype.gtn = function (y) {
        return this.cmpn(y) === 1;
      }),
      (s.prototype.gt = function (y) {
        return this.cmp(y) === 1;
      }),
      (s.prototype.gten = function (y) {
        return this.cmpn(y) >= 0;
      }),
      (s.prototype.gte = function (y) {
        return this.cmp(y) >= 0;
      }),
      (s.prototype.ltn = function (y) {
        return this.cmpn(y) === -1;
      }),
      (s.prototype.lt = function (y) {
        return this.cmp(y) === -1;
      }),
      (s.prototype.lten = function (y) {
        return this.cmpn(y) <= 0;
      }),
      (s.prototype.lte = function (y) {
        return this.cmp(y) <= 0;
      }),
      (s.prototype.eqn = function (y) {
        return this.cmpn(y) === 0;
      }),
      (s.prototype.eq = function (y) {
        return this.cmp(y) === 0;
      }),
      (s.red = function (y) {
        return new H(y);
      }),
      (s.prototype.toRed = function (y) {
        return (
          n(!this.red, "Already a number in reduction context"),
          n(this.negative === 0, "red works only with positives"),
          y.convertTo(this)._forceRed(y)
        );
      }),
      (s.prototype.fromRed = function () {
        return (
          n(this.red, "fromRed works only with numbers in reduction context"),
          this.red.convertFrom(this)
        );
      }),
      (s.prototype._forceRed = function (y) {
        return (this.red = y), this;
      }),
      (s.prototype.forceRed = function (y) {
        return (
          n(!this.red, "Already a number in reduction context"),
          this._forceRed(y)
        );
      }),
      (s.prototype.redAdd = function (y) {
        return (
          n(this.red, "redAdd works only with red numbers"),
          this.red.add(this, y)
        );
      }),
      (s.prototype.redIAdd = function (y) {
        return (
          n(this.red, "redIAdd works only with red numbers"),
          this.red.iadd(this, y)
        );
      }),
      (s.prototype.redSub = function (y) {
        return (
          n(this.red, "redSub works only with red numbers"),
          this.red.sub(this, y)
        );
      }),
      (s.prototype.redISub = function (y) {
        return (
          n(this.red, "redISub works only with red numbers"),
          this.red.isub(this, y)
        );
      }),
      (s.prototype.redShl = function (y) {
        return (
          n(this.red, "redShl works only with red numbers"),
          this.red.shl(this, y)
        );
      }),
      (s.prototype.redMul = function (y) {
        return (
          n(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, y),
          this.red.mul(this, y)
        );
      }),
      (s.prototype.redIMul = function (y) {
        return (
          n(this.red, "redMul works only with red numbers"),
          this.red._verify2(this, y),
          this.red.imul(this, y)
        );
      }),
      (s.prototype.redSqr = function () {
        return (
          n(this.red, "redSqr works only with red numbers"),
          this.red._verify1(this),
          this.red.sqr(this)
        );
      }),
      (s.prototype.redISqr = function () {
        return (
          n(this.red, "redISqr works only with red numbers"),
          this.red._verify1(this),
          this.red.isqr(this)
        );
      }),
      (s.prototype.redSqrt = function () {
        return (
          n(this.red, "redSqrt works only with red numbers"),
          this.red._verify1(this),
          this.red.sqrt(this)
        );
      }),
      (s.prototype.redInvm = function () {
        return (
          n(this.red, "redInvm works only with red numbers"),
          this.red._verify1(this),
          this.red.invm(this)
        );
      }),
      (s.prototype.redNeg = function () {
        return (
          n(this.red, "redNeg works only with red numbers"),
          this.red._verify1(this),
          this.red.neg(this)
        );
      }),
      (s.prototype.redPow = function (y) {
        return (
          n(this.red && !y.red, "redPow(normalNum)"),
          this.red._verify1(this),
          this.red.pow(this, y)
        );
      });
    var C = { k256: null, p224: null, p192: null, p25519: null };
    function F(O, y) {
      (this.name = O),
        (this.p = new s(y, 16)),
        (this.n = this.p.bitLength()),
        (this.k = new s(1).iushln(this.n).isub(this.p)),
        (this.tmp = this._tmp());
    }
    (F.prototype._tmp = function () {
      var y = new s(null);
      return (y.words = new Array(Math.ceil(this.n / 13))), y;
    }),
      (F.prototype.ireduce = function (y) {
        var T = y,
          A;
        do
          this.split(T, this.tmp),
            (T = this.imulK(T)),
            (T = T.iadd(this.tmp)),
            (A = T.bitLength());
        while (A > this.n);
        var P = A < this.n ? -1 : T.ucmp(this.p);
        return (
          P === 0
            ? ((T.words[0] = 0), (T.length = 1))
            : P > 0
            ? T.isub(this.p)
            : T.strip !== void 0
            ? T.strip()
            : T._strip(),
          T
        );
      }),
      (F.prototype.split = function (y, T) {
        y.iushrn(this.n, 0, T);
      }),
      (F.prototype.imulK = function (y) {
        return y.imul(this.k);
      });
    function I() {
      F.call(
        this,
        "k256",
        "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
      );
    }
    i(I, F),
      (I.prototype.split = function (y, T) {
        for (var A = 4194303, P = Math.min(y.length, 9), R = 0; R < P; R++)
          T.words[R] = y.words[R];
        if (((T.length = P), y.length <= 9)) {
          (y.words[0] = 0), (y.length = 1);
          return;
        }
        var B = y.words[9];
        for (T.words[T.length++] = B & A, R = 10; R < y.length; R++) {
          var L = y.words[R] | 0;
          (y.words[R - 10] = ((L & A) << 4) | (B >>> 22)), (B = L);
        }
        (B >>>= 22),
          (y.words[R - 10] = B),
          B === 0 && y.length > 10 ? (y.length -= 10) : (y.length -= 9);
      }),
      (I.prototype.imulK = function (y) {
        (y.words[y.length] = 0), (y.words[y.length + 1] = 0), (y.length += 2);
        for (var T = 0, A = 0; A < y.length; A++) {
          var P = y.words[A] | 0;
          (T += P * 977),
            (y.words[A] = T & 67108863),
            (T = P * 64 + ((T / 67108864) | 0));
        }
        return (
          y.words[y.length - 1] === 0 &&
            (y.length--, y.words[y.length - 1] === 0 && y.length--),
          y
        );
      });
    function G() {
      F.call(
        this,
        "p224",
        "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
      );
    }
    i(G, F);
    function j() {
      F.call(
        this,
        "p192",
        "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
      );
    }
    i(j, F);
    function $() {
      F.call(
        this,
        "25519",
        "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
      );
    }
    i($, F),
      ($.prototype.imulK = function (y) {
        for (var T = 0, A = 0; A < y.length; A++) {
          var P = (y.words[A] | 0) * 19 + T,
            R = P & 67108863;
          (P >>>= 26), (y.words[A] = R), (T = P);
        }
        return T !== 0 && (y.words[y.length++] = T), y;
      }),
      (s._prime = function (y) {
        if (C[y]) return C[y];
        var T;
        if (y === "k256") T = new I();
        else if (y === "p224") T = new G();
        else if (y === "p192") T = new j();
        else if (y === "p25519") T = new $();
        else throw new Error("Unknown prime " + y);
        return (C[y] = T), T;
      });
    function H(O) {
      if (typeof O == "string") {
        var y = s._prime(O);
        (this.m = y.p), (this.prime = y);
      } else
        n(O.gtn(1), "modulus must be greater than 1"),
          (this.m = O),
          (this.prime = null);
    }
    (H.prototype._verify1 = function (y) {
      n(y.negative === 0, "red works only with positives"),
        n(y.red, "red works only with red numbers");
    }),
      (H.prototype._verify2 = function (y, T) {
        n((y.negative | T.negative) === 0, "red works only with positives"),
          n(y.red && y.red === T.red, "red works only with red numbers");
      }),
      (H.prototype.imod = function (y) {
        return this.prime
          ? this.prime.ireduce(y)._forceRed(this)
          : (c(y, y.umod(this.m)._forceRed(this)), y);
      }),
      (H.prototype.neg = function (y) {
        return y.isZero() ? y.clone() : this.m.sub(y)._forceRed(this);
      }),
      (H.prototype.add = function (y, T) {
        this._verify2(y, T);
        var A = y.add(T);
        return A.cmp(this.m) >= 0 && A.isub(this.m), A._forceRed(this);
      }),
      (H.prototype.iadd = function (y, T) {
        this._verify2(y, T);
        var A = y.iadd(T);
        return A.cmp(this.m) >= 0 && A.isub(this.m), A;
      }),
      (H.prototype.sub = function (y, T) {
        this._verify2(y, T);
        var A = y.sub(T);
        return A.cmpn(0) < 0 && A.iadd(this.m), A._forceRed(this);
      }),
      (H.prototype.isub = function (y, T) {
        this._verify2(y, T);
        var A = y.isub(T);
        return A.cmpn(0) < 0 && A.iadd(this.m), A;
      }),
      (H.prototype.shl = function (y, T) {
        return this._verify1(y), this.imod(y.ushln(T));
      }),
      (H.prototype.imul = function (y, T) {
        return this._verify2(y, T), this.imod(y.imul(T));
      }),
      (H.prototype.mul = function (y, T) {
        return this._verify2(y, T), this.imod(y.mul(T));
      }),
      (H.prototype.isqr = function (y) {
        return this.imul(y, y.clone());
      }),
      (H.prototype.sqr = function (y) {
        return this.mul(y, y);
      }),
      (H.prototype.sqrt = function (y) {
        if (y.isZero()) return y.clone();
        var T = this.m.andln(3);
        if ((n(T % 2 === 1), T === 3)) {
          var A = this.m.add(new s(1)).iushrn(2);
          return this.pow(y, A);
        }
        for (var P = this.m.subn(1), R = 0; !P.isZero() && P.andln(1) === 0; )
          R++, P.iushrn(1);
        n(!P.isZero());
        var B = new s(1).toRed(this),
          L = B.redNeg(),
          M = this.m.subn(1).iushrn(1),
          b = this.m.bitLength();
        for (b = new s(2 * b * b).toRed(this); this.pow(b, M).cmp(L) !== 0; )
          b.redIAdd(L);
        for (
          var N = this.pow(b, P),
            J = this.pow(y, P.addn(1).iushrn(1)),
            te = this.pow(y, P),
            ne = R;
          te.cmp(B) !== 0;

        ) {
          for (var ke = te, ye = 0; ke.cmp(B) !== 0; ye++) ke = ke.redSqr();
          n(ye < ne);
          var ve = this.pow(N, new s(1).iushln(ne - ye - 1));
          (J = J.redMul(ve)), (N = ve.redSqr()), (te = te.redMul(N)), (ne = ye);
        }
        return J;
      }),
      (H.prototype.invm = function (y) {
        var T = y._invmp(this.m);
        return T.negative !== 0
          ? ((T.negative = 0), this.imod(T).redNeg())
          : this.imod(T);
      }),
      (H.prototype.pow = function (y, T) {
        if (T.isZero()) return new s(1).toRed(this);
        if (T.cmpn(1) === 0) return y.clone();
        var A = 4,
          P = new Array(1 << A);
        (P[0] = new s(1).toRed(this)), (P[1] = y);
        for (var R = 2; R < P.length; R++) P[R] = this.mul(P[R - 1], y);
        var B = P[0],
          L = 0,
          M = 0,
          b = T.bitLength() % 26;
        for (b === 0 && (b = 26), R = T.length - 1; R >= 0; R--) {
          for (var N = T.words[R], J = b - 1; J >= 0; J--) {
            var te = (N >> J) & 1;
            if ((B !== P[0] && (B = this.sqr(B)), te === 0 && L === 0)) {
              M = 0;
              continue;
            }
            (L <<= 1),
              (L |= te),
              M++,
              !(M !== A && (R !== 0 || J !== 0)) &&
                ((B = this.mul(B, P[L])), (M = 0), (L = 0));
          }
          b = 26;
        }
        return B;
      }),
      (H.prototype.convertTo = function (y) {
        var T = y.umod(this.m);
        return T === y ? T.clone() : T;
      }),
      (H.prototype.convertFrom = function (y) {
        var T = y.clone();
        return (T.red = null), T;
      }),
      (s.mont = function (y) {
        return new Q(y);
      });
    function Q(O) {
      H.call(this, O),
        (this.shift = this.m.bitLength()),
        this.shift % 26 !== 0 && (this.shift += 26 - (this.shift % 26)),
        (this.r = new s(1).iushln(this.shift)),
        (this.r2 = this.imod(this.r.sqr())),
        (this.rinv = this.r._invmp(this.m)),
        (this.minv = this.rinv.mul(this.r).isubn(1).div(this.m)),
        (this.minv = this.minv.umod(this.r)),
        (this.minv = this.r.sub(this.minv));
    }
    i(Q, H),
      (Q.prototype.convertTo = function (y) {
        return this.imod(y.ushln(this.shift));
      }),
      (Q.prototype.convertFrom = function (y) {
        var T = this.imod(y.mul(this.rinv));
        return (T.red = null), T;
      }),
      (Q.prototype.imul = function (y, T) {
        if (y.isZero() || T.isZero())
          return (y.words[0] = 0), (y.length = 1), y;
        var A = y.imul(T),
          P = A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          R = A.isub(P).iushrn(this.shift),
          B = R;
        return (
          R.cmp(this.m) >= 0
            ? (B = R.isub(this.m))
            : R.cmpn(0) < 0 && (B = R.iadd(this.m)),
          B._forceRed(this)
        );
      }),
      (Q.prototype.mul = function (y, T) {
        if (y.isZero() || T.isZero()) return new s(0)._forceRed(this);
        var A = y.mul(T),
          P = A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),
          R = A.isub(P).iushrn(this.shift),
          B = R;
        return (
          R.cmp(this.m) >= 0
            ? (B = R.isub(this.m))
            : R.cmpn(0) < 0 && (B = R.iadd(this.m)),
          B._forceRed(this)
        );
      }),
      (Q.prototype.invm = function (y) {
        var T = this.imod(y._invmp(this.m).mul(this.r2));
        return T._forceRed(this);
      });
  })(r, Zi);
})(pb);
var gM = pb.exports;
const zE = Yh(gM);
var zv = { exports: {} };
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */ (function (
  r,
  e
) {
  var t = Ce,
    n = t.Buffer;
  function i(o, a) {
    for (var l in o) a[l] = o[l];
  }
  n.from && n.alloc && n.allocUnsafe && n.allocUnsafeSlow
    ? (r.exports = t)
    : (i(t, e), (e.Buffer = s));
  function s(o, a, l) {
    return n(o, a, l);
  }
  (s.prototype = Object.create(n.prototype)),
    i(n, s),
    (s.from = function (o, a, l) {
      if (typeof o == "number")
        throw new TypeError("Argument must not be a number");
      return n(o, a, l);
    }),
    (s.alloc = function (o, a, l) {
      if (typeof o != "number")
        throw new TypeError("Argument must be a number");
      var u = n(o);
      return (
        a !== void 0
          ? typeof l == "string"
            ? u.fill(a, l)
            : u.fill(a)
          : u.fill(0),
        u
      );
    }),
    (s.allocUnsafe = function (o) {
      if (typeof o != "number")
        throw new TypeError("Argument must be a number");
      return n(o);
    }),
    (s.allocUnsafeSlow = function (o) {
      if (typeof o != "number")
        throw new TypeError("Argument must be a number");
      return t.SlowBuffer(o);
    });
})(zv, zv.exports);
var fW = zv.exports,
  Xd = fW.Buffer;
function pW(r) {
  if (r.length >= 255) throw new TypeError("Alphabet too long");
  for (var e = new Uint8Array(256), t = 0; t < e.length; t++) e[t] = 255;
  for (var n = 0; n < r.length; n++) {
    var i = r.charAt(n),
      s = i.charCodeAt(0);
    if (e[s] !== 255) throw new TypeError(i + " is ambiguous");
    e[s] = n;
  }
  var o = r.length,
    a = r.charAt(0),
    l = Math.log(o) / Math.log(256),
    u = Math.log(256) / Math.log(o);
  function c(f) {
    if (
      ((Array.isArray(f) || f instanceof Uint8Array) && (f = Xd.from(f)),
      !Xd.isBuffer(f))
    )
      throw new TypeError("Expected Buffer");
    if (f.length === 0) return "";
    for (var m = 0, g = 0, _ = 0, v = f.length; _ !== v && f[_] === 0; )
      _++, m++;
    for (var w = ((v - _) * u + 1) >>> 0, x = new Uint8Array(w); _ !== v; ) {
      for (
        var k = f[_], C = 0, F = w - 1;
        (k !== 0 || C < g) && F !== -1;
        F--, C++
      )
        (k += (256 * x[F]) >>> 0), (x[F] = k % o >>> 0), (k = (k / o) >>> 0);
      if (k !== 0) throw new Error("Non-zero carry");
      (g = C), _++;
    }
    for (var I = w - g; I !== w && x[I] === 0; ) I++;
    for (var G = a.repeat(m); I < w; ++I) G += r.charAt(x[I]);
    return G;
  }
  function h(f) {
    if (typeof f != "string") throw new TypeError("Expected String");
    if (f.length === 0) return Xd.alloc(0);
    for (var m = 0, g = 0, _ = 0; f[m] === a; ) g++, m++;
    for (
      var v = ((f.length - m) * l + 1) >>> 0, w = new Uint8Array(v);
      m < f.length;

    ) {
      var x = e[f.charCodeAt(m)];
      if (x === 255) return;
      for (var k = 0, C = v - 1; (x !== 0 || k < _) && C !== -1; C--, k++)
        (x += (o * w[C]) >>> 0), (w[C] = x % 256 >>> 0), (x = (x / 256) >>> 0);
      if (x !== 0) throw new Error("Non-zero carry");
      (_ = k), m++;
    }
    for (var F = v - _; F !== v && w[F] === 0; ) F++;
    var I = Xd.allocUnsafe(g + (v - F));
    I.fill(0, 0, g);
    for (var G = g; F !== v; ) I[G++] = w[F++];
    return I;
  }
  function d(f) {
    var m = h(f);
    if (m) return m;
    throw new Error("Non-base" + o + " character");
  }
  return { encode: c, decodeUnsafe: h, decode: d };
}
var mW = pW,
  gW = mW,
  _W = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",
  _M = gW(_W);
const zr = Yh(_M),
  yW = new Uint32Array([
    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,
    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,
    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,
    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,
    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,
    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,
    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,
    2428436474, 2756734187, 3204031479, 3329325298,
  ]),
  wo = new Uint32Array([
    1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924,
    528734635, 1541459225,
  ]),
  bo = new Uint32Array(64);
class vW extends aM {
  constructor() {
    super(64, 32, 8, !1),
      (this.A = wo[0] | 0),
      (this.B = wo[1] | 0),
      (this.C = wo[2] | 0),
      (this.D = wo[3] | 0),
      (this.E = wo[4] | 0),
      (this.F = wo[5] | 0),
      (this.G = wo[6] | 0),
      (this.H = wo[7] | 0);
  }
  get() {
    const { A: e, B: t, C: n, D: i, E: s, F: o, G: a, H: l } = this;
    return [e, t, n, i, s, o, a, l];
  }
  set(e, t, n, i, s, o, a, l) {
    (this.A = e | 0),
      (this.B = t | 0),
      (this.C = n | 0),
      (this.D = i | 0),
      (this.E = s | 0),
      (this.F = o | 0),
      (this.G = a | 0),
      (this.H = l | 0);
  }
  process(e, t) {
    for (let h = 0; h < 16; h++, t += 4) bo[h] = e.getUint32(t, !1);
    for (let h = 16; h < 64; h++) {
      const d = bo[h - 15],
        f = bo[h - 2],
        m = ls(d, 7) ^ ls(d, 18) ^ (d >>> 3),
        g = ls(f, 17) ^ ls(f, 19) ^ (f >>> 10);
      bo[h] = (g + bo[h - 7] + m + bo[h - 16]) | 0;
    }
    let { A: n, B: i, C: s, D: o, E: a, F: l, G: u, H: c } = this;
    for (let h = 0; h < 64; h++) {
      const d = ls(a, 6) ^ ls(a, 11) ^ ls(a, 25),
        f = (c + d + iz(a, l, u) + yW[h] + bo[h]) | 0,
        g = ((ls(n, 2) ^ ls(n, 13) ^ ls(n, 22)) + sz(n, i, s)) | 0;
      (c = u),
        (u = l),
        (l = a),
        (a = (o + f) | 0),
        (o = s),
        (s = i),
        (i = n),
        (n = (f + g) | 0);
    }
    (n = (n + this.A) | 0),
      (i = (i + this.B) | 0),
      (s = (s + this.C) | 0),
      (o = (o + this.D) | 0),
      (a = (a + this.E) | 0),
      (l = (l + this.F) | 0),
      (u = (u + this.G) | 0),
      (c = (c + this.H) | 0),
      this.set(n, i, s, o, a, l, u, c);
  }
  roundClean() {
    bo.fill(0);
  }
  destroy() {
    this.set(0, 0, 0, 0, 0, 0, 0, 0), this.buffer.fill(0);
  }
}
const Wv = sM(() => new vW());
var jr = {};
function zs(r, e, t) {
  return e <= r && r <= t;
}
function _g(r) {
  if (r === void 0) return {};
  if (r === Object(r)) return r;
  throw TypeError("Could not convert argument to dictionary");
}
function xW(r) {
  for (var e = String(r), t = e.length, n = 0, i = []; n < t; ) {
    var s = e.charCodeAt(n);
    if (s < 55296 || s > 57343) i.push(s);
    else if (56320 <= s && s <= 57343) i.push(65533);
    else if (55296 <= s && s <= 56319)
      if (n === t - 1) i.push(65533);
      else {
        var o = r.charCodeAt(n + 1);
        if (56320 <= o && o <= 57343) {
          var a = s & 1023,
            l = o & 1023;
          i.push(65536 + (a << 10) + l), (n += 1);
        } else i.push(65533);
      }
    n += 1;
  }
  return i;
}
function wW(r) {
  for (var e = "", t = 0; t < r.length; ++t) {
    var n = r[t];
    n <= 65535
      ? (e += String.fromCharCode(n))
      : ((n -= 65536),
        (e += String.fromCharCode((n >> 10) + 55296, (n & 1023) + 56320)));
  }
  return e;
}
var qp = -1;
function mb(r) {
  this.tokens = [].slice.call(r);
}
mb.prototype = {
  endOfStream: function () {
    return !this.tokens.length;
  },
  read: function () {
    return this.tokens.length ? this.tokens.shift() : qp;
  },
  prepend: function (r) {
    if (Array.isArray(r))
      for (var e = r; e.length; ) this.tokens.unshift(e.pop());
    else this.tokens.unshift(r);
  },
  push: function (r) {
    if (Array.isArray(r))
      for (var e = r; e.length; ) this.tokens.push(e.shift());
    else this.tokens.push(r);
  },
};
var Ou = -1;
function i0(r, e) {
  if (r) throw TypeError("Decoder error");
  return e || 65533;
}
var Zp = "utf-8";
function Qp(r, e) {
  if (!(this instanceof Qp)) return new Qp(r, e);
  if (((r = r !== void 0 ? String(r).toLowerCase() : Zp), r !== Zp))
    throw new Error("Encoding not supported. Only utf-8 is supported");
  (e = _g(e)),
    (this._streaming = !1),
    (this._BOMseen = !1),
    (this._decoder = null),
    (this._fatal = !!e.fatal),
    (this._ignoreBOM = !!e.ignoreBOM),
    Object.defineProperty(this, "encoding", { value: "utf-8" }),
    Object.defineProperty(this, "fatal", { value: this._fatal }),
    Object.defineProperty(this, "ignoreBOM", { value: this._ignoreBOM });
}
Qp.prototype = {
  decode: function (e, t) {
    var n;
    typeof e == "object" && e instanceof ArrayBuffer
      ? (n = new Uint8Array(e))
      : typeof e == "object" && "buffer" in e && e.buffer instanceof ArrayBuffer
      ? (n = new Uint8Array(e.buffer, e.byteOffset, e.byteLength))
      : (n = new Uint8Array(0)),
      (t = _g(t)),
      this._streaming ||
        ((this._decoder = new bW({ fatal: this._fatal })),
        (this._BOMseen = !1)),
      (this._streaming = !!t.stream);
    for (
      var i = new mb(n), s = [], o;
      !i.endOfStream() && ((o = this._decoder.handler(i, i.read())), o !== Ou);

    )
      o !== null && (Array.isArray(o) ? s.push.apply(s, o) : s.push(o));
    if (!this._streaming) {
      do {
        if (((o = this._decoder.handler(i, i.read())), o === Ou)) break;
        o !== null && (Array.isArray(o) ? s.push.apply(s, o) : s.push(o));
      } while (!i.endOfStream());
      this._decoder = null;
    }
    return (
      s.length &&
        ["utf-8"].indexOf(this.encoding) !== -1 &&
        !this._ignoreBOM &&
        !this._BOMseen &&
        (s[0] === 65279
          ? ((this._BOMseen = !0), s.shift())
          : (this._BOMseen = !0)),
      wW(s)
    );
  },
};
function Jp(r, e) {
  if (!(this instanceof Jp)) return new Jp(r, e);
  if (((r = r !== void 0 ? String(r).toLowerCase() : Zp), r !== Zp))
    throw new Error("Encoding not supported. Only utf-8 is supported");
  (e = _g(e)),
    (this._streaming = !1),
    (this._encoder = null),
    (this._options = { fatal: !!e.fatal }),
    Object.defineProperty(this, "encoding", { value: "utf-8" });
}
Jp.prototype = {
  encode: function (e, t) {
    (e = e ? String(e) : ""),
      (t = _g(t)),
      this._streaming || (this._encoder = new SW(this._options)),
      (this._streaming = !!t.stream);
    for (
      var n = [], i = new mb(xW(e)), s;
      !i.endOfStream() && ((s = this._encoder.handler(i, i.read())), s !== Ou);

    )
      Array.isArray(s) ? n.push.apply(n, s) : n.push(s);
    if (!this._streaming) {
      for (; (s = this._encoder.handler(i, i.read())), s !== Ou; )
        Array.isArray(s) ? n.push.apply(n, s) : n.push(s);
      this._encoder = null;
    }
    return new Uint8Array(n);
  },
};
function bW(r) {
  var e = r.fatal,
    t = 0,
    n = 0,
    i = 0,
    s = 128,
    o = 191;
  this.handler = function (a, l) {
    if (l === qp && i !== 0) return (i = 0), i0(e);
    if (l === qp) return Ou;
    if (i === 0) {
      if (zs(l, 0, 127)) return l;
      if (zs(l, 194, 223)) (i = 1), (t = l - 192);
      else if (zs(l, 224, 239))
        l === 224 && (s = 160), l === 237 && (o = 159), (i = 2), (t = l - 224);
      else if (zs(l, 240, 244))
        l === 240 && (s = 144), l === 244 && (o = 143), (i = 3), (t = l - 240);
      else return i0(e);
      return (t = t << (6 * i)), null;
    }
    if (!zs(l, s, o))
      return (t = i = n = 0), (s = 128), (o = 191), a.prepend(l), i0(e);
    if (
      ((s = 128),
      (o = 191),
      (n += 1),
      (t += (l - 128) << (6 * (i - n))),
      n !== i)
    )
      return null;
    var u = t;
    return (t = i = n = 0), u;
  };
}
function SW(r) {
  r.fatal,
    (this.handler = function (e, t) {
      if (t === qp) return Ou;
      if (zs(t, 0, 127)) return t;
      var n, i;
      zs(t, 128, 2047)
        ? ((n = 1), (i = 192))
        : zs(t, 2048, 65535)
        ? ((n = 2), (i = 224))
        : zs(t, 65536, 1114111) && ((n = 3), (i = 240));
      for (var s = [(t >> (6 * n)) + i]; n > 0; ) {
        var o = t >> (6 * (n - 1));
        s.push(128 | (o & 63)), (n -= 1);
      }
      return s;
    });
}
const EW = Object.freeze(
    Object.defineProperty(
      { __proto__: null, TextDecoder: Qp, TextEncoder: Jp },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  TW = Mx(EW);
var kW =
    (Zi && Zi.__createBinding) ||
    (Object.create
      ? function (r, e, t, n) {
          n === void 0 && (n = t),
            Object.defineProperty(r, n, {
              enumerable: !0,
              get: function () {
                return e[t];
              },
            });
        }
      : function (r, e, t, n) {
          n === void 0 && (n = t), (r[n] = e[t]);
        }),
  AW =
    (Zi && Zi.__setModuleDefault) ||
    (Object.create
      ? function (r, e) {
          Object.defineProperty(r, "default", { enumerable: !0, value: e });
        }
      : function (r, e) {
          r.default = e;
        }),
  Ps =
    (Zi && Zi.__decorate) ||
    function (r, e, t, n) {
      var i = arguments.length,
        s =
          i < 3
            ? e
            : n === null
            ? (n = Object.getOwnPropertyDescriptor(e, t))
            : n,
        o;
      if (typeof Reflect == "object" && typeof Reflect.decorate == "function")
        s = Reflect.decorate(r, e, t, n);
      else
        for (var a = r.length - 1; a >= 0; a--)
          (o = r[a]) &&
            (s = (i < 3 ? o(s) : i > 3 ? o(e, t, s) : o(e, t)) || s);
      return i > 3 && s && Object.defineProperty(e, t, s), s;
    },
  PW =
    (Zi && Zi.__importStar) ||
    function (r) {
      if (r && r.__esModule) return r;
      var e = {};
      if (r != null)
        for (var t in r)
          t !== "default" && Object.hasOwnProperty.call(r, t) && kW(e, r, t);
      return AW(e, r), e;
    },
  yM =
    (Zi && Zi.__importDefault) ||
    function (r) {
      return r && r.__esModule ? r : { default: r };
    };
Object.defineProperty(jr, "__esModule", { value: !0 });
var vM =
  (jr.deserializeUnchecked =
  TM =
  jr.deserialize =
  EM =
  jr.serialize =
  jr.BinaryReader =
  jr.BinaryWriter =
  jr.BorshError =
  jr.baseDecode =
  jr.baseEncode =
    void 0);
const Fo = yM(gM),
  xM = yM(_M),
  CW = PW(TW),
  RW = typeof TextDecoder != "function" ? CW.TextDecoder : TextDecoder,
  DW = new RW("utf-8", { fatal: !0 });
function MW(r) {
  return (
    typeof r == "string" && (r = Buffer.from(r, "utf8")),
    xM.default.encode(Buffer.from(r))
  );
}
jr.baseEncode = MW;
function BW(r) {
  return Buffer.from(xM.default.decode(r));
}
jr.baseDecode = BW;
const s0 = 1024;
class ln extends Error {
  constructor(e) {
    super(e), (this.fieldPath = []), (this.originalMessage = e);
  }
  addToFieldPath(e) {
    this.fieldPath.splice(0, 0, e),
      (this.message = this.originalMessage + ": " + this.fieldPath.join("."));
  }
}
jr.BorshError = ln;
class wM {
  constructor() {
    (this.buf = Buffer.alloc(s0)), (this.length = 0);
  }
  maybeResize() {
    this.buf.length < 16 + this.length &&
      (this.buf = Buffer.concat([this.buf, Buffer.alloc(s0)]));
  }
  writeU8(e) {
    this.maybeResize(), this.buf.writeUInt8(e, this.length), (this.length += 1);
  }
  writeU16(e) {
    this.maybeResize(),
      this.buf.writeUInt16LE(e, this.length),
      (this.length += 2);
  }
  writeU32(e) {
    this.maybeResize(),
      this.buf.writeUInt32LE(e, this.length),
      (this.length += 4);
  }
  writeU64(e) {
    this.maybeResize(),
      this.writeBuffer(Buffer.from(new Fo.default(e).toArray("le", 8)));
  }
  writeU128(e) {
    this.maybeResize(),
      this.writeBuffer(Buffer.from(new Fo.default(e).toArray("le", 16)));
  }
  writeU256(e) {
    this.maybeResize(),
      this.writeBuffer(Buffer.from(new Fo.default(e).toArray("le", 32)));
  }
  writeU512(e) {
    this.maybeResize(),
      this.writeBuffer(Buffer.from(new Fo.default(e).toArray("le", 64)));
  }
  writeBuffer(e) {
    (this.buf = Buffer.concat([
      Buffer.from(this.buf.subarray(0, this.length)),
      e,
      Buffer.alloc(s0),
    ])),
      (this.length += e.length);
  }
  writeString(e) {
    this.maybeResize();
    const t = Buffer.from(e, "utf8");
    this.writeU32(t.length), this.writeBuffer(t);
  }
  writeFixedArray(e) {
    this.writeBuffer(Buffer.from(e));
  }
  writeArray(e, t) {
    this.maybeResize(), this.writeU32(e.length);
    for (const n of e) this.maybeResize(), t(n);
  }
  toArray() {
    return this.buf.subarray(0, this.length);
  }
}
jr.BinaryWriter = wM;
function Cs(r, e, t) {
  const n = t.value;
  t.value = function (...i) {
    try {
      return n.apply(this, i);
    } catch (s) {
      if (s instanceof RangeError) {
        const o = s.code;
        if (["ERR_BUFFER_OUT_OF_BOUNDS", "ERR_OUT_OF_RANGE"].indexOf(o) >= 0)
          throw new ln("Reached the end of buffer when deserializing");
      }
      throw s;
    }
  };
}
class ii {
  constructor(e) {
    (this.buf = e), (this.offset = 0);
  }
  readU8() {
    const e = this.buf.readUInt8(this.offset);
    return (this.offset += 1), e;
  }
  readU16() {
    const e = this.buf.readUInt16LE(this.offset);
    return (this.offset += 2), e;
  }
  readU32() {
    const e = this.buf.readUInt32LE(this.offset);
    return (this.offset += 4), e;
  }
  readU64() {
    const e = this.readBuffer(8);
    return new Fo.default(e, "le");
  }
  readU128() {
    const e = this.readBuffer(16);
    return new Fo.default(e, "le");
  }
  readU256() {
    const e = this.readBuffer(32);
    return new Fo.default(e, "le");
  }
  readU512() {
    const e = this.readBuffer(64);
    return new Fo.default(e, "le");
  }
  readBuffer(e) {
    if (this.offset + e > this.buf.length)
      throw new ln(`Expected buffer length ${e} isn't within bounds`);
    const t = this.buf.slice(this.offset, this.offset + e);
    return (this.offset += e), t;
  }
  readString() {
    const e = this.readU32(),
      t = this.readBuffer(e);
    try {
      return DW.decode(t);
    } catch (n) {
      throw new ln(`Error decoding UTF-8 string: ${n}`);
    }
  }
  readFixedArray(e) {
    return new Uint8Array(this.readBuffer(e));
  }
  readArray(e) {
    const t = this.readU32(),
      n = Array();
    for (let i = 0; i < t; ++i) n.push(e());
    return n;
  }
}
Ps([Cs], ii.prototype, "readU8", null);
Ps([Cs], ii.prototype, "readU16", null);
Ps([Cs], ii.prototype, "readU32", null);
Ps([Cs], ii.prototype, "readU64", null);
Ps([Cs], ii.prototype, "readU128", null);
Ps([Cs], ii.prototype, "readU256", null);
Ps([Cs], ii.prototype, "readU512", null);
Ps([Cs], ii.prototype, "readString", null);
Ps([Cs], ii.prototype, "readFixedArray", null);
Ps([Cs], ii.prototype, "readArray", null);
jr.BinaryReader = ii;
function bM(r) {
  return r.charAt(0).toUpperCase() + r.slice(1);
}
function ka(r, e, t, n, i) {
  try {
    if (typeof n == "string") i[`write${bM(n)}`](t);
    else if (n instanceof Array)
      if (typeof n[0] == "number") {
        if (t.length !== n[0])
          throw new ln(
            `Expecting byte array of length ${n[0]}, but got ${t.length} bytes`
          );
        i.writeFixedArray(t);
      } else if (n.length === 2 && typeof n[1] == "number") {
        if (t.length !== n[1])
          throw new ln(
            `Expecting byte array of length ${n[1]}, but got ${t.length} bytes`
          );
        for (let s = 0; s < n[1]; s++) ka(r, null, t[s], n[0], i);
      } else
        i.writeArray(t, (s) => {
          ka(r, e, s, n[0], i);
        });
    else if (n.kind !== void 0)
      switch (n.kind) {
        case "option": {
          t == null ? i.writeU8(0) : (i.writeU8(1), ka(r, e, t, n.type, i));
          break;
        }
        case "map": {
          i.writeU32(t.size),
            t.forEach((s, o) => {
              ka(r, e, o, n.key, i), ka(r, e, s, n.value, i);
            });
          break;
        }
        default:
          throw new ln(`FieldType ${n} unrecognized`);
      }
    else SM(r, t, i);
  } catch (s) {
    throw (s instanceof ln && s.addToFieldPath(e), s);
  }
}
function SM(r, e, t) {
  if (typeof e.borshSerialize == "function") {
    e.borshSerialize(t);
    return;
  }
  const n = r.get(e.constructor);
  if (!n) throw new ln(`Class ${e.constructor.name} is missing in schema`);
  if (n.kind === "struct")
    n.fields.map(([i, s]) => {
      ka(r, i, e[i], s, t);
    });
  else if (n.kind === "enum") {
    const i = e[n.field];
    for (let s = 0; s < n.values.length; ++s) {
      const [o, a] = n.values[s];
      if (o === i) {
        t.writeU8(s), ka(r, o, e[o], a, t);
        break;
      }
    }
  } else
    throw new ln(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);
}
function OW(r, e, t = wM) {
  const n = new t();
  return SM(r, e, n), n.toArray();
}
var EM = (jr.serialize = OW);
function Aa(r, e, t, n) {
  try {
    if (typeof t == "string") return n[`read${bM(t)}`]();
    if (t instanceof Array) {
      if (typeof t[0] == "number") return n.readFixedArray(t[0]);
      if (typeof t[1] == "number") {
        const i = [];
        for (let s = 0; s < t[1]; s++) i.push(Aa(r, null, t[0], n));
        return i;
      } else return n.readArray(() => Aa(r, e, t[0], n));
    }
    if (t.kind === "option") return n.readU8() ? Aa(r, e, t.type, n) : void 0;
    if (t.kind === "map") {
      let i = new Map();
      const s = n.readU32();
      for (let o = 0; o < s; o++) {
        const a = Aa(r, e, t.key, n),
          l = Aa(r, e, t.value, n);
        i.set(a, l);
      }
      return i;
    }
    return gb(r, t, n);
  } catch (i) {
    throw (i instanceof ln && i.addToFieldPath(e), i);
  }
}
function gb(r, e, t) {
  if (typeof e.borshDeserialize == "function") return e.borshDeserialize(t);
  const n = r.get(e);
  if (!n) throw new ln(`Class ${e.name} is missing in schema`);
  if (n.kind === "struct") {
    const i = {};
    for (const [s, o] of r.get(e).fields) i[s] = Aa(r, s, o, t);
    return new e(i);
  }
  if (n.kind === "enum") {
    const i = t.readU8();
    if (i >= n.values.length) throw new ln(`Enum index: ${i} is out of range`);
    const [s, o] = n.values[i],
      a = Aa(r, s, o, t);
    return new e({ [s]: a });
  }
  throw new ln(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);
}
function IW(r, e, t, n = ii) {
  const i = new n(t),
    s = gb(r, e, i);
  if (i.offset < t.length)
    throw new ln(
      `Unexpected ${t.length - i.offset} bytes after deserialized data`
    );
  return s;
}
var TM = (jr.deserialize = IW);
function FW(r, e, t, n = ii) {
  const i = new n(t);
  return gb(r, e, i);
}
vM = jr.deserializeUnchecked = FW;
var Y = {};
Object.defineProperty(Y, "__esModule", { value: !0 });
Y.s16 =
  Y.s8 =
  Y.nu64be =
  Y.u48be =
  Y.u40be =
  Y.u32be =
  Y.u24be =
  Y.u16be =
  Nr =
  Y.nu64 =
  Y.u48 =
  Y.u40 =
  _e =
  Y.u32 =
  Y.u24 =
  ci =
  Y.u16 =
  $e =
  Y.u8 =
  Wa =
  Y.offset =
  Y.greedy =
  Y.Constant =
  Y.UTF8 =
  Y.CString =
  Y.Blob =
  Y.Boolean =
  Y.BitField =
  Y.BitStructure =
  Y.VariantLayout =
  Y.Union =
  Y.UnionLayoutDiscriminator =
  Y.UnionDiscriminator =
  Y.Structure =
  Y.Sequence =
  Y.DoubleBE =
  Y.Double =
  Y.FloatBE =
  Y.Float =
  Y.NearInt64BE =
  Y.NearInt64 =
  Y.NearUInt64BE =
  Y.NearUInt64 =
  Y.IntBE =
  Y.Int =
  Y.UIntBE =
  Y.UInt =
  Y.OffsetLayout =
  Y.GreedyCount =
  Y.ExternalLayout =
  Y.bindConstructorLayout =
  Y.nameWithProperty =
  Y.Layout =
  Y.uint8ArrayToBuffer =
  Y.checkUint8Array =
    void 0;
Y.constant =
  Y.utf8 =
  Y.cstr =
  kt =
  Y.blob =
  Y.unionLayoutDiscriminator =
  Y.union =
  un =
  Y.seq =
  Y.bits =
  de =
  Y.struct =
  Y.f64be =
  Y.f64 =
  Y.f32be =
  Y.f32 =
  Y.ns64be =
  Y.s48be =
  Y.s40be =
  Y.s32be =
  Y.s24be =
  Y.s16be =
  jn =
  Y.ns64 =
  Y.s48 =
  Y.s40 =
  Y.s32 =
  Y.s24 =
    void 0;
const _b = Ce;
function qu(r) {
  if (!(r instanceof Uint8Array)) throw new TypeError("b must be a Uint8Array");
}
Y.checkUint8Array = qu;
function et(r) {
  return qu(r), _b.Buffer.from(r.buffer, r.byteOffset, r.length);
}
Y.uint8ArrayToBuffer = et;
class ot {
  constructor(e, t) {
    if (!Number.isInteger(e)) throw new TypeError("span must be an integer");
    (this.span = e), (this.property = t);
  }
  makeDestinationObject() {
    return {};
  }
  getSpan(e, t) {
    if (0 > this.span) throw new RangeError("indeterminate span");
    return this.span;
  }
  replicate(e) {
    const t = Object.create(this.constructor.prototype);
    return Object.assign(t, this), (t.property = e), t;
  }
  fromArray(e) {}
}
Y.Layout = ot;
function yb(r, e) {
  return e.property ? r + "[" + e.property + "]" : r;
}
Y.nameWithProperty = yb;
function NW(r, e) {
  if (typeof r != "function") throw new TypeError("Class must be constructor");
  if (Object.prototype.hasOwnProperty.call(r, "layout_"))
    throw new Error("Class is already bound to a layout");
  if (!(e && e instanceof ot)) throw new TypeError("layout must be a Layout");
  if (Object.prototype.hasOwnProperty.call(e, "boundConstructor_"))
    throw new Error("layout is already bound to a constructor");
  (r.layout_ = e),
    (e.boundConstructor_ = r),
    (e.makeDestinationObject = () => new r()),
    Object.defineProperty(r.prototype, "encode", {
      value(t, n) {
        return e.encode(this, t, n);
      },
      writable: !0,
    }),
    Object.defineProperty(r, "decode", {
      value(t, n) {
        return e.decode(t, n);
      },
      writable: !0,
    });
}
Y.bindConstructorLayout = NW;
class xn extends ot {
  isCount() {
    throw new Error("ExternalLayout is abstract");
  }
}
Y.ExternalLayout = xn;
class kM extends xn {
  constructor(e = 1, t) {
    if (!Number.isInteger(e) || 0 >= e)
      throw new TypeError("elementSpan must be a (positive) integer");
    super(-1, t), (this.elementSpan = e);
  }
  isCount() {
    return !0;
  }
  decode(e, t = 0) {
    qu(e);
    const n = e.length - t;
    return Math.floor(n / this.elementSpan);
  }
  encode(e, t, n) {
    return 0;
  }
}
Y.GreedyCount = kM;
class vb extends xn {
  constructor(e, t = 0, n) {
    if (!(e instanceof ot)) throw new TypeError("layout must be a Layout");
    if (!Number.isInteger(t))
      throw new TypeError("offset must be integer or undefined");
    super(e.span, n || e.property), (this.layout = e), (this.offset = t);
  }
  isCount() {
    return this.layout instanceof Ai || this.layout instanceof Ki;
  }
  decode(e, t = 0) {
    return this.layout.decode(e, t + this.offset);
  }
  encode(e, t, n = 0) {
    return this.layout.encode(e, t, n + this.offset);
  }
}
Y.OffsetLayout = vb;
class Ai extends ot {
  constructor(e, t) {
    if ((super(e, t), 6 < this.span))
      throw new RangeError("span must not exceed 6 bytes");
  }
  decode(e, t = 0) {
    return et(e).readUIntLE(t, this.span);
  }
  encode(e, t, n = 0) {
    return et(t).writeUIntLE(e, n, this.span), this.span;
  }
}
Y.UInt = Ai;
class Ki extends ot {
  constructor(e, t) {
    if ((super(e, t), 6 < this.span))
      throw new RangeError("span must not exceed 6 bytes");
  }
  decode(e, t = 0) {
    return et(e).readUIntBE(t, this.span);
  }
  encode(e, t, n = 0) {
    return et(t).writeUIntBE(e, n, this.span), this.span;
  }
}
Y.UIntBE = Ki;
class ml extends ot {
  constructor(e, t) {
    if ((super(e, t), 6 < this.span))
      throw new RangeError("span must not exceed 6 bytes");
  }
  decode(e, t = 0) {
    return et(e).readIntLE(t, this.span);
  }
  encode(e, t, n = 0) {
    return et(t).writeIntLE(e, n, this.span), this.span;
  }
}
Y.Int = ml;
class Zu extends ot {
  constructor(e, t) {
    if ((super(e, t), 6 < this.span))
      throw new RangeError("span must not exceed 6 bytes");
  }
  decode(e, t = 0) {
    return et(e).readIntBE(t, this.span);
  }
  encode(e, t, n = 0) {
    return et(t).writeIntBE(e, n, this.span), this.span;
  }
}
Y.IntBE = Zu;
const Hv = Math.pow(2, 32);
function yg(r) {
  const e = Math.floor(r / Hv),
    t = r - e * Hv;
  return { hi32: e, lo32: t };
}
function vg(r, e) {
  return r * Hv + e;
}
class AM extends ot {
  constructor(e) {
    super(8, e);
  }
  decode(e, t = 0) {
    const n = et(e),
      i = n.readUInt32LE(t),
      s = n.readUInt32LE(t + 4);
    return vg(s, i);
  }
  encode(e, t, n = 0) {
    const i = yg(e),
      s = et(t);
    return s.writeUInt32LE(i.lo32, n), s.writeUInt32LE(i.hi32, n + 4), 8;
  }
}
Y.NearUInt64 = AM;
class PM extends ot {
  constructor(e) {
    super(8, e);
  }
  decode(e, t = 0) {
    const n = et(e),
      i = n.readUInt32BE(t),
      s = n.readUInt32BE(t + 4);
    return vg(i, s);
  }
  encode(e, t, n = 0) {
    const i = yg(e),
      s = et(t);
    return s.writeUInt32BE(i.hi32, n), s.writeUInt32BE(i.lo32, n + 4), 8;
  }
}
Y.NearUInt64BE = PM;
class CM extends ot {
  constructor(e) {
    super(8, e);
  }
  decode(e, t = 0) {
    const n = et(e),
      i = n.readUInt32LE(t),
      s = n.readInt32LE(t + 4);
    return vg(s, i);
  }
  encode(e, t, n = 0) {
    const i = yg(e),
      s = et(t);
    return s.writeUInt32LE(i.lo32, n), s.writeInt32LE(i.hi32, n + 4), 8;
  }
}
Y.NearInt64 = CM;
class RM extends ot {
  constructor(e) {
    super(8, e);
  }
  decode(e, t = 0) {
    const n = et(e),
      i = n.readInt32BE(t),
      s = n.readUInt32BE(t + 4);
    return vg(i, s);
  }
  encode(e, t, n = 0) {
    const i = yg(e),
      s = et(t);
    return s.writeInt32BE(i.hi32, n), s.writeUInt32BE(i.lo32, n + 4), 8;
  }
}
Y.NearInt64BE = RM;
class DM extends ot {
  constructor(e) {
    super(4, e);
  }
  decode(e, t = 0) {
    return et(e).readFloatLE(t);
  }
  encode(e, t, n = 0) {
    return et(t).writeFloatLE(e, n), 4;
  }
}
Y.Float = DM;
class MM extends ot {
  constructor(e) {
    super(4, e);
  }
  decode(e, t = 0) {
    return et(e).readFloatBE(t);
  }
  encode(e, t, n = 0) {
    return et(t).writeFloatBE(e, n), 4;
  }
}
Y.FloatBE = MM;
class BM extends ot {
  constructor(e) {
    super(8, e);
  }
  decode(e, t = 0) {
    return et(e).readDoubleLE(t);
  }
  encode(e, t, n = 0) {
    return et(t).writeDoubleLE(e, n), 8;
  }
}
Y.Double = BM;
class OM extends ot {
  constructor(e) {
    super(8, e);
  }
  decode(e, t = 0) {
    return et(e).readDoubleBE(t);
  }
  encode(e, t, n = 0) {
    return et(t).writeDoubleBE(e, n), 8;
  }
}
Y.DoubleBE = OM;
class IM extends ot {
  constructor(e, t, n) {
    if (!(e instanceof ot))
      throw new TypeError("elementLayout must be a Layout");
    if (!((t instanceof xn && t.isCount()) || (Number.isInteger(t) && 0 <= t)))
      throw new TypeError(
        "count must be non-negative integer or an unsigned integer ExternalLayout"
      );
    let i = -1;
    !(t instanceof xn) && 0 < e.span && (i = t * e.span),
      super(i, n),
      (this.elementLayout = e),
      (this.count = t);
  }
  getSpan(e, t = 0) {
    if (0 <= this.span) return this.span;
    let n = 0,
      i = this.count;
    if ((i instanceof xn && (i = i.decode(e, t)), 0 < this.elementLayout.span))
      n = i * this.elementLayout.span;
    else {
      let s = 0;
      for (; s < i; ) (n += this.elementLayout.getSpan(e, t + n)), ++s;
    }
    return n;
  }
  decode(e, t = 0) {
    const n = [];
    let i = 0,
      s = this.count;
    for (s instanceof xn && (s = s.decode(e, t)); i < s; )
      n.push(this.elementLayout.decode(e, t)),
        (t += this.elementLayout.getSpan(e, t)),
        (i += 1);
    return n;
  }
  encode(e, t, n = 0) {
    const i = this.elementLayout,
      s = e.reduce((o, a) => o + i.encode(a, t, n + o), 0);
    return this.count instanceof xn && this.count.encode(e.length, t, n), s;
  }
}
Y.Sequence = IM;
class FM extends ot {
  constructor(e, t, n) {
    if (!(Array.isArray(e) && e.reduce((s, o) => s && o instanceof ot, !0)))
      throw new TypeError("fields must be array of Layout instances");
    typeof t == "boolean" && n === void 0 && ((n = t), (t = void 0));
    for (const s of e)
      if (0 > s.span && s.property === void 0)
        throw new Error("fields cannot contain unnamed variable-length layout");
    let i = -1;
    try {
      i = e.reduce((s, o) => s + o.getSpan(), 0);
    } catch {}
    super(i, t), (this.fields = e), (this.decodePrefixes = !!n);
  }
  getSpan(e, t = 0) {
    if (0 <= this.span) return this.span;
    let n = 0;
    try {
      n = this.fields.reduce((i, s) => {
        const o = s.getSpan(e, t);
        return (t += o), i + o;
      }, 0);
    } catch {
      throw new RangeError("indeterminate span");
    }
    return n;
  }
  decode(e, t = 0) {
    qu(e);
    const n = this.makeDestinationObject();
    for (const i of this.fields)
      if (
        (i.property !== void 0 && (n[i.property] = i.decode(e, t)),
        (t += i.getSpan(e, t)),
        this.decodePrefixes && e.length === t)
      )
        break;
    return n;
  }
  encode(e, t, n = 0) {
    const i = n;
    let s = 0,
      o = 0;
    for (const a of this.fields) {
      let l = a.span;
      if (((o = 0 < l ? l : 0), a.property !== void 0)) {
        const u = e[a.property];
        u !== void 0 &&
          ((o = a.encode(u, t, n)), 0 > l && (l = a.getSpan(t, n)));
      }
      (s = n), (n += l);
    }
    return s + o - i;
  }
  fromArray(e) {
    const t = this.makeDestinationObject();
    for (const n of this.fields)
      n.property !== void 0 && 0 < e.length && (t[n.property] = e.shift());
    return t;
  }
  layoutFor(e) {
    if (typeof e != "string") throw new TypeError("property must be string");
    for (const t of this.fields) if (t.property === e) return t;
  }
  offsetOf(e) {
    if (typeof e != "string") throw new TypeError("property must be string");
    let t = 0;
    for (const n of this.fields) {
      if (n.property === e) return t;
      0 > n.span ? (t = -1) : 0 <= t && (t += n.span);
    }
  }
}
Y.Structure = FM;
class xb {
  constructor(e) {
    this.property = e;
  }
  decode(e, t) {
    throw new Error("UnionDiscriminator is abstract");
  }
  encode(e, t, n) {
    throw new Error("UnionDiscriminator is abstract");
  }
}
Y.UnionDiscriminator = xb;
class em extends xb {
  constructor(e, t) {
    if (!(e instanceof xn && e.isCount()))
      throw new TypeError("layout must be an unsigned integer ExternalLayout");
    super(t || e.property || "variant"), (this.layout = e);
  }
  decode(e, t) {
    return this.layout.decode(e, t);
  }
  encode(e, t, n) {
    return this.layout.encode(e, t, n);
  }
}
Y.UnionLayoutDiscriminator = em;
class wb extends ot {
  constructor(e, t, n) {
    let i;
    if (e instanceof Ai || e instanceof Ki) i = new em(new vb(e));
    else if (e instanceof xn && e.isCount()) i = new em(e);
    else if (e instanceof xb) i = e;
    else
      throw new TypeError(
        "discr must be a UnionDiscriminator or an unsigned integer layout"
      );
    if ((t === void 0 && (t = null), !(t === null || t instanceof ot)))
      throw new TypeError("defaultLayout must be null or a Layout");
    if (t !== null) {
      if (0 > t.span) throw new Error("defaultLayout must have constant span");
      t.property === void 0 && (t = t.replicate("content"));
    }
    let s = -1;
    t &&
      ((s = t.span),
      0 <= s && (e instanceof Ai || e instanceof Ki) && (s += i.layout.span)),
      super(s, n),
      (this.discriminator = i),
      (this.usesPrefixDiscriminator = e instanceof Ai || e instanceof Ki),
      (this.defaultLayout = t),
      (this.registry = {});
    let o = this.defaultGetSourceVariant.bind(this);
    (this.getSourceVariant = function (a) {
      return o(a);
    }),
      (this.configGetSourceVariant = function (a) {
        o = a.bind(this);
      });
  }
  getSpan(e, t = 0) {
    if (0 <= this.span) return this.span;
    const n = this.getVariant(e, t);
    if (!n)
      throw new Error("unable to determine span for unrecognized variant");
    return n.getSpan(e, t);
  }
  defaultGetSourceVariant(e) {
    if (Object.prototype.hasOwnProperty.call(e, this.discriminator.property)) {
      if (
        this.defaultLayout &&
        this.defaultLayout.property &&
        Object.prototype.hasOwnProperty.call(e, this.defaultLayout.property)
      )
        return;
      const t = this.registry[e[this.discriminator.property]];
      if (
        t &&
        (!t.layout ||
          (t.property && Object.prototype.hasOwnProperty.call(e, t.property)))
      )
        return t;
    } else
      for (const t in this.registry) {
        const n = this.registry[t];
        if (n.property && Object.prototype.hasOwnProperty.call(e, n.property))
          return n;
      }
    throw new Error("unable to infer src variant");
  }
  decode(e, t = 0) {
    let n;
    const i = this.discriminator,
      s = i.decode(e, t),
      o = this.registry[s];
    if (o === void 0) {
      const a = this.defaultLayout;
      let l = 0;
      this.usesPrefixDiscriminator && (l = i.layout.span),
        (n = this.makeDestinationObject()),
        (n[i.property] = s),
        (n[a.property] = a.decode(e, t + l));
    } else n = o.decode(e, t);
    return n;
  }
  encode(e, t, n = 0) {
    const i = this.getSourceVariant(e);
    if (i === void 0) {
      const s = this.discriminator,
        o = this.defaultLayout;
      let a = 0;
      return (
        this.usesPrefixDiscriminator && (a = s.layout.span),
        s.encode(e[s.property], t, n),
        a + o.encode(e[o.property], t, n + a)
      );
    }
    return i.encode(e, t, n);
  }
  addVariant(e, t, n) {
    const i = new NM(this, e, t, n);
    return (this.registry[e] = i), i;
  }
  getVariant(e, t = 0) {
    let n;
    return (
      e instanceof Uint8Array ? (n = this.discriminator.decode(e, t)) : (n = e),
      this.registry[n]
    );
  }
}
Y.Union = wb;
class NM extends ot {
  constructor(e, t, n, i) {
    if (!(e instanceof wb)) throw new TypeError("union must be a Union");
    if (!Number.isInteger(t) || 0 > t)
      throw new TypeError("variant must be a (non-negative) integer");
    if ((typeof n == "string" && i === void 0 && ((i = n), (n = null)), n)) {
      if (!(n instanceof ot)) throw new TypeError("layout must be a Layout");
      if (
        e.defaultLayout !== null &&
        0 <= n.span &&
        n.span > e.defaultLayout.span
      )
        throw new Error("variant span exceeds span of containing union");
      if (typeof i != "string")
        throw new TypeError("variant must have a String property");
    }
    let s = e.span;
    0 > e.span &&
      ((s = n ? n.span : 0),
      0 <= s &&
        e.usesPrefixDiscriminator &&
        (s += e.discriminator.layout.span)),
      super(s, i),
      (this.union = e),
      (this.variant = t),
      (this.layout = n || null);
  }
  getSpan(e, t = 0) {
    if (0 <= this.span) return this.span;
    let n = 0;
    this.union.usesPrefixDiscriminator &&
      (n = this.union.discriminator.layout.span);
    let i = 0;
    return this.layout && (i = this.layout.getSpan(e, t + n)), n + i;
  }
  decode(e, t = 0) {
    const n = this.makeDestinationObject();
    if (this !== this.union.getVariant(e, t))
      throw new Error("variant mismatch");
    let i = 0;
    return (
      this.union.usesPrefixDiscriminator &&
        (i = this.union.discriminator.layout.span),
      this.layout
        ? (n[this.property] = this.layout.decode(e, t + i))
        : this.property
        ? (n[this.property] = !0)
        : this.union.usesPrefixDiscriminator &&
          (n[this.union.discriminator.property] = this.variant),
      n
    );
  }
  encode(e, t, n = 0) {
    let i = 0;
    if (
      (this.union.usesPrefixDiscriminator &&
        (i = this.union.discriminator.layout.span),
      this.layout && !Object.prototype.hasOwnProperty.call(e, this.property))
    )
      throw new TypeError("variant lacks property " + this.property);
    this.union.discriminator.encode(this.variant, t, n);
    let s = i;
    if (
      this.layout &&
      (this.layout.encode(e[this.property], t, n + i),
      (s += this.layout.getSpan(t, n + i)),
      0 <= this.union.span && s > this.union.span)
    )
      throw new Error("encoded variant overruns containing union");
    return s;
  }
  fromArray(e) {
    if (this.layout) return this.layout.fromArray(e);
  }
}
Y.VariantLayout = NM;
function Bl(r) {
  return 0 > r && (r += 4294967296), r;
}
class bb extends ot {
  constructor(e, t, n) {
    if (!(e instanceof Ai || e instanceof Ki))
      throw new TypeError("word must be a UInt or UIntBE layout");
    if (
      (typeof t == "string" && n === void 0 && ((n = t), (t = !1)), 4 < e.span)
    )
      throw new RangeError("word cannot exceed 32 bits");
    super(e.span, n), (this.word = e), (this.msb = !!t), (this.fields = []);
    let i = 0;
    (this._packedSetValue = function (s) {
      return (i = Bl(s)), this;
    }),
      (this._packedGetValue = function () {
        return i;
      });
  }
  decode(e, t = 0) {
    const n = this.makeDestinationObject(),
      i = this.word.decode(e, t);
    this._packedSetValue(i);
    for (const s of this.fields)
      s.property !== void 0 && (n[s.property] = s.decode(e));
    return n;
  }
  encode(e, t, n = 0) {
    const i = this.word.decode(t, n);
    this._packedSetValue(i);
    for (const s of this.fields)
      if (s.property !== void 0) {
        const o = e[s.property];
        o !== void 0 && s.encode(o);
      }
    return this.word.encode(this._packedGetValue(), t, n);
  }
  addField(e, t) {
    const n = new Sb(this, e, t);
    return this.fields.push(n), n;
  }
  addBoolean(e) {
    const t = new LM(this, e);
    return this.fields.push(t), t;
  }
  fieldFor(e) {
    if (typeof e != "string") throw new TypeError("property must be string");
    for (const t of this.fields) if (t.property === e) return t;
  }
}
Y.BitStructure = bb;
class Sb {
  constructor(e, t, n) {
    if (!(e instanceof bb))
      throw new TypeError("container must be a BitStructure");
    if (!Number.isInteger(t) || 0 >= t)
      throw new TypeError("bits must be positive integer");
    const i = 8 * e.span,
      s = e.fields.reduce((o, a) => o + a.bits, 0);
    if (t + s > i)
      throw new Error(
        "bits too long for span remainder (" + (i - s) + " of " + i + " remain)"
      );
    (this.container = e),
      (this.bits = t),
      (this.valueMask = (1 << t) - 1),
      t === 32 && (this.valueMask = 4294967295),
      (this.start = s),
      this.container.msb && (this.start = i - s - t),
      (this.wordMask = Bl(this.valueMask << this.start)),
      (this.property = n);
  }
  decode(e, t) {
    const n = this.container._packedGetValue();
    return Bl(n & this.wordMask) >>> this.start;
  }
  encode(e) {
    if (
      typeof e != "number" ||
      !Number.isInteger(e) ||
      e !== Bl(e & this.valueMask)
    )
      throw new TypeError(
        yb("BitField.encode", this) +
          " value must be integer not exceeding " +
          this.valueMask
      );
    const t = this.container._packedGetValue(),
      n = Bl(e << this.start);
    this.container._packedSetValue(Bl(t & ~this.wordMask) | n);
  }
}
Y.BitField = Sb;
let LM = class extends Sb {
  constructor(e, t) {
    super(e, 1, t);
  }
  decode(e, t) {
    return !!super.decode(e, t);
  }
  encode(e) {
    typeof e == "boolean" && (e = +e), super.encode(e);
  }
};
Y.Boolean = LM;
let UM = class extends ot {
  constructor(e, t) {
    if (!((e instanceof xn && e.isCount()) || (Number.isInteger(e) && 0 <= e)))
      throw new TypeError(
        "length must be positive integer or an unsigned integer ExternalLayout"
      );
    let n = -1;
    e instanceof xn || (n = e), super(n, t), (this.length = e);
  }
  getSpan(e, t) {
    let n = this.span;
    return 0 > n && (n = this.length.decode(e, t)), n;
  }
  decode(e, t = 0) {
    let n = this.span;
    return 0 > n && (n = this.length.decode(e, t)), et(e).slice(t, t + n);
  }
  encode(e, t, n) {
    let i = this.length;
    if (
      (this.length instanceof xn && (i = e.length),
      !(e instanceof Uint8Array && i === e.length))
    )
      throw new TypeError(
        yb("Blob.encode", this) +
          " requires (length " +
          i +
          ") Uint8Array as src"
      );
    if (n + i > t.length) throw new RangeError("encoding overruns Uint8Array");
    const s = et(e);
    return (
      et(t).write(s.toString("hex"), n, i, "hex"),
      this.length instanceof xn && this.length.encode(i, t, n),
      i
    );
  }
};
Y.Blob = UM;
class GM extends ot {
  constructor(e) {
    super(-1, e);
  }
  getSpan(e, t = 0) {
    qu(e);
    let n = t;
    for (; n < e.length && e[n] !== 0; ) n += 1;
    return 1 + n - t;
  }
  decode(e, t = 0) {
    const n = this.getSpan(e, t);
    return et(e)
      .slice(t, t + n - 1)
      .toString("utf-8");
  }
  encode(e, t, n = 0) {
    typeof e != "string" && (e = String(e));
    const i = _b.Buffer.from(e, "utf8"),
      s = i.length;
    if (n + s > t.length) throw new RangeError("encoding overruns Buffer");
    const o = et(t);
    return i.copy(o, n), (o[n + s] = 0), s + 1;
  }
}
Y.CString = GM;
class jM extends ot {
  constructor(e, t) {
    if (
      (typeof e == "string" && t === void 0 && ((t = e), (e = void 0)),
      e === void 0)
    )
      e = -1;
    else if (!Number.isInteger(e))
      throw new TypeError("maxSpan must be an integer");
    super(-1, t), (this.maxSpan = e);
  }
  getSpan(e, t = 0) {
    return qu(e), e.length - t;
  }
  decode(e, t = 0) {
    const n = this.getSpan(e, t);
    if (0 <= this.maxSpan && this.maxSpan < n)
      throw new RangeError("text length exceeds maxSpan");
    return et(e)
      .slice(t, t + n)
      .toString("utf-8");
  }
  encode(e, t, n = 0) {
    typeof e != "string" && (e = String(e));
    const i = _b.Buffer.from(e, "utf8"),
      s = i.length;
    if (0 <= this.maxSpan && this.maxSpan < s)
      throw new RangeError("text length exceeds maxSpan");
    if (n + s > t.length) throw new RangeError("encoding overruns Buffer");
    return i.copy(et(t), n), s;
  }
}
Y.UTF8 = jM;
class $M extends ot {
  constructor(e, t) {
    super(0, t), (this.value = e);
  }
  decode(e, t) {
    return this.value;
  }
  encode(e, t, n) {
    return 0;
  }
}
Y.Constant = $M;
Y.greedy = (r, e) => new kM(r, e);
var Wa = (Y.offset = (r, e, t) => new vb(r, e, t)),
  $e = (Y.u8 = (r) => new Ai(1, r)),
  ci = (Y.u16 = (r) => new Ai(2, r));
Y.u24 = (r) => new Ai(3, r);
var _e = (Y.u32 = (r) => new Ai(4, r));
Y.u40 = (r) => new Ai(5, r);
Y.u48 = (r) => new Ai(6, r);
var Nr = (Y.nu64 = (r) => new AM(r));
Y.u16be = (r) => new Ki(2, r);
Y.u24be = (r) => new Ki(3, r);
Y.u32be = (r) => new Ki(4, r);
Y.u40be = (r) => new Ki(5, r);
Y.u48be = (r) => new Ki(6, r);
Y.nu64be = (r) => new PM(r);
Y.s8 = (r) => new ml(1, r);
Y.s16 = (r) => new ml(2, r);
Y.s24 = (r) => new ml(3, r);
Y.s32 = (r) => new ml(4, r);
Y.s40 = (r) => new ml(5, r);
Y.s48 = (r) => new ml(6, r);
var jn = (Y.ns64 = (r) => new CM(r));
Y.s16be = (r) => new Zu(2, r);
Y.s24be = (r) => new Zu(3, r);
Y.s32be = (r) => new Zu(4, r);
Y.s40be = (r) => new Zu(5, r);
Y.s48be = (r) => new Zu(6, r);
Y.ns64be = (r) => new RM(r);
Y.f32 = (r) => new DM(r);
Y.f32be = (r) => new MM(r);
Y.f64 = (r) => new BM(r);
Y.f64be = (r) => new OM(r);
var de = (Y.struct = (r, e, t) => new FM(r, e, t));
Y.bits = (r, e, t) => new bb(r, e, t);
var un = (Y.seq = (r, e, t) => new IM(r, e, t));
Y.union = (r, e, t) => new wb(r, e, t);
Y.unionLayoutDiscriminator = (r, e) => new em(r, e);
var kt = (Y.blob = (r, e) => new UM(r, e));
Y.cstr = (r) => new GM(r);
Y.utf8 = (r, e) => new jM(r, e);
Y.constant = (r, e) => new $M(r, e);
var cd = {};
Object.defineProperty(cd, "__esModule", { value: !0 });
function LW(r) {
  {
    const e = Buffer.from(r);
    e.reverse();
    const t = e.toString("hex");
    return t.length === 0 ? BigInt(0) : BigInt(`0x${t}`);
  }
}
var zM = (cd.toBigIntLE = LW);
function UW(r) {
  {
    const e = r.toString("hex");
    return e.length === 0 ? BigInt(0) : BigInt(`0x${e}`);
  }
}
cd.toBigIntBE = UW;
function GW(r, e) {
  {
    const t = r.toString(16),
      n = Buffer.from(t.padStart(e * 2, "0").slice(0, e * 2), "hex");
    return n.reverse(), n;
  }
}
var WM = (cd.toBufferLE = GW);
function jW(r, e) {
  {
    const t = r.toString(16);
    return Buffer.from(t.padStart(e * 2, "0").slice(0, e * 2), "hex");
  }
}
cd.toBufferBE = jW;
class $W extends TypeError {
  constructor(e, t) {
    let n;
    const { message: i, explanation: s, ...o } = e,
      { path: a } = e,
      l = a.length === 0 ? i : `At path: ${a.join(".")} -- ${i}`;
    super(s ?? l),
      s != null && (this.cause = l),
      Object.assign(this, o),
      (this.name = this.constructor.name),
      (this.failures = () => n ?? (n = [e, ...t()]));
  }
}
function zW(r) {
  return hd(r) && typeof r[Symbol.iterator] == "function";
}
function hd(r) {
  return typeof r == "object" && r != null;
}
function tm(r) {
  return hd(r) && !Array.isArray(r);
}
function rs(r) {
  return typeof r == "symbol"
    ? r.toString()
    : typeof r == "string"
    ? JSON.stringify(r)
    : `${r}`;
}
function WW(r) {
  const { done: e, value: t } = r.next();
  return e ? void 0 : t;
}
function HW(r, e, t, n) {
  if (r === !0) return;
  r === !1 ? (r = {}) : typeof r == "string" && (r = { message: r });
  const { path: i, branch: s } = e,
    { type: o } = t,
    {
      refinement: a,
      message: l = `Expected a value of type \`${o}\`${
        a ? ` with refinement \`${a}\`` : ""
      }, but received: \`${rs(n)}\``,
    } = r;
  return {
    value: n,
    type: o,
    refinement: a,
    key: i[i.length - 1],
    path: i,
    branch: s,
    ...r,
    message: l,
  };
}
function* WE(r, e, t, n) {
  zW(r) || (r = [r]);
  for (const i of r) {
    const s = HW(i, e, t, n);
    s && (yield s);
  }
}
function* Eb(r, e, t = {}) {
  const { path: n = [], branch: i = [r], coerce: s = !1, mask: o = !1 } = t,
    a = { path: n, branch: i, mask: o };
  s && (r = e.coercer(r, a));
  let l = "valid";
  for (const u of e.validator(r, a))
    (u.explanation = t.message), (l = "not_valid"), yield [u, void 0];
  for (let [u, c, h] of e.entries(r, a)) {
    const d = Eb(c, h, {
      path: u === void 0 ? n : [...n, u],
      branch: u === void 0 ? i : [...i, c],
      coerce: s,
      mask: o,
      message: t.message,
    });
    for (const f of d)
      f[0]
        ? ((l = f[0].refinement != null ? "not_refined" : "not_valid"),
          yield [f[0], void 0])
        : s &&
          ((c = f[1]),
          u === void 0
            ? (r = c)
            : r instanceof Map
            ? r.set(u, c)
            : r instanceof Set
            ? r.add(c)
            : hd(r) && (c !== void 0 || u in r) && (r[u] = c));
  }
  if (l !== "not_valid")
    for (const u of e.refiner(r, a))
      (u.explanation = t.message), (l = "not_refined"), yield [u, void 0];
  l === "valid" && (yield [void 0, r]);
}
let Rs = class {
  constructor(e) {
    const {
      type: t,
      schema: n,
      validator: i,
      refiner: s,
      coercer: o = (l) => l,
      entries: a = function* () {},
    } = e;
    (this.type = t),
      (this.schema = n),
      (this.entries = a),
      (this.coercer = o),
      i
        ? (this.validator = (l, u) => {
            const c = i(l, u);
            return WE(c, u, this, l);
          })
        : (this.validator = () => []),
      s
        ? (this.refiner = (l, u) => {
            const c = s(l, u);
            return WE(c, u, this, l);
          })
        : (this.refiner = () => []);
  }
  assert(e, t) {
    return VW(e, this, t);
  }
  create(e, t) {
    return se(e, this, t);
  }
  is(e) {
    return HM(e, this);
  }
  mask(e, t) {
    return XW(e, this, t);
  }
  validate(e, t = {}) {
    return dd(e, this, t);
  }
};
function VW(r, e, t) {
  const n = dd(r, e, { message: t });
  if (n[0]) throw n[0];
}
function se(r, e, t) {
  const n = dd(r, e, { coerce: !0, message: t });
  if (n[0]) throw n[0];
  return n[1];
}
function XW(r, e, t) {
  const n = dd(r, e, { coerce: !0, mask: !0, message: t });
  if (n[0]) throw n[0];
  return n[1];
}
function HM(r, e) {
  return !dd(r, e)[0];
}
function dd(r, e, t = {}) {
  const n = Eb(r, e, t),
    i = WW(n);
  return i[0]
    ? [
        new $W(i[0], function* () {
          for (const o of n) o[0] && (yield o[0]);
        }),
        void 0,
      ]
    : [void 0, i[1]];
}
function gl(r, e) {
  return new Rs({ type: r, schema: null, validator: e });
}
function YW() {
  return gl("any", () => !0);
}
function ae(r) {
  return new Rs({
    type: "array",
    schema: r,
    *entries(e) {
      if (r && Array.isArray(e))
        for (const [t, n] of e.entries()) yield [t, n, r];
    },
    coercer(e) {
      return Array.isArray(e) ? e.slice() : e;
    },
    validator(e) {
      return (
        Array.isArray(e) || `Expected an array value, but received: ${rs(e)}`
      );
    },
  });
}
function ks() {
  return gl("boolean", (r) => typeof r == "boolean");
}
function Tb(r) {
  return gl(
    "instance",
    (e) =>
      e instanceof r ||
      `Expected a \`${r.name}\` instance, but received: ${rs(e)}`
  );
}
function Bt(r) {
  const e = rs(r),
    t = typeof r;
  return new Rs({
    type: "literal",
    schema: t === "string" || t === "number" || t === "boolean" ? r : null,
    validator(n) {
      return n === r || `Expected the literal \`${e}\`, but received: ${rs(n)}`;
    },
  });
}
function KW() {
  return gl("never", () => !1);
}
function le(r) {
  return new Rs({
    ...r,
    validator: (e, t) => e === null || r.validator(e, t),
    refiner: (e, t) => e === null || r.refiner(e, t),
  });
}
function X() {
  return gl(
    "number",
    (r) =>
      (typeof r == "number" && !isNaN(r)) ||
      `Expected a number, but received: ${rs(r)}`
  );
}
function xe(r) {
  return new Rs({
    ...r,
    validator: (e, t) => e === void 0 || r.validator(e, t),
    refiner: (e, t) => e === void 0 || r.refiner(e, t),
  });
}
function VM(r, e) {
  return new Rs({
    type: "record",
    schema: null,
    *entries(t) {
      if (hd(t))
        for (const n in t) {
          const i = t[n];
          yield [n, n, r], yield [n, i, e];
        }
    },
    validator(t) {
      return tm(t) || `Expected an object, but received: ${rs(t)}`;
    },
    coercer(t) {
      return tm(t) ? { ...t } : t;
    },
  });
}
function ie() {
  return gl(
    "string",
    (r) => typeof r == "string" || `Expected a string, but received: ${rs(r)}`
  );
}
function kb(r) {
  const e = KW();
  return new Rs({
    type: "tuple",
    schema: null,
    *entries(t) {
      if (Array.isArray(t)) {
        const n = Math.max(r.length, t.length);
        for (let i = 0; i < n; i++) yield [i, t[i], r[i] || e];
      }
    },
    validator(t) {
      return Array.isArray(t) || `Expected an array, but received: ${rs(t)}`;
    },
    coercer(t) {
      return Array.isArray(t) ? t.slice() : t;
    },
  });
}
function ee(r) {
  const e = Object.keys(r);
  return new Rs({
    type: "type",
    schema: r,
    *entries(t) {
      if (hd(t)) for (const n of e) yield [n, t[n], r[n]];
    },
    validator(t) {
      return tm(t) || `Expected an object, but received: ${rs(t)}`;
    },
    coercer(t) {
      return tm(t) ? { ...t } : t;
    },
  });
}
function hn(r) {
  const e = r.map((t) => t.type).join(" | ");
  return new Rs({
    type: "union",
    schema: null,
    coercer(t, n) {
      for (const i of r) {
        const [s, o] = i.validate(t, { coerce: !0, mask: n.mask });
        if (!s) return o;
      }
      return t;
    },
    validator(t, n) {
      const i = [];
      for (const s of r) {
        const [...o] = Eb(t, s, n),
          [a] = o;
        if (a[0]) for (const [l] of o) l && i.push(l);
        else return [];
      }
      return [
        `Expected the value to satisfy a union of \`${e}\`, but received: ${rs(
          t
        )}`,
        ...i,
      ];
    },
  });
}
function Qu() {
  return gl("unknown", () => !0);
}
function fd(r, e, t) {
  return new Rs({
    ...r,
    coercer: (n, i) => (HM(n, e) ? r.coercer(t(n, i), i) : r.coercer(n, i)),
  });
}
var Yd,
  qW = new Uint8Array(16);
function XM() {
  if (
    !Yd &&
    ((Yd =
      (typeof crypto < "u" &&
        crypto.getRandomValues &&
        crypto.getRandomValues.bind(crypto)) ||
      (typeof msCrypto < "u" &&
        typeof msCrypto.getRandomValues == "function" &&
        msCrypto.getRandomValues.bind(msCrypto))),
    !Yd)
  )
    throw new Error(
      "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
    );
  return Yd(qW);
}
const ZW =
  /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function xg(r) {
  return typeof r == "string" && ZW.test(r);
}
var Fr = [];
for (var o0 = 0; o0 < 256; ++o0) Fr.push((o0 + 256).toString(16).substr(1));
function wg(r) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
    t = (
      Fr[r[e + 0]] +
      Fr[r[e + 1]] +
      Fr[r[e + 2]] +
      Fr[r[e + 3]] +
      "-" +
      Fr[r[e + 4]] +
      Fr[r[e + 5]] +
      "-" +
      Fr[r[e + 6]] +
      Fr[r[e + 7]] +
      "-" +
      Fr[r[e + 8]] +
      Fr[r[e + 9]] +
      "-" +
      Fr[r[e + 10]] +
      Fr[r[e + 11]] +
      Fr[r[e + 12]] +
      Fr[r[e + 13]] +
      Fr[r[e + 14]] +
      Fr[r[e + 15]]
    ).toLowerCase();
  if (!xg(t)) throw TypeError("Stringified UUID is invalid");
  return t;
}
var HE,
  a0,
  l0 = 0,
  u0 = 0;
function QW(r, e, t) {
  var n = (e && t) || 0,
    i = e || new Array(16);
  r = r || {};
  var s = r.node || HE,
    o = r.clockseq !== void 0 ? r.clockseq : a0;
  if (s == null || o == null) {
    var a = r.random || (r.rng || XM)();
    s == null && (s = HE = [a[0] | 1, a[1], a[2], a[3], a[4], a[5]]),
      o == null && (o = a0 = ((a[6] << 8) | a[7]) & 16383);
  }
  var l = r.msecs !== void 0 ? r.msecs : Date.now(),
    u = r.nsecs !== void 0 ? r.nsecs : u0 + 1,
    c = l - l0 + (u - u0) / 1e4;
  if (
    (c < 0 && r.clockseq === void 0 && (o = (o + 1) & 16383),
    (c < 0 || l > l0) && r.nsecs === void 0 && (u = 0),
    u >= 1e4)
  )
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  (l0 = l), (u0 = u), (a0 = o), (l += 122192928e5);
  var h = ((l & 268435455) * 1e4 + u) % 4294967296;
  (i[n++] = (h >>> 24) & 255),
    (i[n++] = (h >>> 16) & 255),
    (i[n++] = (h >>> 8) & 255),
    (i[n++] = h & 255);
  var d = ((l / 4294967296) * 1e4) & 268435455;
  (i[n++] = (d >>> 8) & 255),
    (i[n++] = d & 255),
    (i[n++] = ((d >>> 24) & 15) | 16),
    (i[n++] = (d >>> 16) & 255),
    (i[n++] = (o >>> 8) | 128),
    (i[n++] = o & 255);
  for (var f = 0; f < 6; ++f) i[n + f] = s[f];
  return e || wg(i);
}
function YM(r) {
  if (!xg(r)) throw TypeError("Invalid UUID");
  var e,
    t = new Uint8Array(16);
  return (
    (t[0] = (e = parseInt(r.slice(0, 8), 16)) >>> 24),
    (t[1] = (e >>> 16) & 255),
    (t[2] = (e >>> 8) & 255),
    (t[3] = e & 255),
    (t[4] = (e = parseInt(r.slice(9, 13), 16)) >>> 8),
    (t[5] = e & 255),
    (t[6] = (e = parseInt(r.slice(14, 18), 16)) >>> 8),
    (t[7] = e & 255),
    (t[8] = (e = parseInt(r.slice(19, 23), 16)) >>> 8),
    (t[9] = e & 255),
    (t[10] = ((e = parseInt(r.slice(24, 36), 16)) / 1099511627776) & 255),
    (t[11] = (e / 4294967296) & 255),
    (t[12] = (e >>> 24) & 255),
    (t[13] = (e >>> 16) & 255),
    (t[14] = (e >>> 8) & 255),
    (t[15] = e & 255),
    t
  );
}
function JW(r) {
  r = unescape(encodeURIComponent(r));
  for (var e = [], t = 0; t < r.length; ++t) e.push(r.charCodeAt(t));
  return e;
}
var eH = "6ba7b810-9dad-11d1-80b4-00c04fd430c8",
  tH = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
function KM(r, e, t) {
  function n(i, s, o, a) {
    if (
      (typeof i == "string" && (i = JW(i)),
      typeof s == "string" && (s = YM(s)),
      s.length !== 16)
    )
      throw TypeError(
        "Namespace must be array-like (16 iterable integer values, 0-255)"
      );
    var l = new Uint8Array(16 + i.length);
    if (
      (l.set(s),
      l.set(i, s.length),
      (l = t(l)),
      (l[6] = (l[6] & 15) | e),
      (l[8] = (l[8] & 63) | 128),
      o)
    ) {
      a = a || 0;
      for (var u = 0; u < 16; ++u) o[a + u] = l[u];
      return o;
    }
    return wg(l);
  }
  try {
    n.name = r;
  } catch {}
  return (n.DNS = eH), (n.URL = tH), n;
}
function rH(r) {
  if (typeof r == "string") {
    var e = unescape(encodeURIComponent(r));
    r = new Uint8Array(e.length);
    for (var t = 0; t < e.length; ++t) r[t] = e.charCodeAt(t);
  }
  return nH(iH(sH(r), r.length * 8));
}
function nH(r) {
  for (
    var e = [], t = r.length * 32, n = "0123456789abcdef", i = 0;
    i < t;
    i += 8
  ) {
    var s = (r[i >> 5] >>> i % 32) & 255,
      o = parseInt(n.charAt((s >>> 4) & 15) + n.charAt(s & 15), 16);
    e.push(o);
  }
  return e;
}
function qM(r) {
  return (((r + 64) >>> 9) << 4) + 14 + 1;
}
function iH(r, e) {
  (r[e >> 5] |= 128 << e % 32), (r[qM(e) - 1] = e);
  for (
    var t = 1732584193, n = -271733879, i = -1732584194, s = 271733878, o = 0;
    o < r.length;
    o += 16
  ) {
    var a = t,
      l = n,
      u = i,
      c = s;
    (t = Yr(t, n, i, s, r[o], 7, -680876936)),
      (s = Yr(s, t, n, i, r[o + 1], 12, -389564586)),
      (i = Yr(i, s, t, n, r[o + 2], 17, 606105819)),
      (n = Yr(n, i, s, t, r[o + 3], 22, -1044525330)),
      (t = Yr(t, n, i, s, r[o + 4], 7, -176418897)),
      (s = Yr(s, t, n, i, r[o + 5], 12, 1200080426)),
      (i = Yr(i, s, t, n, r[o + 6], 17, -1473231341)),
      (n = Yr(n, i, s, t, r[o + 7], 22, -45705983)),
      (t = Yr(t, n, i, s, r[o + 8], 7, 1770035416)),
      (s = Yr(s, t, n, i, r[o + 9], 12, -1958414417)),
      (i = Yr(i, s, t, n, r[o + 10], 17, -42063)),
      (n = Yr(n, i, s, t, r[o + 11], 22, -1990404162)),
      (t = Yr(t, n, i, s, r[o + 12], 7, 1804603682)),
      (s = Yr(s, t, n, i, r[o + 13], 12, -40341101)),
      (i = Yr(i, s, t, n, r[o + 14], 17, -1502002290)),
      (n = Yr(n, i, s, t, r[o + 15], 22, 1236535329)),
      (t = Kr(t, n, i, s, r[o + 1], 5, -165796510)),
      (s = Kr(s, t, n, i, r[o + 6], 9, -1069501632)),
      (i = Kr(i, s, t, n, r[o + 11], 14, 643717713)),
      (n = Kr(n, i, s, t, r[o], 20, -373897302)),
      (t = Kr(t, n, i, s, r[o + 5], 5, -701558691)),
      (s = Kr(s, t, n, i, r[o + 10], 9, 38016083)),
      (i = Kr(i, s, t, n, r[o + 15], 14, -660478335)),
      (n = Kr(n, i, s, t, r[o + 4], 20, -405537848)),
      (t = Kr(t, n, i, s, r[o + 9], 5, 568446438)),
      (s = Kr(s, t, n, i, r[o + 14], 9, -1019803690)),
      (i = Kr(i, s, t, n, r[o + 3], 14, -187363961)),
      (n = Kr(n, i, s, t, r[o + 8], 20, 1163531501)),
      (t = Kr(t, n, i, s, r[o + 13], 5, -1444681467)),
      (s = Kr(s, t, n, i, r[o + 2], 9, -51403784)),
      (i = Kr(i, s, t, n, r[o + 7], 14, 1735328473)),
      (n = Kr(n, i, s, t, r[o + 12], 20, -1926607734)),
      (t = qr(t, n, i, s, r[o + 5], 4, -378558)),
      (s = qr(s, t, n, i, r[o + 8], 11, -2022574463)),
      (i = qr(i, s, t, n, r[o + 11], 16, 1839030562)),
      (n = qr(n, i, s, t, r[o + 14], 23, -35309556)),
      (t = qr(t, n, i, s, r[o + 1], 4, -1530992060)),
      (s = qr(s, t, n, i, r[o + 4], 11, 1272893353)),
      (i = qr(i, s, t, n, r[o + 7], 16, -155497632)),
      (n = qr(n, i, s, t, r[o + 10], 23, -1094730640)),
      (t = qr(t, n, i, s, r[o + 13], 4, 681279174)),
      (s = qr(s, t, n, i, r[o], 11, -358537222)),
      (i = qr(i, s, t, n, r[o + 3], 16, -722521979)),
      (n = qr(n, i, s, t, r[o + 6], 23, 76029189)),
      (t = qr(t, n, i, s, r[o + 9], 4, -640364487)),
      (s = qr(s, t, n, i, r[o + 12], 11, -421815835)),
      (i = qr(i, s, t, n, r[o + 15], 16, 530742520)),
      (n = qr(n, i, s, t, r[o + 2], 23, -995338651)),
      (t = Zr(t, n, i, s, r[o], 6, -198630844)),
      (s = Zr(s, t, n, i, r[o + 7], 10, 1126891415)),
      (i = Zr(i, s, t, n, r[o + 14], 15, -1416354905)),
      (n = Zr(n, i, s, t, r[o + 5], 21, -57434055)),
      (t = Zr(t, n, i, s, r[o + 12], 6, 1700485571)),
      (s = Zr(s, t, n, i, r[o + 3], 10, -1894986606)),
      (i = Zr(i, s, t, n, r[o + 10], 15, -1051523)),
      (n = Zr(n, i, s, t, r[o + 1], 21, -2054922799)),
      (t = Zr(t, n, i, s, r[o + 8], 6, 1873313359)),
      (s = Zr(s, t, n, i, r[o + 15], 10, -30611744)),
      (i = Zr(i, s, t, n, r[o + 6], 15, -1560198380)),
      (n = Zr(n, i, s, t, r[o + 13], 21, 1309151649)),
      (t = Zr(t, n, i, s, r[o + 4], 6, -145523070)),
      (s = Zr(s, t, n, i, r[o + 11], 10, -1120210379)),
      (i = Zr(i, s, t, n, r[o + 2], 15, 718787259)),
      (n = Zr(n, i, s, t, r[o + 9], 21, -343485551)),
      (t = No(t, a)),
      (n = No(n, l)),
      (i = No(i, u)),
      (s = No(s, c));
  }
  return [t, n, i, s];
}
function sH(r) {
  if (r.length === 0) return [];
  for (var e = r.length * 8, t = new Uint32Array(qM(e)), n = 0; n < e; n += 8)
    t[n >> 5] |= (r[n / 8] & 255) << n % 32;
  return t;
}
function No(r, e) {
  var t = (r & 65535) + (e & 65535),
    n = (r >> 16) + (e >> 16) + (t >> 16);
  return (n << 16) | (t & 65535);
}
function oH(r, e) {
  return (r << e) | (r >>> (32 - e));
}
function bg(r, e, t, n, i, s) {
  return No(oH(No(No(e, r), No(n, s)), i), t);
}
function Yr(r, e, t, n, i, s, o) {
  return bg((e & t) | (~e & n), r, e, i, s, o);
}
function Kr(r, e, t, n, i, s, o) {
  return bg((e & n) | (t & ~n), r, e, i, s, o);
}
function qr(r, e, t, n, i, s, o) {
  return bg(e ^ t ^ n, r, e, i, s, o);
}
function Zr(r, e, t, n, i, s, o) {
  return bg(t ^ (e | ~n), r, e, i, s, o);
}
var aH = KM("v3", 48, rH);
function lH(r, e, t) {
  r = r || {};
  var n = r.random || (r.rng || XM)();
  if (((n[6] = (n[6] & 15) | 64), (n[8] = (n[8] & 63) | 128), e)) {
    t = t || 0;
    for (var i = 0; i < 16; ++i) e[t + i] = n[i];
    return e;
  }
  return wg(n);
}
function uH(r, e, t, n) {
  switch (r) {
    case 0:
      return (e & t) ^ (~e & n);
    case 1:
      return e ^ t ^ n;
    case 2:
      return (e & t) ^ (e & n) ^ (t & n);
    case 3:
      return e ^ t ^ n;
  }
}
function c0(r, e) {
  return (r << e) | (r >>> (32 - e));
}
function cH(r) {
  var e = [1518500249, 1859775393, 2400959708, 3395469782],
    t = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if (typeof r == "string") {
    var n = unescape(encodeURIComponent(r));
    r = [];
    for (var i = 0; i < n.length; ++i) r.push(n.charCodeAt(i));
  } else Array.isArray(r) || (r = Array.prototype.slice.call(r));
  r.push(128);
  for (
    var s = r.length / 4 + 2, o = Math.ceil(s / 16), a = new Array(o), l = 0;
    l < o;
    ++l
  ) {
    for (var u = new Uint32Array(16), c = 0; c < 16; ++c)
      u[c] =
        (r[l * 64 + c * 4] << 24) |
        (r[l * 64 + c * 4 + 1] << 16) |
        (r[l * 64 + c * 4 + 2] << 8) |
        r[l * 64 + c * 4 + 3];
    a[l] = u;
  }
  (a[o - 1][14] = ((r.length - 1) * 8) / Math.pow(2, 32)),
    (a[o - 1][14] = Math.floor(a[o - 1][14])),
    (a[o - 1][15] = ((r.length - 1) * 8) & 4294967295);
  for (var h = 0; h < o; ++h) {
    for (var d = new Uint32Array(80), f = 0; f < 16; ++f) d[f] = a[h][f];
    for (var m = 16; m < 80; ++m)
      d[m] = c0(d[m - 3] ^ d[m - 8] ^ d[m - 14] ^ d[m - 16], 1);
    for (
      var g = t[0], _ = t[1], v = t[2], w = t[3], x = t[4], k = 0;
      k < 80;
      ++k
    ) {
      var C = Math.floor(k / 20),
        F = (c0(g, 5) + uH(C, _, v, w) + x + e[C] + d[k]) >>> 0;
      (x = w), (w = v), (v = c0(_, 30) >>> 0), (_ = g), (g = F);
    }
    (t[0] = (t[0] + g) >>> 0),
      (t[1] = (t[1] + _) >>> 0),
      (t[2] = (t[2] + v) >>> 0),
      (t[3] = (t[3] + w) >>> 0),
      (t[4] = (t[4] + x) >>> 0);
  }
  return [
    (t[0] >> 24) & 255,
    (t[0] >> 16) & 255,
    (t[0] >> 8) & 255,
    t[0] & 255,
    (t[1] >> 24) & 255,
    (t[1] >> 16) & 255,
    (t[1] >> 8) & 255,
    t[1] & 255,
    (t[2] >> 24) & 255,
    (t[2] >> 16) & 255,
    (t[2] >> 8) & 255,
    t[2] & 255,
    (t[3] >> 24) & 255,
    (t[3] >> 16) & 255,
    (t[3] >> 8) & 255,
    t[3] & 255,
    (t[4] >> 24) & 255,
    (t[4] >> 16) & 255,
    (t[4] >> 8) & 255,
    t[4] & 255,
  ];
}
var hH = KM("v5", 80, cH);
const dH = "00000000-0000-0000-0000-000000000000";
function fH(r) {
  if (!xg(r)) throw TypeError("Invalid UUID");
  return parseInt(r.substr(14, 1), 16);
}
const pH = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        NIL: dH,
        parse: YM,
        stringify: wg,
        v1: QW,
        v3: aH,
        v4: lH,
        v5: hH,
        validate: xg,
        version: fH,
      },
      Symbol.toStringTag,
      { value: "Module" }
    )
  ),
  ZM = Mx(pH),
  mH = ZM.v4,
  gH = function (r, e, t, n) {
    if (typeof r != "string") throw new TypeError(r + " must be a string");
    n = n || {};
    const i = typeof n.version == "number" ? n.version : 2;
    if (i !== 1 && i !== 2) throw new TypeError(i + " must be 1 or 2");
    const s = { method: r };
    if ((i === 2 && (s.jsonrpc = "2.0"), e)) {
      if (typeof e != "object" && !Array.isArray(e))
        throw new TypeError(e + " must be an object, array or omitted");
      s.params = e;
    }
    if (typeof t > "u") {
      const o =
        typeof n.generator == "function"
          ? n.generator
          : function () {
              return mH();
            };
      s.id = o(s, n);
    } else
      i === 2 && t === null
        ? n.notificationIdNull && (s.id = null)
        : (s.id = t);
    return s;
  };
var _H = gH;
const yH = ZM.v4,
  vH = _H,
  Lh = function (r, e) {
    if (!(this instanceof Lh)) return new Lh(r, e);
    e || (e = {}),
      (this.options = {
        reviver: typeof e.reviver < "u" ? e.reviver : null,
        replacer: typeof e.replacer < "u" ? e.replacer : null,
        generator:
          typeof e.generator < "u"
            ? e.generator
            : function () {
                return yH();
              },
        version: typeof e.version < "u" ? e.version : 2,
        notificationIdNull:
          typeof e.notificationIdNull == "boolean" ? e.notificationIdNull : !1,
      }),
      (this.callServer = r);
  };
var xH = Lh;
Lh.prototype.request = function (r, e, t, n) {
  const i = this;
  let s = null;
  const o = Array.isArray(r) && typeof e == "function";
  if (this.options.version === 1 && o)
    throw new TypeError("JSON-RPC 1.0 does not support batching");
  if (o || (!o && r && typeof r == "object" && typeof e == "function"))
    (n = e), (s = r);
  else {
    typeof t == "function" && ((n = t), (t = void 0));
    const u = typeof n == "function";
    try {
      s = vH(r, e, t, {
        generator: this.options.generator,
        version: this.options.version,
        notificationIdNull: this.options.notificationIdNull,
      });
    } catch (c) {
      if (u) return n(c);
      throw c;
    }
    if (!u) return s;
  }
  let l;
  try {
    l = JSON.stringify(s, this.options.replacer);
  } catch (u) {
    return n(u);
  }
  return (
    this.callServer(l, function (u, c) {
      i._parseResponse(u, c, n);
    }),
    s
  );
};
Lh.prototype._parseResponse = function (r, e, t) {
  if (r) {
    t(r);
    return;
  }
  if (!e) return t();
  let n;
  try {
    n = JSON.parse(e, this.options.reviver);
  } catch (i) {
    return t(i);
  }
  if (t.length === 3)
    if (Array.isArray(n)) {
      const i = function (o) {
          return typeof o.error < "u";
        },
        s = function (o) {
          return !i(o);
        };
      return t(null, n.filter(i), n.filter(s));
    } else return t(null, n.error, n.result);
  t(null, n);
};
const wH = Yh(xH);
var QM = { exports: {} };
(function (r) {
  var e = Object.prototype.hasOwnProperty,
    t = "~";
  function n() {}
  Object.create &&
    ((n.prototype = Object.create(null)), new n().__proto__ || (t = !1));
  function i(l, u, c) {
    (this.fn = l), (this.context = u), (this.once = c || !1);
  }
  function s(l, u, c, h, d) {
    if (typeof c != "function")
      throw new TypeError("The listener must be a function");
    var f = new i(c, h || l, d),
      m = t ? t + u : u;
    return (
      l._events[m]
        ? l._events[m].fn
          ? (l._events[m] = [l._events[m], f])
          : l._events[m].push(f)
        : ((l._events[m] = f), l._eventsCount++),
      l
    );
  }
  function o(l, u) {
    --l._eventsCount === 0 ? (l._events = new n()) : delete l._events[u];
  }
  function a() {
    (this._events = new n()), (this._eventsCount = 0);
  }
  (a.prototype.eventNames = function () {
    var u = [],
      c,
      h;
    if (this._eventsCount === 0) return u;
    for (h in (c = this._events)) e.call(c, h) && u.push(t ? h.slice(1) : h);
    return Object.getOwnPropertySymbols
      ? u.concat(Object.getOwnPropertySymbols(c))
      : u;
  }),
    (a.prototype.listeners = function (u) {
      var c = t ? t + u : u,
        h = this._events[c];
      if (!h) return [];
      if (h.fn) return [h.fn];
      for (var d = 0, f = h.length, m = new Array(f); d < f; d++)
        m[d] = h[d].fn;
      return m;
    }),
    (a.prototype.listenerCount = function (u) {
      var c = t ? t + u : u,
        h = this._events[c];
      return h ? (h.fn ? 1 : h.length) : 0;
    }),
    (a.prototype.emit = function (u, c, h, d, f, m) {
      var g = t ? t + u : u;
      if (!this._events[g]) return !1;
      var _ = this._events[g],
        v = arguments.length,
        w,
        x;
      if (_.fn) {
        switch ((_.once && this.removeListener(u, _.fn, void 0, !0), v)) {
          case 1:
            return _.fn.call(_.context), !0;
          case 2:
            return _.fn.call(_.context, c), !0;
          case 3:
            return _.fn.call(_.context, c, h), !0;
          case 4:
            return _.fn.call(_.context, c, h, d), !0;
          case 5:
            return _.fn.call(_.context, c, h, d, f), !0;
          case 6:
            return _.fn.call(_.context, c, h, d, f, m), !0;
        }
        for (x = 1, w = new Array(v - 1); x < v; x++) w[x - 1] = arguments[x];
        _.fn.apply(_.context, w);
      } else {
        var k = _.length,
          C;
        for (x = 0; x < k; x++)
          switch (
            (_[x].once && this.removeListener(u, _[x].fn, void 0, !0), v)
          ) {
            case 1:
              _[x].fn.call(_[x].context);
              break;
            case 2:
              _[x].fn.call(_[x].context, c);
              break;
            case 3:
              _[x].fn.call(_[x].context, c, h);
              break;
            case 4:
              _[x].fn.call(_[x].context, c, h, d);
              break;
            default:
              if (!w)
                for (C = 1, w = new Array(v - 1); C < v; C++)
                  w[C - 1] = arguments[C];
              _[x].fn.apply(_[x].context, w);
          }
      }
      return !0;
    }),
    (a.prototype.on = function (u, c, h) {
      return s(this, u, c, h, !1);
    }),
    (a.prototype.once = function (u, c, h) {
      return s(this, u, c, h, !0);
    }),
    (a.prototype.removeListener = function (u, c, h, d) {
      var f = t ? t + u : u;
      if (!this._events[f]) return this;
      if (!c) return o(this, f), this;
      var m = this._events[f];
      if (m.fn)
        m.fn === c && (!d || m.once) && (!h || m.context === h) && o(this, f);
      else {
        for (var g = 0, _ = [], v = m.length; g < v; g++)
          (m[g].fn !== c || (d && !m[g].once) || (h && m[g].context !== h)) &&
            _.push(m[g]);
        _.length ? (this._events[f] = _.length === 1 ? _[0] : _) : o(this, f);
      }
      return this;
    }),
    (a.prototype.removeAllListeners = function (u) {
      var c;
      return (
        u
          ? ((c = t ? t + u : u), this._events[c] && o(this, c))
          : ((this._events = new n()), (this._eventsCount = 0)),
        this
      );
    }),
    (a.prototype.off = a.prototype.removeListener),
    (a.prototype.addListener = a.prototype.on),
    (a.prefixed = t),
    (a.EventEmitter = a),
    (r.exports = a);
})(QM);
var bH = QM.exports;
const JM = Yh(bH);
var SH = class extends JM {
  constructor(e, t, n) {
    super();
    he(this, "socket");
    (this.socket = new window.WebSocket(e, n)),
      (this.socket.onopen = () => this.emit("open")),
      (this.socket.onmessage = (i) => this.emit("message", i.data)),
      (this.socket.onerror = (i) => this.emit("error", i)),
      (this.socket.onclose = (i) => {
        this.emit("close", i.code, i.reason);
      });
  }
  send(e, t, n) {
    const i = n || t;
    try {
      this.socket.send(e), i();
    } catch (s) {
      i(s);
    }
  }
  close(e, t) {
    this.socket.close(e, t);
  }
  addEventListener(e, t, n) {
    this.socket.addEventListener(e, t, n);
  }
};
function EH(r, e) {
  return new SH(r, e);
}
var TH = class {
    encode(r) {
      return JSON.stringify(r);
    }
    decode(r) {
      return JSON.parse(r);
    }
  },
  kH = class extends JM {
    constructor(
      e,
      t = "ws://localhost:8080",
      {
        autoconnect: n = !0,
        reconnect: i = !0,
        reconnect_interval: s = 1e3,
        max_reconnects: o = 5,
        ...a
      } = {},
      l,
      u
    ) {
      super();
      he(this, "address");
      he(this, "rpc_id");
      he(this, "queue");
      he(this, "options");
      he(this, "autoconnect");
      he(this, "ready");
      he(this, "reconnect");
      he(this, "reconnect_timer_id");
      he(this, "reconnect_interval");
      he(this, "max_reconnects");
      he(this, "rest_options");
      he(this, "current_reconnects");
      he(this, "generate_request_id");
      he(this, "socket");
      he(this, "webSocketFactory");
      he(this, "dataPack");
      (this.webSocketFactory = e),
        (this.queue = {}),
        (this.rpc_id = 0),
        (this.address = t),
        (this.autoconnect = n),
        (this.ready = !1),
        (this.reconnect = i),
        (this.reconnect_timer_id = void 0),
        (this.reconnect_interval = s),
        (this.max_reconnects = o),
        (this.rest_options = a),
        (this.current_reconnects = 0),
        (this.generate_request_id = l || (() => ++this.rpc_id)),
        u ? (this.dataPack = u) : (this.dataPack = new TH()),
        this.autoconnect &&
          this._connect(this.address, {
            autoconnect: this.autoconnect,
            reconnect: this.reconnect,
            reconnect_interval: this.reconnect_interval,
            max_reconnects: this.max_reconnects,
            ...this.rest_options,
          });
    }
    connect() {
      this.socket ||
        this._connect(this.address, {
          autoconnect: this.autoconnect,
          reconnect: this.reconnect,
          reconnect_interval: this.reconnect_interval,
          max_reconnects: this.max_reconnects,
          ...this.rest_options,
        });
    }
    call(e, t, n, i) {
      return (
        !i && typeof n == "object" && ((i = n), (n = null)),
        new Promise((s, o) => {
          if (!this.ready) return o(new Error("socket not ready"));
          const a = this.generate_request_id(e, t),
            l = { jsonrpc: "2.0", method: e, params: t || void 0, id: a };
          this.socket.send(this.dataPack.encode(l), i, (u) => {
            if (u) return o(u);
            (this.queue[a] = { promise: [s, o] }),
              n &&
                (this.queue[a].timeout = setTimeout(() => {
                  delete this.queue[a], o(new Error("reply timeout"));
                }, n));
          });
        })
      );
    }
    async login(e) {
      const t = await this.call("rpc.login", e);
      if (!t) throw new Error("authentication failed");
      return t;
    }
    async listMethods() {
      return await this.call("__listMethods");
    }
    notify(e, t) {
      return new Promise((n, i) => {
        if (!this.ready) return i(new Error("socket not ready"));
        const s = { jsonrpc: "2.0", method: e, params: t };
        this.socket.send(this.dataPack.encode(s), (o) => {
          if (o) return i(o);
          n();
        });
      });
    }
    async subscribe(e) {
      typeof e == "string" && (e = [e]);
      const t = await this.call("rpc.on", e);
      if (typeof e == "string" && t[e] !== "ok")
        throw new Error(
          "Failed subscribing to an event '" + e + "' with: " + t[e]
        );
      return t;
    }
    async unsubscribe(e) {
      typeof e == "string" && (e = [e]);
      const t = await this.call("rpc.off", e);
      if (typeof e == "string" && t[e] !== "ok")
        throw new Error("Failed unsubscribing from an event with: " + t);
      return t;
    }
    close(e, t) {
      this.socket.close(e || 1e3, t);
    }
    setAutoReconnect(e) {
      this.reconnect = e;
    }
    setReconnectInterval(e) {
      this.reconnect_interval = e;
    }
    setMaxReconnects(e) {
      this.max_reconnects = e;
    }
    _connect(e, t) {
      clearTimeout(this.reconnect_timer_id),
        (this.socket = this.webSocketFactory(e, t)),
        this.socket.addEventListener("open", () => {
          (this.ready = !0), this.emit("open"), (this.current_reconnects = 0);
        }),
        this.socket.addEventListener("message", ({ data: n }) => {
          n instanceof ArrayBuffer && (n = Ce.Buffer.from(n).toString());
          try {
            n = this.dataPack.decode(n);
          } catch {
            return;
          }
          if (n.notification && this.listeners(n.notification).length) {
            if (!Object.keys(n.params).length) return this.emit(n.notification);
            const i = [n.notification];
            if (n.params.constructor === Object) i.push(n.params);
            else for (let s = 0; s < n.params.length; s++) i.push(n.params[s]);
            return Promise.resolve().then(() => {
              this.emit.apply(this, i);
            });
          }
          if (!this.queue[n.id])
            return n.method
              ? Promise.resolve().then(() => {
                  this.emit(n.method, n == null ? void 0 : n.params);
                })
              : void 0;
          "error" in n == "result" in n &&
            this.queue[n.id].promise[1](
              new Error(
                'Server response malformed. Response must include either "result" or "error", but not both.'
              )
            ),
            this.queue[n.id].timeout && clearTimeout(this.queue[n.id].timeout),
            n.error
              ? this.queue[n.id].promise[1](n.error)
              : this.queue[n.id].promise[0](n.result),
            delete this.queue[n.id];
        }),
        this.socket.addEventListener("error", (n) => this.emit("error", n)),
        this.socket.addEventListener("close", ({ code: n, reason: i }) => {
          this.ready && setTimeout(() => this.emit("close", n, i), 0),
            (this.ready = !1),
            (this.socket = void 0),
            n !== 1e3 &&
              (this.current_reconnects++,
              this.reconnect &&
                (this.max_reconnects > this.current_reconnects ||
                  this.max_reconnects === 0) &&
                (this.reconnect_timer_id = setTimeout(
                  () => this._connect(e, t),
                  this.reconnect_interval
                )));
        });
    }
  };
class eB extends iM {
  constructor(e, t) {
    super(), (this.finished = !1), (this.destroyed = !1), J$(e);
    const n = ab(t);
    if (((this.iHash = e.create()), typeof this.iHash.update != "function"))
      throw new Error("Expected instance of class which extends utils.Hash");
    (this.blockLen = this.iHash.blockLen),
      (this.outputLen = this.iHash.outputLen);
    const i = this.blockLen,
      s = new Uint8Array(i);
    s.set(n.length > i ? e.create().update(n).digest() : n);
    for (let o = 0; o < s.length; o++) s[o] ^= 54;
    this.iHash.update(s), (this.oHash = e.create());
    for (let o = 0; o < s.length; o++) s[o] ^= 106;
    this.oHash.update(s), s.fill(0);
  }
  update(e) {
    return Kp(this), this.iHash.update(e), this;
  }
  digestInto(e) {
    Kp(this),
      fg(e, this.outputLen),
      (this.finished = !0),
      this.iHash.digestInto(e),
      this.oHash.update(e),
      this.oHash.digestInto(e),
      this.destroy();
  }
  digest() {
    const e = new Uint8Array(this.oHash.outputLen);
    return this.digestInto(e), e;
  }
  _cloneInto(e) {
    e || (e = Object.create(Object.getPrototypeOf(this), {}));
    const {
      oHash: t,
      iHash: n,
      finished: i,
      destroyed: s,
      blockLen: o,
      outputLen: a,
    } = this;
    return (
      (e = e),
      (e.finished = i),
      (e.destroyed = s),
      (e.blockLen = o),
      (e.outputLen = a),
      (e.oHash = t._cloneInto(e.oHash)),
      (e.iHash = n._cloneInto(e.iHash)),
      e
    );
  }
  destroy() {
    (this.destroyed = !0), this.oHash.destroy(), this.iHash.destroy();
  }
}
const tB = (r, e, t) => new eB(r, e).update(t).digest();
tB.create = (r, e) => new eB(r, e);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ function VE(
  r
) {
  r.lowS !== void 0 && Qs("lowS", r.lowS),
    r.prehash !== void 0 && Qs("prehash", r.prehash);
}
function AH(r) {
  const e = hb(r);
  Ku(
    e,
    { a: "field", b: "field" },
    {
      allowedPrivateKeyLengths: "array",
      wrapPrivateKey: "boolean",
      isTorsionFree: "function",
      clearCofactor: "function",
      allowInfinityPoint: "boolean",
      fromBytes: "function",
      toBytes: "function",
    }
  );
  const { endo: t, Fp: n, a: i } = e;
  if (t) {
    if (!n.eql(i, n.ZERO))
      throw new Error(
        "Endomorphism can only be defined for Koblitz curves that have a=0"
      );
    if (
      typeof t != "object" ||
      typeof t.beta != "bigint" ||
      typeof t.splitScalar != "function"
    )
      throw new Error(
        "Expected endomorphism with beta: bigint and splitScalar: function"
      );
  }
  return Object.freeze({ ...e });
}
const { bytesToNumberBE: PH, hexToBytes: CH } = Gz,
  Us = {
    Err: class extends Error {
      constructor(e = "") {
        super(e);
      }
    },
    _tlv: {
      encode: (r, e) => {
        const { Err: t } = Us;
        if (r < 0 || r > 256) throw new t("tlv.encode: wrong tag");
        if (e.length & 1) throw new t("tlv.encode: unpadded data");
        const n = e.length / 2,
          i = Jl(n);
        if ((i.length / 2) & 128)
          throw new t("tlv.encode: long form length too big");
        const s = n > 127 ? Jl((i.length / 2) | 128) : "";
        return `${Jl(r)}${s}${i}${e}`;
      },
      decode(r, e) {
        const { Err: t } = Us;
        let n = 0;
        if (r < 0 || r > 256) throw new t("tlv.encode: wrong tag");
        if (e.length < 2 || e[n++] !== r) throw new t("tlv.decode: wrong tlv");
        const i = e[n++],
          s = !!(i & 128);
        let o = 0;
        if (!s) o = i;
        else {
          const l = i & 127;
          if (!l)
            throw new t("tlv.decode(long): indefinite length not supported");
          if (l > 4) throw new t("tlv.decode(long): byte length is too big");
          const u = e.subarray(n, n + l);
          if (u.length !== l)
            throw new t("tlv.decode: length bytes not complete");
          if (u[0] === 0) throw new t("tlv.decode(long): zero leftmost byte");
          for (const c of u) o = (o << 8) | c;
          if (((n += l), o < 128))
            throw new t("tlv.decode(long): not minimal encoding");
        }
        const a = e.subarray(n, n + o);
        if (a.length !== o) throw new t("tlv.decode: wrong value length");
        return { v: a, l: e.subarray(n + o) };
      },
    },
    _int: {
      encode(r) {
        const { Err: e } = Us;
        if (r < Ws) throw new e("integer: negative integers are not allowed");
        let t = Jl(r);
        if ((Number.parseInt(t[0], 16) & 8 && (t = "00" + t), t.length & 1))
          throw new e("unexpected assertion");
        return t;
      },
      decode(r) {
        const { Err: e } = Us;
        if (r[0] & 128) throw new e("Invalid signature integer: negative");
        if (r[0] === 0 && !(r[1] & 128))
          throw new e("Invalid signature integer: unnecessary leading zero");
        return PH(r);
      },
    },
    toSig(r) {
      const { Err: e, _int: t, _tlv: n } = Us,
        i = typeof r == "string" ? CH(r) : r;
      ud(i);
      const { v: s, l: o } = n.decode(48, i);
      if (o.length) throw new e("Invalid signature: left bytes after parsing");
      const { v: a, l } = n.decode(2, s),
        { v: u, l: c } = n.decode(2, l);
      if (c.length) throw new e("Invalid signature: left bytes after parsing");
      return { r: t.decode(a), s: t.decode(u) };
    },
    hexFromSig(r) {
      const { _tlv: e, _int: t } = Us,
        n = `${e.encode(2, t.encode(r.r))}${e.encode(2, t.encode(r.s))}`;
      return e.encode(48, n);
    },
  },
  Ws = BigInt(0),
  kr = BigInt(1);
BigInt(2);
const XE = BigInt(3);
BigInt(4);
function RH(r) {
  const e = AH(r),
    { Fp: t } = e,
    n = gg(e.n, e.nBitLength),
    i =
      e.toBytes ||
      ((g, _, v) => {
        const w = _.toAffine();
        return ol(Uint8Array.from([4]), t.toBytes(w.x), t.toBytes(w.y));
      }),
    s =
      e.fromBytes ||
      ((g) => {
        const _ = g.subarray(1),
          v = t.fromBytes(_.subarray(0, t.BYTES)),
          w = t.fromBytes(_.subarray(t.BYTES, 2 * t.BYTES));
        return { x: v, y: w };
      });
  function o(g) {
    const { a: _, b: v } = e,
      w = t.sqr(g),
      x = t.mul(w, g);
    return t.add(t.add(x, t.mul(g, _)), v);
  }
  if (!t.eql(t.sqr(e.Gy), o(e.Gx)))
    throw new Error("bad generator point: equation left != right");
  function a(g) {
    return mg(g, kr, e.n);
  }
  function l(g) {
    const {
      allowedPrivateKeyLengths: _,
      nByteLength: v,
      wrapPrivateKey: w,
      n: x,
    } = e;
    if (_ && typeof g != "bigint") {
      if ((il(g) && (g = sl(g)), typeof g != "string" || !_.includes(g.length)))
        throw new Error("Invalid key");
      g = g.padStart(v * 2, "0");
    }
    let k;
    try {
      k = typeof g == "bigint" ? g : za(vr("private key", g, v));
    } catch {
      throw new Error(
        `private key must be ${v} bytes, hex or bigint, not ${typeof g}`
      );
    }
    return w && (k = At(k, x)), vi("private key", k, kr, x), k;
  }
  function u(g) {
    if (!(g instanceof d)) throw new Error("ProjectivePoint expected");
  }
  const c = Nh((g, _) => {
      const { px: v, py: w, pz: x } = g;
      if (t.eql(x, t.ONE)) return { x: v, y: w };
      const k = g.is0();
      _ == null && (_ = k ? t.ONE : t.inv(x));
      const C = t.mul(v, _),
        F = t.mul(w, _),
        I = t.mul(x, _);
      if (k) return { x: t.ZERO, y: t.ZERO };
      if (!t.eql(I, t.ONE)) throw new Error("invZ was invalid");
      return { x: C, y: F };
    }),
    h = Nh((g) => {
      if (g.is0()) {
        if (e.allowInfinityPoint && !t.is0(g.py)) return;
        throw new Error("bad point: ZERO");
      }
      const { x: _, y: v } = g.toAffine();
      if (!t.isValid(_) || !t.isValid(v))
        throw new Error("bad point: x or y not FE");
      const w = t.sqr(v),
        x = o(_);
      if (!t.eql(w, x)) throw new Error("bad point: equation left != right");
      if (!g.isTorsionFree())
        throw new Error("bad point: not in prime-order subgroup");
      return !0;
    });
  class d {
    constructor(_, v, w) {
      if (
        ((this.px = _),
        (this.py = v),
        (this.pz = w),
        _ == null || !t.isValid(_))
      )
        throw new Error("x required");
      if (v == null || !t.isValid(v)) throw new Error("y required");
      if (w == null || !t.isValid(w)) throw new Error("z required");
      Object.freeze(this);
    }
    static fromAffine(_) {
      const { x: v, y: w } = _ || {};
      if (!_ || !t.isValid(v) || !t.isValid(w))
        throw new Error("invalid affine point");
      if (_ instanceof d) throw new Error("projective point not allowed");
      const x = (k) => t.eql(k, t.ZERO);
      return x(v) && x(w) ? d.ZERO : new d(v, w, t.ONE);
    }
    get x() {
      return this.toAffine().x;
    }
    get y() {
      return this.toAffine().y;
    }
    static normalizeZ(_) {
      const v = t.invertBatch(_.map((w) => w.pz));
      return _.map((w, x) => w.toAffine(v[x])).map(d.fromAffine);
    }
    static fromHex(_) {
      const v = d.fromAffine(s(vr("pointHex", _)));
      return v.assertValidity(), v;
    }
    static fromPrivateKey(_) {
      return d.BASE.multiply(l(_));
    }
    static msm(_, v) {
      return mM(d, n, _, v);
    }
    _setWindowSize(_) {
      m.setWindowSize(this, _);
    }
    assertValidity() {
      h(this);
    }
    hasEvenY() {
      const { y: _ } = this.toAffine();
      if (t.isOdd) return !t.isOdd(_);
      throw new Error("Field doesn't support isOdd");
    }
    equals(_) {
      u(_);
      const { px: v, py: w, pz: x } = this,
        { px: k, py: C, pz: F } = _,
        I = t.eql(t.mul(v, F), t.mul(k, x)),
        G = t.eql(t.mul(w, F), t.mul(C, x));
      return I && G;
    }
    negate() {
      return new d(this.px, t.neg(this.py), this.pz);
    }
    double() {
      const { a: _, b: v } = e,
        w = t.mul(v, XE),
        { px: x, py: k, pz: C } = this;
      let F = t.ZERO,
        I = t.ZERO,
        G = t.ZERO,
        j = t.mul(x, x),
        $ = t.mul(k, k),
        H = t.mul(C, C),
        Q = t.mul(x, k);
      return (
        (Q = t.add(Q, Q)),
        (G = t.mul(x, C)),
        (G = t.add(G, G)),
        (F = t.mul(_, G)),
        (I = t.mul(w, H)),
        (I = t.add(F, I)),
        (F = t.sub($, I)),
        (I = t.add($, I)),
        (I = t.mul(F, I)),
        (F = t.mul(Q, F)),
        (G = t.mul(w, G)),
        (H = t.mul(_, H)),
        (Q = t.sub(j, H)),
        (Q = t.mul(_, Q)),
        (Q = t.add(Q, G)),
        (G = t.add(j, j)),
        (j = t.add(G, j)),
        (j = t.add(j, H)),
        (j = t.mul(j, Q)),
        (I = t.add(I, j)),
        (H = t.mul(k, C)),
        (H = t.add(H, H)),
        (j = t.mul(H, Q)),
        (F = t.sub(F, j)),
        (G = t.mul(H, $)),
        (G = t.add(G, G)),
        (G = t.add(G, G)),
        new d(F, I, G)
      );
    }
    add(_) {
      u(_);
      const { px: v, py: w, pz: x } = this,
        { px: k, py: C, pz: F } = _;
      let I = t.ZERO,
        G = t.ZERO,
        j = t.ZERO;
      const $ = e.a,
        H = t.mul(e.b, XE);
      let Q = t.mul(v, k),
        O = t.mul(w, C),
        y = t.mul(x, F),
        T = t.add(v, w),
        A = t.add(k, C);
      (T = t.mul(T, A)),
        (A = t.add(Q, O)),
        (T = t.sub(T, A)),
        (A = t.add(v, x));
      let P = t.add(k, F);
      return (
        (A = t.mul(A, P)),
        (P = t.add(Q, y)),
        (A = t.sub(A, P)),
        (P = t.add(w, x)),
        (I = t.add(C, F)),
        (P = t.mul(P, I)),
        (I = t.add(O, y)),
        (P = t.sub(P, I)),
        (j = t.mul($, A)),
        (I = t.mul(H, y)),
        (j = t.add(I, j)),
        (I = t.sub(O, j)),
        (j = t.add(O, j)),
        (G = t.mul(I, j)),
        (O = t.add(Q, Q)),
        (O = t.add(O, Q)),
        (y = t.mul($, y)),
        (A = t.mul(H, A)),
        (O = t.add(O, y)),
        (y = t.sub(Q, y)),
        (y = t.mul($, y)),
        (A = t.add(A, y)),
        (Q = t.mul(O, A)),
        (G = t.add(G, Q)),
        (Q = t.mul(P, A)),
        (I = t.mul(T, I)),
        (I = t.sub(I, Q)),
        (Q = t.mul(T, O)),
        (j = t.mul(P, j)),
        (j = t.add(j, Q)),
        new d(I, G, j)
      );
    }
    subtract(_) {
      return this.add(_.negate());
    }
    is0() {
      return this.equals(d.ZERO);
    }
    wNAF(_) {
      return m.wNAFCached(this, _, d.normalizeZ);
    }
    multiplyUnsafe(_) {
      vi("scalar", _, Ws, e.n);
      const v = d.ZERO;
      if (_ === Ws) return v;
      if (_ === kr) return this;
      const { endo: w } = e;
      if (!w) return m.unsafeLadder(this, _);
      let { k1neg: x, k1: k, k2neg: C, k2: F } = w.splitScalar(_),
        I = v,
        G = v,
        j = this;
      for (; k > Ws || F > Ws; )
        k & kr && (I = I.add(j)),
          F & kr && (G = G.add(j)),
          (j = j.double()),
          (k >>= kr),
          (F >>= kr);
      return (
        x && (I = I.negate()),
        C && (G = G.negate()),
        (G = new d(t.mul(G.px, w.beta), G.py, G.pz)),
        I.add(G)
      );
    }
    multiply(_) {
      const { endo: v, n: w } = e;
      vi("scalar", _, kr, w);
      let x, k;
      if (v) {
        const { k1neg: C, k1: F, k2neg: I, k2: G } = v.splitScalar(_);
        let { p: j, f: $ } = this.wNAF(F),
          { p: H, f: Q } = this.wNAF(G);
        (j = m.constTimeNegate(C, j)),
          (H = m.constTimeNegate(I, H)),
          (H = new d(t.mul(H.px, v.beta), H.py, H.pz)),
          (x = j.add(H)),
          (k = $.add(Q));
      } else {
        const { p: C, f: F } = this.wNAF(_);
        (x = C), (k = F);
      }
      return d.normalizeZ([x, k])[0];
    }
    multiplyAndAddUnsafe(_, v, w) {
      const x = d.BASE,
        k = (F, I) =>
          I === Ws || I === kr || !F.equals(x)
            ? F.multiplyUnsafe(I)
            : F.multiply(I),
        C = k(this, v).add(k(_, w));
      return C.is0() ? void 0 : C;
    }
    toAffine(_) {
      return c(this, _);
    }
    isTorsionFree() {
      const { h: _, isTorsionFree: v } = e;
      if (_ === kr) return !0;
      if (v) return v(d, this);
      throw new Error(
        "isTorsionFree() has not been declared for the elliptic curve"
      );
    }
    clearCofactor() {
      const { h: _, clearCofactor: v } = e;
      return _ === kr ? this : v ? v(d, this) : this.multiplyUnsafe(e.h);
    }
    toRawBytes(_ = !0) {
      return Qs("isCompressed", _), this.assertValidity(), i(d, this, _);
    }
    toHex(_ = !0) {
      return Qs("isCompressed", _), sl(this.toRawBytes(_));
    }
  }
  (d.BASE = new d(e.Gx, e.Gy, t.ONE)), (d.ZERO = new d(t.ZERO, t.ONE, t.ZERO));
  const f = e.nBitLength,
    m = pM(d, e.endo ? Math.ceil(f / 2) : f);
  return {
    CURVE: e,
    ProjectivePoint: d,
    normPrivateKeyToScalar: l,
    weierstrassEquation: o,
    isWithinCurveOrder: a,
  };
}
function DH(r) {
  const e = hb(r);
  return (
    Ku(
      e,
      { hash: "hash", hmac: "function", randomBytes: "function" },
      { bits2int: "function", bits2int_modN: "function", lowS: "boolean" }
    ),
    Object.freeze({ lowS: !0, ...e })
  );
}
function MH(r) {
  const e = DH(r),
    { Fp: t, n } = e,
    i = t.BYTES + 1,
    s = 2 * t.BYTES + 1;
  function o(y) {
    return At(y, n);
  }
  function a(y) {
    return $v(y, n);
  }
  const {
      ProjectivePoint: l,
      normPrivateKeyToScalar: u,
      weierstrassEquation: c,
      isWithinCurveOrder: h,
    } = RH({
      ...e,
      toBytes(y, T, A) {
        const P = T.toAffine(),
          R = t.toBytes(P.x),
          B = ol;
        return (
          Qs("isCompressed", A),
          A
            ? B(Uint8Array.from([T.hasEvenY() ? 2 : 3]), R)
            : B(Uint8Array.from([4]), R, t.toBytes(P.y))
        );
      },
      fromBytes(y) {
        const T = y.length,
          A = y[0],
          P = y.subarray(1);
        if (T === i && (A === 2 || A === 3)) {
          const R = za(P);
          if (!mg(R, kr, t.ORDER)) throw new Error("Point is not on curve");
          const B = c(R);
          let L;
          try {
            L = t.sqrt(B);
          } catch (N) {
            const J = N instanceof Error ? ": " + N.message : "";
            throw new Error("Point is not on curve" + J);
          }
          const M = (L & kr) === kr;
          return ((A & 1) === 1) !== M && (L = t.neg(L)), { x: R, y: L };
        } else if (T === s && A === 4) {
          const R = t.fromBytes(P.subarray(0, t.BYTES)),
            B = t.fromBytes(P.subarray(t.BYTES, 2 * t.BYTES));
          return { x: R, y: B };
        } else
          throw new Error(
            `Point of length ${T} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`
          );
      },
    }),
    d = (y) => sl(Bu(y, e.nByteLength));
  function f(y) {
    const T = n >> kr;
    return y > T;
  }
  function m(y) {
    return f(y) ? o(-y) : y;
  }
  const g = (y, T, A) => za(y.slice(T, A));
  class _ {
    constructor(T, A, P) {
      (this.r = T), (this.s = A), (this.recovery = P), this.assertValidity();
    }
    static fromCompact(T) {
      const A = e.nByteLength;
      return (
        (T = vr("compactSignature", T, A * 2)),
        new _(g(T, 0, A), g(T, A, 2 * A))
      );
    }
    static fromDER(T) {
      const { r: A, s: P } = Us.toSig(vr("DER", T));
      return new _(A, P);
    }
    assertValidity() {
      vi("r", this.r, kr, n), vi("s", this.s, kr, n);
    }
    addRecoveryBit(T) {
      return new _(this.r, this.s, T);
    }
    recoverPublicKey(T) {
      const { r: A, s: P, recovery: R } = this,
        B = F(vr("msgHash", T));
      if (R == null || ![0, 1, 2, 3].includes(R))
        throw new Error("recovery id invalid");
      const L = R === 2 || R === 3 ? A + e.n : A;
      if (L >= t.ORDER) throw new Error("recovery id 2 or 3 invalid");
      const M = R & 1 ? "03" : "02",
        b = l.fromHex(M + d(L)),
        N = a(L),
        J = o(-B * N),
        te = o(P * N),
        ne = l.BASE.multiplyAndAddUnsafe(b, J, te);
      if (!ne) throw new Error("point at infinify");
      return ne.assertValidity(), ne;
    }
    hasHighS() {
      return f(this.s);
    }
    normalizeS() {
      return this.hasHighS() ? new _(this.r, o(-this.s), this.recovery) : this;
    }
    toDERRawBytes() {
      return Mu(this.toDERHex());
    }
    toDERHex() {
      return Us.hexFromSig({ r: this.r, s: this.s });
    }
    toCompactRawBytes() {
      return Mu(this.toCompactHex());
    }
    toCompactHex() {
      return d(this.r) + d(this.s);
    }
  }
  const v = {
    isValidPrivateKey(y) {
      try {
        return u(y), !0;
      } catch {
        return !1;
      }
    },
    normPrivateKeyToScalar: u,
    randomPrivateKey: () => {
      const y = fM(e.n);
      return qz(e.randomBytes(y), e.n);
    },
    precompute(y = 8, T = l.BASE) {
      return T._setWindowSize(y), T.multiply(BigInt(3)), T;
    },
  };
  function w(y, T = !0) {
    return l.fromPrivateKey(y).toRawBytes(T);
  }
  function x(y) {
    const T = il(y),
      A = typeof y == "string",
      P = (T || A) && y.length;
    return T
      ? P === i || P === s
      : A
      ? P === 2 * i || P === 2 * s
      : y instanceof l;
  }
  function k(y, T, A = !0) {
    if (x(y)) throw new Error("first arg must be private key");
    if (!x(T)) throw new Error("second arg must be public key");
    return l.fromHex(T).multiply(u(y)).toRawBytes(A);
  }
  const C =
      e.bits2int ||
      function (y) {
        const T = za(y),
          A = y.length * 8 - e.nBitLength;
        return A > 0 ? T >> BigInt(A) : T;
      },
    F =
      e.bits2int_modN ||
      function (y) {
        return o(C(y));
      },
    I = cb(e.nBitLength);
  function G(y) {
    return vi(`num < 2^${e.nBitLength}`, y, Ws, I), Bu(y, e.nByteLength);
  }
  function j(y, T, A = $) {
    if (["recovered", "canonical"].some((ye) => ye in A))
      throw new Error("sign() legacy options not supported");
    const { hash: P, randomBytes: R } = e;
    let { lowS: B, prehash: L, extraEntropy: M } = A;
    B == null && (B = !0),
      (y = vr("msgHash", y)),
      VE(A),
      L && (y = vr("prehashed msgHash", P(y)));
    const b = F(y),
      N = u(T),
      J = [G(N), G(b)];
    if (M != null && M !== !1) {
      const ye = M === !0 ? R(t.BYTES) : M;
      J.push(vr("extraEntropy", ye));
    }
    const te = ol(...J),
      ne = b;
    function ke(ye) {
      const ve = C(ye);
      if (!h(ve)) return;
      const Tt = a(ve),
        Oe = l.BASE.multiply(ve).toAffine(),
        be = o(Oe.x);
      if (be === Ws) return;
      const mt = o(Tt * o(ne + be * N));
      if (mt === Ws) return;
      let We = (Oe.x === be ? 0 : 2) | Number(Oe.y & kr),
        He = mt;
      return B && f(mt) && ((He = m(mt)), (We ^= 1)), new _(be, He, We);
    }
    return { seed: te, k2sig: ke };
  }
  const $ = { lowS: e.lowS, prehash: !1 },
    H = { lowS: e.lowS, prehash: !1 };
  function Q(y, T, A = $) {
    const { seed: P, k2sig: R } = j(y, T, A),
      B = e;
    return cM(B.hash.outputLen, B.nByteLength, B.hmac)(P, R);
  }
  l.BASE._setWindowSize(8);
  function O(y, T, A, P = H) {
    var Oe;
    const R = y;
    if (((T = vr("msgHash", T)), (A = vr("publicKey", A)), "strict" in P))
      throw new Error("options.strict was renamed to lowS");
    VE(P);
    const { lowS: B, prehash: L } = P;
    let M, b;
    try {
      if (typeof R == "string" || il(R))
        try {
          M = _.fromDER(R);
        } catch (be) {
          if (!(be instanceof Us.Err)) throw be;
          M = _.fromCompact(R);
        }
      else if (
        typeof R == "object" &&
        typeof R.r == "bigint" &&
        typeof R.s == "bigint"
      ) {
        const { r: be, s: mt } = R;
        M = new _(be, mt);
      } else throw new Error("PARSE");
      b = l.fromHex(A);
    } catch (be) {
      if (be.message === "PARSE")
        throw new Error(
          "signature must be Signature instance, Uint8Array or hex string"
        );
      return !1;
    }
    if (B && M.hasHighS()) return !1;
    L && (T = e.hash(T));
    const { r: N, s: J } = M,
      te = F(T),
      ne = a(J),
      ke = o(te * ne),
      ye = o(N * ne),
      ve =
        (Oe = l.BASE.multiplyAndAddUnsafe(b, ke, ye)) == null
          ? void 0
          : Oe.toAffine();
    return ve ? o(ve.x) === N : !1;
  }
  return {
    CURVE: e,
    getPublicKey: w,
    getSharedSecret: k,
    sign: Q,
    verify: O,
    ProjectivePoint: l,
    Signature: _,
    utils: v,
  };
}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ function BH(
  r
) {
  return { hash: r, hmac: (e, ...t) => tB(r, e, rz(...t)), randomBytes: oM };
}
function OH(r, e) {
  const t = (n) => MH({ ...r, ...BH(n) });
  return Object.freeze({ ...t(e), create: t });
}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */ const rB =
    BigInt(
      "0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"
    ),
  YE = BigInt(
    "0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"
  ),
  IH = BigInt(1),
  Vv = BigInt(2),
  KE = (r, e) => (r + e / Vv) / e;
function FH(r) {
  const e = rB,
    t = BigInt(3),
    n = BigInt(6),
    i = BigInt(11),
    s = BigInt(22),
    o = BigInt(23),
    a = BigInt(44),
    l = BigInt(88),
    u = (r * r * r) % e,
    c = (u * u * r) % e,
    h = ($t(c, t, e) * c) % e,
    d = ($t(h, t, e) * c) % e,
    f = ($t(d, Vv, e) * u) % e,
    m = ($t(f, i, e) * f) % e,
    g = ($t(m, s, e) * m) % e,
    _ = ($t(g, a, e) * g) % e,
    v = ($t(_, l, e) * _) % e,
    w = ($t(v, a, e) * g) % e,
    x = ($t(w, t, e) * c) % e,
    k = ($t(x, o, e) * m) % e,
    C = ($t(k, n, e) * u) % e,
    F = $t(C, Vv, e);
  if (!Xv.eql(Xv.sqr(F), r)) throw new Error("Cannot find square root");
  return F;
}
const Xv = gg(rB, void 0, void 0, { sqrt: FH }),
  Ab = OH(
    {
      a: BigInt(0),
      b: BigInt(7),
      Fp: Xv,
      n: YE,
      Gx: BigInt(
        "55066263022277343669578718895168534326250603453777594175500187360389116729240"
      ),
      Gy: BigInt(
        "32670510020758816978083085130507043184471273380659243275938904335757337482424"
      ),
      h: BigInt(1),
      lowS: !0,
      endo: {
        beta: BigInt(
          "0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"
        ),
        splitScalar: (r) => {
          const e = YE,
            t = BigInt("0x3086d221a7d46bcde86c90e49284eb15"),
            n = -IH * BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),
            i = BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),
            s = t,
            o = BigInt("0x100000000000000000000000000000000"),
            a = KE(s * r, e),
            l = KE(-n * r, e);
          let u = At(r - a * t - l * i, e),
            c = At(-a * n - l * s, e);
          const h = u > o,
            d = c > o;
          if ((h && (u = e - u), d && (c = e - c), u > o || c > o))
            throw new Error("splitScalar: Endomorphism failed, k=" + r);
          return { k1neg: h, k1: u, k2neg: d, k2: c };
        },
      },
    },
    Wv
  );
BigInt(0);
Ab.ProjectivePoint;
function qE(r) {
  try {
    return fb.ExtendedPoint.fromHex(r), !0;
  } catch {
    return !1;
  }
}
const NH = (r, e) => fb.sign(r, e.slice(0, 32)),
  LH = fb.verify,
  Ur = (r) =>
    Ce.Buffer.isBuffer(r)
      ? r
      : r instanceof Uint8Array
      ? Ce.Buffer.from(r.buffer, r.byteOffset, r.byteLength)
      : Ce.Buffer.from(r);
class UH {
  constructor(e) {
    Object.assign(this, e);
  }
  encode() {
    return Ce.Buffer.from(EM(Zf, this));
  }
  static decode(e) {
    return TM(Zf, this, e);
  }
  static decodeUnchecked(e) {
    return vM(Zf, this, e);
  }
}
const Zf = new Map();
var nB;
const GH = 32,
  qo = 32;
function jH(r) {
  return r._bn !== void 0;
}
let ZE = 1;
class me extends UH {
  constructor(e) {
    if ((super({}), (this._bn = void 0), jH(e))) this._bn = e._bn;
    else {
      if (typeof e == "string") {
        const t = zr.decode(e);
        if (t.length != qo) throw new Error("Invalid public key input");
        this._bn = new zE(t);
      } else this._bn = new zE(e);
      if (this._bn.byteLength() > qo)
        throw new Error("Invalid public key input");
    }
  }
  static unique() {
    const e = new me(ZE);
    return (ZE += 1), new me(e.toBuffer());
  }
  equals(e) {
    return this._bn.eq(e._bn);
  }
  toBase58() {
    return zr.encode(this.toBytes());
  }
  toJSON() {
    return this.toBase58();
  }
  toBytes() {
    const e = this.toBuffer();
    return new Uint8Array(e.buffer, e.byteOffset, e.byteLength);
  }
  toBuffer() {
    const e = this._bn.toArrayLike(Ce.Buffer);
    if (e.length === qo) return e;
    const t = Ce.Buffer.alloc(32);
    return e.copy(t, 32 - e.length), t;
  }
  get [Symbol.toStringTag]() {
    return `PublicKey(${this.toString()})`;
  }
  toString() {
    return this.toBase58();
  }
  static async createWithSeed(e, t, n) {
    const i = Ce.Buffer.concat([e.toBuffer(), Ce.Buffer.from(t), n.toBuffer()]),
      s = Wv(i);
    return new me(s);
  }
  static createProgramAddressSync(e, t) {
    let n = Ce.Buffer.alloc(0);
    e.forEach(function (s) {
      if (s.length > GH) throw new TypeError("Max seed length exceeded");
      n = Ce.Buffer.concat([n, Ur(s)]);
    }),
      (n = Ce.Buffer.concat([
        n,
        t.toBuffer(),
        Ce.Buffer.from("ProgramDerivedAddress"),
      ]));
    const i = Wv(n);
    if (qE(i))
      throw new Error("Invalid seeds, address must fall off the curve");
    return new me(i);
  }
  static async createProgramAddress(e, t) {
    return this.createProgramAddressSync(e, t);
  }
  static findProgramAddressSync(e, t) {
    let n = 255,
      i;
    for (; n != 0; ) {
      try {
        const s = e.concat(Ce.Buffer.from([n]));
        i = this.createProgramAddressSync(s, t);
      } catch (s) {
        if (s instanceof TypeError) throw s;
        n--;
        continue;
      }
      return [i, n];
    }
    throw new Error("Unable to find a viable program address nonce");
  }
  static async findProgramAddress(e, t) {
    return this.findProgramAddressSync(e, t);
  }
  static isOnCurve(e) {
    const t = new me(e);
    return qE(t.toBytes());
  }
}
nB = me;
me.default = new nB("11111111111111111111111111111111");
Zf.set(me, { kind: "struct", fields: [["_bn", "u256"]] });
new me("BPFLoader1111111111111111111111111111111111");
const du = 1232,
  iB = 127,
  sB = 64;
class oB extends Error {
  constructor(e) {
    super(`Signature ${e} has expired: block height exceeded.`),
      (this.signature = void 0),
      (this.signature = e);
  }
}
Object.defineProperty(oB.prototype, "name", {
  value: "TransactionExpiredBlockheightExceededError",
});
class aB extends Error {
  constructor(e, t) {
    super(
      `Transaction was not confirmed in ${t.toFixed(
        2
      )} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`
    ),
      (this.signature = void 0),
      (this.signature = e);
  }
}
Object.defineProperty(aB.prototype, "name", {
  value: "TransactionExpiredTimeoutError",
});
class Lc extends Error {
  constructor(e) {
    super(`Signature ${e} has expired: the nonce is no longer valid.`),
      (this.signature = void 0),
      (this.signature = e);
  }
}
Object.defineProperty(Lc.prototype, "name", {
  value: "TransactionExpiredNonceInvalidError",
});
class rm {
  constructor(e, t) {
    (this.staticAccountKeys = void 0),
      (this.accountKeysFromLookups = void 0),
      (this.staticAccountKeys = e),
      (this.accountKeysFromLookups = t);
  }
  keySegments() {
    const e = [this.staticAccountKeys];
    return (
      this.accountKeysFromLookups &&
        (e.push(this.accountKeysFromLookups.writable),
        e.push(this.accountKeysFromLookups.readonly)),
      e
    );
  }
  get(e) {
    for (const t of this.keySegments()) {
      if (e < t.length) return t[e];
      e -= t.length;
    }
  }
  get length() {
    return this.keySegments().flat().length;
  }
  compileInstructions(e) {
    if (this.length > 256)
      throw new Error("Account index overflow encountered during compilation");
    const n = new Map();
    this.keySegments()
      .flat()
      .forEach((s, o) => {
        n.set(s.toBase58(), o);
      });
    const i = (s) => {
      const o = n.get(s.toBase58());
      if (o === void 0)
        throw new Error(
          "Encountered an unknown instruction account key during compilation"
        );
      return o;
    };
    return e.map((s) => ({
      programIdIndex: i(s.programId),
      accountKeyIndexes: s.keys.map((o) => i(o.pubkey)),
      data: s.data,
    }));
  }
}
const je = (r = "publicKey") => kt(32, r),
  eu = (r = "string") => {
    const e = de(
        [_e("length"), _e("lengthPadding"), kt(Wa(_e(), -8), "chars")],
        r
      ),
      t = e.decode.bind(e),
      n = e.encode.bind(e),
      i = e;
    return (
      (i.decode = (s, o) => t(s, o).chars.toString()),
      (i.encode = (s, o, a) => {
        const l = { chars: Ce.Buffer.from(s, "utf8") };
        return n(l, o, a);
      }),
      (i.alloc = (s) =>
        _e().span + _e().span + Ce.Buffer.from(s, "utf8").length),
      i
    );
  },
  $H = (r = "authorized") => de([je("staker"), je("withdrawer")], r),
  zH = (r = "lockup") =>
    de([jn("unixTimestamp"), jn("epoch"), je("custodian")], r),
  WH = (r = "voteInit") =>
    de(
      [
        je("nodePubkey"),
        je("authorizedVoter"),
        je("authorizedWithdrawer"),
        $e("commission"),
      ],
      r
    ),
  HH = (r = "voteAuthorizeWithSeedArgs") =>
    de(
      [
        _e("voteAuthorizationType"),
        je("currentAuthorityDerivedKeyOwnerPubkey"),
        eu("currentAuthorityDerivedKeySeed"),
        je("newAuthorized"),
      ],
      r
    );
function lB(r, e) {
  const t = (i) => {
    if (i.span >= 0) return i.span;
    if (typeof i.alloc == "function") return i.alloc(e[i.property]);
    if ("count" in i && "elementLayout" in i) {
      const s = e[i.property];
      if (Array.isArray(s)) return s.length * t(i.elementLayout);
    } else if ("fields" in i) return lB({ layout: i }, e[i.property]);
    return 0;
  };
  let n = 0;
  return (
    r.layout.fields.forEach((i) => {
      n += t(i);
    }),
    n
  );
}
function hi(r) {
  let e = 0,
    t = 0;
  for (;;) {
    let n = r.shift();
    if (((e |= (n & 127) << (t * 7)), (t += 1), !(n & 128))) break;
  }
  return e;
}
function di(r, e) {
  let t = e;
  for (;;) {
    let n = t & 127;
    if (((t >>= 7), t == 0)) {
      r.push(n);
      break;
    } else (n |= 128), r.push(n);
  }
}
function fr(r, e) {
  if (!r) throw new Error(e || "Assertion failed");
}
class Sg {
  constructor(e, t) {
    (this.payer = void 0),
      (this.keyMetaMap = void 0),
      (this.payer = e),
      (this.keyMetaMap = t);
  }
  static compile(e, t) {
    const n = new Map(),
      i = (o) => {
        const a = o.toBase58();
        let l = n.get(a);
        return (
          l === void 0 &&
            ((l = { isSigner: !1, isWritable: !1, isInvoked: !1 }),
            n.set(a, l)),
          l
        );
      },
      s = i(t);
    (s.isSigner = !0), (s.isWritable = !0);
    for (const o of e) {
      i(o.programId).isInvoked = !0;
      for (const a of o.keys) {
        const l = i(a.pubkey);
        l.isSigner || (l.isSigner = a.isSigner),
          l.isWritable || (l.isWritable = a.isWritable);
      }
    }
    return new Sg(t, n);
  }
  getMessageComponents() {
    const e = [...this.keyMetaMap.entries()];
    fr(e.length <= 256, "Max static account keys length exceeded");
    const t = e.filter(([, l]) => l.isSigner && l.isWritable),
      n = e.filter(([, l]) => l.isSigner && !l.isWritable),
      i = e.filter(([, l]) => !l.isSigner && l.isWritable),
      s = e.filter(([, l]) => !l.isSigner && !l.isWritable),
      o = {
        numRequiredSignatures: t.length + n.length,
        numReadonlySignedAccounts: n.length,
        numReadonlyUnsignedAccounts: s.length,
      };
    {
      fr(t.length > 0, "Expected at least one writable signer key");
      const [l] = t[0];
      fr(
        l === this.payer.toBase58(),
        "Expected first writable signer key to be the fee payer"
      );
    }
    const a = [
      ...t.map(([l]) => new me(l)),
      ...n.map(([l]) => new me(l)),
      ...i.map(([l]) => new me(l)),
      ...s.map(([l]) => new me(l)),
    ];
    return [o, a];
  }
  extractTableLookup(e) {
    const [t, n] = this.drainKeysFoundInLookupTable(
        e.state.addresses,
        (o) => !o.isSigner && !o.isInvoked && o.isWritable
      ),
      [i, s] = this.drainKeysFoundInLookupTable(
        e.state.addresses,
        (o) => !o.isSigner && !o.isInvoked && !o.isWritable
      );
    if (!(t.length === 0 && i.length === 0))
      return [
        { accountKey: e.key, writableIndexes: t, readonlyIndexes: i },
        { writable: n, readonly: s },
      ];
  }
  drainKeysFoundInLookupTable(e, t) {
    const n = new Array(),
      i = new Array();
    for (const [s, o] of this.keyMetaMap.entries())
      if (t(o)) {
        const a = new me(s),
          l = e.findIndex((u) => u.equals(a));
        l >= 0 &&
          (fr(l < 256, "Max lookup table index exceeded"),
          n.push(l),
          i.push(a),
          this.keyMetaMap.delete(s));
      }
    return [n, i];
  }
}
const uB = "Reached end of buffer unexpectedly";
function Hs(r) {
  if (r.length === 0) throw new Error(uB);
  return r.shift();
}
function fi(r, ...e) {
  const [t] = e;
  if (e.length === 2 ? t + (e[1] ?? 0) > r.length : t >= r.length)
    throw new Error(uB);
  return r.splice(...e);
}
class ta {
  constructor(e) {
    (this.header = void 0),
      (this.accountKeys = void 0),
      (this.recentBlockhash = void 0),
      (this.instructions = void 0),
      (this.indexToProgramIds = new Map()),
      (this.header = e.header),
      (this.accountKeys = e.accountKeys.map((t) => new me(t))),
      (this.recentBlockhash = e.recentBlockhash),
      (this.instructions = e.instructions),
      this.instructions.forEach((t) =>
        this.indexToProgramIds.set(
          t.programIdIndex,
          this.accountKeys[t.programIdIndex]
        )
      );
  }
  get version() {
    return "legacy";
  }
  get staticAccountKeys() {
    return this.accountKeys;
  }
  get compiledInstructions() {
    return this.instructions.map((e) => ({
      programIdIndex: e.programIdIndex,
      accountKeyIndexes: e.accounts,
      data: zr.decode(e.data),
    }));
  }
  get addressTableLookups() {
    return [];
  }
  getAccountKeys() {
    return new rm(this.staticAccountKeys);
  }
  static compile(e) {
    const t = Sg.compile(e.instructions, e.payerKey),
      [n, i] = t.getMessageComponents(),
      o = new rm(i)
        .compileInstructions(e.instructions)
        .map((a) => ({
          programIdIndex: a.programIdIndex,
          accounts: a.accountKeyIndexes,
          data: zr.encode(a.data),
        }));
    return new ta({
      header: n,
      accountKeys: i,
      recentBlockhash: e.recentBlockhash,
      instructions: o,
    });
  }
  isAccountSigner(e) {
    return e < this.header.numRequiredSignatures;
  }
  isAccountWritable(e) {
    const t = this.header.numRequiredSignatures;
    if (e >= this.header.numRequiredSignatures) {
      const n = e - t,
        s =
          this.accountKeys.length - t - this.header.numReadonlyUnsignedAccounts;
      return n < s;
    } else {
      const n = t - this.header.numReadonlySignedAccounts;
      return e < n;
    }
  }
  isProgramId(e) {
    return this.indexToProgramIds.has(e);
  }
  programIds() {
    return [...this.indexToProgramIds.values()];
  }
  nonProgramIds() {
    return this.accountKeys.filter((e, t) => !this.isProgramId(t));
  }
  serialize() {
    const e = this.accountKeys.length;
    let t = [];
    di(t, e);
    const n = this.instructions.map((h) => {
      const { accounts: d, programIdIndex: f } = h,
        m = Array.from(zr.decode(h.data));
      let g = [];
      di(g, d.length);
      let _ = [];
      return (
        di(_, m.length),
        {
          programIdIndex: f,
          keyIndicesCount: Ce.Buffer.from(g),
          keyIndices: d,
          dataLength: Ce.Buffer.from(_),
          data: m,
        }
      );
    });
    let i = [];
    di(i, n.length);
    let s = Ce.Buffer.alloc(du);
    Ce.Buffer.from(i).copy(s);
    let o = i.length;
    n.forEach((h) => {
      const f = de([
        $e("programIdIndex"),
        kt(h.keyIndicesCount.length, "keyIndicesCount"),
        un($e("keyIndex"), h.keyIndices.length, "keyIndices"),
        kt(h.dataLength.length, "dataLength"),
        un($e("userdatum"), h.data.length, "data"),
      ]).encode(h, s, o);
      o += f;
    }),
      (s = s.slice(0, o));
    const a = de([
        kt(1, "numRequiredSignatures"),
        kt(1, "numReadonlySignedAccounts"),
        kt(1, "numReadonlyUnsignedAccounts"),
        kt(t.length, "keyCount"),
        un(je("key"), e, "keys"),
        je("recentBlockhash"),
      ]),
      l = {
        numRequiredSignatures: Ce.Buffer.from([
          this.header.numRequiredSignatures,
        ]),
        numReadonlySignedAccounts: Ce.Buffer.from([
          this.header.numReadonlySignedAccounts,
        ]),
        numReadonlyUnsignedAccounts: Ce.Buffer.from([
          this.header.numReadonlyUnsignedAccounts,
        ]),
        keyCount: Ce.Buffer.from(t),
        keys: this.accountKeys.map((h) => Ur(h.toBytes())),
        recentBlockhash: zr.decode(this.recentBlockhash),
      };
    let u = Ce.Buffer.alloc(2048);
    const c = a.encode(l, u);
    return s.copy(u, c), u.slice(0, c + s.length);
  }
  static from(e) {
    let t = [...e];
    const n = Hs(t);
    if (n !== (n & iB))
      throw new Error(
        "Versioned messages must be deserialized with VersionedMessage.deserialize()"
      );
    const i = Hs(t),
      s = Hs(t),
      o = hi(t);
    let a = [];
    for (let d = 0; d < o; d++) {
      const f = fi(t, 0, qo);
      a.push(new me(Ce.Buffer.from(f)));
    }
    const l = fi(t, 0, qo),
      u = hi(t);
    let c = [];
    for (let d = 0; d < u; d++) {
      const f = Hs(t),
        m = hi(t),
        g = fi(t, 0, m),
        _ = hi(t),
        v = fi(t, 0, _),
        w = zr.encode(Ce.Buffer.from(v));
      c.push({ programIdIndex: f, accounts: g, data: w });
    }
    const h = {
      header: {
        numRequiredSignatures: n,
        numReadonlySignedAccounts: i,
        numReadonlyUnsignedAccounts: s,
      },
      recentBlockhash: zr.encode(Ce.Buffer.from(l)),
      accountKeys: a,
      instructions: c,
    };
    return new ta(h);
  }
}
class nm {
  constructor(e) {
    (this.header = void 0),
      (this.staticAccountKeys = void 0),
      (this.recentBlockhash = void 0),
      (this.compiledInstructions = void 0),
      (this.addressTableLookups = void 0),
      (this.header = e.header),
      (this.staticAccountKeys = e.staticAccountKeys),
      (this.recentBlockhash = e.recentBlockhash),
      (this.compiledInstructions = e.compiledInstructions),
      (this.addressTableLookups = e.addressTableLookups);
  }
  get version() {
    return 0;
  }
  get numAccountKeysFromLookups() {
    let e = 0;
    for (const t of this.addressTableLookups)
      e += t.readonlyIndexes.length + t.writableIndexes.length;
    return e;
  }
  getAccountKeys(e) {
    let t;
    if (e && "accountKeysFromLookups" in e && e.accountKeysFromLookups) {
      if (
        this.numAccountKeysFromLookups !=
        e.accountKeysFromLookups.writable.length +
          e.accountKeysFromLookups.readonly.length
      )
        throw new Error(
          "Failed to get account keys because of a mismatch in the number of account keys from lookups"
        );
      t = e.accountKeysFromLookups;
    } else if (
      e &&
      "addressLookupTableAccounts" in e &&
      e.addressLookupTableAccounts
    )
      t = this.resolveAddressTableLookups(e.addressLookupTableAccounts);
    else if (this.addressTableLookups.length > 0)
      throw new Error(
        "Failed to get account keys because address table lookups were not resolved"
      );
    return new rm(this.staticAccountKeys, t);
  }
  isAccountSigner(e) {
    return e < this.header.numRequiredSignatures;
  }
  isAccountWritable(e) {
    const t = this.header.numRequiredSignatures,
      n = this.staticAccountKeys.length;
    if (e >= n) {
      const i = e - n,
        s = this.addressTableLookups.reduce(
          (o, a) => o + a.writableIndexes.length,
          0
        );
      return i < s;
    } else if (e >= this.header.numRequiredSignatures) {
      const i = e - t,
        o = n - t - this.header.numReadonlyUnsignedAccounts;
      return i < o;
    } else {
      const i = t - this.header.numReadonlySignedAccounts;
      return e < i;
    }
  }
  resolveAddressTableLookups(e) {
    const t = { writable: [], readonly: [] };
    for (const n of this.addressTableLookups) {
      const i = e.find((s) => s.key.equals(n.accountKey));
      if (!i)
        throw new Error(
          `Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`
        );
      for (const s of n.writableIndexes)
        if (s < i.state.addresses.length) t.writable.push(i.state.addresses[s]);
        else
          throw new Error(
            `Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`
          );
      for (const s of n.readonlyIndexes)
        if (s < i.state.addresses.length) t.readonly.push(i.state.addresses[s]);
        else
          throw new Error(
            `Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`
          );
    }
    return t;
  }
  static compile(e) {
    const t = Sg.compile(e.instructions, e.payerKey),
      n = new Array(),
      i = { writable: new Array(), readonly: new Array() },
      s = e.addressLookupTableAccounts || [];
    for (const c of s) {
      const h = t.extractTableLookup(c);
      if (h !== void 0) {
        const [d, { writable: f, readonly: m }] = h;
        n.push(d), i.writable.push(...f), i.readonly.push(...m);
      }
    }
    const [o, a] = t.getMessageComponents(),
      u = new rm(a, i).compileInstructions(e.instructions);
    return new nm({
      header: o,
      staticAccountKeys: a,
      recentBlockhash: e.recentBlockhash,
      compiledInstructions: u,
      addressTableLookups: n,
    });
  }
  serialize() {
    const e = Array();
    di(e, this.staticAccountKeys.length);
    const t = this.serializeInstructions(),
      n = Array();
    di(n, this.compiledInstructions.length);
    const i = this.serializeAddressTableLookups(),
      s = Array();
    di(s, this.addressTableLookups.length);
    const o = de([
        $e("prefix"),
        de(
          [
            $e("numRequiredSignatures"),
            $e("numReadonlySignedAccounts"),
            $e("numReadonlyUnsignedAccounts"),
          ],
          "header"
        ),
        kt(e.length, "staticAccountKeysLength"),
        un(je(), this.staticAccountKeys.length, "staticAccountKeys"),
        je("recentBlockhash"),
        kt(n.length, "instructionsLength"),
        kt(t.length, "serializedInstructions"),
        kt(s.length, "addressTableLookupsLength"),
        kt(i.length, "serializedAddressTableLookups"),
      ]),
      a = new Uint8Array(du),
      u = o.encode(
        {
          prefix: 128,
          header: this.header,
          staticAccountKeysLength: new Uint8Array(e),
          staticAccountKeys: this.staticAccountKeys.map((c) => c.toBytes()),
          recentBlockhash: zr.decode(this.recentBlockhash),
          instructionsLength: new Uint8Array(n),
          serializedInstructions: t,
          addressTableLookupsLength: new Uint8Array(s),
          serializedAddressTableLookups: i,
        },
        a
      );
    return a.slice(0, u);
  }
  serializeInstructions() {
    let e = 0;
    const t = new Uint8Array(du);
    for (const n of this.compiledInstructions) {
      const i = Array();
      di(i, n.accountKeyIndexes.length);
      const s = Array();
      di(s, n.data.length);
      const o = de([
        $e("programIdIndex"),
        kt(i.length, "encodedAccountKeyIndexesLength"),
        un($e(), n.accountKeyIndexes.length, "accountKeyIndexes"),
        kt(s.length, "encodedDataLength"),
        kt(n.data.length, "data"),
      ]);
      e += o.encode(
        {
          programIdIndex: n.programIdIndex,
          encodedAccountKeyIndexesLength: new Uint8Array(i),
          accountKeyIndexes: n.accountKeyIndexes,
          encodedDataLength: new Uint8Array(s),
          data: n.data,
        },
        t,
        e
      );
    }
    return t.slice(0, e);
  }
  serializeAddressTableLookups() {
    let e = 0;
    const t = new Uint8Array(du);
    for (const n of this.addressTableLookups) {
      const i = Array();
      di(i, n.writableIndexes.length);
      const s = Array();
      di(s, n.readonlyIndexes.length);
      const o = de([
        je("accountKey"),
        kt(i.length, "encodedWritableIndexesLength"),
        un($e(), n.writableIndexes.length, "writableIndexes"),
        kt(s.length, "encodedReadonlyIndexesLength"),
        un($e(), n.readonlyIndexes.length, "readonlyIndexes"),
      ]);
      e += o.encode(
        {
          accountKey: n.accountKey.toBytes(),
          encodedWritableIndexesLength: new Uint8Array(i),
          writableIndexes: n.writableIndexes,
          encodedReadonlyIndexesLength: new Uint8Array(s),
          readonlyIndexes: n.readonlyIndexes,
        },
        t,
        e
      );
    }
    return t.slice(0, e);
  }
  static deserialize(e) {
    let t = [...e];
    const n = Hs(t),
      i = n & iB;
    fr(n !== i, "Expected versioned message but received legacy message");
    const s = i;
    fr(
      s === 0,
      `Expected versioned message with version 0 but found version ${s}`
    );
    const o = {
        numRequiredSignatures: Hs(t),
        numReadonlySignedAccounts: Hs(t),
        numReadonlyUnsignedAccounts: Hs(t),
      },
      a = [],
      l = hi(t);
    for (let m = 0; m < l; m++) a.push(new me(fi(t, 0, qo)));
    const u = zr.encode(fi(t, 0, qo)),
      c = hi(t),
      h = [];
    for (let m = 0; m < c; m++) {
      const g = Hs(t),
        _ = hi(t),
        v = fi(t, 0, _),
        w = hi(t),
        x = new Uint8Array(fi(t, 0, w));
      h.push({ programIdIndex: g, accountKeyIndexes: v, data: x });
    }
    const d = hi(t),
      f = [];
    for (let m = 0; m < d; m++) {
      const g = new me(fi(t, 0, qo)),
        _ = hi(t),
        v = fi(t, 0, _),
        w = hi(t),
        x = fi(t, 0, w);
      f.push({ accountKey: g, writableIndexes: v, readonlyIndexes: x });
    }
    return new nm({
      header: o,
      staticAccountKeys: a,
      recentBlockhash: u,
      compiledInstructions: h,
      addressTableLookups: f,
    });
  }
}
let So = (function (r) {
  return (
    (r[(r.BLOCKHEIGHT_EXCEEDED = 0)] = "BLOCKHEIGHT_EXCEEDED"),
    (r[(r.PROCESSED = 1)] = "PROCESSED"),
    (r[(r.TIMED_OUT = 2)] = "TIMED_OUT"),
    (r[(r.NONCE_INVALID = 3)] = "NONCE_INVALID"),
    r
  );
})({});
const VH = Ce.Buffer.alloc(sB).fill(0);
class Ln {
  constructor(e) {
    (this.keys = void 0),
      (this.programId = void 0),
      (this.data = Ce.Buffer.alloc(0)),
      (this.programId = e.programId),
      (this.keys = e.keys),
      e.data && (this.data = e.data);
  }
  toJSON() {
    return {
      keys: this.keys.map(({ pubkey: e, isSigner: t, isWritable: n }) => ({
        pubkey: e.toJSON(),
        isSigner: t,
        isWritable: n,
      })),
      programId: this.programId.toJSON(),
      data: [...this.data],
    };
  }
}
class zi {
  get signature() {
    return this.signatures.length > 0 ? this.signatures[0].signature : null;
  }
  constructor(e) {
    if (
      ((this.signatures = []),
      (this.feePayer = void 0),
      (this.instructions = []),
      (this.recentBlockhash = void 0),
      (this.lastValidBlockHeight = void 0),
      (this.nonceInfo = void 0),
      (this.minNonceContextSlot = void 0),
      (this._message = void 0),
      (this._json = void 0),
      !!e)
    )
      if (
        (e.feePayer && (this.feePayer = e.feePayer),
        e.signatures && (this.signatures = e.signatures),
        Object.prototype.hasOwnProperty.call(e, "nonceInfo"))
      ) {
        const { minContextSlot: t, nonceInfo: n } = e;
        (this.minNonceContextSlot = t), (this.nonceInfo = n);
      } else if (
        Object.prototype.hasOwnProperty.call(e, "lastValidBlockHeight")
      ) {
        const { blockhash: t, lastValidBlockHeight: n } = e;
        (this.recentBlockhash = t), (this.lastValidBlockHeight = n);
      } else {
        const { recentBlockhash: t, nonceInfo: n } = e;
        n && (this.nonceInfo = n), (this.recentBlockhash = t);
      }
  }
  toJSON() {
    return {
      recentBlockhash: this.recentBlockhash || null,
      feePayer: this.feePayer ? this.feePayer.toJSON() : null,
      nonceInfo: this.nonceInfo
        ? {
            nonce: this.nonceInfo.nonce,
            nonceInstruction: this.nonceInfo.nonceInstruction.toJSON(),
          }
        : null,
      instructions: this.instructions.map((e) => e.toJSON()),
      signers: this.signatures.map(({ publicKey: e }) => e.toJSON()),
    };
  }
  add(...e) {
    if (e.length === 0) throw new Error("No instructions");
    return (
      e.forEach((t) => {
        "instructions" in t
          ? (this.instructions = this.instructions.concat(t.instructions))
          : "data" in t && "programId" in t && "keys" in t
          ? this.instructions.push(t)
          : this.instructions.push(new Ln(t));
      }),
      this
    );
  }
  compileMessage() {
    if (
      this._message &&
      JSON.stringify(this.toJSON()) === JSON.stringify(this._json)
    )
      return this._message;
    let e, t;
    if (
      (this.nonceInfo
        ? ((e = this.nonceInfo.nonce),
          this.instructions[0] != this.nonceInfo.nonceInstruction
            ? (t = [this.nonceInfo.nonceInstruction, ...this.instructions])
            : (t = this.instructions))
        : ((e = this.recentBlockhash), (t = this.instructions)),
      !e)
    )
      throw new Error("Transaction recentBlockhash required");
    t.length < 1 && console.warn("No instructions provided");
    let n;
    if (this.feePayer) n = this.feePayer;
    else if (this.signatures.length > 0 && this.signatures[0].publicKey)
      n = this.signatures[0].publicKey;
    else throw new Error("Transaction fee payer required");
    for (let g = 0; g < t.length; g++)
      if (t[g].programId === void 0)
        throw new Error(
          `Transaction instruction index ${g} has undefined program id`
        );
    const i = [],
      s = [];
    t.forEach((g) => {
      g.keys.forEach((v) => {
        s.push({ ...v });
      });
      const _ = g.programId.toString();
      i.includes(_) || i.push(_);
    }),
      i.forEach((g) => {
        s.push({ pubkey: new me(g), isSigner: !1, isWritable: !1 });
      });
    const o = [];
    s.forEach((g) => {
      const _ = g.pubkey.toString(),
        v = o.findIndex((w) => w.pubkey.toString() === _);
      v > -1
        ? ((o[v].isWritable = o[v].isWritable || g.isWritable),
          (o[v].isSigner = o[v].isSigner || g.isSigner))
        : o.push(g);
    }),
      o.sort(function (g, _) {
        if (g.isSigner !== _.isSigner) return g.isSigner ? -1 : 1;
        if (g.isWritable !== _.isWritable) return g.isWritable ? -1 : 1;
        const v = {
          localeMatcher: "best fit",
          usage: "sort",
          sensitivity: "variant",
          ignorePunctuation: !1,
          numeric: !1,
          caseFirst: "lower",
        };
        return g.pubkey.toBase58().localeCompare(_.pubkey.toBase58(), "en", v);
      });
    const a = o.findIndex((g) => g.pubkey.equals(n));
    if (a > -1) {
      const [g] = o.splice(a, 1);
      (g.isSigner = !0), (g.isWritable = !0), o.unshift(g);
    } else o.unshift({ pubkey: n, isSigner: !0, isWritable: !0 });
    for (const g of this.signatures) {
      const _ = o.findIndex((v) => v.pubkey.equals(g.publicKey));
      if (_ > -1)
        o[_].isSigner ||
          ((o[_].isSigner = !0),
          console.warn(
            "Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."
          ));
      else throw new Error(`unknown signer: ${g.publicKey.toString()}`);
    }
    let l = 0,
      u = 0,
      c = 0;
    const h = [],
      d = [];
    o.forEach(({ pubkey: g, isSigner: _, isWritable: v }) => {
      _
        ? (h.push(g.toString()), (l += 1), v || (u += 1))
        : (d.push(g.toString()), v || (c += 1));
    });
    const f = h.concat(d),
      m = t.map((g) => {
        const { data: _, programId: v } = g;
        return {
          programIdIndex: f.indexOf(v.toString()),
          accounts: g.keys.map((w) => f.indexOf(w.pubkey.toString())),
          data: zr.encode(_),
        };
      });
    return (
      m.forEach((g) => {
        fr(g.programIdIndex >= 0), g.accounts.forEach((_) => fr(_ >= 0));
      }),
      new ta({
        header: {
          numRequiredSignatures: l,
          numReadonlySignedAccounts: u,
          numReadonlyUnsignedAccounts: c,
        },
        accountKeys: f,
        recentBlockhash: e,
        instructions: m,
      })
    );
  }
  _compile() {
    const e = this.compileMessage(),
      t = e.accountKeys.slice(0, e.header.numRequiredSignatures);
    return (
      (this.signatures.length === t.length &&
        this.signatures.every((i, s) => t[s].equals(i.publicKey))) ||
        (this.signatures = t.map((n) => ({ signature: null, publicKey: n }))),
      e
    );
  }
  serializeMessage() {
    return this._compile().serialize();
  }
  async getEstimatedFee(e) {
    return (await e.getFeeForMessage(this.compileMessage())).value;
  }
  setSigners(...e) {
    if (e.length === 0) throw new Error("No signers");
    const t = new Set();
    this.signatures = e
      .filter((n) => {
        const i = n.toString();
        return t.has(i) ? !1 : (t.add(i), !0);
      })
      .map((n) => ({ signature: null, publicKey: n }));
  }
  sign(...e) {
    if (e.length === 0) throw new Error("No signers");
    const t = new Set(),
      n = [];
    for (const s of e) {
      const o = s.publicKey.toString();
      t.has(o) || (t.add(o), n.push(s));
    }
    this.signatures = n.map((s) => ({
      signature: null,
      publicKey: s.publicKey,
    }));
    const i = this._compile();
    this._partialSign(i, ...n);
  }
  partialSign(...e) {
    if (e.length === 0) throw new Error("No signers");
    const t = new Set(),
      n = [];
    for (const s of e) {
      const o = s.publicKey.toString();
      t.has(o) || (t.add(o), n.push(s));
    }
    const i = this._compile();
    this._partialSign(i, ...n);
  }
  _partialSign(e, ...t) {
    const n = e.serialize();
    t.forEach((i) => {
      const s = NH(n, i.secretKey);
      this._addSignature(i.publicKey, Ur(s));
    });
  }
  addSignature(e, t) {
    this._compile(), this._addSignature(e, t);
  }
  _addSignature(e, t) {
    fr(t.length === 64);
    const n = this.signatures.findIndex((i) => e.equals(i.publicKey));
    if (n < 0) throw new Error(`unknown signer: ${e.toString()}`);
    this.signatures[n].signature = Ce.Buffer.from(t);
  }
  verifySignatures(e = !0) {
    return !this._getMessageSignednessErrors(this.serializeMessage(), e);
  }
  _getMessageSignednessErrors(e, t) {
    const n = {};
    for (const { signature: i, publicKey: s } of this.signatures)
      i === null
        ? t && (n.missing || (n.missing = [])).push(s)
        : LH(i, e, s.toBytes()) || (n.invalid || (n.invalid = [])).push(s);
    return n.invalid || n.missing ? n : void 0;
  }
  serialize(e) {
    const { requireAllSignatures: t, verifySignatures: n } = Object.assign(
        { requireAllSignatures: !0, verifySignatures: !0 },
        e
      ),
      i = this.serializeMessage();
    if (n) {
      const s = this._getMessageSignednessErrors(i, t);
      if (s) {
        let o = "Signature verification failed.";
        throw (
          (s.invalid &&
            (o += `
Invalid signature for public key${
              s.invalid.length === 1 ? "" : "(s)"
            } [\`${s.invalid.map((a) => a.toBase58()).join("`, `")}\`].`),
          s.missing &&
            (o += `
Missing signature for public key${
              s.missing.length === 1 ? "" : "(s)"
            } [\`${s.missing.map((a) => a.toBase58()).join("`, `")}\`].`),
          new Error(o))
        );
      }
    }
    return this._serialize(i);
  }
  _serialize(e) {
    const { signatures: t } = this,
      n = [];
    di(n, t.length);
    const i = n.length + t.length * 64 + e.length,
      s = Ce.Buffer.alloc(i);
    return (
      fr(t.length < 256),
      Ce.Buffer.from(n).copy(s, 0),
      t.forEach(({ signature: o }, a) => {
        o !== null &&
          (fr(o.length === 64, "signature has invalid length"),
          Ce.Buffer.from(o).copy(s, n.length + a * 64));
      }),
      e.copy(s, n.length + t.length * 64),
      fr(s.length <= du, `Transaction too large: ${s.length} > ${du}`),
      s
    );
  }
  get keys() {
    return (
      fr(this.instructions.length === 1),
      this.instructions[0].keys.map((e) => e.pubkey)
    );
  }
  get programId() {
    return fr(this.instructions.length === 1), this.instructions[0].programId;
  }
  get data() {
    return fr(this.instructions.length === 1), this.instructions[0].data;
  }
  static from(e) {
    let t = [...e];
    const n = hi(t);
    let i = [];
    for (let s = 0; s < n; s++) {
      const o = fi(t, 0, sB);
      i.push(zr.encode(Ce.Buffer.from(o)));
    }
    return zi.populate(ta.from(t), i);
  }
  static populate(e, t = []) {
    const n = new zi();
    return (
      (n.recentBlockhash = e.recentBlockhash),
      e.header.numRequiredSignatures > 0 && (n.feePayer = e.accountKeys[0]),
      t.forEach((i, s) => {
        const o = {
          signature: i == zr.encode(VH) ? null : zr.decode(i),
          publicKey: e.accountKeys[s],
        };
        n.signatures.push(o);
      }),
      e.instructions.forEach((i) => {
        const s = i.accounts.map((o) => {
          const a = e.accountKeys[o];
          return {
            pubkey: a,
            isSigner:
              n.signatures.some(
                (l) => l.publicKey.toString() === a.toString()
              ) || e.isAccountSigner(o),
            isWritable: e.isAccountWritable(o),
          };
        });
        n.instructions.push(
          new Ln({
            keys: s,
            programId: e.accountKeys[i.programIdIndex],
            data: zr.decode(i.data),
          })
        );
      }),
      (n._message = e),
      (n._json = n.toJSON()),
      n
    );
  }
}
const XH = 160,
  YH = 64,
  KH = XH / YH,
  qH = 1e3 / KH;
new me("SysvarC1ock11111111111111111111111111111111");
new me("SysvarEpochSchedu1e111111111111111111111111");
new me("Sysvar1nstructions1111111111111111111111111");
const h0 = new me("SysvarRecentB1ockHashes11111111111111111111"),
  QE = new me("SysvarRent111111111111111111111111111111111");
new me("SysvarRewards111111111111111111111111111111");
new me("SysvarS1otHashes111111111111111111111111111");
new me("SysvarS1otHistory11111111111111111111111111");
new me("SysvarStakeHistory1111111111111111111111111");
class Yv extends Error {
  constructor({ action: e, signature: t, transactionMessage: n, logs: i }) {
    const s = i
        ? `Logs: 
${JSON.stringify(i.slice(-10), null, 2)}. `
        : "",
      o =
        "\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";
    let a;
    switch (e) {
      case "send":
        a =
          `Transaction ${t} resulted in an error. 
${n}. ` +
          s +
          o;
        break;
      case "simulate":
        a =
          `Simulation failed. 
Message: ${n}. 
` +
          s +
          o;
        break;
      default:
        a = `Unknown action '${((l) => l)(e)}'`;
    }
    super(a),
      (this.signature = void 0),
      (this.transactionMessage = void 0),
      (this.transactionLogs = void 0),
      (this.signature = t),
      (this.transactionMessage = n),
      (this.transactionLogs = i || void 0);
  }
  get transactionError() {
    return {
      message: this.transactionMessage,
      logs: Array.isArray(this.transactionLogs) ? this.transactionLogs : void 0,
    };
  }
  get logs() {
    const e = this.transactionLogs;
    if (!(e != null && typeof e == "object" && "then" in e)) return e;
  }
  async getLogs(e) {
    return (
      Array.isArray(this.transactionLogs) ||
        (this.transactionLogs = new Promise((t, n) => {
          e.getTransaction(this.signature)
            .then((i) => {
              if (i && i.meta && i.meta.logMessages) {
                const s = i.meta.logMessages;
                (this.transactionLogs = s), t(s);
              } else n(new Error("Log messages not found"));
            })
            .catch(n);
        })),
      await this.transactionLogs
    );
  }
}
class pe extends Error {
  constructor({ code: e, message: t, data: n }, i) {
    super(i != null ? `${i}: ${t}` : t),
      (this.code = void 0),
      (this.data = void 0),
      (this.code = e),
      (this.data = n),
      (this.name = "SolanaJSONRPCError");
  }
}
async function ZH(r, e, t, n) {
  const i = n,
    s = await r.sendTransaction(e, t, i);
  let o;
  if (e.recentBlockhash != null && e.lastValidBlockHeight != null)
    o = (
      await r.confirmTransaction(
        {
          abortSignal: n == null ? void 0 : n.abortSignal,
          signature: s,
          blockhash: e.recentBlockhash,
          lastValidBlockHeight: e.lastValidBlockHeight,
        },
        n
      )
    ).value;
  else if (e.minNonceContextSlot != null && e.nonceInfo != null) {
    const { nonceInstruction: a } = e.nonceInfo,
      l = a.keys[0].pubkey;
    o = (
      await r.confirmTransaction(
        {
          abortSignal: n == null ? void 0 : n.abortSignal,
          minContextSlot: e.minNonceContextSlot,
          nonceAccountPubkey: l,
          nonceValue: e.nonceInfo.nonce,
          signature: s,
        },
        n
      )
    ).value;
  } else o = (await r.confirmTransaction(s, n)).value;
  if (o.err)
    throw s != null
      ? new Yv({
          action: "send",
          signature: s,
          transactionMessage: `Status: (${JSON.stringify(o)})`,
        })
      : new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);
  return s;
}
function Ol(r) {
  return new Promise((e) => setTimeout(e, r));
}
function oi(r, e) {
  const t = r.layout.span >= 0 ? r.layout.span : lB(r, e),
    n = Ce.Buffer.alloc(t),
    i = Object.assign({ instruction: r.index }, e);
  return r.layout.encode(i, n), n;
}
const QH = Nr("lamportsPerSignature"),
  cB = de([
    _e("version"),
    _e("state"),
    je("authorizedPubkey"),
    je("nonce"),
    de([QH], "feeCalculator"),
  ]),
  JE = cB.span;
class Pb {
  constructor(e) {
    (this.authorizedPubkey = void 0),
      (this.nonce = void 0),
      (this.feeCalculator = void 0),
      (this.authorizedPubkey = e.authorizedPubkey),
      (this.nonce = e.nonce),
      (this.feeCalculator = e.feeCalculator);
  }
  static fromAccountData(e) {
    const t = cB.decode(Ur(e), 0);
    return new Pb({
      authorizedPubkey: new me(t.authorizedPubkey),
      nonce: new me(t.nonce).toString(),
      feeCalculator: t.feeCalculator,
    });
  }
}
const JH = (r) => {
    const e = r.decode.bind(r),
      t = r.encode.bind(r);
    return { decode: e, encode: t };
  },
  e7 = (r) => (e) => {
    const t = kt(r, e),
      { encode: n, decode: i } = JH(t),
      s = t;
    return (
      (s.decode = (o, a) => {
        const l = i(o, a);
        return zM(Ce.Buffer.from(l));
      }),
      (s.encode = (o, a, l) => {
        const u = WM(o, r);
        return n(u, a, l);
      }),
      s
    );
  },
  Iu = e7(8),
  ai = Object.freeze({
    Create: {
      index: 0,
      layout: de([
        _e("instruction"),
        jn("lamports"),
        jn("space"),
        je("programId"),
      ]),
    },
    Assign: { index: 1, layout: de([_e("instruction"), je("programId")]) },
    Transfer: { index: 2, layout: de([_e("instruction"), Iu("lamports")]) },
    CreateWithSeed: {
      index: 3,
      layout: de([
        _e("instruction"),
        je("base"),
        eu("seed"),
        jn("lamports"),
        jn("space"),
        je("programId"),
      ]),
    },
    AdvanceNonceAccount: { index: 4, layout: de([_e("instruction")]) },
    WithdrawNonceAccount: {
      index: 5,
      layout: de([_e("instruction"), jn("lamports")]),
    },
    InitializeNonceAccount: {
      index: 6,
      layout: de([_e("instruction"), je("authorized")]),
    },
    AuthorizeNonceAccount: {
      index: 7,
      layout: de([_e("instruction"), je("authorized")]),
    },
    Allocate: { index: 8, layout: de([_e("instruction"), jn("space")]) },
    AllocateWithSeed: {
      index: 9,
      layout: de([
        _e("instruction"),
        je("base"),
        eu("seed"),
        jn("space"),
        je("programId"),
      ]),
    },
    AssignWithSeed: {
      index: 10,
      layout: de([_e("instruction"), je("base"), eu("seed"), je("programId")]),
    },
    TransferWithSeed: {
      index: 11,
      layout: de([
        _e("instruction"),
        Iu("lamports"),
        eu("seed"),
        je("programId"),
      ]),
    },
    UpgradeNonceAccount: { index: 12, layout: de([_e("instruction")]) },
  });
class Uh {
  constructor() {}
  static createAccount(e) {
    const t = ai.Create,
      n = oi(t, {
        lamports: e.lamports,
        space: e.space,
        programId: Ur(e.programId.toBuffer()),
      });
    return new Ln({
      keys: [
        { pubkey: e.fromPubkey, isSigner: !0, isWritable: !0 },
        { pubkey: e.newAccountPubkey, isSigner: !0, isWritable: !0 },
      ],
      programId: this.programId,
      data: n,
    });
  }
  static transfer(e) {
    let t, n;
    if ("basePubkey" in e) {
      const i = ai.TransferWithSeed;
      (t = oi(i, {
        lamports: BigInt(e.lamports),
        seed: e.seed,
        programId: Ur(e.programId.toBuffer()),
      })),
        (n = [
          { pubkey: e.fromPubkey, isSigner: !1, isWritable: !0 },
          { pubkey: e.basePubkey, isSigner: !0, isWritable: !1 },
          { pubkey: e.toPubkey, isSigner: !1, isWritable: !0 },
        ]);
    } else {
      const i = ai.Transfer;
      (t = oi(i, { lamports: BigInt(e.lamports) })),
        (n = [
          { pubkey: e.fromPubkey, isSigner: !0, isWritable: !0 },
          { pubkey: e.toPubkey, isSigner: !1, isWritable: !0 },
        ]);
    }
    return new Ln({ keys: n, programId: this.programId, data: t });
  }
  static assign(e) {
    let t, n;
    if ("basePubkey" in e) {
      const i = ai.AssignWithSeed;
      (t = oi(i, {
        base: Ur(e.basePubkey.toBuffer()),
        seed: e.seed,
        programId: Ur(e.programId.toBuffer()),
      })),
        (n = [
          { pubkey: e.accountPubkey, isSigner: !1, isWritable: !0 },
          { pubkey: e.basePubkey, isSigner: !0, isWritable: !1 },
        ]);
    } else {
      const i = ai.Assign;
      (t = oi(i, { programId: Ur(e.programId.toBuffer()) })),
        (n = [{ pubkey: e.accountPubkey, isSigner: !0, isWritable: !0 }]);
    }
    return new Ln({ keys: n, programId: this.programId, data: t });
  }
  static createAccountWithSeed(e) {
    const t = ai.CreateWithSeed,
      n = oi(t, {
        base: Ur(e.basePubkey.toBuffer()),
        seed: e.seed,
        lamports: e.lamports,
        space: e.space,
        programId: Ur(e.programId.toBuffer()),
      });
    let i = [
      { pubkey: e.fromPubkey, isSigner: !0, isWritable: !0 },
      { pubkey: e.newAccountPubkey, isSigner: !1, isWritable: !0 },
    ];
    return (
      e.basePubkey.equals(e.fromPubkey) ||
        i.push({ pubkey: e.basePubkey, isSigner: !0, isWritable: !1 }),
      new Ln({ keys: i, programId: this.programId, data: n })
    );
  }
  static createNonceAccount(e) {
    const t = new zi();
    "basePubkey" in e && "seed" in e
      ? t.add(
          Uh.createAccountWithSeed({
            fromPubkey: e.fromPubkey,
            newAccountPubkey: e.noncePubkey,
            basePubkey: e.basePubkey,
            seed: e.seed,
            lamports: e.lamports,
            space: JE,
            programId: this.programId,
          })
        )
      : t.add(
          Uh.createAccount({
            fromPubkey: e.fromPubkey,
            newAccountPubkey: e.noncePubkey,
            lamports: e.lamports,
            space: JE,
            programId: this.programId,
          })
        );
    const n = {
      noncePubkey: e.noncePubkey,
      authorizedPubkey: e.authorizedPubkey,
    };
    return t.add(this.nonceInitialize(n)), t;
  }
  static nonceInitialize(e) {
    const t = ai.InitializeNonceAccount,
      n = oi(t, { authorized: Ur(e.authorizedPubkey.toBuffer()) }),
      i = {
        keys: [
          { pubkey: e.noncePubkey, isSigner: !1, isWritable: !0 },
          { pubkey: h0, isSigner: !1, isWritable: !1 },
          { pubkey: QE, isSigner: !1, isWritable: !1 },
        ],
        programId: this.programId,
        data: n,
      };
    return new Ln(i);
  }
  static nonceAdvance(e) {
    const t = ai.AdvanceNonceAccount,
      n = oi(t),
      i = {
        keys: [
          { pubkey: e.noncePubkey, isSigner: !1, isWritable: !0 },
          { pubkey: h0, isSigner: !1, isWritable: !1 },
          { pubkey: e.authorizedPubkey, isSigner: !0, isWritable: !1 },
        ],
        programId: this.programId,
        data: n,
      };
    return new Ln(i);
  }
  static nonceWithdraw(e) {
    const t = ai.WithdrawNonceAccount,
      n = oi(t, { lamports: e.lamports });
    return new Ln({
      keys: [
        { pubkey: e.noncePubkey, isSigner: !1, isWritable: !0 },
        { pubkey: e.toPubkey, isSigner: !1, isWritable: !0 },
        { pubkey: h0, isSigner: !1, isWritable: !1 },
        { pubkey: QE, isSigner: !1, isWritable: !1 },
        { pubkey: e.authorizedPubkey, isSigner: !0, isWritable: !1 },
      ],
      programId: this.programId,
      data: n,
    });
  }
  static nonceAuthorize(e) {
    const t = ai.AuthorizeNonceAccount,
      n = oi(t, { authorized: Ur(e.newAuthorizedPubkey.toBuffer()) });
    return new Ln({
      keys: [
        { pubkey: e.noncePubkey, isSigner: !1, isWritable: !0 },
        { pubkey: e.authorizedPubkey, isSigner: !0, isWritable: !1 },
      ],
      programId: this.programId,
      data: n,
    });
  }
  static allocate(e) {
    let t, n;
    if ("basePubkey" in e) {
      const i = ai.AllocateWithSeed;
      (t = oi(i, {
        base: Ur(e.basePubkey.toBuffer()),
        seed: e.seed,
        space: e.space,
        programId: Ur(e.programId.toBuffer()),
      })),
        (n = [
          { pubkey: e.accountPubkey, isSigner: !1, isWritable: !0 },
          { pubkey: e.basePubkey, isSigner: !0, isWritable: !1 },
        ]);
    } else {
      const i = ai.Allocate;
      (t = oi(i, { space: e.space })),
        (n = [{ pubkey: e.accountPubkey, isSigner: !0, isWritable: !0 }]);
    }
    return new Ln({ keys: n, programId: this.programId, data: t });
  }
}
Uh.programId = new me("11111111111111111111111111111111");
new me("BPFLoader2111111111111111111111111111111111");
function t7(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
var d0, eT;
function r7() {
  if (eT) return d0;
  eT = 1;
  var r = Object.prototype.toString,
    e =
      Object.keys ||
      function (n) {
        var i = [];
        for (var s in n) i.push(s);
        return i;
      };
  function t(n, i) {
    var s, o, a, l, u, c, h;
    if (n === !0) return "true";
    if (n === !1) return "false";
    switch (typeof n) {
      case "object":
        if (n === null) return null;
        if (n.toJSON && typeof n.toJSON == "function") return t(n.toJSON(), i);
        if (((h = r.call(n)), h === "[object Array]")) {
          for (a = "[", o = n.length - 1, s = 0; s < o; s++)
            a += t(n[s], !0) + ",";
          return o > -1 && (a += t(n[s], !0)), a + "]";
        } else if (h === "[object Object]") {
          for (l = e(n).sort(), o = l.length, a = "", s = 0; s < o; )
            (u = l[s]),
              (c = t(n[u], !1)),
              c !== void 0 &&
                (a && (a += ","), (a += JSON.stringify(u) + ":" + c)),
              s++;
          return "{" + a + "}";
        } else return JSON.stringify(n);
      case "function":
      case "undefined":
        return i ? null : void 0;
      case "string":
        return JSON.stringify(n);
      default:
        return isFinite(n) ? n : null;
    }
  }
  return (
    (d0 = function (n) {
      var i = t(n, !1);
      if (i !== void 0) return "" + i;
    }),
    d0
  );
}
var n7 = r7(),
  tT = t7(n7);
const fc = 32;
function f0(r) {
  let e = 0;
  for (; r > 1; ) (r /= 2), e++;
  return e;
}
function i7(r) {
  return r === 0
    ? 1
    : (r--,
      (r |= r >> 1),
      (r |= r >> 2),
      (r |= r >> 4),
      (r |= r >> 8),
      (r |= r >> 16),
      (r |= r >> 32),
      r + 1);
}
class s7 {
  constructor(e, t, n, i, s) {
    (this.slotsPerEpoch = void 0),
      (this.leaderScheduleSlotOffset = void 0),
      (this.warmup = void 0),
      (this.firstNormalEpoch = void 0),
      (this.firstNormalSlot = void 0),
      (this.slotsPerEpoch = e),
      (this.leaderScheduleSlotOffset = t),
      (this.warmup = n),
      (this.firstNormalEpoch = i),
      (this.firstNormalSlot = s);
  }
  getEpoch(e) {
    return this.getEpochAndSlotIndex(e)[0];
  }
  getEpochAndSlotIndex(e) {
    if (e < this.firstNormalSlot) {
      const t = f0(i7(e + fc + 1)) - f0(fc) - 1,
        n = this.getSlotsInEpoch(t),
        i = e - (n - fc);
      return [t, i];
    } else {
      const t = e - this.firstNormalSlot,
        n = Math.floor(t / this.slotsPerEpoch),
        i = this.firstNormalEpoch + n,
        s = t % this.slotsPerEpoch;
      return [i, s];
    }
  }
  getFirstSlotInEpoch(e) {
    return e <= this.firstNormalEpoch
      ? (Math.pow(2, e) - 1) * fc
      : (e - this.firstNormalEpoch) * this.slotsPerEpoch + this.firstNormalSlot;
  }
  getLastSlotInEpoch(e) {
    return this.getFirstSlotInEpoch(e) + this.getSlotsInEpoch(e) - 1;
  }
  getSlotsInEpoch(e) {
    return e < this.firstNormalEpoch
      ? Math.pow(2, e + f0(fc))
      : this.slotsPerEpoch;
  }
}
var o7 = globalThis.fetch;
class a7 extends kH {
  constructor(e, t, n) {
    const i = (s) => {
      const o = EH(s, {
        autoconnect: !0,
        max_reconnects: 5,
        reconnect: !0,
        reconnect_interval: 1e3,
        ...t,
      });
      return (
        "socket" in o
          ? (this.underlyingSocket = o.socket)
          : (this.underlyingSocket = o),
        o
      );
    };
    super(i, e, t, n), (this.underlyingSocket = void 0);
  }
  call(...e) {
    var n;
    const t = (n = this.underlyingSocket) == null ? void 0 : n.readyState;
    return t === 1
      ? super.call(...e)
      : Promise.reject(
          new Error(
            "Tried to call a JSON-RPC method `" +
              e[0] +
              "` but the socket was not `CONNECTING` or `OPEN` (`readyState` was " +
              t +
              ")"
          )
        );
  }
  notify(...e) {
    var n;
    const t = (n = this.underlyingSocket) == null ? void 0 : n.readyState;
    return t === 1
      ? super.notify(...e)
      : Promise.reject(
          new Error(
            "Tried to send a JSON-RPC notification `" +
              e[0] +
              "` but the socket was not `CONNECTING` or `OPEN` (`readyState` was " +
              t +
              ")"
          )
        );
  }
}
function l7(r, e) {
  let t;
  try {
    t = r.layout.decode(e);
  } catch (n) {
    throw new Error("invalid instruction; " + n);
  }
  if (t.typeIndex !== r.index)
    throw new Error(
      `invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`
    );
  return t;
}
const rT = 56;
class nT {
  constructor(e) {
    (this.key = void 0),
      (this.state = void 0),
      (this.key = e.key),
      (this.state = e.state);
  }
  isActive() {
    const e = BigInt("0xffffffffffffffff");
    return this.state.deactivationSlot === e;
  }
  static deserialize(e) {
    const t = l7(u7, e),
      n = e.length - rT;
    fr(n >= 0, "lookup table is invalid"),
      fr(n % 32 === 0, "lookup table is invalid");
    const i = n / 32,
      { addresses: s } = de([un(je(), i, "addresses")]).decode(e.slice(rT));
    return {
      deactivationSlot: t.deactivationSlot,
      lastExtendedSlot: t.lastExtendedSlot,
      lastExtendedSlotStartIndex: t.lastExtendedStartIndex,
      authority: t.authority.length !== 0 ? new me(t.authority[0]) : void 0,
      addresses: s.map((o) => new me(o)),
    };
  }
}
const u7 = {
    index: 1,
    layout: de([
      _e("typeIndex"),
      Iu("deactivationSlot"),
      Nr("lastExtendedSlot"),
      $e("lastExtendedStartIndex"),
      $e(),
      un(je(), Wa($e(), -1), "authority"),
    ]),
  },
  c7 = /^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;
function h7(r) {
  const e = r.match(c7);
  if (e == null) throw TypeError(`Failed to validate endpoint URL \`${r}\``);
  const [t, n, i, s] = e,
    o = r.startsWith("https:") ? "wss:" : "ws:",
    a = i == null ? null : parseInt(i.slice(1), 10),
    l = a == null ? "" : `:${a + 1}`;
  return `${o}//${n}${l}${s}`;
}
const Gt = fd(Tb(me), ie(), (r) => new me(r)),
  hB = kb([ie(), Bt("base64")]),
  Cb = fd(Tb(Ce.Buffer), hB, (r) => Ce.Buffer.from(r[0], "base64")),
  d7 = 30 * 1e3;
function f7(r) {
  if (/^https?:/.test(r) === !1)
    throw new TypeError("Endpoint URL must start with `http:` or `https:`.");
  return r;
}
function gt(r) {
  let e, t;
  if (typeof r == "string") e = r;
  else if (r) {
    const { commitment: n, ...i } = r;
    (e = n), (t = i);
  }
  return { commitment: e, config: t };
}
function iT(r) {
  return r.map((e) =>
    "memcmp" in e
      ? {
          ...e,
          memcmp: { ...e.memcmp, encoding: e.memcmp.encoding ?? "base58" },
        }
      : e
  );
}
function dB(r) {
  return hn([
    ee({ jsonrpc: Bt("2.0"), id: ie(), result: r }),
    ee({
      jsonrpc: Bt("2.0"),
      id: ie(),
      error: ee({ code: Qu(), message: ie(), data: xe(YW()) }),
    }),
  ]);
}
const p7 = dB(Qu());
function Ne(r) {
  return fd(dB(r), p7, (e) =>
    "error" in e ? e : { ...e, result: se(e.result, r) }
  );
}
function zt(r) {
  return Ne(ee({ context: ee({ slot: X() }), value: r }));
}
function Eg(r) {
  return ee({ context: ee({ slot: X() }), value: r });
}
function p0(r, e) {
  return r === 0
    ? new nm({
        header: e.header,
        staticAccountKeys: e.accountKeys.map((t) => new me(t)),
        recentBlockhash: e.recentBlockhash,
        compiledInstructions: e.instructions.map((t) => ({
          programIdIndex: t.programIdIndex,
          accountKeyIndexes: t.accounts,
          data: zr.decode(t.data),
        })),
        addressTableLookups: e.addressTableLookups,
      })
    : new ta(e);
}
const m7 = ee({
    foundation: X(),
    foundationTerm: X(),
    initial: X(),
    taper: X(),
    terminal: X(),
  }),
  g7 = Ne(
    ae(
      le(
        ee({
          epoch: X(),
          effectiveSlot: X(),
          amount: X(),
          postBalance: X(),
          commission: xe(le(X())),
        })
      )
    )
  ),
  _7 = ae(ee({ slot: X(), prioritizationFee: X() })),
  y7 = ee({ total: X(), validator: X(), foundation: X(), epoch: X() }),
  v7 = ee({
    epoch: X(),
    slotIndex: X(),
    slotsInEpoch: X(),
    absoluteSlot: X(),
    blockHeight: xe(X()),
    transactionCount: xe(X()),
  }),
  x7 = ee({
    slotsPerEpoch: X(),
    leaderScheduleSlotOffset: X(),
    warmup: ks(),
    firstNormalEpoch: X(),
    firstNormalSlot: X(),
  }),
  w7 = VM(ie(), ae(X())),
  _l = le(hn([ee({}), ie()])),
  b7 = ee({ err: _l }),
  S7 = Bt("receivedSignature"),
  E7 = ee({ "solana-core": ie(), "feature-set": xe(X()) }),
  T7 = ee({ program: ie(), programId: Gt, parsed: Qu() }),
  k7 = ee({ programId: Gt, accounts: ae(Gt), data: ie() }),
  sT = zt(
    ee({
      err: le(hn([ee({}), ie()])),
      logs: le(ae(ie())),
      accounts: xe(
        le(
          ae(
            le(
              ee({
                executable: ks(),
                owner: ie(),
                lamports: X(),
                data: ae(ie()),
                rentEpoch: xe(X()),
              })
            )
          )
        )
      ),
      unitsConsumed: xe(X()),
      returnData: xe(
        le(ee({ programId: ie(), data: kb([ie(), Bt("base64")]) }))
      ),
      innerInstructions: xe(
        le(ae(ee({ index: X(), instructions: ae(hn([T7, k7])) })))
      ),
    })
  ),
  A7 = zt(
    ee({
      byIdentity: VM(ie(), ae(X())),
      range: ee({ firstSlot: X(), lastSlot: X() }),
    })
  );
function P7(r, e, t, n, i, s) {
  const o = t || o7;
  let a;
  s != null &&
    console.warn(
      "You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."
    );
  let l;
  return (
    n &&
      (l = async (c, h) => {
        const d = await new Promise((f, m) => {
          try {
            n(c, h, (g, _) => f([g, _]));
          } catch (g) {
            m(g);
          }
        });
        return await o(...d);
      }),
    new wH(async (c, h) => {
      const d = {
        method: "POST",
        body: c,
        agent: a,
        headers: Object.assign(
          { "Content-Type": "application/json" },
          e || {},
          CV
        ),
      };
      try {
        let f = 5,
          m,
          g = 500;
        for (
          ;
          l ? (m = await l(r, d)) : (m = await o(r, d)),
            !(m.status !== 429 || i === !0 || ((f -= 1), f === 0));

        )
          console.error(
            `Server responded with ${m.status} ${m.statusText}.  Retrying after ${g}ms delay...`
          ),
            await Ol(g),
            (g *= 2);
        const _ = await m.text();
        m.ok ? h(null, _) : h(new Error(`${m.status} ${m.statusText}: ${_}`));
      } catch (f) {
        f instanceof Error && h(f);
      }
    }, {})
  );
}
function C7(r) {
  return (e, t) =>
    new Promise((n, i) => {
      r.request(e, t, (s, o) => {
        if (s) {
          i(s);
          return;
        }
        n(o);
      });
    });
}
function R7(r) {
  return (e) =>
    new Promise((t, n) => {
      e.length === 0 && t([]);
      const i = e.map((s) => r.request(s.methodName, s.args));
      r.request(i, (s, o) => {
        if (s) {
          n(s);
          return;
        }
        t(o);
      });
    });
}
const D7 = Ne(m7),
  M7 = Ne(y7),
  B7 = Ne(_7),
  O7 = Ne(v7),
  I7 = Ne(x7),
  F7 = Ne(w7),
  N7 = Ne(X()),
  L7 = zt(
    ee({
      total: X(),
      circulating: X(),
      nonCirculating: X(),
      nonCirculatingAccounts: ae(Gt),
    })
  ),
  Kv = ee({
    amount: ie(),
    uiAmount: le(X()),
    decimals: X(),
    uiAmountString: xe(ie()),
  }),
  U7 = zt(
    ae(
      ee({
        address: Gt,
        amount: ie(),
        uiAmount: le(X()),
        decimals: X(),
        uiAmountString: xe(ie()),
      })
    )
  ),
  G7 = zt(
    ae(
      ee({
        pubkey: Gt,
        account: ee({
          executable: ks(),
          owner: Gt,
          lamports: X(),
          data: Cb,
          rentEpoch: X(),
        }),
      })
    )
  ),
  qv = ee({ program: ie(), parsed: Qu(), space: X() }),
  j7 = zt(
    ae(
      ee({
        pubkey: Gt,
        account: ee({
          executable: ks(),
          owner: Gt,
          lamports: X(),
          data: qv,
          rentEpoch: X(),
        }),
      })
    )
  ),
  $7 = zt(ae(ee({ lamports: X(), address: Gt }))),
  Gh = ee({
    executable: ks(),
    owner: Gt,
    lamports: X(),
    data: Cb,
    rentEpoch: X(),
  }),
  z7 = ee({ pubkey: Gt, account: Gh }),
  W7 = fd(hn([Tb(Ce.Buffer), qv]), hn([hB, qv]), (r) =>
    Array.isArray(r) ? se(r, Cb) : r
  ),
  Zv = ee({
    executable: ks(),
    owner: Gt,
    lamports: X(),
    data: W7,
    rentEpoch: X(),
  }),
  H7 = ee({ pubkey: Gt, account: Zv }),
  V7 = ee({
    state: hn([
      Bt("active"),
      Bt("inactive"),
      Bt("activating"),
      Bt("deactivating"),
    ]),
    active: X(),
    inactive: X(),
  }),
  X7 = Ne(
    ae(
      ee({
        signature: ie(),
        slot: X(),
        err: _l,
        memo: le(ie()),
        blockTime: xe(le(X())),
      })
    )
  ),
  Y7 = Ne(
    ae(
      ee({
        signature: ie(),
        slot: X(),
        err: _l,
        memo: le(ie()),
        blockTime: xe(le(X())),
      })
    )
  ),
  K7 = ee({ subscription: X(), result: Eg(Gh) }),
  q7 = ee({ pubkey: Gt, account: Gh }),
  Z7 = ee({ subscription: X(), result: Eg(q7) }),
  Q7 = ee({ parent: X(), slot: X(), root: X() }),
  J7 = ee({ subscription: X(), result: Q7 }),
  eV = hn([
    ee({
      type: hn([
        Bt("firstShredReceived"),
        Bt("completed"),
        Bt("optimisticConfirmation"),
        Bt("root"),
      ]),
      slot: X(),
      timestamp: X(),
    }),
    ee({ type: Bt("createdBank"), parent: X(), slot: X(), timestamp: X() }),
    ee({
      type: Bt("frozen"),
      slot: X(),
      timestamp: X(),
      stats: ee({
        numTransactionEntries: X(),
        numSuccessfulTransactions: X(),
        numFailedTransactions: X(),
        maxTransactionsPerEntry: X(),
      }),
    }),
    ee({ type: Bt("dead"), slot: X(), timestamp: X(), err: ie() }),
  ]),
  tV = ee({ subscription: X(), result: eV }),
  rV = ee({ subscription: X(), result: Eg(hn([b7, S7])) }),
  nV = ee({ subscription: X(), result: X() }),
  iV = ee({
    pubkey: ie(),
    gossip: le(ie()),
    tpu: le(ie()),
    rpc: le(ie()),
    version: le(ie()),
  }),
  oT = ee({
    votePubkey: ie(),
    nodePubkey: ie(),
    activatedStake: X(),
    epochVoteAccount: ks(),
    epochCredits: ae(kb([X(), X(), X()])),
    commission: X(),
    lastVote: X(),
    rootSlot: le(X()),
  }),
  sV = Ne(ee({ current: ae(oT), delinquent: ae(oT) })),
  oV = hn([Bt("processed"), Bt("confirmed"), Bt("finalized")]),
  aV = ee({
    slot: X(),
    confirmations: le(X()),
    err: _l,
    confirmationStatus: xe(oV),
  }),
  lV = zt(ae(le(aV))),
  uV = Ne(X()),
  fB = ee({
    accountKey: Gt,
    writableIndexes: ae(X()),
    readonlyIndexes: ae(X()),
  }),
  Rb = ee({
    signatures: ae(ie()),
    message: ee({
      accountKeys: ae(ie()),
      header: ee({
        numRequiredSignatures: X(),
        numReadonlySignedAccounts: X(),
        numReadonlyUnsignedAccounts: X(),
      }),
      instructions: ae(
        ee({ accounts: ae(X()), data: ie(), programIdIndex: X() })
      ),
      recentBlockhash: ie(),
      addressTableLookups: xe(ae(fB)),
    }),
  }),
  pB = ee({
    pubkey: Gt,
    signer: ks(),
    writable: ks(),
    source: xe(hn([Bt("transaction"), Bt("lookupTable")])),
  }),
  mB = ee({ accountKeys: ae(pB), signatures: ae(ie()) }),
  gB = ee({ parsed: Qu(), program: ie(), programId: Gt }),
  _B = ee({ accounts: ae(Gt), data: ie(), programId: Gt }),
  cV = hn([_B, gB]),
  hV = hn([
    ee({ parsed: Qu(), program: ie(), programId: ie() }),
    ee({ accounts: ae(ie()), data: ie(), programId: ie() }),
  ]),
  yB = fd(cV, hV, (r) => ("accounts" in r ? se(r, _B) : se(r, gB))),
  vB = ee({
    signatures: ae(ie()),
    message: ee({
      accountKeys: ae(pB),
      instructions: ae(yB),
      recentBlockhash: ie(),
      addressTableLookups: xe(le(ae(fB))),
    }),
  }),
  im = ee({
    accountIndex: X(),
    mint: ie(),
    owner: xe(ie()),
    uiTokenAmount: Kv,
  }),
  xB = ee({ writable: ae(Gt), readonly: ae(Gt) }),
  Tg = ee({
    err: _l,
    fee: X(),
    innerInstructions: xe(
      le(
        ae(
          ee({
            index: X(),
            instructions: ae(
              ee({ accounts: ae(X()), data: ie(), programIdIndex: X() })
            ),
          })
        )
      )
    ),
    preBalances: ae(X()),
    postBalances: ae(X()),
    logMessages: xe(le(ae(ie()))),
    preTokenBalances: xe(le(ae(im))),
    postTokenBalances: xe(le(ae(im))),
    loadedAddresses: xe(xB),
    computeUnitsConsumed: xe(X()),
  }),
  Db = ee({
    err: _l,
    fee: X(),
    innerInstructions: xe(le(ae(ee({ index: X(), instructions: ae(yB) })))),
    preBalances: ae(X()),
    postBalances: ae(X()),
    logMessages: xe(le(ae(ie()))),
    preTokenBalances: xe(le(ae(im))),
    postTokenBalances: xe(le(ae(im))),
    loadedAddresses: xe(xB),
    computeUnitsConsumed: xe(X()),
  }),
  Ju = hn([Bt(0), Bt("legacy")]),
  yl = ee({
    pubkey: ie(),
    lamports: X(),
    postBalance: le(X()),
    rewardType: le(ie()),
    commission: xe(le(X())),
  }),
  dV = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        transactions: ae(
          ee({ transaction: Rb, meta: le(Tg), version: xe(Ju) })
        ),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
        blockHeight: le(X()),
      })
    )
  ),
  fV = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
        blockHeight: le(X()),
      })
    )
  ),
  pV = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        transactions: ae(
          ee({ transaction: mB, meta: le(Tg), version: xe(Ju) })
        ),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
        blockHeight: le(X()),
      })
    )
  ),
  mV = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        transactions: ae(
          ee({ transaction: vB, meta: le(Db), version: xe(Ju) })
        ),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
        blockHeight: le(X()),
      })
    )
  ),
  gV = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        transactions: ae(
          ee({ transaction: mB, meta: le(Db), version: xe(Ju) })
        ),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
        blockHeight: le(X()),
      })
    )
  ),
  _V = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
        blockHeight: le(X()),
      })
    )
  ),
  yV = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        transactions: ae(ee({ transaction: Rb, meta: le(Tg) })),
        rewards: xe(ae(yl)),
        blockTime: le(X()),
      })
    )
  ),
  aT = Ne(
    le(
      ee({
        blockhash: ie(),
        previousBlockhash: ie(),
        parentSlot: X(),
        signatures: ae(ie()),
        blockTime: le(X()),
      })
    )
  ),
  m0 = Ne(
    le(
      ee({
        slot: X(),
        meta: le(Tg),
        blockTime: xe(le(X())),
        transaction: Rb,
        version: xe(Ju),
      })
    )
  ),
  Kd = Ne(
    le(
      ee({
        slot: X(),
        transaction: vB,
        meta: le(Db),
        blockTime: xe(le(X())),
        version: xe(Ju),
      })
    )
  ),
  vV = zt(
    ee({ blockhash: ie(), feeCalculator: ee({ lamportsPerSignature: X() }) })
  ),
  xV = zt(ee({ blockhash: ie(), lastValidBlockHeight: X() })),
  wV = zt(ks()),
  bV = ee({
    slot: X(),
    numTransactions: X(),
    numSlots: X(),
    samplePeriodSecs: X(),
  }),
  SV = Ne(ae(bV)),
  EV = zt(le(ee({ feeCalculator: ee({ lamportsPerSignature: X() }) }))),
  TV = Ne(ie()),
  kV = Ne(ie()),
  AV = ee({ err: _l, logs: ae(ie()), signature: ie() }),
  PV = ee({ result: Eg(AV), subscription: X() }),
  CV = { "solana-client": "js/1.0.0-maintenance" };
class RV {
  constructor(e, t) {
    (this._commitment = void 0),
      (this._confirmTransactionInitialTimeout = void 0),
      (this._rpcEndpoint = void 0),
      (this._rpcWsEndpoint = void 0),
      (this._rpcClient = void 0),
      (this._rpcRequest = void 0),
      (this._rpcBatchRequest = void 0),
      (this._rpcWebSocket = void 0),
      (this._rpcWebSocketConnected = !1),
      (this._rpcWebSocketHeartbeat = null),
      (this._rpcWebSocketIdleTimeout = null),
      (this._rpcWebSocketGeneration = 0),
      (this._disableBlockhashCaching = !1),
      (this._pollingBlockhash = !1),
      (this._blockhashInfo = {
        latestBlockhash: null,
        lastFetch: 0,
        transactionSignatures: [],
        simulatedSignatures: [],
      }),
      (this._nextClientSubscriptionId = 0),
      (this._subscriptionDisposeFunctionsByClientSubscriptionId = {}),
      (this._subscriptionHashByClientSubscriptionId = {}),
      (this._subscriptionStateChangeCallbacksByHash = {}),
      (this._subscriptionCallbacksByServerSubscriptionId = {}),
      (this._subscriptionsByHash = {}),
      (this._subscriptionsAutoDisposedByRpc = new Set()),
      (this.getBlockHeight = (() => {
        const u = {};
        return async (c) => {
          const { commitment: h, config: d } = gt(c),
            f = this._buildArgs([], h, void 0, d),
            m = tT(f);
          return (
            (u[m] =
              u[m] ??
              (async () => {
                try {
                  const g = await this._rpcRequest("getBlockHeight", f),
                    _ = se(g, Ne(X()));
                  if ("error" in _)
                    throw new pe(
                      _.error,
                      "failed to get block height information"
                    );
                  return _.result;
                } finally {
                  delete u[m];
                }
              })()),
            await u[m]
          );
        };
      })());
    let n, i, s, o, a, l;
    t && typeof t == "string"
      ? (this._commitment = t)
      : t &&
        ((this._commitment = t.commitment),
        (this._confirmTransactionInitialTimeout =
          t.confirmTransactionInitialTimeout),
        (n = t.wsEndpoint),
        (i = t.httpHeaders),
        (s = t.fetch),
        (o = t.fetchMiddleware),
        (a = t.disableRetryOnRateLimit),
        (l = t.httpAgent)),
      (this._rpcEndpoint = f7(e)),
      (this._rpcWsEndpoint = n || h7(e)),
      (this._rpcClient = P7(e, i, s, o, a, l)),
      (this._rpcRequest = C7(this._rpcClient)),
      (this._rpcBatchRequest = R7(this._rpcClient)),
      (this._rpcWebSocket = new a7(this._rpcWsEndpoint, {
        autoconnect: !1,
        max_reconnects: 1 / 0,
      })),
      this._rpcWebSocket.on("open", this._wsOnOpen.bind(this)),
      this._rpcWebSocket.on("error", this._wsOnError.bind(this)),
      this._rpcWebSocket.on("close", this._wsOnClose.bind(this)),
      this._rpcWebSocket.on(
        "accountNotification",
        this._wsOnAccountNotification.bind(this)
      ),
      this._rpcWebSocket.on(
        "programNotification",
        this._wsOnProgramAccountNotification.bind(this)
      ),
      this._rpcWebSocket.on(
        "slotNotification",
        this._wsOnSlotNotification.bind(this)
      ),
      this._rpcWebSocket.on(
        "slotsUpdatesNotification",
        this._wsOnSlotUpdatesNotification.bind(this)
      ),
      this._rpcWebSocket.on(
        "signatureNotification",
        this._wsOnSignatureNotification.bind(this)
      ),
      this._rpcWebSocket.on(
        "rootNotification",
        this._wsOnRootNotification.bind(this)
      ),
      this._rpcWebSocket.on(
        "logsNotification",
        this._wsOnLogsNotification.bind(this)
      );
  }
  get commitment() {
    return this._commitment;
  }
  get rpcEndpoint() {
    return this._rpcEndpoint;
  }
  async getBalanceAndContext(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgs([e.toBase58()], n, void 0, i),
      o = await this._rpcRequest("getBalance", s),
      a = se(o, zt(X()));
    if ("error" in a)
      throw new pe(a.error, `failed to get balance for ${e.toBase58()}`);
    return a.result;
  }
  async getBalance(e, t) {
    return await this.getBalanceAndContext(e, t)
      .then((n) => n.value)
      .catch((n) => {
        throw new Error(
          "failed to get balance of account " + e.toBase58() + ": " + n
        );
      });
  }
  async getBlockTime(e) {
    const t = await this._rpcRequest("getBlockTime", [e]),
      n = se(t, Ne(le(X())));
    if ("error" in n)
      throw new pe(n.error, `failed to get block time for slot ${e}`);
    return n.result;
  }
  async getMinimumLedgerSlot() {
    const e = await this._rpcRequest("minimumLedgerSlot", []),
      t = se(e, Ne(X()));
    if ("error" in t)
      throw new pe(t.error, "failed to get minimum ledger slot");
    return t.result;
  }
  async getFirstAvailableBlock() {
    const e = await this._rpcRequest("getFirstAvailableBlock", []),
      t = se(e, N7);
    if ("error" in t)
      throw new pe(t.error, "failed to get first available block");
    return t.result;
  }
  async getSupply(e) {
    let t = {};
    typeof e == "string"
      ? (t = { commitment: e })
      : e
      ? (t = { ...e, commitment: (e && e.commitment) || this.commitment })
      : (t = { commitment: this.commitment });
    const n = await this._rpcRequest("getSupply", [t]),
      i = se(n, L7);
    if ("error" in i) throw new pe(i.error, "failed to get supply");
    return i.result;
  }
  async getTokenSupply(e, t) {
    const n = this._buildArgs([e.toBase58()], t),
      i = await this._rpcRequest("getTokenSupply", n),
      s = se(i, zt(Kv));
    if ("error" in s) throw new pe(s.error, "failed to get token supply");
    return s.result;
  }
  async getTokenAccountBalance(e, t) {
    const n = this._buildArgs([e.toBase58()], t),
      i = await this._rpcRequest("getTokenAccountBalance", n),
      s = se(i, zt(Kv));
    if ("error" in s)
      throw new pe(s.error, "failed to get token account balance");
    return s.result;
  }
  async getTokenAccountsByOwner(e, t, n) {
    const { commitment: i, config: s } = gt(n);
    let o = [e.toBase58()];
    "mint" in t
      ? o.push({ mint: t.mint.toBase58() })
      : o.push({ programId: t.programId.toBase58() });
    const a = this._buildArgs(o, i, "base64", s),
      l = await this._rpcRequest("getTokenAccountsByOwner", a),
      u = se(l, G7);
    if ("error" in u)
      throw new pe(
        u.error,
        `failed to get token accounts owned by account ${e.toBase58()}`
      );
    return u.result;
  }
  async getParsedTokenAccountsByOwner(e, t, n) {
    let i = [e.toBase58()];
    "mint" in t
      ? i.push({ mint: t.mint.toBase58() })
      : i.push({ programId: t.programId.toBase58() });
    const s = this._buildArgs(i, n, "jsonParsed"),
      o = await this._rpcRequest("getTokenAccountsByOwner", s),
      a = se(o, j7);
    if ("error" in a)
      throw new pe(
        a.error,
        `failed to get token accounts owned by account ${e.toBase58()}`
      );
    return a.result;
  }
  async getLargestAccounts(e) {
    const t = { ...e, commitment: (e && e.commitment) || this.commitment },
      n = t.filter || t.commitment ? [t] : [],
      i = await this._rpcRequest("getLargestAccounts", n),
      s = se(i, $7);
    if ("error" in s) throw new pe(s.error, "failed to get largest accounts");
    return s.result;
  }
  async getTokenLargestAccounts(e, t) {
    const n = this._buildArgs([e.toBase58()], t),
      i = await this._rpcRequest("getTokenLargestAccounts", n),
      s = se(i, U7);
    if ("error" in s)
      throw new pe(s.error, "failed to get token largest accounts");
    return s.result;
  }
  async getAccountInfoAndContext(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgs([e.toBase58()], n, "base64", i),
      o = await this._rpcRequest("getAccountInfo", s),
      a = se(o, zt(le(Gh)));
    if ("error" in a)
      throw new pe(a.error, `failed to get info about account ${e.toBase58()}`);
    return a.result;
  }
  async getParsedAccountInfo(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgs([e.toBase58()], n, "jsonParsed", i),
      o = await this._rpcRequest("getAccountInfo", s),
      a = se(o, zt(le(Zv)));
    if ("error" in a)
      throw new pe(a.error, `failed to get info about account ${e.toBase58()}`);
    return a.result;
  }
  async getAccountInfo(e, t) {
    try {
      return (await this.getAccountInfoAndContext(e, t)).value;
    } catch (n) {
      throw new Error(
        "failed to get info about account " + e.toBase58() + ": " + n
      );
    }
  }
  async getMultipleParsedAccounts(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = e.map((u) => u.toBase58()),
      o = this._buildArgs([s], n, "jsonParsed", i),
      a = await this._rpcRequest("getMultipleAccounts", o),
      l = se(a, zt(ae(le(Zv))));
    if ("error" in l)
      throw new pe(l.error, `failed to get info for accounts ${s}`);
    return l.result;
  }
  async getMultipleAccountsInfoAndContext(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = e.map((u) => u.toBase58()),
      o = this._buildArgs([s], n, "base64", i),
      a = await this._rpcRequest("getMultipleAccounts", o),
      l = se(a, zt(ae(le(Gh))));
    if ("error" in l)
      throw new pe(l.error, `failed to get info for accounts ${s}`);
    return l.result;
  }
  async getMultipleAccountsInfo(e, t) {
    return (await this.getMultipleAccountsInfoAndContext(e, t)).value;
  }
  async getStakeActivation(e, t, n) {
    const { commitment: i, config: s } = gt(t),
      o = this._buildArgs([e.toBase58()], i, void 0, {
        ...s,
        epoch: n ?? (s == null ? void 0 : s.epoch),
      }),
      a = await this._rpcRequest("getStakeActivation", o),
      l = se(a, Ne(V7));
    if ("error" in l)
      throw new pe(l.error, `failed to get Stake Activation ${e.toBase58()}`);
    return l.result;
  }
  async getProgramAccounts(e, t) {
    const { commitment: n, config: i } = gt(t),
      { encoding: s, ...o } = i || {},
      a = this._buildArgs([e.toBase58()], n, s || "base64", {
        ...o,
        ...(o.filters ? { filters: iT(o.filters) } : null),
      }),
      l = await this._rpcRequest("getProgramAccounts", a),
      u = ae(z7),
      c = o.withContext === !0 ? se(l, zt(u)) : se(l, Ne(u));
    if ("error" in c)
      throw new pe(
        c.error,
        `failed to get accounts owned by program ${e.toBase58()}`
      );
    return c.result;
  }
  async getParsedProgramAccounts(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgs([e.toBase58()], n, "jsonParsed", i),
      o = await this._rpcRequest("getProgramAccounts", s),
      a = se(o, Ne(ae(H7)));
    if ("error" in a)
      throw new pe(
        a.error,
        `failed to get accounts owned by program ${e.toBase58()}`
      );
    return a.result;
  }
  async confirmTransaction(e, t) {
    var s;
    let n;
    if (typeof e == "string") n = e;
    else {
      const o = e;
      if ((s = o.abortSignal) != null && s.aborted)
        return Promise.reject(o.abortSignal.reason);
      n = o.signature;
    }
    let i;
    try {
      i = zr.decode(n);
    } catch {
      throw new Error("signature must be base58 encoded: " + n);
    }
    return (
      fr(i.length === 64, "signature has invalid length"),
      typeof e == "string"
        ? await this.confirmTransactionUsingLegacyTimeoutStrategy({
            commitment: t || this.commitment,
            signature: n,
          })
        : "lastValidBlockHeight" in e
        ? await this.confirmTransactionUsingBlockHeightExceedanceStrategy({
            commitment: t || this.commitment,
            strategy: e,
          })
        : await this.confirmTransactionUsingDurableNonceStrategy({
            commitment: t || this.commitment,
            strategy: e,
          })
    );
  }
  getCancellationPromise(e) {
    return new Promise((t, n) => {
      e != null &&
        (e.aborted
          ? n(e.reason)
          : e.addEventListener("abort", () => {
              n(e.reason);
            }));
    });
  }
  getTransactionConfirmationPromise({ commitment: e, signature: t }) {
    let n,
      i,
      s = !1;
    const o = new Promise((l, u) => {
      try {
        n = this.onSignature(
          t,
          (h, d) => {
            n = void 0;
            const f = { context: d, value: h };
            l({ __type: So.PROCESSED, response: f });
          },
          e
        );
        const c = new Promise((h) => {
          n == null
            ? h()
            : (i = this._onSubscriptionStateChange(n, (d) => {
                d === "subscribed" && h();
              }));
        });
        (async () => {
          if ((await c, s)) return;
          const h = await this.getSignatureStatus(t);
          if (s || h == null) return;
          const { context: d, value: f } = h;
          if (f != null)
            if (f != null && f.err) u(f.err);
            else {
              switch (e) {
                case "confirmed":
                case "single":
                case "singleGossip": {
                  if (f.confirmationStatus === "processed") return;
                  break;
                }
                case "finalized":
                case "max":
                case "root": {
                  if (
                    f.confirmationStatus === "processed" ||
                    f.confirmationStatus === "confirmed"
                  )
                    return;
                  break;
                }
                case "processed":
                case "recent":
              }
              (s = !0),
                l({ __type: So.PROCESSED, response: { context: d, value: f } });
            }
        })();
      } catch (c) {
        u(c);
      }
    });
    return {
      abortConfirmation: () => {
        i && (i(), (i = void 0)),
          n != null && (this.removeSignatureListener(n), (n = void 0));
      },
      confirmationPromise: o,
    };
  }
  async confirmTransactionUsingBlockHeightExceedanceStrategy({
    commitment: e,
    strategy: { abortSignal: t, lastValidBlockHeight: n, signature: i },
  }) {
    let s = !1;
    const o = new Promise((h) => {
        const d = async () => {
          try {
            return await this.getBlockHeight(e);
          } catch {
            return -1;
          }
        };
        (async () => {
          let f = await d();
          if (!s) {
            for (; f <= n; )
              if ((await Ol(1e3), s || ((f = await d()), s))) return;
            h({ __type: So.BLOCKHEIGHT_EXCEEDED });
          }
        })();
      }),
      { abortConfirmation: a, confirmationPromise: l } =
        this.getTransactionConfirmationPromise({ commitment: e, signature: i }),
      u = this.getCancellationPromise(t);
    let c;
    try {
      const h = await Promise.race([u, l, o]);
      if (h.__type === So.PROCESSED) c = h.response;
      else throw new oB(i);
    } finally {
      (s = !0), a();
    }
    return c;
  }
  async confirmTransactionUsingDurableNonceStrategy({
    commitment: e,
    strategy: {
      abortSignal: t,
      minContextSlot: n,
      nonceAccountPubkey: i,
      nonceValue: s,
      signature: o,
    },
  }) {
    let a = !1;
    const l = new Promise((f) => {
        let m = s,
          g = null;
        const _ = async () => {
          try {
            const { context: v, value: w } = await this.getNonceAndContext(i, {
              commitment: e,
              minContextSlot: n,
            });
            return (g = v.slot), w == null ? void 0 : w.nonce;
          } catch {
            return m;
          }
        };
        (async () => {
          if (((m = await _()), !a))
            for (;;) {
              if (s !== m) {
                f({ __type: So.NONCE_INVALID, slotInWhichNonceDidAdvance: g });
                return;
              }
              if ((await Ol(2e3), a || ((m = await _()), a))) return;
            }
        })();
      }),
      { abortConfirmation: u, confirmationPromise: c } =
        this.getTransactionConfirmationPromise({ commitment: e, signature: o }),
      h = this.getCancellationPromise(t);
    let d;
    try {
      const f = await Promise.race([h, c, l]);
      if (f.__type === So.PROCESSED) d = f.response;
      else {
        let m;
        for (;;) {
          const g = await this.getSignatureStatus(o);
          if (g == null) break;
          if (g.context.slot < (f.slotInWhichNonceDidAdvance ?? n)) {
            await Ol(400);
            continue;
          }
          m = g;
          break;
        }
        if (m != null && m.value) {
          const g = e || "finalized",
            { confirmationStatus: _ } = m.value;
          switch (g) {
            case "processed":
            case "recent":
              if (_ !== "processed" && _ !== "confirmed" && _ !== "finalized")
                throw new Lc(o);
              break;
            case "confirmed":
            case "single":
            case "singleGossip":
              if (_ !== "confirmed" && _ !== "finalized") throw new Lc(o);
              break;
            case "finalized":
            case "max":
            case "root":
              if (_ !== "finalized") throw new Lc(o);
              break;
            default:
          }
          d = { context: m.context, value: { err: m.value.err } };
        } else throw new Lc(o);
      }
    } finally {
      (a = !0), u();
    }
    return d;
  }
  async confirmTransactionUsingLegacyTimeoutStrategy({
    commitment: e,
    signature: t,
  }) {
    let n;
    const i = new Promise((l) => {
        let u = this._confirmTransactionInitialTimeout || 6e4;
        switch (e) {
          case "processed":
          case "recent":
          case "single":
          case "confirmed":
          case "singleGossip": {
            u = this._confirmTransactionInitialTimeout || 3e4;
            break;
          }
        }
        n = setTimeout(() => l({ __type: So.TIMED_OUT, timeoutMs: u }), u);
      }),
      { abortConfirmation: s, confirmationPromise: o } =
        this.getTransactionConfirmationPromise({ commitment: e, signature: t });
    let a;
    try {
      const l = await Promise.race([o, i]);
      if (l.__type === So.PROCESSED) a = l.response;
      else throw new aB(t, l.timeoutMs / 1e3);
    } finally {
      clearTimeout(n), s();
    }
    return a;
  }
  async getClusterNodes() {
    const e = await this._rpcRequest("getClusterNodes", []),
      t = se(e, Ne(ae(iV)));
    if ("error" in t) throw new pe(t.error, "failed to get cluster nodes");
    return t.result;
  }
  async getVoteAccounts(e) {
    const t = this._buildArgs([], e),
      n = await this._rpcRequest("getVoteAccounts", t),
      i = se(n, sV);
    if ("error" in i) throw new pe(i.error, "failed to get vote accounts");
    return i.result;
  }
  async getSlot(e) {
    const { commitment: t, config: n } = gt(e),
      i = this._buildArgs([], t, void 0, n),
      s = await this._rpcRequest("getSlot", i),
      o = se(s, Ne(X()));
    if ("error" in o) throw new pe(o.error, "failed to get slot");
    return o.result;
  }
  async getSlotLeader(e) {
    const { commitment: t, config: n } = gt(e),
      i = this._buildArgs([], t, void 0, n),
      s = await this._rpcRequest("getSlotLeader", i),
      o = se(s, Ne(ie()));
    if ("error" in o) throw new pe(o.error, "failed to get slot leader");
    return o.result;
  }
  async getSlotLeaders(e, t) {
    const n = [e, t],
      i = await this._rpcRequest("getSlotLeaders", n),
      s = se(i, Ne(ae(Gt)));
    if ("error" in s) throw new pe(s.error, "failed to get slot leaders");
    return s.result;
  }
  async getSignatureStatus(e, t) {
    const { context: n, value: i } = await this.getSignatureStatuses([e], t);
    fr(i.length === 1);
    const s = i[0];
    return { context: n, value: s };
  }
  async getSignatureStatuses(e, t) {
    const n = [e];
    t && n.push(t);
    const i = await this._rpcRequest("getSignatureStatuses", n),
      s = se(i, lV);
    if ("error" in s) throw new pe(s.error, "failed to get signature status");
    return s.result;
  }
  async getTransactionCount(e) {
    const { commitment: t, config: n } = gt(e),
      i = this._buildArgs([], t, void 0, n),
      s = await this._rpcRequest("getTransactionCount", i),
      o = se(s, Ne(X()));
    if ("error" in o) throw new pe(o.error, "failed to get transaction count");
    return o.result;
  }
  async getTotalSupply(e) {
    return (
      await this.getSupply({
        commitment: e,
        excludeNonCirculatingAccountsList: !0,
      })
    ).value.total;
  }
  async getInflationGovernor(e) {
    const t = this._buildArgs([], e),
      n = await this._rpcRequest("getInflationGovernor", t),
      i = se(n, D7);
    if ("error" in i) throw new pe(i.error, "failed to get inflation");
    return i.result;
  }
  async getInflationReward(e, t, n) {
    const { commitment: i, config: s } = gt(n),
      o = this._buildArgs([e.map((u) => u.toBase58())], i, void 0, {
        ...s,
        epoch: t ?? (s == null ? void 0 : s.epoch),
      }),
      a = await this._rpcRequest("getInflationReward", o),
      l = se(a, g7);
    if ("error" in l) throw new pe(l.error, "failed to get inflation reward");
    return l.result;
  }
  async getInflationRate() {
    const e = await this._rpcRequest("getInflationRate", []),
      t = se(e, M7);
    if ("error" in t) throw new pe(t.error, "failed to get inflation rate");
    return t.result;
  }
  async getEpochInfo(e) {
    const { commitment: t, config: n } = gt(e),
      i = this._buildArgs([], t, void 0, n),
      s = await this._rpcRequest("getEpochInfo", i),
      o = se(s, O7);
    if ("error" in o) throw new pe(o.error, "failed to get epoch info");
    return o.result;
  }
  async getEpochSchedule() {
    const e = await this._rpcRequest("getEpochSchedule", []),
      t = se(e, I7);
    if ("error" in t) throw new pe(t.error, "failed to get epoch schedule");
    const n = t.result;
    return new s7(
      n.slotsPerEpoch,
      n.leaderScheduleSlotOffset,
      n.warmup,
      n.firstNormalEpoch,
      n.firstNormalSlot
    );
  }
  async getLeaderSchedule() {
    const e = await this._rpcRequest("getLeaderSchedule", []),
      t = se(e, F7);
    if ("error" in t) throw new pe(t.error, "failed to get leader schedule");
    return t.result;
  }
  async getMinimumBalanceForRentExemption(e, t) {
    const n = this._buildArgs([e], t),
      i = await this._rpcRequest("getMinimumBalanceForRentExemption", n),
      s = se(i, uV);
    return "error" in s
      ? (console.warn("Unable to fetch minimum balance for rent exemption"), 0)
      : s.result;
  }
  async getRecentBlockhashAndContext(e) {
    const t = this._buildArgs([], e),
      n = await this._rpcRequest("getRecentBlockhash", t),
      i = se(n, vV);
    if ("error" in i) throw new pe(i.error, "failed to get recent blockhash");
    return i.result;
  }
  async getRecentPerformanceSamples(e) {
    const t = await this._rpcRequest(
        "getRecentPerformanceSamples",
        e ? [e] : []
      ),
      n = se(t, SV);
    if ("error" in n)
      throw new pe(n.error, "failed to get recent performance samples");
    return n.result;
  }
  async getFeeCalculatorForBlockhash(e, t) {
    const n = this._buildArgs([e], t),
      i = await this._rpcRequest("getFeeCalculatorForBlockhash", n),
      s = se(i, EV);
    if ("error" in s) throw new pe(s.error, "failed to get fee calculator");
    const { context: o, value: a } = s.result;
    return { context: o, value: a !== null ? a.feeCalculator : null };
  }
  async getFeeForMessage(e, t) {
    const n = Ur(e.serialize()).toString("base64"),
      i = this._buildArgs([n], t),
      s = await this._rpcRequest("getFeeForMessage", i),
      o = se(s, zt(le(X())));
    if ("error" in o) throw new pe(o.error, "failed to get fee for message");
    if (o.result === null) throw new Error("invalid blockhash");
    return o.result;
  }
  async getRecentPrioritizationFees(e) {
    var o;
    const t =
        (o = e == null ? void 0 : e.lockedWritableAccounts) == null
          ? void 0
          : o.map((a) => a.toBase58()),
      n = t != null && t.length ? [t] : [],
      i = await this._rpcRequest("getRecentPrioritizationFees", n),
      s = se(i, B7);
    if ("error" in s)
      throw new pe(s.error, "failed to get recent prioritization fees");
    return s.result;
  }
  async getRecentBlockhash(e) {
    try {
      return (await this.getRecentBlockhashAndContext(e)).value;
    } catch (t) {
      throw new Error("failed to get recent blockhash: " + t);
    }
  }
  async getLatestBlockhash(e) {
    try {
      return (await this.getLatestBlockhashAndContext(e)).value;
    } catch (t) {
      throw new Error("failed to get recent blockhash: " + t);
    }
  }
  async getLatestBlockhashAndContext(e) {
    const { commitment: t, config: n } = gt(e),
      i = this._buildArgs([], t, void 0, n),
      s = await this._rpcRequest("getLatestBlockhash", i),
      o = se(s, xV);
    if ("error" in o) throw new pe(o.error, "failed to get latest blockhash");
    return o.result;
  }
  async isBlockhashValid(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgs([e], n, void 0, i),
      o = await this._rpcRequest("isBlockhashValid", s),
      a = se(o, wV);
    if ("error" in a)
      throw new pe(
        a.error,
        "failed to determine if the blockhash `" + e + "`is valid"
      );
    return a.result;
  }
  async getVersion() {
    const e = await this._rpcRequest("getVersion", []),
      t = se(e, Ne(E7));
    if ("error" in t) throw new pe(t.error, "failed to get version");
    return t.result;
  }
  async getGenesisHash() {
    const e = await this._rpcRequest("getGenesisHash", []),
      t = se(e, Ne(ie()));
    if ("error" in t) throw new pe(t.error, "failed to get genesis hash");
    return t.result;
  }
  async getBlock(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgsAtLeastConfirmed([e], n, void 0, i),
      o = await this._rpcRequest("getBlock", s);
    try {
      switch (i == null ? void 0 : i.transactionDetails) {
        case "accounts": {
          const a = se(o, pV);
          if ("error" in a) throw a.error;
          return a.result;
        }
        case "none": {
          const a = se(o, fV);
          if ("error" in a) throw a.error;
          return a.result;
        }
        default: {
          const a = se(o, dV);
          if ("error" in a) throw a.error;
          const { result: l } = a;
          return l
            ? {
                ...l,
                transactions: l.transactions.map(
                  ({ transaction: u, meta: c, version: h }) => ({
                    meta: c,
                    transaction: { ...u, message: p0(h, u.message) },
                    version: h,
                  })
                ),
              }
            : null;
        }
      }
    } catch (a) {
      throw new pe(a, "failed to get confirmed block");
    }
  }
  async getParsedBlock(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgsAtLeastConfirmed([e], n, "jsonParsed", i),
      o = await this._rpcRequest("getBlock", s);
    try {
      switch (i == null ? void 0 : i.transactionDetails) {
        case "accounts": {
          const a = se(o, gV);
          if ("error" in a) throw a.error;
          return a.result;
        }
        case "none": {
          const a = se(o, _V);
          if ("error" in a) throw a.error;
          return a.result;
        }
        default: {
          const a = se(o, mV);
          if ("error" in a) throw a.error;
          return a.result;
        }
      }
    } catch (a) {
      throw new pe(a, "failed to get block");
    }
  }
  async getBlockProduction(e) {
    let t, n;
    if (typeof e == "string") n = e;
    else if (e) {
      const { commitment: a, ...l } = e;
      (n = a), (t = l);
    }
    const i = this._buildArgs([], n, "base64", t),
      s = await this._rpcRequest("getBlockProduction", i),
      o = se(s, A7);
    if ("error" in o)
      throw new pe(o.error, "failed to get block production information");
    return o.result;
  }
  async getTransaction(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgsAtLeastConfirmed([e], n, void 0, i),
      o = await this._rpcRequest("getTransaction", s),
      a = se(o, m0);
    if ("error" in a) throw new pe(a.error, "failed to get transaction");
    const l = a.result;
    return (
      l && {
        ...l,
        transaction: {
          ...l.transaction,
          message: p0(l.version, l.transaction.message),
        },
      }
    );
  }
  async getParsedTransaction(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = this._buildArgsAtLeastConfirmed([e], n, "jsonParsed", i),
      o = await this._rpcRequest("getTransaction", s),
      a = se(o, Kd);
    if ("error" in a) throw new pe(a.error, "failed to get transaction");
    return a.result;
  }
  async getParsedTransactions(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = e.map((l) => ({
        methodName: "getTransaction",
        args: this._buildArgsAtLeastConfirmed([l], n, "jsonParsed", i),
      }));
    return (await this._rpcBatchRequest(s)).map((l) => {
      const u = se(l, Kd);
      if ("error" in u) throw new pe(u.error, "failed to get transactions");
      return u.result;
    });
  }
  async getTransactions(e, t) {
    const { commitment: n, config: i } = gt(t),
      s = e.map((l) => ({
        methodName: "getTransaction",
        args: this._buildArgsAtLeastConfirmed([l], n, void 0, i),
      }));
    return (await this._rpcBatchRequest(s)).map((l) => {
      const u = se(l, m0);
      if ("error" in u) throw new pe(u.error, "failed to get transactions");
      const c = u.result;
      return (
        c && {
          ...c,
          transaction: {
            ...c.transaction,
            message: p0(c.version, c.transaction.message),
          },
        }
      );
    });
  }
  async getConfirmedBlock(e, t) {
    const n = this._buildArgsAtLeastConfirmed([e], t),
      i = await this._rpcRequest("getConfirmedBlock", n),
      s = se(i, yV);
    if ("error" in s) throw new pe(s.error, "failed to get confirmed block");
    const o = s.result;
    if (!o) throw new Error("Confirmed block " + e + " not found");
    const a = {
      ...o,
      transactions: o.transactions.map(({ transaction: l, meta: u }) => {
        const c = new ta(l.message);
        return { meta: u, transaction: { ...l, message: c } };
      }),
    };
    return {
      ...a,
      transactions: a.transactions.map(({ transaction: l, meta: u }) => ({
        meta: u,
        transaction: zi.populate(l.message, l.signatures),
      })),
    };
  }
  async getBlocks(e, t, n) {
    const i = this._buildArgsAtLeastConfirmed(t !== void 0 ? [e, t] : [e], n),
      s = await this._rpcRequest("getBlocks", i),
      o = se(s, Ne(ae(X())));
    if ("error" in o) throw new pe(o.error, "failed to get blocks");
    return o.result;
  }
  async getBlockSignatures(e, t) {
    const n = this._buildArgsAtLeastConfirmed([e], t, void 0, {
        transactionDetails: "signatures",
        rewards: !1,
      }),
      i = await this._rpcRequest("getBlock", n),
      s = se(i, aT);
    if ("error" in s) throw new pe(s.error, "failed to get block");
    const o = s.result;
    if (!o) throw new Error("Block " + e + " not found");
    return o;
  }
  async getConfirmedBlockSignatures(e, t) {
    const n = this._buildArgsAtLeastConfirmed([e], t, void 0, {
        transactionDetails: "signatures",
        rewards: !1,
      }),
      i = await this._rpcRequest("getConfirmedBlock", n),
      s = se(i, aT);
    if ("error" in s) throw new pe(s.error, "failed to get confirmed block");
    const o = s.result;
    if (!o) throw new Error("Confirmed block " + e + " not found");
    return o;
  }
  async getConfirmedTransaction(e, t) {
    const n = this._buildArgsAtLeastConfirmed([e], t),
      i = await this._rpcRequest("getConfirmedTransaction", n),
      s = se(i, m0);
    if ("error" in s) throw new pe(s.error, "failed to get transaction");
    const o = s.result;
    if (!o) return o;
    const a = new ta(o.transaction.message),
      l = o.transaction.signatures;
    return { ...o, transaction: zi.populate(a, l) };
  }
  async getParsedConfirmedTransaction(e, t) {
    const n = this._buildArgsAtLeastConfirmed([e], t, "jsonParsed"),
      i = await this._rpcRequest("getConfirmedTransaction", n),
      s = se(i, Kd);
    if ("error" in s)
      throw new pe(s.error, "failed to get confirmed transaction");
    return s.result;
  }
  async getParsedConfirmedTransactions(e, t) {
    const n = e.map((o) => ({
      methodName: "getConfirmedTransaction",
      args: this._buildArgsAtLeastConfirmed([o], t, "jsonParsed"),
    }));
    return (await this._rpcBatchRequest(n)).map((o) => {
      const a = se(o, Kd);
      if ("error" in a)
        throw new pe(a.error, "failed to get confirmed transactions");
      return a.result;
    });
  }
  async getConfirmedSignaturesForAddress(e, t, n) {
    let i = {},
      s = await this.getFirstAvailableBlock();
    for (; !("until" in i) && (t--, !(t <= 0 || t < s)); )
      try {
        const l = await this.getConfirmedBlockSignatures(t, "finalized");
        l.signatures.length > 0 &&
          (i.until = l.signatures[l.signatures.length - 1].toString());
      } catch (l) {
        if (l instanceof Error && l.message.includes("skipped")) continue;
        throw l;
      }
    let o = await this.getSlot("finalized");
    for (; !("before" in i) && (n++, !(n > o)); )
      try {
        const l = await this.getConfirmedBlockSignatures(n);
        l.signatures.length > 0 &&
          (i.before = l.signatures[l.signatures.length - 1].toString());
      } catch (l) {
        if (l instanceof Error && l.message.includes("skipped")) continue;
        throw l;
      }
    return (await this.getConfirmedSignaturesForAddress2(e, i)).map(
      (l) => l.signature
    );
  }
  async getConfirmedSignaturesForAddress2(e, t, n) {
    const i = this._buildArgsAtLeastConfirmed([e.toBase58()], n, void 0, t),
      s = await this._rpcRequest("getConfirmedSignaturesForAddress2", i),
      o = se(s, X7);
    if ("error" in o)
      throw new pe(o.error, "failed to get confirmed signatures for address");
    return o.result;
  }
  async getSignaturesForAddress(e, t, n) {
    const i = this._buildArgsAtLeastConfirmed([e.toBase58()], n, void 0, t),
      s = await this._rpcRequest("getSignaturesForAddress", i),
      o = se(s, Y7);
    if ("error" in o)
      throw new pe(o.error, "failed to get signatures for address");
    return o.result;
  }
  async getAddressLookupTable(e, t) {
    const { context: n, value: i } = await this.getAccountInfoAndContext(e, t);
    let s = null;
    return (
      i !== null && (s = new nT({ key: e, state: nT.deserialize(i.data) })),
      { context: n, value: s }
    );
  }
  async getNonceAndContext(e, t) {
    const { context: n, value: i } = await this.getAccountInfoAndContext(e, t);
    let s = null;
    return (
      i !== null && (s = Pb.fromAccountData(i.data)), { context: n, value: s }
    );
  }
  async getNonce(e, t) {
    return await this.getNonceAndContext(e, t)
      .then((n) => n.value)
      .catch((n) => {
        throw new Error(
          "failed to get nonce for account " + e.toBase58() + ": " + n
        );
      });
  }
  async requestAirdrop(e, t) {
    const n = await this._rpcRequest("requestAirdrop", [e.toBase58(), t]),
      i = se(n, TV);
    if ("error" in i)
      throw new pe(i.error, `airdrop to ${e.toBase58()} failed`);
    return i.result;
  }
  async _blockhashWithExpiryBlockHeight(e) {
    if (!e) {
      for (; this._pollingBlockhash; ) await Ol(100);
      const n = Date.now() - this._blockhashInfo.lastFetch >= d7;
      if (this._blockhashInfo.latestBlockhash !== null && !n)
        return this._blockhashInfo.latestBlockhash;
    }
    return await this._pollNewBlockhash();
  }
  async _pollNewBlockhash() {
    this._pollingBlockhash = !0;
    try {
      const e = Date.now(),
        t = this._blockhashInfo.latestBlockhash,
        n = t ? t.blockhash : null;
      for (let i = 0; i < 50; i++) {
        const s = await this.getLatestBlockhash("finalized");
        if (n !== s.blockhash)
          return (
            (this._blockhashInfo = {
              latestBlockhash: s,
              lastFetch: Date.now(),
              transactionSignatures: [],
              simulatedSignatures: [],
            }),
            s
          );
        await Ol(qH / 2);
      }
      throw new Error(
        `Unable to obtain a new blockhash after ${Date.now() - e}ms`
      );
    } finally {
      this._pollingBlockhash = !1;
    }
  }
  async getStakeMinimumDelegation(e) {
    const { commitment: t, config: n } = gt(e),
      i = this._buildArgs([], t, "base64", n),
      s = await this._rpcRequest("getStakeMinimumDelegation", i),
      o = se(s, zt(X()));
    if ("error" in o)
      throw new pe(o.error, "failed to get stake minimum delegation");
    return o.result;
  }
  async simulateTransaction(e, t, n) {
    if ("message" in e) {
      const g = e.serialize(),
        _ = Ce.Buffer.from(g).toString("base64");
      if (Array.isArray(t) || n !== void 0)
        throw new Error("Invalid arguments");
      const v = t || {};
      (v.encoding = "base64"),
        "commitment" in v || (v.commitment = this.commitment),
        t &&
          typeof t == "object" &&
          "innerInstructions" in t &&
          (v.innerInstructions = t.innerInstructions);
      const w = [_, v],
        x = await this._rpcRequest("simulateTransaction", w),
        k = se(x, sT);
      if ("error" in k)
        throw new Error("failed to simulate transaction: " + k.error.message);
      return k.result;
    }
    let i;
    if (e instanceof zi) {
      let m = e;
      (i = new zi()),
        (i.feePayer = m.feePayer),
        (i.instructions = e.instructions),
        (i.nonceInfo = m.nonceInfo),
        (i.signatures = m.signatures);
    } else (i = zi.populate(e)), (i._message = i._json = void 0);
    if (t !== void 0 && !Array.isArray(t)) throw new Error("Invalid arguments");
    const s = t;
    if (i.nonceInfo && s) i.sign(...s);
    else {
      let m = this._disableBlockhashCaching;
      for (;;) {
        const g = await this._blockhashWithExpiryBlockHeight(m);
        if (
          ((i.lastValidBlockHeight = g.lastValidBlockHeight),
          (i.recentBlockhash = g.blockhash),
          !s)
        )
          break;
        if ((i.sign(...s), !i.signature)) throw new Error("!signature");
        const _ = i.signature.toString("base64");
        if (
          !this._blockhashInfo.simulatedSignatures.includes(_) &&
          !this._blockhashInfo.transactionSignatures.includes(_)
        ) {
          this._blockhashInfo.simulatedSignatures.push(_);
          break;
        } else m = !0;
      }
    }
    const o = i._compile(),
      a = o.serialize(),
      u = i._serialize(a).toString("base64"),
      c = { encoding: "base64", commitment: this.commitment };
    if (n) {
      const m = (Array.isArray(n) ? n : o.nonProgramIds()).map((g) =>
        g.toBase58()
      );
      c.accounts = { encoding: "base64", addresses: m };
    }
    s && (c.sigVerify = !0),
      t &&
        typeof t == "object" &&
        "innerInstructions" in t &&
        (c.innerInstructions = t.innerInstructions);
    const h = [u, c],
      d = await this._rpcRequest("simulateTransaction", h),
      f = se(d, sT);
    if ("error" in f) {
      let m;
      if (
        "data" in f.error &&
        ((m = f.error.data.logs), m && Array.isArray(m))
      ) {
        const g = `
    `,
          _ = g + m.join(g);
        console.error(f.error.message, _);
      }
      throw new Yv({
        action: "simulate",
        signature: "",
        transactionMessage: f.error.message,
        logs: m,
      });
    }
    return f.result;
  }
  async sendTransaction(e, t, n) {
    if ("version" in e) {
      if (t && Array.isArray(t)) throw new Error("Invalid arguments");
      const o = e.serialize();
      return await this.sendRawTransaction(o, t);
    }
    if (t === void 0 || !Array.isArray(t)) throw new Error("Invalid arguments");
    const i = t;
    if (e.nonceInfo) e.sign(...i);
    else {
      let o = this._disableBlockhashCaching;
      for (;;) {
        const a = await this._blockhashWithExpiryBlockHeight(o);
        if (
          ((e.lastValidBlockHeight = a.lastValidBlockHeight),
          (e.recentBlockhash = a.blockhash),
          e.sign(...i),
          !e.signature)
        )
          throw new Error("!signature");
        const l = e.signature.toString("base64");
        if (this._blockhashInfo.transactionSignatures.includes(l)) o = !0;
        else {
          this._blockhashInfo.transactionSignatures.push(l);
          break;
        }
      }
    }
    const s = e.serialize();
    return await this.sendRawTransaction(s, n);
  }
  async sendRawTransaction(e, t) {
    const n = Ur(e).toString("base64");
    return await this.sendEncodedTransaction(n, t);
  }
  async sendEncodedTransaction(e, t) {
    const n = { encoding: "base64" },
      i = t && t.skipPreflight,
      s =
        i === !0
          ? "processed"
          : (t && t.preflightCommitment) || this.commitment;
    t && t.maxRetries != null && (n.maxRetries = t.maxRetries),
      t && t.minContextSlot != null && (n.minContextSlot = t.minContextSlot),
      i && (n.skipPreflight = i),
      s && (n.preflightCommitment = s);
    const o = [e, n],
      a = await this._rpcRequest("sendTransaction", o),
      l = se(a, kV);
    if ("error" in l) {
      let u;
      throw (
        ("data" in l.error && (u = l.error.data.logs),
        new Yv({
          action: i ? "send" : "simulate",
          signature: "",
          transactionMessage: l.error.message,
          logs: u,
        }))
      );
    }
    return l.result;
  }
  _wsOnOpen() {
    (this._rpcWebSocketConnected = !0),
      (this._rpcWebSocketHeartbeat = setInterval(() => {
        (async () => {
          try {
            await this._rpcWebSocket.notify("ping");
          } catch {}
        })();
      }, 5e3)),
      this._updateSubscriptions();
  }
  _wsOnError(e) {
    (this._rpcWebSocketConnected = !1), console.error("ws error:", e.message);
  }
  _wsOnClose(e) {
    if (
      ((this._rpcWebSocketConnected = !1),
      (this._rpcWebSocketGeneration =
        (this._rpcWebSocketGeneration + 1) % Number.MAX_SAFE_INTEGER),
      this._rpcWebSocketIdleTimeout &&
        (clearTimeout(this._rpcWebSocketIdleTimeout),
        (this._rpcWebSocketIdleTimeout = null)),
      this._rpcWebSocketHeartbeat &&
        (clearInterval(this._rpcWebSocketHeartbeat),
        (this._rpcWebSocketHeartbeat = null)),
      e === 1e3)
    ) {
      this._updateSubscriptions();
      return;
    }
    (this._subscriptionCallbacksByServerSubscriptionId = {}),
      Object.entries(this._subscriptionsByHash).forEach(([t, n]) => {
        this._setSubscription(t, { ...n, state: "pending" });
      });
  }
  _setSubscription(e, t) {
    var i;
    const n = (i = this._subscriptionsByHash[e]) == null ? void 0 : i.state;
    if (((this._subscriptionsByHash[e] = t), n !== t.state)) {
      const s = this._subscriptionStateChangeCallbacksByHash[e];
      s &&
        s.forEach((o) => {
          try {
            o(t.state);
          } catch {}
        });
    }
  }
  _onSubscriptionStateChange(e, t) {
    var s;
    const n = this._subscriptionHashByClientSubscriptionId[e];
    if (n == null) return () => {};
    const i =
      (s = this._subscriptionStateChangeCallbacksByHash)[n] ||
      (s[n] = new Set());
    return (
      i.add(t),
      () => {
        i.delete(t),
          i.size === 0 &&
            delete this._subscriptionStateChangeCallbacksByHash[n];
      }
    );
  }
  async _updateSubscriptions() {
    if (Object.keys(this._subscriptionsByHash).length === 0) {
      this._rpcWebSocketConnected &&
        ((this._rpcWebSocketConnected = !1),
        (this._rpcWebSocketIdleTimeout = setTimeout(() => {
          this._rpcWebSocketIdleTimeout = null;
          try {
            this._rpcWebSocket.close();
          } catch (n) {
            n instanceof Error &&
              console.log(`Error when closing socket connection: ${n.message}`);
          }
        }, 500)));
      return;
    }
    if (
      (this._rpcWebSocketIdleTimeout !== null &&
        (clearTimeout(this._rpcWebSocketIdleTimeout),
        (this._rpcWebSocketIdleTimeout = null),
        (this._rpcWebSocketConnected = !0)),
      !this._rpcWebSocketConnected)
    ) {
      this._rpcWebSocket.connect();
      return;
    }
    const e = this._rpcWebSocketGeneration,
      t = () => e === this._rpcWebSocketGeneration;
    await Promise.all(
      Object.keys(this._subscriptionsByHash).map(async (n) => {
        const i = this._subscriptionsByHash[n];
        if (i !== void 0)
          switch (i.state) {
            case "pending":
            case "unsubscribed":
              if (i.callbacks.size === 0) {
                delete this._subscriptionsByHash[n],
                  i.state === "unsubscribed" &&
                    delete this._subscriptionCallbacksByServerSubscriptionId[
                      i.serverSubscriptionId
                    ],
                  await this._updateSubscriptions();
                return;
              }
              await (async () => {
                const { args: s, method: o } = i;
                try {
                  this._setSubscription(n, { ...i, state: "subscribing" });
                  const a = await this._rpcWebSocket.call(o, s);
                  this._setSubscription(n, {
                    ...i,
                    serverSubscriptionId: a,
                    state: "subscribed",
                  }),
                    (this._subscriptionCallbacksByServerSubscriptionId[a] =
                      i.callbacks),
                    await this._updateSubscriptions();
                } catch (a) {
                  if (
                    (console.error(
                      `Received ${
                        a instanceof Error ? "" : "JSON-RPC "
                      }error calling \`${o}\``,
                      { args: s, error: a }
                    ),
                    !t())
                  )
                    return;
                  this._setSubscription(n, { ...i, state: "pending" }),
                    await this._updateSubscriptions();
                }
              })();
              break;
            case "subscribed":
              i.callbacks.size === 0 &&
                (await (async () => {
                  const { serverSubscriptionId: s, unsubscribeMethod: o } = i;
                  if (this._subscriptionsAutoDisposedByRpc.has(s))
                    this._subscriptionsAutoDisposedByRpc.delete(s);
                  else {
                    this._setSubscription(n, { ...i, state: "unsubscribing" }),
                      this._setSubscription(n, {
                        ...i,
                        state: "unsubscribing",
                      });
                    try {
                      await this._rpcWebSocket.call(o, [s]);
                    } catch (a) {
                      if (
                        (a instanceof Error &&
                          console.error(`${o} error:`, a.message),
                        !t())
                      )
                        return;
                      this._setSubscription(n, { ...i, state: "subscribed" }),
                        await this._updateSubscriptions();
                      return;
                    }
                  }
                  this._setSubscription(n, { ...i, state: "unsubscribed" }),
                    await this._updateSubscriptions();
                })());
              break;
          }
      })
    );
  }
  _handleServerNotification(e, t) {
    const n = this._subscriptionCallbacksByServerSubscriptionId[e];
    n !== void 0 &&
      n.forEach((i) => {
        try {
          i(...t);
        } catch (s) {
          console.error(s);
        }
      });
  }
  _wsOnAccountNotification(e) {
    const { result: t, subscription: n } = se(e, K7);
    this._handleServerNotification(n, [t.value, t.context]);
  }
  _makeSubscription(e, t) {
    const n = this._nextClientSubscriptionId++,
      i = tT([e.method, t]),
      s = this._subscriptionsByHash[i];
    return (
      s === void 0
        ? (this._subscriptionsByHash[i] = {
            ...e,
            args: t,
            callbacks: new Set([e.callback]),
            state: "pending",
          })
        : s.callbacks.add(e.callback),
      (this._subscriptionHashByClientSubscriptionId[n] = i),
      (this._subscriptionDisposeFunctionsByClientSubscriptionId[n] =
        async () => {
          delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],
            delete this._subscriptionHashByClientSubscriptionId[n];
          const o = this._subscriptionsByHash[i];
          fr(
            o !== void 0,
            `Could not find a \`Subscription\` when tearing down client subscription #${n}`
          ),
            o.callbacks.delete(e.callback),
            await this._updateSubscriptions();
        }),
      this._updateSubscriptions(),
      n
    );
  }
  onAccountChange(e, t, n) {
    const { commitment: i, config: s } = gt(n),
      o = this._buildArgs(
        [e.toBase58()],
        i || this._commitment || "finalized",
        "base64",
        s
      );
    return this._makeSubscription(
      {
        callback: t,
        method: "accountSubscribe",
        unsubscribeMethod: "accountUnsubscribe",
      },
      o
    );
  }
  async removeAccountChangeListener(e) {
    await this._unsubscribeClientSubscription(e, "account change");
  }
  _wsOnProgramAccountNotification(e) {
    const { result: t, subscription: n } = se(e, Z7);
    this._handleServerNotification(n, [
      { accountId: t.value.pubkey, accountInfo: t.value.account },
      t.context,
    ]);
  }
  onProgramAccountChange(e, t, n, i) {
    const { commitment: s, config: o } = gt(n),
      a = this._buildArgs(
        [e.toBase58()],
        s || this._commitment || "finalized",
        "base64",
        o || (i ? { filters: iT(i) } : void 0)
      );
    return this._makeSubscription(
      {
        callback: t,
        method: "programSubscribe",
        unsubscribeMethod: "programUnsubscribe",
      },
      a
    );
  }
  async removeProgramAccountChangeListener(e) {
    await this._unsubscribeClientSubscription(e, "program account change");
  }
  onLogs(e, t, n) {
    const i = this._buildArgs(
      [typeof e == "object" ? { mentions: [e.toString()] } : e],
      n || this._commitment || "finalized"
    );
    return this._makeSubscription(
      {
        callback: t,
        method: "logsSubscribe",
        unsubscribeMethod: "logsUnsubscribe",
      },
      i
    );
  }
  async removeOnLogsListener(e) {
    await this._unsubscribeClientSubscription(e, "logs");
  }
  _wsOnLogsNotification(e) {
    const { result: t, subscription: n } = se(e, PV);
    this._handleServerNotification(n, [t.value, t.context]);
  }
  _wsOnSlotNotification(e) {
    const { result: t, subscription: n } = se(e, J7);
    this._handleServerNotification(n, [t]);
  }
  onSlotChange(e) {
    return this._makeSubscription(
      {
        callback: e,
        method: "slotSubscribe",
        unsubscribeMethod: "slotUnsubscribe",
      },
      []
    );
  }
  async removeSlotChangeListener(e) {
    await this._unsubscribeClientSubscription(e, "slot change");
  }
  _wsOnSlotUpdatesNotification(e) {
    const { result: t, subscription: n } = se(e, tV);
    this._handleServerNotification(n, [t]);
  }
  onSlotUpdate(e) {
    return this._makeSubscription(
      {
        callback: e,
        method: "slotsUpdatesSubscribe",
        unsubscribeMethod: "slotsUpdatesUnsubscribe",
      },
      []
    );
  }
  async removeSlotUpdateListener(e) {
    await this._unsubscribeClientSubscription(e, "slot update");
  }
  async _unsubscribeClientSubscription(e, t) {
    const n = this._subscriptionDisposeFunctionsByClientSubscriptionId[e];
    n
      ? await n()
      : console.warn(
          `Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`
        );
  }
  _buildArgs(e, t, n, i) {
    const s = t || this._commitment;
    if (s || n || i) {
      let o = {};
      n && (o.encoding = n),
        s && (o.commitment = s),
        i && (o = Object.assign(o, i)),
        e.push(o);
    }
    return e;
  }
  _buildArgsAtLeastConfirmed(e, t, n, i) {
    const s = t || this._commitment;
    if (s && !["confirmed", "finalized"].includes(s))
      throw new Error(
        "Using Connection with default commitment: `" +
          this._commitment +
          "`, but method requires at least `confirmed`"
      );
    return this._buildArgs(e, t, n, i);
  }
  _wsOnSignatureNotification(e) {
    const { result: t, subscription: n } = se(e, rV);
    t.value !== "receivedSignature" &&
      this._subscriptionsAutoDisposedByRpc.add(n),
      this._handleServerNotification(
        n,
        t.value === "receivedSignature"
          ? [{ type: "received" }, t.context]
          : [{ type: "status", result: t.value }, t.context]
      );
  }
  onSignature(e, t, n) {
    const i = this._buildArgs([e], n || this._commitment || "finalized"),
      s = this._makeSubscription(
        {
          callback: (o, a) => {
            if (o.type === "status") {
              t(o.result, a);
              try {
                this.removeSignatureListener(s);
              } catch {}
            }
          },
          method: "signatureSubscribe",
          unsubscribeMethod: "signatureUnsubscribe",
        },
        i
      );
    return s;
  }
  onSignatureWithOptions(e, t, n) {
    const { commitment: i, ...s } = {
        ...n,
        commitment: (n && n.commitment) || this._commitment || "finalized",
      },
      o = this._buildArgs([e], i, void 0, s),
      a = this._makeSubscription(
        {
          callback: (l, u) => {
            t(l, u);
            try {
              this.removeSignatureListener(a);
            } catch {}
          },
          method: "signatureSubscribe",
          unsubscribeMethod: "signatureUnsubscribe",
        },
        o
      );
    return a;
  }
  async removeSignatureListener(e) {
    await this._unsubscribeClientSubscription(e, "signature result");
  }
  _wsOnRootNotification(e) {
    const { result: t, subscription: n } = se(e, nV);
    this._handleServerNotification(n, [t]);
  }
  onRootChange(e) {
    return this._makeSubscription(
      {
        callback: e,
        method: "rootSubscribe",
        unsubscribeMethod: "rootUnsubscribe",
      },
      []
    );
  }
  async removeRootChangeListener(e) {
    await this._unsubscribeClientSubscription(e, "root change");
  }
}
Object.freeze({
  CreateLookupTable: {
    index: 0,
    layout: de([_e("instruction"), Iu("recentSlot"), $e("bumpSeed")]),
  },
  FreezeLookupTable: { index: 1, layout: de([_e("instruction")]) },
  ExtendLookupTable: {
    index: 2,
    layout: de([_e("instruction"), Iu(), un(je(), Wa(_e(), -8), "addresses")]),
  },
  DeactivateLookupTable: { index: 3, layout: de([_e("instruction")]) },
  CloseLookupTable: { index: 4, layout: de([_e("instruction")]) },
});
new me("AddressLookupTab1e1111111111111111111111111");
Object.freeze({
  RequestUnits: {
    index: 0,
    layout: de([$e("instruction"), _e("units"), _e("additionalFee")]),
  },
  RequestHeapFrame: { index: 1, layout: de([$e("instruction"), _e("bytes")]) },
  SetComputeUnitLimit: {
    index: 2,
    layout: de([$e("instruction"), _e("units")]),
  },
  SetComputeUnitPrice: {
    index: 3,
    layout: de([$e("instruction"), Iu("microLamports")]),
  },
});
new me("ComputeBudget111111111111111111111111111111");
de([
  $e("numSignatures"),
  $e("padding"),
  ci("signatureOffset"),
  ci("signatureInstructionIndex"),
  ci("publicKeyOffset"),
  ci("publicKeyInstructionIndex"),
  ci("messageDataOffset"),
  ci("messageDataSize"),
  ci("messageInstructionIndex"),
]);
new me("Ed25519SigVerify111111111111111111111111111");
Ab.utils.isValidPrivateKey;
Ab.getPublicKey;
de([
  $e("numSignatures"),
  ci("signatureOffset"),
  $e("signatureInstructionIndex"),
  ci("ethAddressOffset"),
  $e("ethAddressInstructionIndex"),
  ci("messageDataOffset"),
  ci("messageDataSize"),
  $e("messageInstructionIndex"),
  kt(20, "ethAddress"),
  kt(64, "signature"),
  $e("recoveryId"),
]);
new me("KeccakSecp256k11111111111111111111111111111");
var wB;
new me("StakeConfig11111111111111111111111111111111");
class bB {
  constructor(e, t, n) {
    (this.unixTimestamp = void 0),
      (this.epoch = void 0),
      (this.custodian = void 0),
      (this.unixTimestamp = e),
      (this.epoch = t),
      (this.custodian = n);
  }
}
wB = bB;
bB.default = new wB(0, 0, me.default);
Object.freeze({
  Initialize: { index: 0, layout: de([_e("instruction"), $H(), zH()]) },
  Authorize: {
    index: 1,
    layout: de([
      _e("instruction"),
      je("newAuthorized"),
      _e("stakeAuthorizationType"),
    ]),
  },
  Delegate: { index: 2, layout: de([_e("instruction")]) },
  Split: { index: 3, layout: de([_e("instruction"), jn("lamports")]) },
  Withdraw: { index: 4, layout: de([_e("instruction"), jn("lamports")]) },
  Deactivate: { index: 5, layout: de([_e("instruction")]) },
  Merge: { index: 7, layout: de([_e("instruction")]) },
  AuthorizeWithSeed: {
    index: 8,
    layout: de([
      _e("instruction"),
      je("newAuthorized"),
      _e("stakeAuthorizationType"),
      eu("authoritySeed"),
      je("authorityOwner"),
    ]),
  },
});
new me("Stake11111111111111111111111111111111111111");
Object.freeze({
  InitializeAccount: { index: 0, layout: de([_e("instruction"), WH()]) },
  Authorize: {
    index: 1,
    layout: de([
      _e("instruction"),
      je("newAuthorized"),
      _e("voteAuthorizationType"),
    ]),
  },
  Withdraw: { index: 3, layout: de([_e("instruction"), jn("lamports")]) },
  UpdateValidatorIdentity: { index: 4, layout: de([_e("instruction")]) },
  AuthorizeWithSeed: { index: 10, layout: de([_e("instruction"), HH()]) },
});
new me("Vote111111111111111111111111111111111111111");
new me("Va1idator1nfo111111111111111111111111111111");
ee({
  name: ie(),
  website: xe(ie()),
  details: xe(ie()),
  iconUrl: xe(ie()),
  keybaseUsername: xe(ie()),
});
new me("Vote111111111111111111111111111111111111111");
de([
  je("nodePubkey"),
  je("authorizedWithdrawer"),
  $e("commission"),
  Nr(),
  un(de([Nr("slot"), _e("confirmationCount")]), Wa(_e(), -8), "votes"),
  $e("rootSlotValid"),
  Nr("rootSlot"),
  Nr(),
  un(
    de([Nr("epoch"), je("authorizedVoter")]),
    Wa(_e(), -8),
    "authorizedVoters"
  ),
  de(
    [
      un(
        de([
          je("authorizedPubkey"),
          Nr("epochOfLastAuthorizedSwitch"),
          Nr("targetEpoch"),
        ]),
        32,
        "buf"
      ),
      Nr("idx"),
      $e("isEmpty"),
    ],
    "priorVoters"
  ),
  Nr(),
  un(
    de([Nr("epoch"), Nr("credits"), Nr("prevCredits")]),
    Wa(_e(), -8),
    "epochCredits"
  ),
  de([Nr("slot"), Nr("timestamp")], "lastTimestamp"),
]);
const ua = new me("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
new me("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");
const kg = new me("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");
new me("So11111111111111111111111111111111111111112");
new me("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");
const Mb = (r) => {
    const e = r.decode.bind(r),
      t = r.encode.bind(r);
    return { decode: e, encode: t };
  },
  DV = (r) => (e) => {
    const t = kt(r, e),
      { encode: n, decode: i } = Mb(t),
      s = t;
    return (
      (s.decode = (o, a) => {
        const l = i(o, a);
        return zM(Buffer.from(l));
      }),
      (s.encode = (o, a, l) => {
        const u = WM(o, r);
        return n(u, a, l);
      }),
      s
    );
  },
  rh = DV(8),
  SB = (r) => {
    const e = $e(r),
      { encode: t, decode: n } = Mb(e),
      i = e;
    return (
      (i.decode = (s, o) => !!n(s, o)),
      (i.encode = (s, o, a) => {
        const l = Number(s);
        return t(l, o, a);
      }),
      i
    );
  },
  Gr = (r) => {
    const e = kt(32, r),
      { encode: t, decode: n } = Mb(e),
      i = e;
    return (
      (i.decode = (s, o) => {
        const a = n(s, o);
        return new me(a);
      }),
      (i.encode = (s, o, a) => {
        const l = s.toBuffer();
        return t(l, o, a);
      }),
      i
    );
  };
class vl extends Error {
  constructor(e) {
    super(e);
  }
}
class EB extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenAccountNotFoundError");
  }
}
class MV extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenInvalidAccountError");
  }
}
class TB extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenInvalidAccountOwnerError");
  }
}
class lT extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenInvalidAccountSizeError");
  }
}
class BV extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenInvalidMintError");
  }
}
class OV extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenInvalidOwnerError");
  }
}
class IV extends vl {
  constructor() {
    super(...arguments), (this.name = "TokenOwnerOffCurveError");
  }
}
var Qv;
(function (r) {
  (r[(r.InitializeMint = 0)] = "InitializeMint"),
    (r[(r.InitializeAccount = 1)] = "InitializeAccount"),
    (r[(r.InitializeMultisig = 2)] = "InitializeMultisig"),
    (r[(r.Transfer = 3)] = "Transfer"),
    (r[(r.Approve = 4)] = "Approve"),
    (r[(r.Revoke = 5)] = "Revoke"),
    (r[(r.SetAuthority = 6)] = "SetAuthority"),
    (r[(r.MintTo = 7)] = "MintTo"),
    (r[(r.Burn = 8)] = "Burn"),
    (r[(r.CloseAccount = 9)] = "CloseAccount"),
    (r[(r.FreezeAccount = 10)] = "FreezeAccount"),
    (r[(r.ThawAccount = 11)] = "ThawAccount"),
    (r[(r.TransferChecked = 12)] = "TransferChecked"),
    (r[(r.ApproveChecked = 13)] = "ApproveChecked"),
    (r[(r.MintToChecked = 14)] = "MintToChecked"),
    (r[(r.BurnChecked = 15)] = "BurnChecked"),
    (r[(r.InitializeAccount2 = 16)] = "InitializeAccount2"),
    (r[(r.SyncNative = 17)] = "SyncNative"),
    (r[(r.InitializeAccount3 = 18)] = "InitializeAccount3"),
    (r[(r.InitializeMultisig2 = 19)] = "InitializeMultisig2"),
    (r[(r.InitializeMint2 = 20)] = "InitializeMint2"),
    (r[(r.GetAccountDataSize = 21)] = "GetAccountDataSize"),
    (r[(r.InitializeImmutableOwner = 22)] = "InitializeImmutableOwner"),
    (r[(r.AmountToUiAmount = 23)] = "AmountToUiAmount"),
    (r[(r.UiAmountToAmount = 24)] = "UiAmountToAmount"),
    (r[(r.InitializeMintCloseAuthority = 25)] = "InitializeMintCloseAuthority"),
    (r[(r.TransferFeeExtension = 26)] = "TransferFeeExtension"),
    (r[(r.ConfidentialTransferExtension = 27)] =
      "ConfidentialTransferExtension"),
    (r[(r.DefaultAccountStateExtension = 28)] = "DefaultAccountStateExtension"),
    (r[(r.Reallocate = 29)] = "Reallocate"),
    (r[(r.MemoTransferExtension = 30)] = "MemoTransferExtension"),
    (r[(r.CreateNativeMint = 31)] = "CreateNativeMint"),
    (r[(r.InitializeNonTransferableMint = 32)] =
      "InitializeNonTransferableMint"),
    (r[(r.InterestBearingMintExtension = 33)] = "InterestBearingMintExtension"),
    (r[(r.CpiGuardExtension = 34)] = "CpiGuardExtension"),
    (r[(r.InitializePermanentDelegate = 35)] = "InitializePermanentDelegate"),
    (r[(r.TransferHookExtension = 36)] = "TransferHookExtension"),
    (r[(r.MetadataPointerExtension = 39)] = "MetadataPointerExtension"),
    (r[(r.GroupPointerExtension = 40)] = "GroupPointerExtension"),
    (r[(r.GroupMemberPointerExtension = 41)] = "GroupMemberPointerExtension");
})(Qv || (Qv = {}));
function FV(r, e, t) {
  if (t.length) {
    r.push({ pubkey: e, isSigner: !1, isWritable: !1 });
    for (const n of t)
      r.push({
        pubkey: n instanceof me ? n : n.publicKey,
        isSigner: !0,
        isWritable: !1,
      });
  } else r.push({ pubkey: e, isSigner: !0, isWritable: !1 });
  return r;
}
var Jv;
(function (r) {
  (r[(r.Uninitialized = 0)] = "Uninitialized"),
    (r[(r.Mint = 1)] = "Mint"),
    (r[(r.Account = 2)] = "Account");
})(Jv || (Jv = {}));
const NV = 1,
  LV = de([
    $e("m"),
    $e("n"),
    SB("isInitialized"),
    Gr("signer1"),
    Gr("signer2"),
    Gr("signer3"),
    Gr("signer4"),
    Gr("signer5"),
    Gr("signer6"),
    Gr("signer7"),
    Gr("signer8"),
    Gr("signer9"),
    Gr("signer10"),
    Gr("signer11"),
  ]),
  UV = LV.span;
var sm;
(function (r) {
  (r[(r.Uninitialized = 0)] = "Uninitialized"),
    (r[(r.Initialized = 1)] = "Initialized"),
    (r[(r.Frozen = 2)] = "Frozen");
})(sm || (sm = {}));
const kB = de([
    Gr("mint"),
    Gr("owner"),
    rh("amount"),
    _e("delegateOption"),
    Gr("delegate"),
    $e("state"),
    _e("isNativeOption"),
    rh("isNative"),
    rh("delegatedAmount"),
    _e("closeAuthorityOption"),
    Gr("closeAuthority"),
  ]),
  pc = kB.span;
async function uT(r, e, t, n = ua) {
  const i = await r.getAccountInfo(e, t);
  return GV(e, i, n);
}
function GV(r, e, t = ua) {
  if (!e) throw new EB();
  if (!e.owner.equals(t)) throw new TB();
  if (e.data.length < pc) throw new lT();
  const n = kB.decode(e.data.slice(0, pc));
  let i = Buffer.alloc(0);
  if (e.data.length > pc) {
    if (e.data.length === UV) throw new lT();
    if (e.data[pc] != Jv.Account) throw new MV();
    i = e.data.slice(pc + NV);
  }
  return {
    address: r,
    mint: n.mint,
    owner: n.owner,
    amount: n.amount,
    delegate: n.delegateOption ? n.delegate : null,
    delegatedAmount: n.delegatedAmount,
    isInitialized: n.state !== sm.Uninitialized,
    isFrozen: n.state === sm.Frozen,
    isNative: !!n.isNativeOption,
    rentExemptReserve: n.isNativeOption ? n.isNative : null,
    closeAuthority: n.closeAuthorityOption ? n.closeAuthority : null,
    tlvData: i,
  };
}
const jV = de([
  _e("mintAuthorityOption"),
  Gr("mintAuthority"),
  rh("supply"),
  $e("decimals"),
  SB("isInitialized"),
  _e("freezeAuthorityOption"),
  Gr("freezeAuthority"),
]);
jV.span;
function $V(r, e, t = !1, n = ua, i = kg) {
  if (!t && !me.isOnCurve(e.toBuffer())) throw new IV();
  const [s] = me.findProgramAddressSync(
    [e.toBuffer(), n.toBuffer(), r.toBuffer()],
    i
  );
  return s;
}
function zV(r, e, t, n, i = ua, s = kg) {
  return WV(r, e, t, n, Buffer.alloc(0), i, s);
}
function WV(r, e, t, n, i, s = ua, o = kg) {
  const a = [
    { pubkey: r, isSigner: !0, isWritable: !0 },
    { pubkey: e, isSigner: !1, isWritable: !0 },
    { pubkey: t, isSigner: !1, isWritable: !1 },
    { pubkey: n, isSigner: !1, isWritable: !1 },
    { pubkey: Uh.programId, isSigner: !1, isWritable: !1 },
    { pubkey: s, isSigner: !1, isWritable: !1 },
  ];
  return new Ln({ keys: a, programId: o, data: i });
}
async function cT(r, e, t, n, i = !1, s, o, a = ua, l = kg) {
  const u = $V(t, n, i, a, l);
  let c;
  try {
    c = await uT(r, u, s, a);
  } catch (h) {
    if (h instanceof EB || h instanceof TB) {
      try {
        const d = new zi().add(zV(e.publicKey, u, n, t, a, l));
        await ZH(r, d, [e], o);
      } catch {}
      c = await uT(r, u, s, a);
    } else throw h;
  }
  if (!c.mint.equals(t)) throw new BV();
  if (!c.owner.equals(n)) throw new OV();
  return c;
}
const hT = de([$e("instruction"), rh("amount")]);
function HV(r, e, t, n, i = [], s = ua) {
  const o = FV(
      [
        { pubkey: r, isSigner: !1, isWritable: !0 },
        { pubkey: e, isSigner: !1, isWritable: !0 },
      ],
      t,
      i
    ),
    a = Buffer.alloc(hT.span);
  return (
    hT.encode({ instruction: Qv.Transfer, amount: BigInt(n) }, a),
    new Ln({ keys: o, programId: s, data: a })
  );
}
class VV {
  constructor() {
    he(
      this,
      "thimblesStatus",
      (localStorage.getItem("thimblesStatus") !== "undefined" &&
        localStorage.getItem("thimblesStatus")) ||
        "wait"
    );
    he(this, "thimblePlaying", this.thimblesStatus !== "wait");
    he(this, "thimblesLastResult", !1);
    ts(this);
  }
  thibleBid(e) {
    localStorage.setItem("thimblesStatus", e),
      (this.thimblesStatus = e),
      (this.thimblePlaying = !0);
  }
  thimblePlay() {
    localStorage.setItem("thimblesStatus", "wait"),
      (this.thimblesStatus = "wait"),
      (this.thimblePlaying = !1);
  }
}
const $r = new VV();
window.Buffer = Ce.Buffer;
const qd = 100,
  Zd = 5e4,
  XV = "Gw9saRvRTQUyMmYBabsGibceFaFe4RKK18nrbWYZpump",
  YV = "2WEkvjvFsQy2af3bp8kBk6hMngPdkheHaAmWk7ZMWAeQ",
  KV =
    "https://sly-indulgent-wave.solana-mainnet.quiknode.pro/7738767fc1e78d5157e8c6fa4450d9abe43d5127",
  qV = (r) => {
    const [e, t] = K.useState(200),
      [n, i] = K.useState(!1),
      [s, o] = K.useState(!1),
      a = () => {
        var h;
        if ("phantom" in window) {
          const d = (h = window.phantom) == null ? void 0 : h.solana;
          if (d != null && d.isPhantom) return d;
        }
        window.open("https://phantom.app/", "_blank");
      };
    K.useEffect(() => {
      (async () => {
        const d = a();
        try {
          const f = await d.connect();
          console.log(f.publicKey.toString()), i(!0);
        } catch (f) {
          console.log(`Error ${f}`);
        }
      })();
    }, []);
    const l = async () => {
        const h = window.solana;
        h.isConnected || (await h.connect(), i(!0));
      },
      u = async () => {
        if ($r.thimblePlaying) return 0;
        const h = () => {
          var C;
          if ("phantom" in window) {
            const F = (C = window.phantom) == null ? void 0 : C.solana;
            if (F != null && F.isPhantom) return F;
          }
        };
        if (!window.solana || !window.solana.isPhantom) {
          alert("Phantom wallet  ");
          return;
        }
        const d = h(),
          f = new RV(KV, "confirmed");
        if (!d.isConnected) return await l(), 0;
        const m = d.publicKey,
          g = new me(XV),
          _ = await cT(f, m, g, m),
          v = new me(YV),
          w = await cT(f, m, g, v),
          x = new zi().add(HV(_.address, w.address, m, e * 1e6, [], ua)),
          { blockhash: k } = await f.getLatestBlockhash();
        (x.recentBlockhash = k), (x.feePayer = m);
        try {
          const { signature: C } = await d.signAndSendTransaction(x, {});
          o(C), console.log("Transaction successful with signature:", C);
          const F = await tn.post("/game/bid", {
            signature: C,
            player: m,
            amount: e * 1e6,
          });
          $r.thibleBid(F.data.gameId), o(!1);
          const I = +localStorage.getItem("thimblesBest") || 0;
          localStorage.setItem("thimblesBest", I + e);
        } catch (C) {
          o(!1),
            console.error("Transaction failed:", C),
            alert("Error on transaction creating.");
        }
      },
      c = (h) => {
        const d = +e;
        t(d + h);
      };
    return (
      K.useEffect(() => {
        e < qd && t(qd), e > Zd && t(Zd);
      }, [e]),
      p.jsx("div", {
        className: "Thimbles_bid window",
        children: p.jsx("div", {
          className: `Thimbles_bid_inner ${
            $r.thimblePlaying && "Thimbles_bid_inner_hide"
          }`,
          children: s
            ? p.jsxs("div", {
                className: "Thimbles_bid_confirmation",
                children: [
                  p.jsx("div", {
                    className: "Thimbles_bid_confirmation_header",
                    children: "Waiting for transaction confirmation...",
                  }),
                  p.jsxs("div", {
                    className: "Thimbles_bid_confirmation_tx",
                    children: [
                      "tx: ",
                      p.jsx("a", {
                        href: `https://solscan.io/tx/${s}`,
                        target: "_blank",
                        children: s,
                      }),
                    ],
                  }),
                ],
              })
            : p.jsx(p.Fragment, {
                children: n
                  ? p.jsxs(p.Fragment, {
                      children: [
                        p.jsxs("div", {
                          className: "Thimbles_bid_value",
                          children: [
                            p.jsx("div", {
                              className: "Thimbles_bid_value_header",
                              children: $r.thimblesLastResult
                                ? p.jsx(p.Fragment, {
                                    children:
                                      $r.thimblesLastResult === "win"
                                        ? p.jsx(p.Fragment, {
                                            children: "You win!",
                                          })
                                        : p.jsx(p.Fragment, {
                                            children: "You loose!",
                                          }),
                                  })
                                : p.jsxs(p.Fragment, {
                                    children: [
                                      "Enter your bid - min ",
                                      qd,
                                      " - max ",
                                      Zd,
                                    ],
                                  }),
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                c(-5e3);
                              },
                              children: "- 5k",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                c(-1e3);
                              },
                              children: "- 1k",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                c(-100);
                              },
                              children: "- 100",
                            }),
                            p.jsx("input", {
                              type: "number",
                              value: e,
                              onChange: (h) => {
                                t(h.target.value);
                              },
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                c(100);
                              },
                              children: "+ 100",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                c(1e3);
                              },
                              children: "+ 1k",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                c(5e3);
                              },
                              children: "+ 5k",
                            }),
                          ],
                        }),
                        p.jsxs("div", {
                          className: "Thimbles_bid_buttons",
                          children: [
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                t(qd);
                              },
                              children: "MIN",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                t(e / 2);
                              },
                              children: "/ 2",
                            }),
                            p.jsx("button", {
                              onClick: u,
                              className: "Thimbles_bid_btn",
                              children: "Place bid",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                t(e * 2);
                              },
                              children: "* 2",
                            }),
                            p.jsx("button", {
                              className: "Thimbles_bid_value_bb",
                              onClick: () => {
                                t(Zd);
                              },
                              children: "MAX",
                            }),
                          ],
                        }),
                      ],
                    })
                  : p.jsx("button", {
                      className: "Thimbles_bid_btn",
                      onClick: l,
                      children: "Connect Phantom wallet",
                    }),
              }),
        }),
      })
    );
  },
  ZV = mn(qV),
  QV = (r) => {
    const [e, t] = K.useState([]);
    let n;
    K.useEffect(
      () => (
        i(),
        (n = setInterval(() => {
          i();
        }, 5 * 1e3)),
        () => {
          clearInterval(n);
        }
      ),
      []
    );
    const i = async () => {
      const s = await tn.get("/game/last");
      s.data.sort((a, l) => new Date(l.date) - new Date(a.date)), t(s.data);
    };
    return p.jsxs("div", {
      className: "Thimbles_lastGames window",
      children: [
        p.jsx("div", {
          className: "Thimbles_lastGames_header",
          children: "Last games",
        }),
        p.jsxs("div", {
          className: "Thimbles_lastGames_list",
          children: [
            p.jsxs("div", {
              className:
                "Thimbles_lastGames_element Thimbles_lastGames_element_header",
              children: [
                p.jsx("div", {
                  className: "Thimbles_lastGames_element_date",
                  children: "Date",
                }),
                p.jsx("div", {
                  className: "Thimbles_lastGames_element_bid",
                  children: "Bid $KNUT",
                }),
                p.jsx("div", {
                  className: "Thimbles_lastGames_element_sign",
                  children: "Bid Sign.",
                }),
                p.jsx("div", {
                  className: "Thimbles_lastGames_element_sign",
                  children: "Win Sign.",
                }),
                p.jsx("div", {
                  className: "Thimbles_lastGames_element_status",
                  children: "Status",
                }),
              ],
            }),
            e.map((s) =>
              p.jsxs(
                "div",
                {
                  className: "Thimbles_lastGames_element",
                  children: [
                    p.jsx("div", {
                      className: "Thimbles_lastGames_element_date",
                      children: JV(s.date),
                    }),
                    p.jsx("div", {
                      className: "Thimbles_lastGames_element_bid",
                      children: s.bid / 1e6,
                    }),
                    p.jsx("a", {
                      href: `https://solscan.io/tx/${s.bidSignature}`,
                      target: "_blank",
                      className: "Thimbles_lastGames_element_sign",
                      children: s.bidSignature,
                    }),
                    p.jsx("a", {
                      href: `https://solscan.io/tx/${s.winSignature}`,
                      target: "_blank",
                      className: "Thimbles_lastGames_element_sign",
                      children: s.winSignature,
                    }),
                    p.jsx("div", {
                      className: "Thimbles_lastGames_element_status",
                      children: s.status,
                    }),
                  ],
                },
                `${s._id}`
              )
            ),
          ],
        }),
      ],
    });
  };
function JV(r) {
  const e = new Date(r),
    n = Math.floor((new Date() - e) / 1e3);
  if (n < 60) return `${n} sec. ago`;
  const i = Math.floor(n / 60);
  if (i < 60) return `${i} min. ago`;
  const s = Math.floor(i / 60);
  if (s < 24) return `${s} hour${s > 1 ? "s" : ""} ago`;
  const o = Math.floor(s / 24);
  return `${o} day${o > 1 ? "s" : ""} ago`;
}
const dT = 300,
  fT = 100,
  e9 = (r) => {
    const [e, t] = K.useState(!1),
      [n, i] = K.useState(!0),
      [s, o] = K.useState(0);
    K.useEffect(() => {
      $r.thimblesStatus !== "wait" && l();
    }, [$r.thimblesStatus]);
    const a = [K.useRef(null), K.useRef(null), K.useRef(null)],
      l = () => {
        const d = u(50),
          f = (dT - fT) / (d.length - 10);
        setTimeout(() => {
          o(-1),
            setTimeout(() => {
              i(!1), c(d, 0, dT, f, fT);
            }, 500);
        }, 500);
      };
    K.useEffect(() => {
      for (let d = 0; d < 3; d++)
        (a[d].current.style.transition = "transform 100ms ease-in-out"),
          d === s
            ? (a[d].current.style.transform = "translate(0px, -60px)")
            : (a[d].current.style.transform = "translate(0px, 0px)");
    }, [s]);
    function u(d) {
      const f = [];
      for (let m = 0; m < d; m++) {
        const v = [1, 2, 3].sort(() => Math.random() - 0.5).slice(0, 2);
        f.push(v);
      }
      return f;
    }
    const c = (d, f, m, g, _) => {
        console.log(f);
        const v = f > d.length - 10 ? _ : m - g * f;
        console.log(`sta ${v}`),
          (a[
            d[f][0] - 1
          ].current.style.transition = `transform ${v}ms ease-in-out`),
          (a[
            d[f][1] - 1
          ].current.style.transition = `transform ${v}ms  ease-in-out`),
          (a[d[f][0] - 1].current.style.transform = `translate(${
            (d[f][1] - d[f][0]) * 100
          }px, 0px)`),
          (a[d[f][1] - 1].current.style.transform = `translate(${
            (d[f][0] - d[f][1]) * 100
          }px, 0px)`),
          setTimeout(() => {
            (a[d[f][0] - 1].current.style.transition = "transform 0ms"),
              (a[d[f][1] - 1].current.style.transition = "transform 0ms"),
              (a[d[f][0] - 1].current.style.transform = "translate(0px, 0px)"),
              (a[d[f][1] - 1].current.style.transform = "translate(0px, 0px)"),
              f < d.length - 1
                ? setTimeout(() => {
                    c(d, f + 1, m, g, _);
                  }, 20)
                : (t(!0), console.log("LAST SHUFFLE"));
          }, v);
      },
      h = async (d) => {
        if (e) {
          const f = await tn.post("/game/play", { gameId: $r.thimblesStatus });
          $r.thimblePlay();
          const m = f.data.status === "win";
          o(d),
            m
              ? (i(!0),
                ($r.thimblesLastResult = "win"),
                setTimeout(() => {
                  $r.thimblesLastResult = !1;
                }, 5e3))
              : (($r.thimblesLastResult = "loose"),
                setTimeout(() => {
                  $r.thimblesLastResult = !1;
                }, 5e3),
                setTimeout(() => {
                  o(-1),
                    setTimeout(() => {
                      i(!0), o(r9(d));
                    }, 100);
                }, 500)),
            t(!1);
        }
      };
    return p.jsxs("div", {
      className: "Thimbles_game",
      children: [
        p.jsxs("div", {
          className: `Thimbles_balls ${
            n ? "Thimbles_balls_show" : "Thimbles_balls_hide"
          }`,
          children: [
            p.jsx("div", {
              className: "Thimbles_ball Thimbles_ball_1 free_img",
              children: p.jsx("img", {
                src: "/img/games/thimbles/ball.png",
                alt: "decor",
              }),
            }),
            p.jsx("div", {
              className: "Thimbles_ball Thimbles_ball_2 free_img",
              children: p.jsx("img", {
                src: "/img/games/thimbles/ball.png",
                alt: "decor",
              }),
            }),
            p.jsx("div", {
              className: "Thimbles_ball Thimbles_ball_3 free_img",
              children: p.jsx("img", {
                src: "/img/games/thimbles/ball.png",
                alt: "decor",
              }),
            }),
          ],
        }),
        p.jsx("div", {
          ref: a[0],
          onClick: () => {
            h(0);
          },
          className: "Thimbles_thimble Thimbles_thimble_1 free_img",
          children: p.jsx("img", {
            src: "/img/games/thimbles/thimble.png",
            className: `${e && "canBeShaked"}`,
            alt: "decor",
          }),
        }),
        p.jsx("div", {
          ref: a[1],
          onClick: () => {
            h(1);
          },
          className: "Thimbles_thimble Thimbles_thimble_2 free_img",
          children: p.jsx("img", {
            src: "/img/games/thimbles/thimble.png",
            className: `${e && "canBeShaked"}`,
            alt: "decor",
          }),
        }),
        p.jsx("div", {
          ref: a[2],
          onClick: () => {
            h(2);
          },
          className: "Thimbles_thimble Thimbles_thimble_3 free_img",
          children: p.jsx("img", {
            src: "/img/games/thimbles/thimble.png",
            className: `${e && "canBeShaked"}`,
            alt: "decor",
          }),
        }),
      ],
    });
  },
  t9 = mn(e9);
function r9(r) {
  const t = [0, 1, 2].filter((n) => n !== r);
  return t[Math.floor(Math.random() * t.length)];
}
const pT = 300,
  mT = 100,
  n9 = (r) => {
    const [e, t] = K.useState(!1),
      [n, i] = K.useState(!0),
      [s, o] = K.useState(0),
      [a, l] = K.useState(!1);
    K.useEffect(() => {
      $r.thimblesStatus !== "wait" && c();
    }, [$r.thimblesStatus]);
    const u = [K.useRef(null), K.useRef(null), K.useRef(null)],
      c = () => {
        const m = h(11),
          g = (pT - mT) / (m.length - 10);
        setTimeout(() => {
          o(-1),
            setTimeout(() => {
              i(!1), d(m, 0, pT, g, mT);
            }, 500);
        }, 500);
      };
    K.useEffect(() => {
      for (let m = 0; m < 3; m++)
        (u[m].current.style.transition = "transform 100ms ease-in-out"),
          m === s
            ? (u[m].current.style.transform = "translate(0px, -60px)")
            : (u[m].current.style.transform = "translate(0px, 0px)");
    }, [s]);
    function h(m) {
      const g = [];
      for (let _ = 0; _ < m; _++) {
        const x = [1, 2, 3].sort(() => Math.random() - 0.5).slice(0, 2);
        g.push(x);
      }
      return g;
    }
    const d = (m, g, _, v, w) => {
        console.log(g);
        const x = g > m.length - 10 ? w : _ - v * g;
        console.log(`sta ${x}`),
          (u[
            m[g][0] - 1
          ].current.style.transition = `transform ${x}ms ease-in-out`),
          (u[
            m[g][1] - 1
          ].current.style.transition = `transform ${x}ms  ease-in-out`),
          (u[m[g][0] - 1].current.style.transform = `translate(${
            (m[g][1] - m[g][0]) * 100
          }px, 0px)`),
          (u[m[g][1] - 1].current.style.transform = `translate(${
            (m[g][0] - m[g][1]) * 100
          }px, 0px)`),
          setTimeout(() => {
            (u[m[g][0] - 1].current.style.transition = "transform 0ms"),
              (u[m[g][1] - 1].current.style.transition = "transform 0ms"),
              (u[m[g][0] - 1].current.style.transform = "translate(0px, 0px)"),
              (u[m[g][1] - 1].current.style.transform = "translate(0px, 0px)"),
              g < m.length - 1
                ? setTimeout(() => {
                    d(m, g + 1, _, v, w);
                  }, 20)
                : (t(!0), console.log("LAST SHUFFLE"));
          }, x);
      },
      f = async (m) => {
        if (e) {
          $r.thimblePlay();
          const g = Math.random() > 0.5;
          o(m),
            g
              ? (i(!0),
                l(!0),
                setTimeout(() => {
                  l(!1);
                }, 2e3))
              : setTimeout(() => {
                  o(-1),
                    setTimeout(() => {
                      i(!0), o(i9(m));
                    }, 100);
                }, 500),
            t(!1);
        }
      };
    return p.jsxs("div", {
      className: "Thimbles_game",
      onClick: () => {
        e || $r.thibleBid("123456");
      },
      children: [
        p.jsxs("div", {
          className: `Thimbles_balls ${
            n ? "Thimbles_balls_show" : "Thimbles_balls_hide"
          }`,
          children: [
            p.jsx("div", {
              className: "Thimbles_ball Thimbles_ball_1 free_img",
              children: p.jsx("img", {
                src: "/img/games/thimbles/ball.png",
                alt: "decor",
              }),
            }),
            p.jsx("div", {
              className: "Thimbles_ball Thimbles_ball_2 free_img",
              children: p.jsx("img", {
                src: "/img/games/thimbles/ball.png",
                alt: "decor",
              }),
            }),
            p.jsx("div", {
              className: "Thimbles_ball Thimbles_ball_3 free_img",
              children: p.jsx("img", {
                src: "/img/games/thimbles/ball.png",
                alt: "decor",
              }),
            }),
          ],
        }),
        p.jsx("div", {
          ref: u[0],
          onClick: () => {
            f(0);
          },
          className: "Thimbles_thimble Thimbles_thimble_1 free_img",
          children: p.jsx("img", {
            src: `/img/games/thimbles/${a ? "w" : "thimble"}.png`,
            className: `${e && "canBeShaked"}`,
            alt: "decor",
          }),
        }),
        p.jsx("div", {
          ref: u[1],
          onClick: () => {
            f(1);
          },
          className: "Thimbles_thimble Thimbles_thimble_2 free_img",
          children: p.jsx("img", {
            src: `/img/games/thimbles/${a ? "i" : "thimble"}.png`,
            className: `${e && "canBeShaked"}`,
            alt: "decor",
          }),
        }),
        p.jsx("div", {
          ref: u[2],
          onClick: () => {
            f(2);
          },
          className: "Thimbles_thimble Thimbles_thimble_3 free_img",
          children: p.jsx("img", {
            src: `/img/games/thimbles/${a ? "n" : "thimble"}.png`,
            className: `${e && "canBeShaked"}`,
            alt: "decor",
          }),
        }),
      ],
    });
  };
mn(n9);
function i9(r) {
  const t = [0, 1, 2].filter((n) => n !== r);
  return t[Math.floor(Math.random() * t.length)];
}
const s9 = () =>
    p.jsx(pt, {
      type: "thimbles",
      children: p.jsxs("div", {
        className: "Thimbles",
        children: [p.jsx(t9, {}), p.jsx(ZV, {}), p.jsx(QV, {})],
      }),
    }),
  o9 = mn(s9),
  mc = ({ type: r }) => {
    const [e, t] = K.useState([]);
    return (
      K.useEffect(() => {
        (async () => {
          let i = await tn.get("/leaderboard", { params: { type: r } });
          console.log(i.data), i.data && t(i.data);
        })();
      }, []),
      p.jsx(pt, {
        type: `${r}Leaderboard`,
        children: p.jsx("div", {
          className: "FlappyLeaderboard",
          children: e.map((n, i) => {
            if (n.wallet)
              return p.jsxs(
                "div",
                {
                  className: "FlappyLeaderboard_element window",
                  children: [
                    p.jsxs("div", {
                      className: "FlappyLeaderboard_element_name",
                      children: [
                        p.jsxs("div", {
                          className: "FlappyLeaderboard_element_decor",
                          children: [
                            p.jsx("img", {
                              src: `/img/flappy/${
                                i < 3 ? `cup${i + 1}` : "star"
                              }.png`,
                              alt: "decor",
                            }),
                            p.jsx("img", {
                              src: "/img/flappy/coin.png",
                              alt: "decor",
                            }),
                          ],
                        }),
                        p.jsx("div", {
                          className: "FlappyLeaderboard_element_info",
                          children: p.jsxs("div", {
                            className: "FlappyLeaderboard_element_info_value",
                            children: [
                              n.wallet === Re.wallet && "(You) ",
                              " ",
                              n.wallet.slice(0, 4),
                              "...",
                              n.wallet.slice(-4),
                            ],
                          }),
                        }),
                      ],
                    }),
                    p.jsxs("div", {
                      className: "FlappyLeaderboard_element_right",
                      children: [
                        i + 1,
                        i + 1 === 1 ? "st" : i + 1 === 2 ? "nd" : "th",
                        p.jsx("div", {
                          className: "FlappyLeaderboard_element_value_wrapper",
                          children: p.jsxs("div", {
                            className: "FlappyLeaderboard_element_value",
                            children: [n[r], " ", r === "minesweeper" && "sec"],
                          }),
                        }),
                      ],
                    }),
                  ],
                },
                `lbel-${n._id}`
              );
          }),
        }),
      })
    );
  },
  a9 = 0.001,
  l9 = 10 / 60,
  gc = 200,
  u9 = 140,
  g0 = 50;
class c9 {
  constructor() {
    he(this, "betweenWalls", gc);
    he(this, "score", 0);
    he(this, "speed", 0.5);
    he(this, "position", 0);
    he(this, "bearPosition", 100);
    he(this, "bearSpeed", 1);
    he(this, "lastwallnum", 0);
    he(this, "play", !1);
    he(this, "max", localStorage.getItem("flappyBest") || 0);
    he(this, "walls", []);
    he(this, "wallet", "1234");
    ts(this, { walls: gr });
  }
  tik(e, t) {
    if (
      ((this.speed = this.speed + a9),
      (this.position = this.position + this.speed),
      (this.bearSpeed = this.bearSpeed - l9),
      (this.bearPosition = this.bearPosition - this.bearSpeed),
      (this.bearPosition < -100 || this.bearPosition > t + 100) &&
        this.gameOver(),
      this.position + e / 2 > this.lastwallnum * gc && this.addWall(t),
      this.position - e / 2 - 50 > this.walls[0].num * gc && this.removeWall(),
      (this.position + g0 / 2) % gc < g0)
    ) {
      const n = Math.round((this.position + g0 / 2) / gc),
        s = JSON.parse(JSON.stringify(this.walls)).find((o) => o.num === n);
      if (s) {
        const o = t / 2 + s.pos,
          a = this.bearPosition;
        console.log(s),
          console.log(`h: ${t}`),
          console.log(`bearpos: ${a}`),
          console.log(`wallcenter: ${o}`);
        const l = o - s.distance / 2,
          u = o + s.distance / 2;
        console.log(`topWall: ${l}`),
          console.log(`botWall: ${u}`),
          (this.score = s.num),
          (a < l || a > u) && this.gameOver();
      }
    }
  }
  gameOver() {
    {
      if (this.score > this.max) {
        (this.max = this.score), localStorage.setItem("flappyBest", this.score);
        const e = { wallet: this.wallet, flappy: this.score },
          t = JSON.stringify(e);
        tn.post("/leaderboard", { value: btoa(t) });
      }
      this.play = !1;
    }
  }
  newGame(e) {
    (this.wallet = e),
      (this.play = !0),
      (this.speed = 3),
      (this.position = 0),
      (this.bearPosition = 200),
      (this.bearSpeed = 1),
      (this.lastwallnum = 0),
      (this.walls = []),
      (this.score = 0);
  }
  fly() {
    this.bearSpeed = 4;
  }
  addWall(e) {
    this.lastwallnum = this.lastwallnum + 1;
    const t = JSON.parse(JSON.stringify(this.walls)),
      n = {
        pos: (e / 4) * -1 + (e / 2) * Math.random(),
        num: this.lastwallnum,
        distance: u9 * (1 + Math.random() / 2),
      };
    t.push(n), (this.walls = t);
  }
  removeWall() {
    const e = JSON.parse(JSON.stringify(this.walls));
    e.shift(), (this.walls = e);
  }
}
const Vt = new c9();
/*!
 * PixiJS - v8.2.1
 * Compiled Tue, 25 Jun 2024 11:11:49 UTC
 *
 * PixiJS is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ var h9 = Object.defineProperty,
  d9 = Object.defineProperties,
  f9 = Object.getOwnPropertyDescriptors,
  gT = Object.getOwnPropertySymbols,
  p9 = Object.prototype.hasOwnProperty,
  m9 = Object.prototype.propertyIsEnumerable,
  _T = (r, e, t) =>
    e in r
      ? h9(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  yT = (r, e) => {
    for (var t in e || (e = {})) p9.call(e, t) && _T(r, t, e[t]);
    if (gT) for (var t of gT(e)) m9.call(e, t) && _T(r, t, e[t]);
    return r;
  },
  g9 = (r, e) => d9(r, f9(e)),
  W = ((r) => (
    (r.Application = "application"),
    (r.WebGLPipes = "webgl-pipes"),
    (r.WebGLPipesAdaptor = "webgl-pipes-adaptor"),
    (r.WebGLSystem = "webgl-system"),
    (r.WebGPUPipes = "webgpu-pipes"),
    (r.WebGPUPipesAdaptor = "webgpu-pipes-adaptor"),
    (r.WebGPUSystem = "webgpu-system"),
    (r.CanvasSystem = "canvas-system"),
    (r.CanvasPipesAdaptor = "canvas-pipes-adaptor"),
    (r.CanvasPipes = "canvas-pipes"),
    (r.Asset = "asset"),
    (r.LoadParser = "load-parser"),
    (r.ResolveParser = "resolve-parser"),
    (r.CacheParser = "cache-parser"),
    (r.DetectionParser = "detection-parser"),
    (r.MaskEffect = "mask-effect"),
    (r.BlendMode = "blend-mode"),
    (r.TextureSource = "texture-source"),
    (r.Environment = "environment"),
    (r.ShapeBuilder = "shape-builder"),
    r
  ))(W || {});
const ex = (r) => {
    if (typeof r == "function" || (typeof r == "object" && r.extension)) {
      if (!r.extension)
        throw new Error("Extension class must have an extension object");
      const e =
        typeof r.extension != "object" ? { type: r.extension } : r.extension;
      r = g9(yT({}, e), { ref: r });
    }
    if (typeof r == "object") r = yT({}, r);
    else throw new Error("Invalid extension type");
    return typeof r.type == "string" && (r.type = [r.type]), r;
  },
  Qd = (r, e) => {
    var t;
    return (t = ex(r).priority) != null ? t : e;
  },
  Ue = {
    _addHandlers: {},
    _removeHandlers: {},
    _queue: {},
    remove(...r) {
      return (
        r.map(ex).forEach((e) => {
          e.type.forEach((t) => {
            var n, i;
            return (i = (n = this._removeHandlers)[t]) == null
              ? void 0
              : i.call(n, e);
          });
        }),
        this
      );
    },
    add(...r) {
      return (
        r.map(ex).forEach((e) => {
          e.type.forEach((t) => {
            var n, i;
            const s = this._addHandlers,
              o = this._queue;
            s[t]
              ? (i = s[t]) == null || i.call(s, e)
              : ((o[t] = o[t] || []), (n = o[t]) == null || n.push(e));
          });
        }),
        this
      );
    },
    handle(r, e, t) {
      var n;
      const i = this._addHandlers,
        s = this._removeHandlers;
      if (i[r] || s[r])
        throw new Error(`Extension type ${r} already has a handler`);
      (i[r] = e), (s[r] = t);
      const o = this._queue;
      return (
        o[r] && ((n = o[r]) == null || n.forEach((a) => e(a)), delete o[r]),
        this
      );
    },
    handleByMap(r, e) {
      return this.handle(
        r,
        (t) => {
          t.name && (e[t.name] = t.ref);
        },
        (t) => {
          t.name && delete e[t.name];
        }
      );
    },
    handleByNamedList(r, e, t = -1) {
      return this.handle(
        r,
        (n) => {
          e.findIndex((s) => s.name === n.name) >= 0 ||
            (e.push({ name: n.name, value: n.ref }),
            e.sort((s, o) => Qd(o.value, t) - Qd(s.value, t)));
        },
        (n) => {
          const i = e.findIndex((s) => s.name === n.name);
          i !== -1 && e.splice(i, 1);
        }
      );
    },
    handleByList(r, e, t = -1) {
      return this.handle(
        r,
        (n) => {
          e.includes(n.ref) ||
            (e.push(n.ref), e.sort((i, s) => Qd(s, t) - Qd(i, t)));
        },
        (n) => {
          const i = e.indexOf(n.ref);
          i !== -1 && e.splice(i, 1);
        }
      );
    },
  };
function Bb(r) {
  return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, "default")
    ? r.default
    : r;
}
var AB = { exports: {} };
(function (r) {
  var e = Object.prototype.hasOwnProperty,
    t = "~";
  function n() {}
  Object.create &&
    ((n.prototype = Object.create(null)), new n().__proto__ || (t = !1));
  function i(l, u, c) {
    (this.fn = l), (this.context = u), (this.once = c || !1);
  }
  function s(l, u, c, h, d) {
    if (typeof c != "function")
      throw new TypeError("The listener must be a function");
    var f = new i(c, h || l, d),
      m = t ? t + u : u;
    return (
      l._events[m]
        ? l._events[m].fn
          ? (l._events[m] = [l._events[m], f])
          : l._events[m].push(f)
        : ((l._events[m] = f), l._eventsCount++),
      l
    );
  }
  function o(l, u) {
    --l._eventsCount === 0 ? (l._events = new n()) : delete l._events[u];
  }
  function a() {
    (this._events = new n()), (this._eventsCount = 0);
  }
  (a.prototype.eventNames = function () {
    var u = [],
      c,
      h;
    if (this._eventsCount === 0) return u;
    for (h in (c = this._events)) e.call(c, h) && u.push(t ? h.slice(1) : h);
    return Object.getOwnPropertySymbols
      ? u.concat(Object.getOwnPropertySymbols(c))
      : u;
  }),
    (a.prototype.listeners = function (u) {
      var c = t ? t + u : u,
        h = this._events[c];
      if (!h) return [];
      if (h.fn) return [h.fn];
      for (var d = 0, f = h.length, m = new Array(f); d < f; d++)
        m[d] = h[d].fn;
      return m;
    }),
    (a.prototype.listenerCount = function (u) {
      var c = t ? t + u : u,
        h = this._events[c];
      return h ? (h.fn ? 1 : h.length) : 0;
    }),
    (a.prototype.emit = function (u, c, h, d, f, m) {
      var g = t ? t + u : u;
      if (!this._events[g]) return !1;
      var _ = this._events[g],
        v = arguments.length,
        w,
        x;
      if (_.fn) {
        switch ((_.once && this.removeListener(u, _.fn, void 0, !0), v)) {
          case 1:
            return _.fn.call(_.context), !0;
          case 2:
            return _.fn.call(_.context, c), !0;
          case 3:
            return _.fn.call(_.context, c, h), !0;
          case 4:
            return _.fn.call(_.context, c, h, d), !0;
          case 5:
            return _.fn.call(_.context, c, h, d, f), !0;
          case 6:
            return _.fn.call(_.context, c, h, d, f, m), !0;
        }
        for (x = 1, w = new Array(v - 1); x < v; x++) w[x - 1] = arguments[x];
        _.fn.apply(_.context, w);
      } else {
        var k = _.length,
          C;
        for (x = 0; x < k; x++)
          switch (
            (_[x].once && this.removeListener(u, _[x].fn, void 0, !0), v)
          ) {
            case 1:
              _[x].fn.call(_[x].context);
              break;
            case 2:
              _[x].fn.call(_[x].context, c);
              break;
            case 3:
              _[x].fn.call(_[x].context, c, h);
              break;
            case 4:
              _[x].fn.call(_[x].context, c, h, d);
              break;
            default:
              if (!w)
                for (C = 1, w = new Array(v - 1); C < v; C++)
                  w[C - 1] = arguments[C];
              _[x].fn.apply(_[x].context, w);
          }
      }
      return !0;
    }),
    (a.prototype.on = function (u, c, h) {
      return s(this, u, c, h, !1);
    }),
    (a.prototype.once = function (u, c, h) {
      return s(this, u, c, h, !0);
    }),
    (a.prototype.removeListener = function (u, c, h, d) {
      var f = t ? t + u : u;
      if (!this._events[f]) return this;
      if (!c) return o(this, f), this;
      var m = this._events[f];
      if (m.fn)
        m.fn === c && (!d || m.once) && (!h || m.context === h) && o(this, f);
      else {
        for (var g = 0, _ = [], v = m.length; g < v; g++)
          (m[g].fn !== c || (d && !m[g].once) || (h && m[g].context !== h)) &&
            _.push(m[g]);
        _.length ? (this._events[f] = _.length === 1 ? _[0] : _) : o(this, f);
      }
      return this;
    }),
    (a.prototype.removeAllListeners = function (u) {
      var c;
      return (
        u
          ? ((c = t ? t + u : u), this._events[c] && o(this, c))
          : ((this._events = new n()), (this._eventsCount = 0)),
        this
      );
    }),
    (a.prototype.off = a.prototype.removeListener),
    (a.prototype.addListener = a.prototype.on),
    (a.prefixed = t),
    (a.EventEmitter = a),
    (r.exports = a);
})(AB);
var _9 = AB.exports,
  si = Bb(_9),
  y9 = { grad: 0.9, turn: 360, rad: 360 / (2 * Math.PI) },
  Bs = function (r) {
    return typeof r == "string" ? r.length > 0 : typeof r == "number";
  },
  Pr = function (r, e, t) {
    return (
      e === void 0 && (e = 0),
      t === void 0 && (t = Math.pow(10, e)),
      Math.round(t * r) / t + 0
    );
  },
  Ti = function (r, e, t) {
    return (
      e === void 0 && (e = 0),
      t === void 0 && (t = 1),
      r > t ? t : r > e ? r : e
    );
  },
  PB = function (r) {
    return (r = isFinite(r) ? r % 360 : 0) > 0 ? r : r + 360;
  },
  vT = function (r) {
    return {
      r: Ti(r.r, 0, 255),
      g: Ti(r.g, 0, 255),
      b: Ti(r.b, 0, 255),
      a: Ti(r.a),
    };
  },
  _0 = function (r) {
    return { r: Pr(r.r), g: Pr(r.g), b: Pr(r.b), a: Pr(r.a, 3) };
  },
  v9 = /^#([0-9a-f]{3,8})$/i,
  Jd = function (r) {
    var e = r.toString(16);
    return e.length < 2 ? "0" + e : e;
  },
  CB = function (r) {
    var e = r.r,
      t = r.g,
      n = r.b,
      i = r.a,
      s = Math.max(e, t, n),
      o = s - Math.min(e, t, n),
      a = o
        ? s === e
          ? (t - n) / o
          : s === t
          ? 2 + (n - e) / o
          : 4 + (e - t) / o
        : 0;
    return {
      h: 60 * (a < 0 ? a + 6 : a),
      s: s ? (o / s) * 100 : 0,
      v: (s / 255) * 100,
      a: i,
    };
  },
  RB = function (r) {
    var e = r.h,
      t = r.s,
      n = r.v,
      i = r.a;
    (e = (e / 360) * 6), (t /= 100), (n /= 100);
    var s = Math.floor(e),
      o = n * (1 - t),
      a = n * (1 - (e - s) * t),
      l = n * (1 - (1 - e + s) * t),
      u = s % 6;
    return {
      r: 255 * [n, a, o, o, l, n][u],
      g: 255 * [l, n, n, a, o, o][u],
      b: 255 * [o, o, l, n, n, a][u],
      a: i,
    };
  },
  xT = function (r) {
    return { h: PB(r.h), s: Ti(r.s, 0, 100), l: Ti(r.l, 0, 100), a: Ti(r.a) };
  },
  wT = function (r) {
    return { h: Pr(r.h), s: Pr(r.s), l: Pr(r.l), a: Pr(r.a, 3) };
  },
  bT = function (r) {
    return RB(
      ((t = (e = r).s),
      {
        h: e.h,
        s:
          (t *= ((n = e.l) < 50 ? n : 100 - n) / 100) > 0
            ? ((2 * t) / (n + t)) * 100
            : 0,
        v: n + t,
        a: e.a,
      })
    );
    var e, t, n;
  },
  nh = function (r) {
    return {
      h: (e = CB(r)).h,
      s:
        (i = ((200 - (t = e.s)) * (n = e.v)) / 100) > 0 && i < 200
          ? ((t * n) / 100 / (i <= 100 ? i : 200 - i)) * 100
          : 0,
      l: i / 2,
      a: e.a,
    };
    var e, t, n, i;
  },
  x9 =
    /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  w9 =
    /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  b9 =
    /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  S9 =
    /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
  tx = {
    string: [
      [
        function (r) {
          var e = v9.exec(r);
          return e
            ? (r = e[1]).length <= 4
              ? {
                  r: parseInt(r[0] + r[0], 16),
                  g: parseInt(r[1] + r[1], 16),
                  b: parseInt(r[2] + r[2], 16),
                  a:
                    r.length === 4 ? Pr(parseInt(r[3] + r[3], 16) / 255, 2) : 1,
                }
              : r.length === 6 || r.length === 8
              ? {
                  r: parseInt(r.substr(0, 2), 16),
                  g: parseInt(r.substr(2, 2), 16),
                  b: parseInt(r.substr(4, 2), 16),
                  a:
                    r.length === 8
                      ? Pr(parseInt(r.substr(6, 2), 16) / 255, 2)
                      : 1,
                }
              : null
            : null;
        },
        "hex",
      ],
      [
        function (r) {
          var e = b9.exec(r) || S9.exec(r);
          return e
            ? e[2] !== e[4] || e[4] !== e[6]
              ? null
              : vT({
                  r: Number(e[1]) / (e[2] ? 100 / 255 : 1),
                  g: Number(e[3]) / (e[4] ? 100 / 255 : 1),
                  b: Number(e[5]) / (e[6] ? 100 / 255 : 1),
                  a: e[7] === void 0 ? 1 : Number(e[7]) / (e[8] ? 100 : 1),
                })
            : null;
        },
        "rgb",
      ],
      [
        function (r) {
          var e = x9.exec(r) || w9.exec(r);
          if (!e) return null;
          var t,
            n,
            i = xT({
              h:
                ((t = e[1]),
                (n = e[2]),
                n === void 0 && (n = "deg"),
                Number(t) * (y9[n] || 1)),
              s: Number(e[3]),
              l: Number(e[4]),
              a: e[5] === void 0 ? 1 : Number(e[5]) / (e[6] ? 100 : 1),
            });
          return bT(i);
        },
        "hsl",
      ],
    ],
    object: [
      [
        function (r) {
          var e = r.r,
            t = r.g,
            n = r.b,
            i = r.a,
            s = i === void 0 ? 1 : i;
          return Bs(e) && Bs(t) && Bs(n)
            ? vT({ r: Number(e), g: Number(t), b: Number(n), a: Number(s) })
            : null;
        },
        "rgb",
      ],
      [
        function (r) {
          var e = r.h,
            t = r.s,
            n = r.l,
            i = r.a,
            s = i === void 0 ? 1 : i;
          if (!Bs(e) || !Bs(t) || !Bs(n)) return null;
          var o = xT({
            h: Number(e),
            s: Number(t),
            l: Number(n),
            a: Number(s),
          });
          return bT(o);
        },
        "hsl",
      ],
      [
        function (r) {
          var e = r.h,
            t = r.s,
            n = r.v,
            i = r.a,
            s = i === void 0 ? 1 : i;
          if (!Bs(e) || !Bs(t) || !Bs(n)) return null;
          var o = (function (a) {
            return {
              h: PB(a.h),
              s: Ti(a.s, 0, 100),
              v: Ti(a.v, 0, 100),
              a: Ti(a.a),
            };
          })({ h: Number(e), s: Number(t), v: Number(n), a: Number(s) });
          return RB(o);
        },
        "hsv",
      ],
    ],
  },
  ST = function (r, e) {
    for (var t = 0; t < e.length; t++) {
      var n = e[t][0](r);
      if (n) return [n, e[t][1]];
    }
    return [null, void 0];
  },
  E9 = function (r) {
    return typeof r == "string"
      ? ST(r.trim(), tx.string)
      : typeof r == "object" && r !== null
      ? ST(r, tx.object)
      : [null, void 0];
  },
  y0 = function (r, e) {
    var t = nh(r);
    return { h: t.h, s: Ti(t.s + 100 * e, 0, 100), l: t.l, a: t.a };
  },
  v0 = function (r) {
    return (299 * r.r + 587 * r.g + 114 * r.b) / 1e3 / 255;
  },
  ET = function (r, e) {
    var t = nh(r);
    return { h: t.h, s: t.s, l: Ti(t.l + 100 * e, 0, 100), a: t.a };
  },
  rx = (function () {
    function r(e) {
      (this.parsed = E9(e)[0]),
        (this.rgba = this.parsed || { r: 0, g: 0, b: 0, a: 1 });
    }
    return (
      (r.prototype.isValid = function () {
        return this.parsed !== null;
      }),
      (r.prototype.brightness = function () {
        return Pr(v0(this.rgba), 2);
      }),
      (r.prototype.isDark = function () {
        return v0(this.rgba) < 0.5;
      }),
      (r.prototype.isLight = function () {
        return v0(this.rgba) >= 0.5;
      }),
      (r.prototype.toHex = function () {
        return (
          (e = _0(this.rgba)),
          (t = e.r),
          (n = e.g),
          (i = e.b),
          (o = (s = e.a) < 1 ? Jd(Pr(255 * s)) : ""),
          "#" + Jd(t) + Jd(n) + Jd(i) + o
        );
        var e, t, n, i, s, o;
      }),
      (r.prototype.toRgb = function () {
        return _0(this.rgba);
      }),
      (r.prototype.toRgbString = function () {
        return (
          (e = _0(this.rgba)),
          (t = e.r),
          (n = e.g),
          (i = e.b),
          (s = e.a) < 1
            ? "rgba(" + t + ", " + n + ", " + i + ", " + s + ")"
            : "rgb(" + t + ", " + n + ", " + i + ")"
        );
        var e, t, n, i, s;
      }),
      (r.prototype.toHsl = function () {
        return wT(nh(this.rgba));
      }),
      (r.prototype.toHslString = function () {
        return (
          (e = wT(nh(this.rgba))),
          (t = e.h),
          (n = e.s),
          (i = e.l),
          (s = e.a) < 1
            ? "hsla(" + t + ", " + n + "%, " + i + "%, " + s + ")"
            : "hsl(" + t + ", " + n + "%, " + i + "%)"
        );
        var e, t, n, i, s;
      }),
      (r.prototype.toHsv = function () {
        return (
          (e = CB(this.rgba)),
          { h: Pr(e.h), s: Pr(e.s), v: Pr(e.v), a: Pr(e.a, 3) }
        );
        var e;
      }),
      (r.prototype.invert = function () {
        return us({
          r: 255 - (e = this.rgba).r,
          g: 255 - e.g,
          b: 255 - e.b,
          a: e.a,
        });
        var e;
      }),
      (r.prototype.saturate = function (e) {
        return e === void 0 && (e = 0.1), us(y0(this.rgba, e));
      }),
      (r.prototype.desaturate = function (e) {
        return e === void 0 && (e = 0.1), us(y0(this.rgba, -e));
      }),
      (r.prototype.grayscale = function () {
        return us(y0(this.rgba, -1));
      }),
      (r.prototype.lighten = function (e) {
        return e === void 0 && (e = 0.1), us(ET(this.rgba, e));
      }),
      (r.prototype.darken = function (e) {
        return e === void 0 && (e = 0.1), us(ET(this.rgba, -e));
      }),
      (r.prototype.rotate = function (e) {
        return e === void 0 && (e = 15), this.hue(this.hue() + e);
      }),
      (r.prototype.alpha = function (e) {
        return typeof e == "number"
          ? us({ r: (t = this.rgba).r, g: t.g, b: t.b, a: e })
          : Pr(this.rgba.a, 3);
        var t;
      }),
      (r.prototype.hue = function (e) {
        var t = nh(this.rgba);
        return typeof e == "number"
          ? us({ h: e, s: t.s, l: t.l, a: t.a })
          : Pr(t.h);
      }),
      (r.prototype.isEqual = function (e) {
        return this.toHex() === us(e).toHex();
      }),
      r
    );
  })(),
  us = function (r) {
    return r instanceof rx ? r : new rx(r);
  },
  TT = [],
  T9 = function (r) {
    r.forEach(function (e) {
      TT.indexOf(e) < 0 && (e(rx, tx), TT.push(e));
    });
  };
function k9(r, e) {
  var t = {
      white: "#ffffff",
      bisque: "#ffe4c4",
      blue: "#0000ff",
      cadetblue: "#5f9ea0",
      chartreuse: "#7fff00",
      chocolate: "#d2691e",
      coral: "#ff7f50",
      antiquewhite: "#faebd7",
      aqua: "#00ffff",
      azure: "#f0ffff",
      whitesmoke: "#f5f5f5",
      papayawhip: "#ffefd5",
      plum: "#dda0dd",
      blanchedalmond: "#ffebcd",
      black: "#000000",
      gold: "#ffd700",
      goldenrod: "#daa520",
      gainsboro: "#dcdcdc",
      cornsilk: "#fff8dc",
      cornflowerblue: "#6495ed",
      burlywood: "#deb887",
      aquamarine: "#7fffd4",
      beige: "#f5f5dc",
      crimson: "#dc143c",
      cyan: "#00ffff",
      darkblue: "#00008b",
      darkcyan: "#008b8b",
      darkgoldenrod: "#b8860b",
      darkkhaki: "#bdb76b",
      darkgray: "#a9a9a9",
      darkgreen: "#006400",
      darkgrey: "#a9a9a9",
      peachpuff: "#ffdab9",
      darkmagenta: "#8b008b",
      darkred: "#8b0000",
      darkorchid: "#9932cc",
      darkorange: "#ff8c00",
      darkslateblue: "#483d8b",
      gray: "#808080",
      darkslategray: "#2f4f4f",
      darkslategrey: "#2f4f4f",
      deeppink: "#ff1493",
      deepskyblue: "#00bfff",
      wheat: "#f5deb3",
      firebrick: "#b22222",
      floralwhite: "#fffaf0",
      ghostwhite: "#f8f8ff",
      darkviolet: "#9400d3",
      magenta: "#ff00ff",
      green: "#008000",
      dodgerblue: "#1e90ff",
      grey: "#808080",
      honeydew: "#f0fff0",
      hotpink: "#ff69b4",
      blueviolet: "#8a2be2",
      forestgreen: "#228b22",
      lawngreen: "#7cfc00",
      indianred: "#cd5c5c",
      indigo: "#4b0082",
      fuchsia: "#ff00ff",
      brown: "#a52a2a",
      maroon: "#800000",
      mediumblue: "#0000cd",
      lightcoral: "#f08080",
      darkturquoise: "#00ced1",
      lightcyan: "#e0ffff",
      ivory: "#fffff0",
      lightyellow: "#ffffe0",
      lightsalmon: "#ffa07a",
      lightseagreen: "#20b2aa",
      linen: "#faf0e6",
      mediumaquamarine: "#66cdaa",
      lemonchiffon: "#fffacd",
      lime: "#00ff00",
      khaki: "#f0e68c",
      mediumseagreen: "#3cb371",
      limegreen: "#32cd32",
      mediumspringgreen: "#00fa9a",
      lightskyblue: "#87cefa",
      lightblue: "#add8e6",
      midnightblue: "#191970",
      lightpink: "#ffb6c1",
      mistyrose: "#ffe4e1",
      moccasin: "#ffe4b5",
      mintcream: "#f5fffa",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      navajowhite: "#ffdead",
      navy: "#000080",
      mediumvioletred: "#c71585",
      powderblue: "#b0e0e6",
      palegoldenrod: "#eee8aa",
      oldlace: "#fdf5e6",
      paleturquoise: "#afeeee",
      mediumturquoise: "#48d1cc",
      mediumorchid: "#ba55d3",
      rebeccapurple: "#663399",
      lightsteelblue: "#b0c4de",
      mediumslateblue: "#7b68ee",
      thistle: "#d8bfd8",
      tan: "#d2b48c",
      orchid: "#da70d6",
      mediumpurple: "#9370db",
      purple: "#800080",
      pink: "#ffc0cb",
      skyblue: "#87ceeb",
      springgreen: "#00ff7f",
      palegreen: "#98fb98",
      red: "#ff0000",
      yellow: "#ffff00",
      slateblue: "#6a5acd",
      lavenderblush: "#fff0f5",
      peru: "#cd853f",
      palevioletred: "#db7093",
      violet: "#ee82ee",
      teal: "#008080",
      slategray: "#708090",
      slategrey: "#708090",
      aliceblue: "#f0f8ff",
      darkseagreen: "#8fbc8f",
      darkolivegreen: "#556b2f",
      greenyellow: "#adff2f",
      seagreen: "#2e8b57",
      seashell: "#fff5ee",
      tomato: "#ff6347",
      silver: "#c0c0c0",
      sienna: "#a0522d",
      lavender: "#e6e6fa",
      lightgreen: "#90ee90",
      orange: "#ffa500",
      orangered: "#ff4500",
      steelblue: "#4682b4",
      royalblue: "#4169e1",
      turquoise: "#40e0d0",
      yellowgreen: "#9acd32",
      salmon: "#fa8072",
      saddlebrown: "#8b4513",
      sandybrown: "#f4a460",
      rosybrown: "#bc8f8f",
      darksalmon: "#e9967a",
      lightgoldenrodyellow: "#fafad2",
      snow: "#fffafa",
      lightgrey: "#d3d3d3",
      lightgray: "#d3d3d3",
      dimgray: "#696969",
      dimgrey: "#696969",
      olivedrab: "#6b8e23",
      olive: "#808000",
    },
    n = {};
  for (var i in t) n[t[i]] = i;
  var s = {};
  (r.prototype.toName = function (o) {
    if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
      return "transparent";
    var a,
      l,
      u = n[this.toHex()];
    if (u) return u;
    if (o != null && o.closest) {
      var c = this.toRgb(),
        h = 1 / 0,
        d = "black";
      if (!s.length) for (var f in t) s[f] = new r(t[f]).toRgb();
      for (var m in t) {
        var g =
          ((a = c),
          (l = s[m]),
          Math.pow(a.r - l.r, 2) +
            Math.pow(a.g - l.g, 2) +
            Math.pow(a.b - l.b, 2));
        g < h && ((h = g), (d = m));
      }
      return d;
    }
  }),
    e.string.push([
      function (o) {
        var a = o.toLowerCase(),
          l = a === "transparent" ? "#0000" : t[a];
        return l ? new r(l).toRgb() : null;
      },
      "name",
    ]);
}
var A9 = Object.defineProperty,
  kT = Object.getOwnPropertySymbols,
  P9 = Object.prototype.hasOwnProperty,
  C9 = Object.prototype.propertyIsEnumerable,
  AT = (r, e, t) =>
    e in r
      ? A9(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  R9 = (r, e) => {
    for (var t in e || (e = {})) P9.call(e, t) && AT(r, t, e[t]);
    if (kT) for (var t of kT(e)) C9.call(e, t) && AT(r, t, e[t]);
    return r;
  };
T9([k9]);
const Fu = class Uc {
  constructor(e = 16777215) {
    (this._value = null),
      (this._components = new Float32Array(4)),
      this._components.fill(1),
      (this._int = 16777215),
      (this.value = e);
  }
  get red() {
    return this._components[0];
  }
  get green() {
    return this._components[1];
  }
  get blue() {
    return this._components[2];
  }
  get alpha() {
    return this._components[3];
  }
  setValue(e) {
    return (this.value = e), this;
  }
  set value(e) {
    if (e instanceof Uc)
      (this._value = this._cloneSource(e._value)),
        (this._int = e._int),
        this._components.set(e._components);
    else {
      if (e === null) throw new Error("Cannot set Color#value to null");
      (this._value === null || !this._isSourceEqual(this._value, e)) &&
        (this._normalize(e), (this._value = this._cloneSource(e)));
    }
  }
  get value() {
    return this._value;
  }
  _cloneSource(e) {
    return typeof e == "string" ||
      typeof e == "number" ||
      e instanceof Number ||
      e === null
      ? e
      : Array.isArray(e) || ArrayBuffer.isView(e)
      ? e.slice(0)
      : typeof e == "object" && e !== null
      ? R9({}, e)
      : e;
  }
  _isSourceEqual(e, t) {
    const n = typeof e;
    if (n !== typeof t) return !1;
    if (n === "number" || n === "string" || e instanceof Number) return e === t;
    if (
      (Array.isArray(e) && Array.isArray(t)) ||
      (ArrayBuffer.isView(e) && ArrayBuffer.isView(t))
    )
      return e.length !== t.length ? !1 : e.every((s, o) => s === t[o]);
    if (e !== null && t !== null) {
      const s = Object.keys(e),
        o = Object.keys(t);
      return s.length !== o.length ? !1 : s.every((a) => e[a] === t[a]);
    }
    return e === t;
  }
  toRgba() {
    const [e, t, n, i] = this._components;
    return { r: e, g: t, b: n, a: i };
  }
  toRgb() {
    const [e, t, n] = this._components;
    return { r: e, g: t, b: n };
  }
  toRgbaString() {
    const [e, t, n] = this.toUint8RgbArray();
    return `rgba(${e},${t},${n},${this.alpha})`;
  }
  toUint8RgbArray(e) {
    const [t, n, i] = this._components;
    return (
      this._arrayRgb || (this._arrayRgb = []),
      (e = e || this._arrayRgb),
      (e[0] = Math.round(t * 255)),
      (e[1] = Math.round(n * 255)),
      (e[2] = Math.round(i * 255)),
      e
    );
  }
  toArray(e) {
    this._arrayRgba || (this._arrayRgba = []), (e = e || this._arrayRgba);
    const [t, n, i, s] = this._components;
    return (e[0] = t), (e[1] = n), (e[2] = i), (e[3] = s), e;
  }
  toRgbArray(e) {
    this._arrayRgb || (this._arrayRgb = []), (e = e || this._arrayRgb);
    const [t, n, i] = this._components;
    return (e[0] = t), (e[1] = n), (e[2] = i), e;
  }
  toNumber() {
    return this._int;
  }
  toBgrNumber() {
    const [e, t, n] = this.toUint8RgbArray();
    return (n << 16) + (t << 8) + e;
  }
  toLittleEndianNumber() {
    const e = this._int;
    return (e >> 16) + (e & 65280) + ((e & 255) << 16);
  }
  multiply(e) {
    const [t, n, i, s] = Uc._temp.setValue(e)._components;
    return (
      (this._components[0] *= t),
      (this._components[1] *= n),
      (this._components[2] *= i),
      (this._components[3] *= s),
      this._refreshInt(),
      (this._value = null),
      this
    );
  }
  premultiply(e, t = !0) {
    return (
      t &&
        ((this._components[0] *= e),
        (this._components[1] *= e),
        (this._components[2] *= e)),
      (this._components[3] = e),
      this._refreshInt(),
      (this._value = null),
      this
    );
  }
  toPremultiplied(e, t = !0) {
    if (e === 1) return (255 << 24) + this._int;
    if (e === 0) return t ? 0 : this._int;
    let n = (this._int >> 16) & 255,
      i = (this._int >> 8) & 255,
      s = this._int & 255;
    return (
      t &&
        ((n = (n * e + 0.5) | 0),
        (i = (i * e + 0.5) | 0),
        (s = (s * e + 0.5) | 0)),
      ((e * 255) << 24) + (n << 16) + (i << 8) + s
    );
  }
  toHex() {
    const e = this._int.toString(16);
    return `#${"000000".substring(0, 6 - e.length) + e}`;
  }
  toHexa() {
    const t = Math.round(this._components[3] * 255).toString(16);
    return this.toHex() + "00".substring(0, 2 - t.length) + t;
  }
  setAlpha(e) {
    return (this._components[3] = this._clamp(e)), this;
  }
  _normalize(e) {
    let t, n, i, s;
    if (
      (typeof e == "number" || e instanceof Number) &&
      e >= 0 &&
      e <= 16777215
    ) {
      const o = e;
      (t = ((o >> 16) & 255) / 255),
        (n = ((o >> 8) & 255) / 255),
        (i = (o & 255) / 255),
        (s = 1);
    } else if (
      (Array.isArray(e) || e instanceof Float32Array) &&
      e.length >= 3 &&
      e.length <= 4
    )
      (e = this._clamp(e)), ([t, n, i, s = 1] = e);
    else if (
      (e instanceof Uint8Array || e instanceof Uint8ClampedArray) &&
      e.length >= 3 &&
      e.length <= 4
    )
      (e = this._clamp(e, 0, 255)),
        ([t, n, i, s = 255] = e),
        (t /= 255),
        (n /= 255),
        (i /= 255),
        (s /= 255);
    else if (typeof e == "string" || typeof e == "object") {
      if (typeof e == "string") {
        const a = Uc.HEX_PATTERN.exec(e);
        a && (e = `#${a[2]}`);
      }
      const o = us(e);
      o.isValid() &&
        (({ r: t, g: n, b: i, a: s } = o.rgba),
        (t /= 255),
        (n /= 255),
        (i /= 255));
    }
    if (t !== void 0)
      (this._components[0] = t),
        (this._components[1] = n),
        (this._components[2] = i),
        (this._components[3] = s),
        this._refreshInt();
    else throw new Error(`Unable to convert color ${e}`);
  }
  _refreshInt() {
    this._clamp(this._components);
    const [e, t, n] = this._components;
    this._int = ((e * 255) << 16) + ((t * 255) << 8) + ((n * 255) | 0);
  }
  _clamp(e, t = 0, n = 1) {
    return typeof e == "number"
      ? Math.min(Math.max(e, t), n)
      : (e.forEach((i, s) => {
          e[s] = Math.min(Math.max(i, t), n);
        }),
        e);
  }
  static isColorLike(e) {
    return (
      typeof e == "number" ||
      typeof e == "string" ||
      e instanceof Number ||
      e instanceof Uc ||
      Array.isArray(e) ||
      e instanceof Uint8Array ||
      e instanceof Uint8ClampedArray ||
      e instanceof Float32Array ||
      (e.r !== void 0 && e.g !== void 0 && e.b !== void 0) ||
      (e.r !== void 0 && e.g !== void 0 && e.b !== void 0 && e.a !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.l !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.l !== void 0 && e.a !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.v !== void 0) ||
      (e.h !== void 0 && e.s !== void 0 && e.v !== void 0 && e.a !== void 0)
    );
  }
};
Fu.shared = new Fu();
Fu._temp = new Fu();
Fu.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;
let at = Fu;
const D9 = { cullArea: null, cullable: !1, cullableChildren: !0 },
  M9 = Math.PI * 2,
  B9 = 180 / Math.PI,
  O9 = Math.PI / 180;
class ht {
  constructor(e = 0, t = 0) {
    (this.x = 0), (this.y = 0), (this.x = e), (this.y = t);
  }
  clone() {
    return new ht(this.x, this.y);
  }
  copyFrom(e) {
    return this.set(e.x, e.y), this;
  }
  copyTo(e) {
    return e.set(this.x, this.y), e;
  }
  equals(e) {
    return e.x === this.x && e.y === this.y;
  }
  set(e = 0, t = e) {
    return (this.x = e), (this.y = t), this;
  }
  toString() {
    return `[pixi.js/math:Point x=${this.x} y=${this.y}]`;
  }
  static get shared() {
    return (x0.x = 0), (x0.y = 0), x0;
  }
}
const x0 = new ht();
class we {
  constructor(e = 1, t = 0, n = 0, i = 1, s = 0, o = 0) {
    (this.array = null),
      (this.a = e),
      (this.b = t),
      (this.c = n),
      (this.d = i),
      (this.tx = s),
      (this.ty = o);
  }
  fromArray(e) {
    (this.a = e[0]),
      (this.b = e[1]),
      (this.c = e[3]),
      (this.d = e[4]),
      (this.tx = e[2]),
      (this.ty = e[5]);
  }
  set(e, t, n, i, s, o) {
    return (
      (this.a = e),
      (this.b = t),
      (this.c = n),
      (this.d = i),
      (this.tx = s),
      (this.ty = o),
      this
    );
  }
  toArray(e, t) {
    this.array || (this.array = new Float32Array(9));
    const n = t || this.array;
    return (
      e
        ? ((n[0] = this.a),
          (n[1] = this.b),
          (n[2] = 0),
          (n[3] = this.c),
          (n[4] = this.d),
          (n[5] = 0),
          (n[6] = this.tx),
          (n[7] = this.ty),
          (n[8] = 1))
        : ((n[0] = this.a),
          (n[1] = this.c),
          (n[2] = this.tx),
          (n[3] = this.b),
          (n[4] = this.d),
          (n[5] = this.ty),
          (n[6] = 0),
          (n[7] = 0),
          (n[8] = 1)),
      n
    );
  }
  apply(e, t) {
    t = t || new ht();
    const n = e.x,
      i = e.y;
    return (
      (t.x = this.a * n + this.c * i + this.tx),
      (t.y = this.b * n + this.d * i + this.ty),
      t
    );
  }
  applyInverse(e, t) {
    t = t || new ht();
    const n = this.a,
      i = this.b,
      s = this.c,
      o = this.d,
      a = this.tx,
      l = this.ty,
      u = 1 / (n * o + s * -i),
      c = e.x,
      h = e.y;
    return (
      (t.x = o * u * c + -s * u * h + (l * s - a * o) * u),
      (t.y = n * u * h + -i * u * c + (-l * n + a * i) * u),
      t
    );
  }
  translate(e, t) {
    return (this.tx += e), (this.ty += t), this;
  }
  scale(e, t) {
    return (
      (this.a *= e),
      (this.d *= t),
      (this.c *= e),
      (this.b *= t),
      (this.tx *= e),
      (this.ty *= t),
      this
    );
  }
  rotate(e) {
    const t = Math.cos(e),
      n = Math.sin(e),
      i = this.a,
      s = this.c,
      o = this.tx;
    return (
      (this.a = i * t - this.b * n),
      (this.b = i * n + this.b * t),
      (this.c = s * t - this.d * n),
      (this.d = s * n + this.d * t),
      (this.tx = o * t - this.ty * n),
      (this.ty = o * n + this.ty * t),
      this
    );
  }
  append(e) {
    const t = this.a,
      n = this.b,
      i = this.c,
      s = this.d;
    return (
      (this.a = e.a * t + e.b * i),
      (this.b = e.a * n + e.b * s),
      (this.c = e.c * t + e.d * i),
      (this.d = e.c * n + e.d * s),
      (this.tx = e.tx * t + e.ty * i + this.tx),
      (this.ty = e.tx * n + e.ty * s + this.ty),
      this
    );
  }
  appendFrom(e, t) {
    const n = e.a,
      i = e.b,
      s = e.c,
      o = e.d,
      a = e.tx,
      l = e.ty,
      u = t.a,
      c = t.b,
      h = t.c,
      d = t.d;
    return (
      (this.a = n * u + i * h),
      (this.b = n * c + i * d),
      (this.c = s * u + o * h),
      (this.d = s * c + o * d),
      (this.tx = a * u + l * h + t.tx),
      (this.ty = a * c + l * d + t.ty),
      this
    );
  }
  setTransform(e, t, n, i, s, o, a, l, u) {
    return (
      (this.a = Math.cos(a + u) * s),
      (this.b = Math.sin(a + u) * s),
      (this.c = -Math.sin(a - l) * o),
      (this.d = Math.cos(a - l) * o),
      (this.tx = e - (n * this.a + i * this.c)),
      (this.ty = t - (n * this.b + i * this.d)),
      this
    );
  }
  prepend(e) {
    const t = this.tx;
    if (e.a !== 1 || e.b !== 0 || e.c !== 0 || e.d !== 1) {
      const n = this.a,
        i = this.c;
      (this.a = n * e.a + this.b * e.c),
        (this.b = n * e.b + this.b * e.d),
        (this.c = i * e.a + this.d * e.c),
        (this.d = i * e.b + this.d * e.d);
    }
    return (
      (this.tx = t * e.a + this.ty * e.c + e.tx),
      (this.ty = t * e.b + this.ty * e.d + e.ty),
      this
    );
  }
  decompose(e) {
    const t = this.a,
      n = this.b,
      i = this.c,
      s = this.d,
      o = e.pivot,
      a = -Math.atan2(-i, s),
      l = Math.atan2(n, t),
      u = Math.abs(a + l);
    return (
      u < 1e-5 || Math.abs(M9 - u) < 1e-5
        ? ((e.rotation = l), (e.skew.x = e.skew.y = 0))
        : ((e.rotation = 0), (e.skew.x = a), (e.skew.y = l)),
      (e.scale.x = Math.sqrt(t * t + n * n)),
      (e.scale.y = Math.sqrt(i * i + s * s)),
      (e.position.x = this.tx + (o.x * t + o.y * i)),
      (e.position.y = this.ty + (o.x * n + o.y * s)),
      e
    );
  }
  invert() {
    const e = this.a,
      t = this.b,
      n = this.c,
      i = this.d,
      s = this.tx,
      o = e * i - t * n;
    return (
      (this.a = i / o),
      (this.b = -t / o),
      (this.c = -n / o),
      (this.d = e / o),
      (this.tx = (n * this.ty - i * s) / o),
      (this.ty = -(e * this.ty - t * s) / o),
      this
    );
  }
  isIdentity() {
    return (
      this.a === 1 &&
      this.b === 0 &&
      this.c === 0 &&
      this.d === 1 &&
      this.tx === 0 &&
      this.ty === 0
    );
  }
  identity() {
    return (
      (this.a = 1),
      (this.b = 0),
      (this.c = 0),
      (this.d = 1),
      (this.tx = 0),
      (this.ty = 0),
      this
    );
  }
  clone() {
    const e = new we();
    return (
      (e.a = this.a),
      (e.b = this.b),
      (e.c = this.c),
      (e.d = this.d),
      (e.tx = this.tx),
      (e.ty = this.ty),
      e
    );
  }
  copyTo(e) {
    return (
      (e.a = this.a),
      (e.b = this.b),
      (e.c = this.c),
      (e.d = this.d),
      (e.tx = this.tx),
      (e.ty = this.ty),
      e
    );
  }
  copyFrom(e) {
    return (
      (this.a = e.a),
      (this.b = e.b),
      (this.c = e.c),
      (this.d = e.d),
      (this.tx = e.tx),
      (this.ty = e.ty),
      this
    );
  }
  equals(e) {
    return (
      e.a === this.a &&
      e.b === this.b &&
      e.c === this.c &&
      e.d === this.d &&
      e.tx === this.tx &&
      e.ty === this.ty
    );
  }
  toString() {
    return `[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;
  }
  static get IDENTITY() {
    return F9.identity();
  }
  static get shared() {
    return I9.identity();
  }
}
const I9 = new we(),
  F9 = new we();
class Cr {
  constructor(e, t, n) {
    (this._x = t || 0), (this._y = n || 0), (this._observer = e);
  }
  clone(e) {
    return new Cr(e ?? this._observer, this._x, this._y);
  }
  set(e = 0, t = e) {
    return (
      (this._x !== e || this._y !== t) &&
        ((this._x = e), (this._y = t), this._observer._onUpdate(this)),
      this
    );
  }
  copyFrom(e) {
    return (
      (this._x !== e.x || this._y !== e.y) &&
        ((this._x = e.x), (this._y = e.y), this._observer._onUpdate(this)),
      this
    );
  }
  copyTo(e) {
    return e.set(this._x, this._y), e;
  }
  equals(e) {
    return e.x === this._x && e.y === this._y;
  }
  toString() {
    return `[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`;
  }
  get x() {
    return this._x;
  }
  set x(e) {
    this._x !== e && ((this._x = e), this._observer._onUpdate(this));
  }
  get y() {
    return this._y;
  }
  set y(e) {
    this._y !== e && ((this._y = e), this._observer._onUpdate(this));
  }
}
const w0 = { default: -1 };
function Nt(r = "default") {
  return w0[r] === void 0 && (w0[r] = -1), ++w0[r];
}
const PT = {},
  Ge = "8.0.0";
function Le(r, e, t = 3) {
  if (PT[e]) return;
  let n = new Error().stack;
  typeof n > "u"
    ? console.warn(
        "PixiJS Deprecation Warning: ",
        `${e}
Deprecated since v${r}`
      )
    : ((n = n
        .split(
          `
`
        )
        .splice(t).join(`
`)),
      console.groupCollapsed
        ? (console.groupCollapsed(
            "%cPixiJS Deprecation Warning: %c%s",
            "color:#614108;background:#fffbe6",
            "font-weight:normal;color:#614108;background:#fffbe6",
            `${e}
Deprecated since v${r}`
          ),
          console.warn(n),
          console.groupEnd())
        : (console.warn(
            "PixiJS Deprecation Warning: ",
            `${e}
Deprecated since v${r}`
          ),
          console.warn(n))),
    (PT[e] = !0);
}
class Ob {
  constructor(e, t) {
    (this._pool = []),
      (this._count = 0),
      (this._index = 0),
      (this._classType = e),
      t && this.prepopulate(t);
  }
  prepopulate(e) {
    for (let t = 0; t < e; t++)
      this._pool[this._index++] = new this._classType();
    this._count += e;
  }
  get(e) {
    var t;
    let n;
    return (
      this._index > 0
        ? (n = this._pool[--this._index])
        : (n = new this._classType()),
      (t = n.init) == null || t.call(n, e),
      n
    );
  }
  return(e) {
    var t;
    (t = e.reset) == null || t.call(e), (this._pool[this._index++] = e);
  }
  get totalSize() {
    return this._count;
  }
  get totalFree() {
    return this._index;
  }
  get totalUsed() {
    return this._count - this._index;
  }
}
class N9 {
  constructor() {
    this._poolsByClass = new Map();
  }
  prepopulate(e, t) {
    this.getPool(e).prepopulate(t);
  }
  get(e, t) {
    return this.getPool(e).get(t);
  }
  return(e) {
    this.getPool(e.constructor).return(e);
  }
  getPool(e) {
    return (
      this._poolsByClass.has(e) || this._poolsByClass.set(e, new Ob(e)),
      this._poolsByClass.get(e)
    );
  }
  stats() {
    const e = {};
    return (
      this._poolsByClass.forEach((t) => {
        const n = e[t._classType.name]
          ? t._classType.name + t._classType.ID
          : t._classType.name;
        e[n] = { free: t.totalFree, used: t.totalUsed, size: t.totalSize };
      }),
      e
    );
  }
}
const Je = new N9();
function DB(r, e, t) {
  const n = r.length;
  let i;
  if (e >= n || t === 0) return;
  t = e + t > n ? n - e : t;
  const s = n - t;
  for (i = e; i < s; ++i) r[i] = r[i + t];
  r.length = s;
}
const L9 = {
  allowChildren: !0,
  removeChildren(r = 0, e) {
    const t = e ?? this.children.length,
      n = t - r,
      i = [];
    if (n > 0 && n <= t) {
      for (let o = t - 1; o >= r; o--) {
        const a = this.children[o];
        a && (i.push(a), (a.parent = null));
      }
      DB(this.children, r, t);
      const s = this.renderGroup || this.parentRenderGroup;
      s && s.removeChildren(i);
      for (let o = 0; o < i.length; ++o)
        this.emit("childRemoved", i[o], this, o), i[o].emit("removed", this);
      return i;
    } else if (n === 0 && this.children.length === 0) return i;
    throw new RangeError(
      "removeChildren: numeric values are outside the acceptable range."
    );
  },
  removeChildAt(r) {
    const e = this.getChildAt(r);
    return this.removeChild(e);
  },
  getChildAt(r) {
    if (r < 0 || r >= this.children.length)
      throw new Error(`getChildAt: Index (${r}) does not exist.`);
    return this.children[r];
  },
  setChildIndex(r, e) {
    if (e < 0 || e >= this.children.length)
      throw new Error(
        `The index ${e} supplied is out of bounds ${this.children.length}`
      );
    this.getChildIndex(r), this.addChildAt(r, e);
  },
  getChildIndex(r) {
    const e = this.children.indexOf(r);
    if (e === -1)
      throw new Error("The supplied Container must be a child of the caller");
    return e;
  },
  addChildAt(r, e) {
    this.allowChildren ||
      Le(
        Ge,
        "addChildAt: Only Containers will be allowed to add children in v8.0.0"
      );
    const { children: t } = this;
    if (e < 0 || e > t.length)
      throw new Error(
        `${r}addChildAt: The index ${e} supplied is out of bounds ${t.length}`
      );
    if (r.parent) {
      const i = r.parent.children.indexOf(r);
      if (r.parent === this && i === e) return r;
      i !== -1 && r.parent.children.splice(i, 1);
    }
    e === t.length ? t.push(r) : t.splice(e, 0, r),
      (r.parent = this),
      (r.didChange = !0),
      (r.didViewUpdate = !1),
      (r._updateFlags = 15);
    const n = this.renderGroup || this.parentRenderGroup;
    return (
      n && n.addChild(r),
      this.sortableChildren && (this.sortDirty = !0),
      this.emit("childAdded", r, this, e),
      r.emit("added", this),
      r
    );
  },
  swapChildren(r, e) {
    if (r === e) return;
    const t = this.getChildIndex(r),
      n = this.getChildIndex(e);
    (this.children[t] = e), (this.children[n] = r);
    const i = this.renderGroup || this.parentRenderGroup;
    i && (i.structureDidChange = !0), this._didChangeId++;
  },
  removeFromParent() {
    var r;
    (r = this.parent) == null || r.removeChild(this);
  },
  reparentChild(...r) {
    return r.length === 1
      ? this.reparentChildAt(r[0], this.children.length)
      : (r.forEach((e) => this.reparentChildAt(e, this.children.length)), r[0]);
  },
  reparentChildAt(r, e) {
    if (r.parent === this) return this.setChildIndex(r, e), r;
    const t = r.worldTransform.clone();
    r.removeFromParent(), this.addChildAt(r, e);
    const n = this.worldTransform.clone();
    return n.invert(), t.prepend(n), r.setFromMatrix(t), r;
  },
};
class om {
  constructor() {
    (this.pipe = "filter"), (this.priority = 1);
  }
  destroy() {
    for (let e = 0; e < this.filters.length; e++) this.filters[e].destroy();
    (this.filters = null), (this.filterArea = null);
  }
}
class U9 {
  constructor() {
    (this._effectClasses = []), (this._tests = []), (this._initialized = !1);
  }
  init() {
    this._initialized ||
      ((this._initialized = !0),
      this._effectClasses.forEach((e) => {
        this.add({ test: e.test, maskClass: e });
      }));
  }
  add(e) {
    this._tests.push(e);
  }
  getMaskEffect(e) {
    this._initialized || this.init();
    for (let t = 0; t < this._tests.length; t++) {
      const n = this._tests[t];
      if (n.test(e)) return Je.get(n.maskClass, e);
    }
    return e;
  }
  returnMaskEffect(e) {
    Je.return(e);
  }
}
const nx = new U9();
Ue.handleByList(W.MaskEffect, nx._effectClasses);
const G9 = {
    _maskEffect: null,
    _filterEffect: null,
    effects: [],
    addEffect(r) {
      if (this.effects.indexOf(r) !== -1) return;
      this.effects.push(r),
        this.effects.sort((n, i) => n.priority - i.priority);
      const t = this.renderGroup || this.parentRenderGroup;
      t && (t.structureDidChange = !0), this._updateIsSimple();
    },
    removeEffect(r) {
      const e = this.effects.indexOf(r);
      e !== -1 &&
        (this.effects.splice(e, 1),
        this.parentRenderGroup &&
          (this.parentRenderGroup.structureDidChange = !0),
        this._updateIsSimple());
    },
    set mask(r) {
      const e = this._maskEffect;
      (e == null ? void 0 : e.mask) !== r &&
        (e &&
          (this.removeEffect(e),
          nx.returnMaskEffect(e),
          (this._maskEffect = null)),
        r != null &&
          ((this._maskEffect = nx.getMaskEffect(r)),
          this.addEffect(this._maskEffect)));
    },
    get mask() {
      var r;
      return (r = this._maskEffect) == null ? void 0 : r.mask;
    },
    set filters(r) {
      var e;
      !Array.isArray(r) && r && (r = [r]);
      const t = this._filterEffect || (this._filterEffect = new om());
      r = r;
      const n = (r == null ? void 0 : r.length) > 0,
        i = ((e = t.filters) == null ? void 0 : e.length) > 0,
        s = n !== i;
      (r = Array.isArray(r) ? r.slice(0) : r),
        (t.filters = Object.freeze(r)),
        s &&
          (n
            ? this.addEffect(t)
            : (this.removeEffect(t), (t.filters = r ?? null)));
    },
    get filters() {
      var r;
      return (r = this._filterEffect) == null ? void 0 : r.filters;
    },
    set filterArea(r) {
      this._filterEffect || (this._filterEffect = new om()),
        (this._filterEffect.filterArea = r);
    },
    get filterArea() {
      var r;
      return (r = this._filterEffect) == null ? void 0 : r.filterArea;
    },
  },
  j9 = {
    label: null,
    get name() {
      return (
        Le(
          Ge,
          "Container.name property has been removed, use Container.label instead"
        ),
        this.label
      );
    },
    set name(r) {
      Le(
        Ge,
        "Container.name property has been removed, use Container.label instead"
      ),
        (this.label = r);
    },
    getChildByName(r, e = !1) {
      return this.getChildByLabel(r, e);
    },
    getChildByLabel(r, e = !1) {
      const t = this.children;
      for (let n = 0; n < t.length; n++) {
        const i = t[n];
        if (i.label === r || (r instanceof RegExp && r.test(i.label))) return i;
      }
      if (e)
        for (let n = 0; n < t.length; n++) {
          const s = t[n].getChildByLabel(r, !0);
          if (s) return s;
        }
      return null;
    },
    getChildrenByLabel(r, e = !1, t = []) {
      const n = this.children;
      for (let i = 0; i < n.length; i++) {
        const s = n[i];
        (s.label === r || (r instanceof RegExp && r.test(s.label))) &&
          t.push(s);
      }
      if (e)
        for (let i = 0; i < n.length; i++) n[i].getChildrenByLabel(r, !0, t);
      return t;
    },
  },
  ef = [new ht(), new ht(), new ht(), new ht()];
class dt {
  constructor(e = 0, t = 0, n = 0, i = 0) {
    (this.type = "rectangle"),
      (this.x = Number(e)),
      (this.y = Number(t)),
      (this.width = Number(n)),
      (this.height = Number(i));
  }
  get left() {
    return this.x;
  }
  get right() {
    return this.x + this.width;
  }
  get top() {
    return this.y;
  }
  get bottom() {
    return this.y + this.height;
  }
  isEmpty() {
    return this.left === this.right || this.top === this.bottom;
  }
  static get EMPTY() {
    return new dt(0, 0, 0, 0);
  }
  clone() {
    return new dt(this.x, this.y, this.width, this.height);
  }
  copyFromBounds(e) {
    return (
      (this.x = e.minX),
      (this.y = e.minY),
      (this.width = e.maxX - e.minX),
      (this.height = e.maxY - e.minY),
      this
    );
  }
  copyFrom(e) {
    return (
      (this.x = e.x),
      (this.y = e.y),
      (this.width = e.width),
      (this.height = e.height),
      this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  contains(e, t) {
    return this.width <= 0 || this.height <= 0
      ? !1
      : e >= this.x &&
          e < this.x + this.width &&
          t >= this.y &&
          t < this.y + this.height;
  }
  strokeContains(e, t, n) {
    const { width: i, height: s } = this;
    if (i <= 0 || s <= 0) return !1;
    const o = this.x,
      a = this.y,
      l = o - n / 2,
      u = o + i + n / 2,
      c = a - n / 2,
      h = a + s + n / 2,
      d = o + n / 2,
      f = o + i - n / 2,
      m = a + n / 2,
      g = a + s - n / 2;
    return (
      e >= l &&
      e <= u &&
      t >= c &&
      t <= h &&
      !(e > d && e < f && t > m && t < g)
    );
  }
  intersects(e, t) {
    if (!t) {
      const G = this.x < e.x ? e.x : this.x;
      if ((this.right > e.right ? e.right : this.right) <= G) return !1;
      const $ = this.y < e.y ? e.y : this.y;
      return (this.bottom > e.bottom ? e.bottom : this.bottom) > $;
    }
    const n = this.left,
      i = this.right,
      s = this.top,
      o = this.bottom;
    if (i <= n || o <= s) return !1;
    const a = ef[0].set(e.left, e.top),
      l = ef[1].set(e.left, e.bottom),
      u = ef[2].set(e.right, e.top),
      c = ef[3].set(e.right, e.bottom);
    if (u.x <= a.x || l.y <= a.y) return !1;
    const h = Math.sign(t.a * t.d - t.b * t.c);
    if (
      h === 0 ||
      (t.apply(a, a),
      t.apply(l, l),
      t.apply(u, u),
      t.apply(c, c),
      Math.max(a.x, l.x, u.x, c.x) <= n ||
        Math.min(a.x, l.x, u.x, c.x) >= i ||
        Math.max(a.y, l.y, u.y, c.y) <= s ||
        Math.min(a.y, l.y, u.y, c.y) >= o)
    )
      return !1;
    const d = h * (l.y - a.y),
      f = h * (a.x - l.x),
      m = d * n + f * s,
      g = d * i + f * s,
      _ = d * n + f * o,
      v = d * i + f * o;
    if (
      Math.max(m, g, _, v) <= d * a.x + f * a.y ||
      Math.min(m, g, _, v) >= d * c.x + f * c.y
    )
      return !1;
    const w = h * (a.y - u.y),
      x = h * (u.x - a.x),
      k = w * n + x * s,
      C = w * i + x * s,
      F = w * n + x * o,
      I = w * i + x * o;
    return !(
      Math.max(k, C, F, I) <= w * a.x + x * a.y ||
      Math.min(k, C, F, I) >= w * c.x + x * c.y
    );
  }
  pad(e = 0, t = e) {
    return (
      (this.x -= e),
      (this.y -= t),
      (this.width += e * 2),
      (this.height += t * 2),
      this
    );
  }
  fit(e) {
    const t = Math.max(this.x, e.x),
      n = Math.min(this.x + this.width, e.x + e.width),
      i = Math.max(this.y, e.y),
      s = Math.min(this.y + this.height, e.y + e.height);
    return (
      (this.x = t),
      (this.width = Math.max(n - t, 0)),
      (this.y = i),
      (this.height = Math.max(s - i, 0)),
      this
    );
  }
  ceil(e = 1, t = 0.001) {
    const n = Math.ceil((this.x + this.width - t) * e) / e,
      i = Math.ceil((this.y + this.height - t) * e) / e;
    return (
      (this.x = Math.floor((this.x + t) * e) / e),
      (this.y = Math.floor((this.y + t) * e) / e),
      (this.width = n - this.x),
      (this.height = i - this.y),
      this
    );
  }
  enlarge(e) {
    const t = Math.min(this.x, e.x),
      n = Math.max(this.x + this.width, e.x + e.width),
      i = Math.min(this.y, e.y),
      s = Math.max(this.y + this.height, e.y + e.height);
    return (
      (this.x = t),
      (this.width = n - t),
      (this.y = i),
      (this.height = s - i),
      this
    );
  }
  getBounds(e) {
    return (e = e || new dt()), e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;
  }
}
const CT = new we();
class ei {
  constructor(e = 1 / 0, t = 1 / 0, n = -1 / 0, i = -1 / 0) {
    (this.minX = 1 / 0),
      (this.minY = 1 / 0),
      (this.maxX = -1 / 0),
      (this.maxY = -1 / 0),
      (this.matrix = CT),
      (this.minX = e),
      (this.minY = t),
      (this.maxX = n),
      (this.maxY = i);
  }
  isEmpty() {
    return this.minX > this.maxX || this.minY > this.maxY;
  }
  get rectangle() {
    this._rectangle || (this._rectangle = new dt());
    const e = this._rectangle;
    return (
      this.minX > this.maxX || this.minY > this.maxY
        ? ((e.x = 0), (e.y = 0), (e.width = 0), (e.height = 0))
        : e.copyFromBounds(this),
      e
    );
  }
  clear() {
    return (
      (this.minX = 1 / 0),
      (this.minY = 1 / 0),
      (this.maxX = -1 / 0),
      (this.maxY = -1 / 0),
      (this.matrix = CT),
      this
    );
  }
  set(e, t, n, i) {
    (this.minX = e), (this.minY = t), (this.maxX = n), (this.maxY = i);
  }
  addFrame(e, t, n, i, s) {
    s || (s = this.matrix);
    const o = s.a,
      a = s.b,
      l = s.c,
      u = s.d,
      c = s.tx,
      h = s.ty;
    let d = this.minX,
      f = this.minY,
      m = this.maxX,
      g = this.maxY,
      _ = o * e + l * t + c,
      v = a * e + u * t + h;
    _ < d && (d = _),
      v < f && (f = v),
      _ > m && (m = _),
      v > g && (g = v),
      (_ = o * n + l * t + c),
      (v = a * n + u * t + h),
      _ < d && (d = _),
      v < f && (f = v),
      _ > m && (m = _),
      v > g && (g = v),
      (_ = o * e + l * i + c),
      (v = a * e + u * i + h),
      _ < d && (d = _),
      v < f && (f = v),
      _ > m && (m = _),
      v > g && (g = v),
      (_ = o * n + l * i + c),
      (v = a * n + u * i + h),
      _ < d && (d = _),
      v < f && (f = v),
      _ > m && (m = _),
      v > g && (g = v),
      (this.minX = d),
      (this.minY = f),
      (this.maxX = m),
      (this.maxY = g);
  }
  addRect(e, t) {
    this.addFrame(e.x, e.y, e.x + e.width, e.y + e.height, t);
  }
  addBounds(e, t) {
    this.addFrame(e.minX, e.minY, e.maxX, e.maxY, t);
  }
  addBoundsMask(e) {
    (this.minX = this.minX > e.minX ? this.minX : e.minX),
      (this.minY = this.minY > e.minY ? this.minY : e.minY),
      (this.maxX = this.maxX < e.maxX ? this.maxX : e.maxX),
      (this.maxY = this.maxY < e.maxY ? this.maxY : e.maxY);
  }
  applyMatrix(e) {
    const t = this.minX,
      n = this.minY,
      i = this.maxX,
      s = this.maxY,
      { a: o, b: a, c: l, d: u, tx: c, ty: h } = e;
    let d = o * t + l * n + c,
      f = a * t + u * n + h;
    (this.minX = d),
      (this.minY = f),
      (this.maxX = d),
      (this.maxY = f),
      (d = o * i + l * n + c),
      (f = a * i + u * n + h),
      (this.minX = d < this.minX ? d : this.minX),
      (this.minY = f < this.minY ? f : this.minY),
      (this.maxX = d > this.maxX ? d : this.maxX),
      (this.maxY = f > this.maxY ? f : this.maxY),
      (d = o * t + l * s + c),
      (f = a * t + u * s + h),
      (this.minX = d < this.minX ? d : this.minX),
      (this.minY = f < this.minY ? f : this.minY),
      (this.maxX = d > this.maxX ? d : this.maxX),
      (this.maxY = f > this.maxY ? f : this.maxY),
      (d = o * i + l * s + c),
      (f = a * i + u * s + h),
      (this.minX = d < this.minX ? d : this.minX),
      (this.minY = f < this.minY ? f : this.minY),
      (this.maxX = d > this.maxX ? d : this.maxX),
      (this.maxY = f > this.maxY ? f : this.maxY);
  }
  fit(e) {
    return (
      this.minX < e.left && (this.minX = e.left),
      this.maxX > e.right && (this.maxX = e.right),
      this.minY < e.top && (this.minY = e.top),
      this.maxY > e.bottom && (this.maxY = e.bottom),
      this
    );
  }
  fitBounds(e, t, n, i) {
    return (
      this.minX < e && (this.minX = e),
      this.maxX > t && (this.maxX = t),
      this.minY < n && (this.minY = n),
      this.maxY > i && (this.maxY = i),
      this
    );
  }
  pad(e, t = e) {
    return (
      (this.minX -= e),
      (this.maxX += e),
      (this.minY -= t),
      (this.maxY += t),
      this
    );
  }
  ceil() {
    return (
      (this.minX = Math.floor(this.minX)),
      (this.minY = Math.floor(this.minY)),
      (this.maxX = Math.ceil(this.maxX)),
      (this.maxY = Math.ceil(this.maxY)),
      this
    );
  }
  clone() {
    return new ei(this.minX, this.minY, this.maxX, this.maxY);
  }
  scale(e, t = e) {
    return (
      (this.minX *= e),
      (this.minY *= t),
      (this.maxX *= e),
      (this.maxY *= t),
      this
    );
  }
  get x() {
    return this.minX;
  }
  set x(e) {
    const t = this.maxX - this.minX;
    (this.minX = e), (this.maxX = e + t);
  }
  get y() {
    return this.minY;
  }
  set y(e) {
    const t = this.maxY - this.minY;
    (this.minY = e), (this.maxY = e + t);
  }
  get width() {
    return this.maxX - this.minX;
  }
  set width(e) {
    this.maxX = this.minX + e;
  }
  get height() {
    return this.maxY - this.minY;
  }
  set height(e) {
    this.maxY = this.minY + e;
  }
  get left() {
    return this.minX;
  }
  get right() {
    return this.maxX;
  }
  get top() {
    return this.minY;
  }
  get bottom() {
    return this.maxY;
  }
  get isPositive() {
    return this.maxX - this.minX > 0 && this.maxY - this.minY > 0;
  }
  get isValid() {
    return this.minX + this.minY !== 1 / 0;
  }
  addVertexData(e, t, n, i) {
    let s = this.minX,
      o = this.minY,
      a = this.maxX,
      l = this.maxY;
    i || (i = this.matrix);
    const u = i.a,
      c = i.b,
      h = i.c,
      d = i.d,
      f = i.tx,
      m = i.ty;
    for (let g = t; g < n; g += 2) {
      const _ = e[g],
        v = e[g + 1],
        w = u * _ + h * v + f,
        x = c * _ + d * v + m;
      (s = w < s ? w : s),
        (o = x < o ? x : o),
        (a = w > a ? w : a),
        (l = x > l ? x : l);
    }
    (this.minX = s), (this.minY = o), (this.maxX = a), (this.maxY = l);
  }
  containsPoint(e, t) {
    return this.minX <= e && this.minY <= t && this.maxX >= e && this.maxY >= t;
  }
  toString() {
    return `[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`;
  }
}
const Js = new Ob(we),
  eo = new Ob(ei);
function Ib(r, e, t) {
  t.clear();
  let n, i;
  return (
    r.parent
      ? e
        ? (n = r.parent.worldTransform)
        : ((i = Js.get().identity()), (n = am(r, i)))
      : (n = we.IDENTITY),
    MB(r, t, n, e),
    i && Js.return(i),
    t.isValid || t.set(0, 0, 0, 0),
    t
  );
}
function MB(r, e, t, n) {
  var i, s;
  if (!r.visible || !r.measurable) return;
  let o;
  n
    ? (o = r.worldTransform)
    : (r.updateLocalTransform(),
      (o = Js.get()),
      o.appendFrom(r.localTransform, t));
  const a = e,
    l = !!r.effects.length;
  if ((l && (e = eo.get().clear()), r.boundsArea)) e.addRect(r.boundsArea, o);
  else {
    r.addBounds && ((e.matrix = o), r.addBounds(e));
    for (let u = 0; u < r.children.length; u++) MB(r.children[u], e, o, n);
  }
  if (l) {
    for (let u = 0; u < r.effects.length; u++)
      (s = (i = r.effects[u]).addBounds) == null || s.call(i, e);
    a.addBounds(e, we.IDENTITY), eo.return(e);
  }
  n || Js.return(o);
}
function am(r, e) {
  const t = r.parent;
  return (
    t && (am(t, e), t.updateLocalTransform(), e.append(t.localTransform)), e
  );
}
let b0 = 0;
const RT = 500;
function Be(...r) {
  b0 !== RT &&
    (b0++,
    b0 === RT
      ? console.warn(
          "PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."
        )
      : console.warn("PixiJS Warning: ", ...r));
}
function Fb(r, e, t) {
  return (
    e.clear(),
    t || (t = we.IDENTITY),
    BB(r, e, t, r, !0),
    e.isValid || e.set(0, 0, 0, 0),
    e
  );
}
function BB(r, e, t, n, i) {
  var s, o;
  let a;
  if (i) (a = Js.get()), (a = t.copyTo(a));
  else {
    if (!r.visible || !r.measurable) return;
    r.updateLocalTransform();
    const c = r.localTransform;
    (a = Js.get()), a.appendFrom(c, t);
  }
  const l = e,
    u = !!r.effects.length;
  if ((u && (e = eo.get().clear()), r.boundsArea)) e.addRect(r.boundsArea, a);
  else {
    r.renderPipeId && ((e.matrix = a), r.addBounds(e));
    const c = r.children;
    for (let h = 0; h < c.length; h++) BB(c[h], e, a, n, !1);
  }
  if (u) {
    for (let c = 0; c < r.effects.length; c++)
      (o = (s = r.effects[c]).addLocalBounds) == null || o.call(s, e, n);
    l.addBounds(e, we.IDENTITY), eo.return(e);
  }
  Js.return(a);
}
function OB(r, e) {
  const t = r.children;
  for (let n = 0; n < t.length; n++) {
    const i = t[n],
      s = ((i.uid & 255) << 24) | (i._didChangeId & 16777215);
    e.data[e.index] !== s && ((e.data[e.index] = s), (e.didChange = !0)),
      e.index++,
      i.children.length && OB(i, e);
  }
  return e.didChange;
}
const $9 = new we(),
  z9 = {
    _localBoundsCacheId: -1,
    _localBoundsCacheData: null,
    _setWidth(r, e) {
      const t = Math.sign(this.scale.x) || 1;
      e !== 0 ? (this.scale.x = (r / e) * t) : (this.scale.x = t);
    },
    _setHeight(r, e) {
      const t = Math.sign(this.scale.y) || 1;
      e !== 0 ? (this.scale.y = (r / e) * t) : (this.scale.y = t);
    },
    getLocalBounds() {
      this._localBoundsCacheData ||
        (this._localBoundsCacheData = {
          data: [],
          index: 1,
          didChange: !1,
          localBounds: new ei(),
        });
      const r = this._localBoundsCacheData;
      return (
        (r.index = 1),
        (r.didChange = !1),
        r.data[0] !== this._didChangeId >> 12 &&
          ((r.didChange = !0), (r.data[0] = this._didChangeId >> 12)),
        OB(this, r),
        r.didChange && Fb(this, r.localBounds, $9),
        r.localBounds
      );
    },
    getBounds(r, e) {
      return Ib(this, r, e || new ei());
    },
  },
  W9 = {
    _onRender: null,
    set onRender(r) {
      const e = this.renderGroup || this.parentRenderGroup;
      if (!r) {
        this._onRender && (e == null || e.removeOnRender(this)),
          (this._onRender = null);
        return;
      }
      this._onRender || e == null || e.addOnRender(this), (this._onRender = r);
    },
    get onRender() {
      return this._onRender;
    },
  },
  H9 = {
    _zIndex: 0,
    sortDirty: !1,
    sortableChildren: !1,
    get zIndex() {
      return this._zIndex;
    },
    set zIndex(r) {
      this._zIndex !== r && ((this._zIndex = r), this.depthOfChildModified());
    },
    depthOfChildModified() {
      this.parent &&
        ((this.parent.sortableChildren = !0), (this.parent.sortDirty = !0)),
        this.parentRenderGroup &&
          (this.parentRenderGroup.structureDidChange = !0);
    },
    sortChildren() {
      this.sortDirty && ((this.sortDirty = !1), this.children.sort(V9));
    },
  };
function V9(r, e) {
  return r._zIndex - e._zIndex;
}
const X9 = {
  getGlobalPosition(r = new ht(), e = !1) {
    return (
      this.parent
        ? this.parent.toGlobal(this._position, r, e)
        : ((r.x = this._position.x), (r.y = this._position.y)),
      r
    );
  },
  toGlobal(r, e, t = !1) {
    if (!t) {
      this.updateLocalTransform();
      const n = am(this, new we());
      return n.append(this.localTransform), n.apply(r, e);
    }
    return this.worldTransform.apply(r, e);
  },
  toLocal(r, e, t, n) {
    if ((e && (r = e.toGlobal(r, t, n)), !n)) {
      this.updateLocalTransform();
      const i = am(this, new we());
      return i.append(this.localTransform), i.applyInverse(r, t);
    }
    return this.worldTransform.applyInverse(r, t);
  },
};
class IB {
  constructor() {
    (this.uid = Nt("instructionSet")),
      (this.instructions = []),
      (this.instructionSize = 0);
  }
  reset() {
    this.instructionSize = 0;
  }
  add(e) {
    this.instructions[this.instructionSize++] = e;
  }
  log() {
    (this.instructions.length = this.instructionSize),
      console.table(this.instructions, ["type", "action"]);
  }
}
class Y9 {
  constructor() {
    (this.renderPipeId = "renderGroup"),
      (this.root = null),
      (this.canBundle = !1),
      (this.renderGroupParent = null),
      (this.renderGroupChildren = []),
      (this.worldTransform = new we()),
      (this.worldColorAlpha = 4294967295),
      (this.worldColor = 16777215),
      (this.worldAlpha = 1),
      (this.childrenToUpdate = Object.create(null)),
      (this.updateTick = 0),
      (this.childrenRenderablesToUpdate = { list: [], index: 0 }),
      (this.structureDidChange = !0),
      (this.instructionSet = new IB()),
      (this._onRenderContainers = []);
  }
  init(e) {
    (this.root = e), e._onRender && this.addOnRender(e), (e.didChange = !0);
    const t = e.children;
    for (let n = 0; n < t.length; n++) this.addChild(t[n]);
  }
  reset() {
    this.renderGroupChildren.length = 0;
    for (const e in this.childrenToUpdate) {
      const t = this.childrenToUpdate[e];
      t.list.fill(null), (t.index = 0);
    }
    (this.childrenRenderablesToUpdate.index = 0),
      this.childrenRenderablesToUpdate.list.fill(null),
      (this.root = null),
      (this.updateTick = 0),
      (this.structureDidChange = !0),
      (this._onRenderContainers.length = 0),
      (this.renderGroupParent = null);
  }
  get localTransform() {
    return this.root.localTransform;
  }
  addRenderGroupChild(e) {
    e.renderGroupParent && e.renderGroupParent._removeRenderGroupChild(e),
      (e.renderGroupParent = this),
      this.renderGroupChildren.push(e);
  }
  _removeRenderGroupChild(e) {
    const t = this.renderGroupChildren.indexOf(e);
    t > -1 && this.renderGroupChildren.splice(t, 1),
      (e.renderGroupParent = null);
  }
  addChild(e) {
    if (
      ((this.structureDidChange = !0),
      (e.parentRenderGroup = this),
      (e.updateTick = -1),
      e.parent === this.root
        ? (e.relativeRenderGroupDepth = 1)
        : (e.relativeRenderGroupDepth = e.parent.relativeRenderGroupDepth + 1),
      (e.didChange = !0),
      this.onChildUpdate(e),
      e.renderGroup)
    ) {
      this.addRenderGroupChild(e.renderGroup);
      return;
    }
    e._onRender && this.addOnRender(e);
    const t = e.children;
    for (let n = 0; n < t.length; n++) this.addChild(t[n]);
  }
  removeChild(e) {
    if (
      ((this.structureDidChange = !0),
      e._onRender && (e.renderGroup || this.removeOnRender(e)),
      (e.parentRenderGroup = null),
      e.renderGroup)
    ) {
      this._removeRenderGroupChild(e.renderGroup);
      return;
    }
    const t = e.children;
    for (let n = 0; n < t.length; n++) this.removeChild(t[n]);
  }
  removeChildren(e) {
    for (let t = 0; t < e.length; t++) this.removeChild(e[t]);
  }
  onChildUpdate(e) {
    let t = this.childrenToUpdate[e.relativeRenderGroupDepth];
    t ||
      (t = this.childrenToUpdate[e.relativeRenderGroupDepth] =
        { index: 0, list: [] }),
      (t.list[t.index++] = e);
  }
  updateRenderable(e) {
    e.globalDisplayStatus < 7 ||
      ((e.didViewUpdate = !1),
      this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e));
  }
  onChildViewUpdate(e) {
    this.childrenRenderablesToUpdate.list[
      this.childrenRenderablesToUpdate.index++
    ] = e;
  }
  get isRenderable() {
    return this.root.localDisplayStatus === 7 && this.worldAlpha > 0;
  }
  addOnRender(e) {
    this._onRenderContainers.push(e);
  }
  removeOnRender(e) {
    this._onRenderContainers.splice(this._onRenderContainers.indexOf(e), 1);
  }
  runOnRender() {
    for (let e = 0; e < this._onRenderContainers.length; e++)
      this._onRenderContainers[e]._onRender();
  }
  destroy() {
    (this.renderGroupParent = null),
      (this.root = null),
      (this.childrenRenderablesToUpdate = null),
      (this.childrenToUpdate = null),
      (this.renderGroupChildren = null),
      (this._onRenderContainers = null),
      (this.instructionSet = null);
  }
  getChildren(e = []) {
    const t = this.root.children;
    for (let n = 0; n < t.length; n++) this._getChildren(t[n], e);
    return e;
  }
  _getChildren(e, t = []) {
    if ((t.push(e), e.renderGroup)) return t;
    const n = e.children;
    for (let i = 0; i < n.length; i++) this._getChildren(n[i], t);
    return t;
  }
}
function K9(r, e, t = {}) {
  for (const n in e) !t[n] && e[n] !== void 0 && (r[n] = e[n]);
}
const S0 = new Cr(null),
  E0 = new Cr(null),
  T0 = new Cr(null, 1, 1),
  ix = 1,
  FB = 2,
  Qf = 4;
class ft extends si {
  constructor(e = {}) {
    var t, n;
    super(),
      (this.uid = Nt("renderable")),
      (this._updateFlags = 15),
      (this.renderGroup = null),
      (this.parentRenderGroup = null),
      (this.parentRenderGroupIndex = 0),
      (this.didChange = !1),
      (this.didViewUpdate = !1),
      (this.relativeRenderGroupDepth = 0),
      (this.children = []),
      (this.parent = null),
      (this.includeInBuild = !0),
      (this.measurable = !0),
      (this.isSimple = !0),
      (this.updateTick = -1),
      (this.localTransform = new we()),
      (this.relativeGroupTransform = new we()),
      (this.groupTransform = this.relativeGroupTransform),
      (this.destroyed = !1),
      (this._position = new Cr(this, 0, 0)),
      (this._scale = T0),
      (this._pivot = E0),
      (this._skew = S0),
      (this._cx = 1),
      (this._sx = 0),
      (this._cy = 0),
      (this._sy = 1),
      (this._rotation = 0),
      (this.localColor = 16777215),
      (this.localAlpha = 1),
      (this.groupAlpha = 1),
      (this.groupColor = 16777215),
      (this.groupColorAlpha = 4294967295),
      (this.localBlendMode = "inherit"),
      (this.groupBlendMode = "normal"),
      (this.localDisplayStatus = 7),
      (this.globalDisplayStatus = 7),
      (this._didChangeId = 0),
      (this._didLocalTransformChangeId = -1),
      K9(this, e, { children: !0, parent: !0, effects: !0 }),
      (t = e.children) == null || t.forEach((i) => this.addChild(i)),
      (this.effects = []),
      (n = e.parent) == null || n.addChild(this);
  }
  static mixin(e) {
    Object.defineProperties(ft.prototype, Object.getOwnPropertyDescriptors(e));
  }
  addChild(...e) {
    if (
      (this.allowChildren ||
        Le(
          Ge,
          "addChild: Only Containers will be allowed to add children in v8.0.0"
        ),
      e.length > 1)
    ) {
      for (let i = 0; i < e.length; i++) this.addChild(e[i]);
      return e[0];
    }
    const t = e[0];
    if (t.parent === this)
      return (
        this.children.splice(this.children.indexOf(t), 1),
        this.children.push(t),
        this.parentRenderGroup &&
          (this.parentRenderGroup.structureDidChange = !0),
        t
      );
    t.parent && t.parent.removeChild(t),
      this.children.push(t),
      this.sortableChildren && (this.sortDirty = !0),
      (t.parent = this),
      (t.didChange = !0),
      (t.didViewUpdate = !1),
      (t._updateFlags = 15);
    const n = this.renderGroup || this.parentRenderGroup;
    return (
      n && n.addChild(t),
      this.emit("childAdded", t, this, this.children.length - 1),
      t.emit("added", this),
      (this._didChangeId += 4096),
      t._zIndex !== 0 && t.depthOfChildModified(),
      t
    );
  }
  removeChild(...e) {
    if (e.length > 1) {
      for (let i = 0; i < e.length; i++) this.removeChild(e[i]);
      return e[0];
    }
    const t = e[0],
      n = this.children.indexOf(t);
    return (
      n > -1 &&
        ((this._didChangeId += 4096),
        this.children.splice(n, 1),
        this.renderGroup
          ? this.renderGroup.removeChild(t)
          : this.parentRenderGroup && this.parentRenderGroup.removeChild(t),
        (t.parent = null),
        this.emit("childRemoved", t, this, n),
        t.emit("removed", this)),
      t
    );
  }
  _onUpdate(e) {
    e && e === this._skew && this._updateSkew(),
      this._didChangeId++,
      !this.didChange &&
        ((this.didChange = !0),
        this.parentRenderGroup && this.parentRenderGroup.onChildUpdate(this));
  }
  set isRenderGroup(e) {
    !!this.renderGroup !== e &&
      (e ? this.enableRenderGroup() : this.disableRenderGroup());
  }
  get isRenderGroup() {
    return !!this.renderGroup;
  }
  enableRenderGroup() {
    if (this.renderGroup) return;
    const e = this.parentRenderGroup;
    e == null || e.removeChild(this),
      (this.renderGroup = Je.get(Y9, this)),
      (this.groupTransform = we.IDENTITY),
      e == null || e.addChild(this),
      this._updateIsSimple();
  }
  disableRenderGroup() {
    if (!this.renderGroup) return;
    const e = this.parentRenderGroup;
    e == null || e.removeChild(this),
      Je.return(this.renderGroup),
      (this.renderGroup = null),
      (this.groupTransform = this.relativeGroupTransform),
      e == null || e.addChild(this),
      this._updateIsSimple();
  }
  _updateIsSimple() {
    this.isSimple = !this.renderGroup && this.effects.length === 0;
  }
  get worldTransform() {
    return (
      this._worldTransform || (this._worldTransform = new we()),
      this.renderGroup
        ? this._worldTransform.copyFrom(this.renderGroup.worldTransform)
        : this.parentRenderGroup &&
          this._worldTransform.appendFrom(
            this.relativeGroupTransform,
            this.parentRenderGroup.worldTransform
          ),
      this._worldTransform
    );
  }
  get x() {
    return this._position.x;
  }
  set x(e) {
    this._position.x = e;
  }
  get y() {
    return this._position.y;
  }
  set y(e) {
    this._position.y = e;
  }
  get position() {
    return this._position;
  }
  set position(e) {
    this._position.copyFrom(e);
  }
  get rotation() {
    return this._rotation;
  }
  set rotation(e) {
    this._rotation !== e && ((this._rotation = e), this._onUpdate(this._skew));
  }
  get angle() {
    return this.rotation * B9;
  }
  set angle(e) {
    this.rotation = e * O9;
  }
  get pivot() {
    return (
      this._pivot === E0 && (this._pivot = new Cr(this, 0, 0)), this._pivot
    );
  }
  set pivot(e) {
    this._pivot === E0 && (this._pivot = new Cr(this, 0, 0)),
      typeof e == "number" ? this._pivot.set(e) : this._pivot.copyFrom(e);
  }
  get skew() {
    return this._skew === S0 && (this._skew = new Cr(this, 0, 0)), this._skew;
  }
  set skew(e) {
    this._skew === S0 && (this._skew = new Cr(this, 0, 0)),
      this._skew.copyFrom(e);
  }
  get scale() {
    return (
      this._scale === T0 && (this._scale = new Cr(this, 1, 1)), this._scale
    );
  }
  set scale(e) {
    this._scale === T0 && (this._scale = new Cr(this, 0, 0)),
      typeof e == "number" ? this._scale.set(e) : this._scale.copyFrom(e);
  }
  get width() {
    return Math.abs(this.scale.x * this.getLocalBounds().width);
  }
  set width(e) {
    const t = this.getLocalBounds().width;
    this._setWidth(e, t);
  }
  get height() {
    return Math.abs(this.scale.y * this.getLocalBounds().height);
  }
  set height(e) {
    const t = this.getLocalBounds().height;
    this._setHeight(e, t);
  }
  getSize(e) {
    e || (e = {});
    const t = this.getLocalBounds();
    return (
      (e.width = Math.abs(this.scale.x * t.width)),
      (e.height = Math.abs(this.scale.y * t.height)),
      e
    );
  }
  setSize(e, t) {
    var n;
    const i = this.getLocalBounds();
    let s, o;
    typeof e != "object"
      ? ((s = e), (o = t ?? e))
      : ((s = e.width), (o = (n = e.height) != null ? n : e.width)),
      s !== void 0 && this._setWidth(s, i.width),
      o !== void 0 && this._setHeight(o, i.height);
  }
  _updateSkew() {
    const e = this._rotation,
      t = this._skew;
    (this._cx = Math.cos(e + t._y)),
      (this._sx = Math.sin(e + t._y)),
      (this._cy = -Math.sin(e - t._x)),
      (this._sy = Math.cos(e - t._x));
  }
  updateTransform(e) {
    return (
      this.position.set(
        typeof e.x == "number" ? e.x : this.position.x,
        typeof e.y == "number" ? e.y : this.position.y
      ),
      this.scale.set(
        typeof e.scaleX == "number" ? e.scaleX || 1 : this.scale.x,
        typeof e.scaleY == "number" ? e.scaleY || 1 : this.scale.y
      ),
      (this.rotation =
        typeof e.rotation == "number" ? e.rotation : this.rotation),
      this.skew.set(
        typeof e.skewX == "number" ? e.skewX : this.skew.x,
        typeof e.skewY == "number" ? e.skewY : this.skew.y
      ),
      this.pivot.set(
        typeof e.pivotX == "number" ? e.pivotX : this.pivot.x,
        typeof e.pivotY == "number" ? e.pivotY : this.pivot.y
      ),
      this
    );
  }
  setFromMatrix(e) {
    e.decompose(this);
  }
  updateLocalTransform() {
    if ((this._didLocalTransformChangeId & 15) === this._didChangeId) return;
    this._didLocalTransformChangeId = this._didChangeId;
    const e = this.localTransform,
      t = this._scale,
      n = this._pivot,
      i = this._position,
      s = t._x,
      o = t._y,
      a = n._x,
      l = n._y;
    (e.a = this._cx * s),
      (e.b = this._sx * s),
      (e.c = this._cy * o),
      (e.d = this._sy * o),
      (e.tx = i._x - (a * e.a + l * e.c)),
      (e.ty = i._y - (a * e.b + l * e.d));
  }
  set alpha(e) {
    e !== this.localAlpha &&
      ((this.localAlpha = e), (this._updateFlags |= ix), this._onUpdate());
  }
  get alpha() {
    return this.localAlpha;
  }
  set tint(e) {
    const n = at.shared.setValue(e ?? 16777215).toBgrNumber();
    n !== this.localColor &&
      ((this.localColor = n), (this._updateFlags |= ix), this._onUpdate());
  }
  get tint() {
    const e = this.localColor;
    return ((e & 255) << 16) + (e & 65280) + ((e >> 16) & 255);
  }
  set blendMode(e) {
    this.localBlendMode !== e &&
      (this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      (this._updateFlags |= FB),
      (this.localBlendMode = e),
      this._onUpdate());
  }
  get blendMode() {
    return this.localBlendMode;
  }
  get visible() {
    return !!(this.localDisplayStatus & 2);
  }
  set visible(e) {
    const t = e ? 1 : 0;
    (this.localDisplayStatus & 2) >> 1 !== t &&
      (this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      (this._updateFlags |= Qf),
      (this.localDisplayStatus ^= 2),
      this._onUpdate());
  }
  get culled() {
    return !(this.localDisplayStatus & 4);
  }
  set culled(e) {
    const t = e ? 1 : 0;
    (this.localDisplayStatus & 4) >> 2 !== t &&
      (this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      (this._updateFlags |= Qf),
      (this.localDisplayStatus ^= 4),
      this._onUpdate());
  }
  get renderable() {
    return !!(this.localDisplayStatus & 1);
  }
  set renderable(e) {
    const t = e ? 1 : 0;
    (this.localDisplayStatus & 1) !== t &&
      ((this._updateFlags |= Qf),
      (this.localDisplayStatus ^= 1),
      this.parentRenderGroup &&
        (this.parentRenderGroup.structureDidChange = !0),
      this._onUpdate());
  }
  get isRenderable() {
    return this.localDisplayStatus === 7 && this.groupAlpha > 0;
  }
  destroy(e = !1) {
    var t;
    if (this.destroyed) return;
    this.destroyed = !0;
    const n = this.removeChildren(0, this.children.length);
    if (
      (this.removeFromParent(),
      (this.parent = null),
      (this._maskEffect = null),
      (this._filterEffect = null),
      (this.effects = null),
      (this._position = null),
      (this._scale = null),
      (this._pivot = null),
      (this._skew = null),
      this.emit("destroyed", this),
      this.removeAllListeners(),
      typeof e == "boolean" ? e : e == null ? void 0 : e.children)
    )
      for (let s = 0; s < n.length; ++s) n[s].destroy(e);
    (t = this.renderGroup) == null || t.destroy(), (this.renderGroup = null);
  }
}
ft.mixin(L9);
ft.mixin(X9);
ft.mixin(W9);
ft.mixin(z9);
ft.mixin(G9);
ft.mixin(j9);
ft.mixin(H9);
ft.mixin(D9);
class pd {
  constructor(e) {
    (this.bubbles = !0),
      (this.cancelBubble = !0),
      (this.cancelable = !1),
      (this.composed = !1),
      (this.defaultPrevented = !1),
      (this.eventPhase = pd.prototype.NONE),
      (this.propagationStopped = !1),
      (this.propagationImmediatelyStopped = !1),
      (this.layer = new ht()),
      (this.page = new ht()),
      (this.NONE = 0),
      (this.CAPTURING_PHASE = 1),
      (this.AT_TARGET = 2),
      (this.BUBBLING_PHASE = 3),
      (this.manager = e);
  }
  get layerX() {
    return this.layer.x;
  }
  get layerY() {
    return this.layer.y;
  }
  get pageX() {
    return this.page.x;
  }
  get pageY() {
    return this.page.y;
  }
  get data() {
    return this;
  }
  composedPath() {
    return (
      this.manager &&
        (!this.path || this.path[this.path.length - 1] !== this.target) &&
        (this.path = this.target
          ? this.manager.propagationPath(this.target)
          : []),
      this.path
    );
  }
  initEvent(e, t, n) {
    throw new Error(
      "initEvent() is a legacy DOM API. It is not implemented in the Federated Events API."
    );
  }
  initUIEvent(e, t, n, i, s) {
    throw new Error(
      "initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API."
    );
  }
  preventDefault() {
    this.nativeEvent instanceof Event &&
      this.nativeEvent.cancelable &&
      this.nativeEvent.preventDefault(),
      (this.defaultPrevented = !0);
  }
  stopImmediatePropagation() {
    this.propagationImmediatelyStopped = !0;
  }
  stopPropagation() {
    this.propagationStopped = !0;
  }
}
var k0 = /iPhone/i,
  DT = /iPod/i,
  MT = /iPad/i,
  BT = /\biOS-universal(?:.+)Mac\b/i,
  A0 = /\bAndroid(?:.+)Mobile\b/i,
  OT = /Android/i,
  Cl = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
  tf = /Silk/i,
  Os = /Windows Phone/i,
  IT = /\bWindows(?:.+)ARM\b/i,
  FT = /BlackBerry/i,
  NT = /BB10/i,
  LT = /Opera Mini/i,
  UT = /\b(CriOS|Chrome)(?:.+)Mobile/i,
  GT = /Mobile(?:.+)Firefox\b/i,
  jT = function (r) {
    return (
      typeof r < "u" &&
      r.platform === "MacIntel" &&
      typeof r.maxTouchPoints == "number" &&
      r.maxTouchPoints > 1 &&
      typeof MSStream > "u"
    );
  };
function q9(r) {
  return function (e) {
    return e.test(r);
  };
}
function $T(r) {
  var e = { userAgent: "", platform: "", maxTouchPoints: 0 };
  !r && typeof navigator < "u"
    ? (e = {
        userAgent: navigator.userAgent,
        platform: navigator.platform,
        maxTouchPoints: navigator.maxTouchPoints || 0,
      })
    : typeof r == "string"
    ? (e.userAgent = r)
    : r &&
      r.userAgent &&
      (e = {
        userAgent: r.userAgent,
        platform: r.platform,
        maxTouchPoints: r.maxTouchPoints || 0,
      });
  var t = e.userAgent,
    n = t.split("[FBAN");
  typeof n[1] < "u" && (t = n[0]),
    (n = t.split("Twitter")),
    typeof n[1] < "u" && (t = n[0]);
  var i = q9(t),
    s = {
      apple: {
        phone: i(k0) && !i(Os),
        ipod: i(DT),
        tablet: !i(k0) && (i(MT) || jT(e)) && !i(Os),
        universal: i(BT),
        device: (i(k0) || i(DT) || i(MT) || i(BT) || jT(e)) && !i(Os),
      },
      amazon: { phone: i(Cl), tablet: !i(Cl) && i(tf), device: i(Cl) || i(tf) },
      android: {
        phone: (!i(Os) && i(Cl)) || (!i(Os) && i(A0)),
        tablet: !i(Os) && !i(Cl) && !i(A0) && (i(tf) || i(OT)),
        device:
          (!i(Os) && (i(Cl) || i(tf) || i(A0) || i(OT))) || i(/\bokhttp\b/i),
      },
      windows: { phone: i(Os), tablet: i(IT), device: i(Os) || i(IT) },
      other: {
        blackberry: i(FT),
        blackberry10: i(NT),
        opera: i(LT),
        firefox: i(GT),
        chrome: i(UT),
        device: i(FT) || i(NT) || i(LT) || i(GT) || i(UT),
      },
      any: !1,
      phone: !1,
      tablet: !1,
    };
  return (
    (s.any =
      s.apple.device || s.android.device || s.windows.device || s.other.device),
    (s.phone = s.apple.phone || s.android.phone || s.windows.phone),
    (s.tablet = s.apple.tablet || s.android.tablet || s.windows.tablet),
    s
  );
}
var zT;
const Z9 = (zT = $T.default) != null ? zT : $T,
  Q9 = Z9(globalThis.navigator),
  J9 = 9,
  rf = 100,
  eX = 0,
  tX = 0,
  WT = 2,
  HT = 1,
  rX = -1e3,
  nX = -1e3,
  iX = 2;
class NB {
  constructor(e, t = Q9) {
    (this._mobileInfo = t),
      (this.debug = !1),
      (this._isActive = !1),
      (this._isMobileAccessibility = !1),
      (this._pool = []),
      (this._renderId = 0),
      (this._children = []),
      (this._androidUpdateCount = 0),
      (this._androidUpdateFrequency = 500),
      (this._hookDiv = null),
      (t.tablet || t.phone) && this._createTouchHook();
    const n = document.createElement("div");
    (n.style.width = `${rf}px`),
      (n.style.height = `${rf}px`),
      (n.style.position = "absolute"),
      (n.style.top = `${eX}px`),
      (n.style.left = `${tX}px`),
      (n.style.zIndex = WT.toString()),
      (this._div = n),
      (this._renderer = e),
      (this._onKeyDown = this._onKeyDown.bind(this)),
      (this._onMouseMove = this._onMouseMove.bind(this)),
      globalThis.addEventListener("keydown", this._onKeyDown, !1);
  }
  get isActive() {
    return this._isActive;
  }
  get isMobileAccessibility() {
    return this._isMobileAccessibility;
  }
  get hookDiv() {
    return this._hookDiv;
  }
  _createTouchHook() {
    const e = document.createElement("button");
    (e.style.width = `${HT}px`),
      (e.style.height = `${HT}px`),
      (e.style.position = "absolute"),
      (e.style.top = `${rX}px`),
      (e.style.left = `${nX}px`),
      (e.style.zIndex = iX.toString()),
      (e.style.backgroundColor = "#FF0000"),
      (e.title = "select to enable accessibility for this content"),
      e.addEventListener("focus", () => {
        (this._isMobileAccessibility = !0),
          this._activate(),
          this._destroyTouchHook();
      }),
      document.body.appendChild(e),
      (this._hookDiv = e);
  }
  _destroyTouchHook() {
    this._hookDiv &&
      (document.body.removeChild(this._hookDiv), (this._hookDiv = null));
  }
  _activate() {
    var e;
    this._isActive ||
      ((this._isActive = !0),
      globalThis.document.addEventListener("mousemove", this._onMouseMove, !0),
      globalThis.removeEventListener("keydown", this._onKeyDown, !1),
      this._renderer.runners.postrender.add(this),
      (e = this._renderer.view.canvas.parentNode) == null ||
        e.appendChild(this._div));
  }
  _deactivate() {
    var e;
    !this._isActive ||
      this._isMobileAccessibility ||
      ((this._isActive = !1),
      globalThis.document.removeEventListener(
        "mousemove",
        this._onMouseMove,
        !0
      ),
      globalThis.addEventListener("keydown", this._onKeyDown, !1),
      this._renderer.runners.postrender.remove(this),
      (e = this._div.parentNode) == null || e.removeChild(this._div));
  }
  _updateAccessibleObjects(e) {
    if (!e.visible || !e.accessibleChildren) return;
    e.accessible &&
      e.isInteractive() &&
      (e._accessibleActive || this._addChild(e),
      (e._renderId = this._renderId));
    const t = e.children;
    if (t)
      for (let n = 0; n < t.length; n++) this._updateAccessibleObjects(t[n]);
  }
  init(e) {
    var t;
    (this.debug = (t = e == null ? void 0 : e.debug) != null ? t : this.debug),
      this._renderer.runners.postrender.remove(this);
  }
  postrender() {
    const e = performance.now();
    if (
      (this._mobileInfo.android.device && e < this._androidUpdateCount) ||
      ((this._androidUpdateCount = e + this._androidUpdateFrequency),
      !this._renderer.renderingToScreen || !this._renderer.view.canvas)
    )
      return;
    this._renderer.lastObjectRendered &&
      this._updateAccessibleObjects(this._renderer.lastObjectRendered);
    const {
        x: t,
        y: n,
        width: i,
        height: s,
      } = this._renderer.view.canvas.getBoundingClientRect(),
      { width: o, height: a, resolution: l } = this._renderer,
      u = (i / o) * l,
      c = (s / a) * l;
    let h = this._div;
    (h.style.left = `${t}px`),
      (h.style.top = `${n}px`),
      (h.style.width = `${o}px`),
      (h.style.height = `${a}px`);
    for (let d = 0; d < this._children.length; d++) {
      const f = this._children[d];
      if (f._renderId !== this._renderId)
        (f._accessibleActive = !1),
          DB(this._children, d, 1),
          this._div.removeChild(f._accessibleDiv),
          this._pool.push(f._accessibleDiv),
          (f._accessibleDiv = null),
          d--;
      else {
        h = f._accessibleDiv;
        let m = f.hitArea;
        const g = f.worldTransform;
        f.hitArea
          ? ((h.style.left = `${(g.tx + m.x * g.a) * u}px`),
            (h.style.top = `${(g.ty + m.y * g.d) * c}px`),
            (h.style.width = `${m.width * g.a * u}px`),
            (h.style.height = `${m.height * g.d * c}px`))
          : ((m = f.getBounds().rectangle),
            this._capHitArea(m),
            (h.style.left = `${m.x * u}px`),
            (h.style.top = `${m.y * c}px`),
            (h.style.width = `${m.width * u}px`),
            (h.style.height = `${m.height * c}px`),
            h.title !== f.accessibleTitle &&
              f.accessibleTitle !== null &&
              (h.title = f.accessibleTitle || ""),
            h.getAttribute("aria-label") !== f.accessibleHint &&
              f.accessibleHint !== null &&
              h.setAttribute("aria-label", f.accessibleHint || "")),
          (f.accessibleTitle !== h.title || f.tabIndex !== h.tabIndex) &&
            ((h.title = f.accessibleTitle || ""),
            (h.tabIndex = f.tabIndex),
            this.debug && this._updateDebugHTML(h));
      }
    }
    this._renderId++;
  }
  _updateDebugHTML(e) {
    e.innerHTML = `type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`;
  }
  _capHitArea(e) {
    e.x < 0 && ((e.width += e.x), (e.x = 0)),
      e.y < 0 && ((e.height += e.y), (e.y = 0));
    const { width: t, height: n } = this._renderer;
    e.x + e.width > t && (e.width = t - e.x),
      e.y + e.height > n && (e.height = n - e.y);
  }
  _addChild(e) {
    let t = this._pool.pop();
    t ||
      ((t = document.createElement("button")),
      (t.style.width = `${rf}px`),
      (t.style.height = `${rf}px`),
      (t.style.backgroundColor = this.debug
        ? "rgba(255,255,255,0.5)"
        : "transparent"),
      (t.style.position = "absolute"),
      (t.style.zIndex = WT.toString()),
      (t.style.borderStyle = "none"),
      navigator.userAgent.toLowerCase().includes("chrome")
        ? t.setAttribute("aria-live", "off")
        : t.setAttribute("aria-live", "polite"),
      navigator.userAgent.match(/rv:.*Gecko\//)
        ? t.setAttribute("aria-relevant", "additions")
        : t.setAttribute("aria-relevant", "text"),
      t.addEventListener("click", this._onClick.bind(this)),
      t.addEventListener("focus", this._onFocus.bind(this)),
      t.addEventListener("focusout", this._onFocusOut.bind(this))),
      (t.style.pointerEvents = e.accessiblePointerEvents),
      (t.type = e.accessibleType),
      e.accessibleTitle && e.accessibleTitle !== null
        ? (t.title = e.accessibleTitle)
        : (!e.accessibleHint || e.accessibleHint === null) &&
          (t.title = `container ${e.tabIndex}`),
      e.accessibleHint &&
        e.accessibleHint !== null &&
        t.setAttribute("aria-label", e.accessibleHint),
      this.debug && this._updateDebugHTML(t),
      (e._accessibleActive = !0),
      (e._accessibleDiv = t),
      (t.container = e),
      this._children.push(e),
      this._div.appendChild(e._accessibleDiv),
      (e._accessibleDiv.tabIndex = e.tabIndex);
  }
  _dispatchEvent(e, t) {
    const { container: n } = e.target,
      i = this._renderer.events.rootBoundary,
      s = Object.assign(new pd(i), { target: n });
    (i.rootTarget = this._renderer.lastObjectRendered),
      t.forEach((o) => i.dispatchEvent(s, o));
  }
  _onClick(e) {
    this._dispatchEvent(e, ["click", "pointertap", "tap"]);
  }
  _onFocus(e) {
    e.target.getAttribute("aria-live") ||
      e.target.setAttribute("aria-live", "assertive"),
      this._dispatchEvent(e, ["mouseover"]);
  }
  _onFocusOut(e) {
    e.target.getAttribute("aria-live") ||
      e.target.setAttribute("aria-live", "polite"),
      this._dispatchEvent(e, ["mouseout"]);
  }
  _onKeyDown(e) {
    e.keyCode === J9 && this._activate();
  }
  _onMouseMove(e) {
    (e.movementX === 0 && e.movementY === 0) || this._deactivate();
  }
  destroy() {
    this._destroyTouchHook(),
      (this._div = null),
      globalThis.document.removeEventListener(
        "mousemove",
        this._onMouseMove,
        !0
      ),
      globalThis.removeEventListener("keydown", this._onKeyDown),
      (this._pool = null),
      (this._children = null),
      (this._renderer = null);
  }
}
NB.extension = { type: [W.WebGLSystem, W.WebGPUSystem], name: "accessibility" };
const sX = {
  accessible: !1,
  accessibleTitle: null,
  accessibleHint: null,
  tabIndex: 0,
  _accessibleActive: !1,
  _accessibleDiv: null,
  accessibleType: "button",
  accessiblePointerEvents: "auto",
  accessibleChildren: !0,
  _renderId: -1,
};
Ue.add(NB);
ft.mixin(sX);
class LB {
  static init(e) {
    Object.defineProperty(this, "resizeTo", {
      set(t) {
        globalThis.removeEventListener("resize", this.queueResize),
          (this._resizeTo = t),
          t &&
            (globalThis.addEventListener("resize", this.queueResize),
            this.resize());
      },
      get() {
        return this._resizeTo;
      },
    }),
      (this.queueResize = () => {
        this._resizeTo &&
          (this._cancelResize(),
          (this._resizeId = requestAnimationFrame(() => this.resize())));
      }),
      (this._cancelResize = () => {
        this._resizeId &&
          (cancelAnimationFrame(this._resizeId), (this._resizeId = null));
      }),
      (this.resize = () => {
        if (!this._resizeTo) return;
        this._cancelResize();
        let t, n;
        if (this._resizeTo === globalThis.window)
          (t = globalThis.innerWidth), (n = globalThis.innerHeight);
        else {
          const { clientWidth: i, clientHeight: s } = this._resizeTo;
          (t = i), (n = s);
        }
        this.renderer.resize(t, n), this.render();
      }),
      (this._resizeId = null),
      (this._resizeTo = null),
      (this.resizeTo = e.resizeTo || null);
  }
  static destroy() {
    globalThis.removeEventListener("resize", this.queueResize),
      this._cancelResize(),
      (this._cancelResize = null),
      (this.queueResize = null),
      (this.resizeTo = null),
      (this.resize = null);
  }
}
LB.extension = W.Application;
var jh = ((r) => (
  (r[(r.INTERACTION = 50)] = "INTERACTION"),
  (r[(r.HIGH = 25)] = "HIGH"),
  (r[(r.NORMAL = 0)] = "NORMAL"),
  (r[(r.LOW = -25)] = "LOW"),
  (r[(r.UTILITY = -50)] = "UTILITY"),
  r
))(jh || {});
class P0 {
  constructor(e, t = null, n = 0, i = !1) {
    (this.next = null),
      (this.previous = null),
      (this._destroyed = !1),
      (this._fn = e),
      (this._context = t),
      (this.priority = n),
      (this._once = i);
  }
  match(e, t = null) {
    return this._fn === e && this._context === t;
  }
  emit(e) {
    this._fn && (this._context ? this._fn.call(this._context, e) : this._fn(e));
    const t = this.next;
    return (
      this._once && this.destroy(!0), this._destroyed && (this.next = null), t
    );
  }
  connect(e) {
    (this.previous = e),
      e.next && (e.next.previous = this),
      (this.next = e.next),
      (e.next = this);
  }
  destroy(e = !1) {
    (this._destroyed = !0),
      (this._fn = null),
      (this._context = null),
      this.previous && (this.previous.next = this.next),
      this.next && (this.next.previous = this.previous);
    const t = this.next;
    return (this.next = e ? null : t), (this.previous = null), t;
  }
}
const UB = class On {
  constructor() {
    (this.autoStart = !1),
      (this.deltaTime = 1),
      (this.lastTime = -1),
      (this.speed = 1),
      (this.started = !1),
      (this._requestId = null),
      (this._maxElapsedMS = 100),
      (this._minElapsedMS = 0),
      (this._protected = !1),
      (this._lastFrame = -1),
      (this._head = new P0(null, null, 1 / 0)),
      (this.deltaMS = 1 / On.targetFPMS),
      (this.elapsedMS = 1 / On.targetFPMS),
      (this._tick = (e) => {
        (this._requestId = null),
          this.started &&
            (this.update(e),
            this.started &&
              this._requestId === null &&
              this._head.next &&
              (this._requestId = requestAnimationFrame(this._tick)));
      });
  }
  _requestIfNeeded() {
    this._requestId === null &&
      this._head.next &&
      ((this.lastTime = performance.now()),
      (this._lastFrame = this.lastTime),
      (this._requestId = requestAnimationFrame(this._tick)));
  }
  _cancelIfNeeded() {
    this._requestId !== null &&
      (cancelAnimationFrame(this._requestId), (this._requestId = null));
  }
  _startIfPossible() {
    this.started ? this._requestIfNeeded() : this.autoStart && this.start();
  }
  add(e, t, n = jh.NORMAL) {
    return this._addListener(new P0(e, t, n));
  }
  addOnce(e, t, n = jh.NORMAL) {
    return this._addListener(new P0(e, t, n, !0));
  }
  _addListener(e) {
    let t = this._head.next,
      n = this._head;
    if (!t) e.connect(n);
    else {
      for (; t; ) {
        if (e.priority > t.priority) {
          e.connect(n);
          break;
        }
        (n = t), (t = t.next);
      }
      e.previous || e.connect(n);
    }
    return this._startIfPossible(), this;
  }
  remove(e, t) {
    let n = this._head.next;
    for (; n; ) n.match(e, t) ? (n = n.destroy()) : (n = n.next);
    return this._head.next || this._cancelIfNeeded(), this;
  }
  get count() {
    if (!this._head) return 0;
    let e = 0,
      t = this._head;
    for (; (t = t.next); ) e++;
    return e;
  }
  start() {
    this.started || ((this.started = !0), this._requestIfNeeded());
  }
  stop() {
    this.started && ((this.started = !1), this._cancelIfNeeded());
  }
  destroy() {
    if (!this._protected) {
      this.stop();
      let e = this._head.next;
      for (; e; ) e = e.destroy(!0);
      this._head.destroy(), (this._head = null);
    }
  }
  update(e = performance.now()) {
    let t;
    if (e > this.lastTime) {
      if (
        ((t = this.elapsedMS = e - this.lastTime),
        t > this._maxElapsedMS && (t = this._maxElapsedMS),
        (t *= this.speed),
        this._minElapsedMS)
      ) {
        const s = (e - this._lastFrame) | 0;
        if (s < this._minElapsedMS) return;
        this._lastFrame = e - (s % this._minElapsedMS);
      }
      (this.deltaMS = t), (this.deltaTime = this.deltaMS * On.targetFPMS);
      const n = this._head;
      let i = n.next;
      for (; i; ) i = i.emit(this);
      n.next || this._cancelIfNeeded();
    } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
    this.lastTime = e;
  }
  get FPS() {
    return 1e3 / this.elapsedMS;
  }
  get minFPS() {
    return 1e3 / this._maxElapsedMS;
  }
  set minFPS(e) {
    const t = Math.min(this.maxFPS, e),
      n = Math.min(Math.max(0, t) / 1e3, On.targetFPMS);
    this._maxElapsedMS = 1 / n;
  }
  get maxFPS() {
    return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0;
  }
  set maxFPS(e) {
    if (e === 0) this._minElapsedMS = 0;
    else {
      const t = Math.max(this.minFPS, e);
      this._minElapsedMS = 1 / (t / 1e3);
    }
  }
  static get shared() {
    if (!On._shared) {
      const e = (On._shared = new On());
      (e.autoStart = !0), (e._protected = !0);
    }
    return On._shared;
  }
  static get system() {
    if (!On._system) {
      const e = (On._system = new On());
      (e.autoStart = !0), (e._protected = !0);
    }
    return On._system;
  }
};
UB.targetFPMS = 0.06;
let Lo = UB;
class GB {
  static init(e) {
    (e = Object.assign({ autoStart: !0, sharedTicker: !1 }, e)),
      Object.defineProperty(this, "ticker", {
        set(t) {
          this._ticker && this._ticker.remove(this.render, this),
            (this._ticker = t),
            t && t.add(this.render, this, jh.LOW);
        },
        get() {
          return this._ticker;
        },
      }),
      (this.stop = () => {
        this._ticker.stop();
      }),
      (this.start = () => {
        this._ticker.start();
      }),
      (this._ticker = null),
      (this.ticker = e.sharedTicker ? Lo.shared : new Lo()),
      e.autoStart && this.start();
  }
  static destroy() {
    if (this._ticker) {
      const e = this._ticker;
      (this.ticker = null), e.destroy();
    }
  }
}
GB.extension = W.Application;
Ue.add(LB);
Ue.add(GB);
class oX {
  constructor() {
    (this.interactionFrequency = 10),
      (this._deltaTime = 0),
      (this._didMove = !1),
      (this._tickerAdded = !1),
      (this._pauseUpdate = !0);
  }
  init(e) {
    this.removeTickerListener(),
      (this.events = e),
      (this.interactionFrequency = 10),
      (this._deltaTime = 0),
      (this._didMove = !1),
      (this._tickerAdded = !1),
      (this._pauseUpdate = !0);
  }
  get pauseUpdate() {
    return this._pauseUpdate;
  }
  set pauseUpdate(e) {
    this._pauseUpdate = e;
  }
  addTickerListener() {
    this._tickerAdded ||
      !this.domElement ||
      (Lo.system.add(this._tickerUpdate, this, jh.INTERACTION),
      (this._tickerAdded = !0));
  }
  removeTickerListener() {
    this._tickerAdded &&
      (Lo.system.remove(this._tickerUpdate, this), (this._tickerAdded = !1));
  }
  pointerMoved() {
    this._didMove = !0;
  }
  _update() {
    if (!this.domElement || this._pauseUpdate) return;
    if (this._didMove) {
      this._didMove = !1;
      return;
    }
    const e = this.events._rootPointerEvent;
    (this.events.supportsTouchEvents && e.pointerType === "touch") ||
      globalThis.document.dispatchEvent(
        new PointerEvent("pointermove", {
          clientX: e.clientX,
          clientY: e.clientY,
        })
      );
  }
  _tickerUpdate(e) {
    (this._deltaTime += e.deltaTime),
      !(this._deltaTime < this.interactionFrequency) &&
        ((this._deltaTime = 0), this._update());
  }
}
const Co = new oX();
class lm extends pd {
  constructor() {
    super(...arguments),
      (this.client = new ht()),
      (this.movement = new ht()),
      (this.offset = new ht()),
      (this.global = new ht()),
      (this.screen = new ht());
  }
  get clientX() {
    return this.client.x;
  }
  get clientY() {
    return this.client.y;
  }
  get x() {
    return this.clientX;
  }
  get y() {
    return this.clientY;
  }
  get movementX() {
    return this.movement.x;
  }
  get movementY() {
    return this.movement.y;
  }
  get offsetX() {
    return this.offset.x;
  }
  get offsetY() {
    return this.offset.y;
  }
  get globalX() {
    return this.global.x;
  }
  get globalY() {
    return this.global.y;
  }
  get screenX() {
    return this.screen.x;
  }
  get screenY() {
    return this.screen.y;
  }
  getLocalPosition(e, t, n) {
    return e.worldTransform.applyInverse(n || this.global, t);
  }
  getModifierState(e) {
    return (
      "getModifierState" in this.nativeEvent &&
      this.nativeEvent.getModifierState(e)
    );
  }
  initMouseEvent(e, t, n, i, s, o, a, l, u, c, h, d, f, m, g) {
    throw new Error("Method not implemented.");
  }
}
class Li extends lm {
  constructor() {
    super(...arguments),
      (this.width = 0),
      (this.height = 0),
      (this.isPrimary = !1);
  }
  getCoalescedEvents() {
    return this.type === "pointermove" ||
      this.type === "mousemove" ||
      this.type === "touchmove"
      ? [this]
      : [];
  }
  getPredictedEvents() {
    throw new Error("getPredictedEvents is not supported!");
  }
}
class Nu extends lm {
  constructor() {
    super(...arguments),
      (this.DOM_DELTA_PIXEL = 0),
      (this.DOM_DELTA_LINE = 1),
      (this.DOM_DELTA_PAGE = 2);
  }
}
Nu.DOM_DELTA_PIXEL = 0;
Nu.DOM_DELTA_LINE = 1;
Nu.DOM_DELTA_PAGE = 2;
const aX = 2048,
  lX = new ht(),
  _c = new ht();
class uX {
  constructor(e) {
    (this.dispatch = new si()),
      (this.moveOnAll = !1),
      (this.enableGlobalMoveEvents = !0),
      (this.mappingState = { trackingData: {} }),
      (this.eventPool = new Map()),
      (this._allInteractiveElements = []),
      (this._hitElements = []),
      (this._isPointerMoveEvent = !1),
      (this.rootTarget = e),
      (this.hitPruneFn = this.hitPruneFn.bind(this)),
      (this.hitTestFn = this.hitTestFn.bind(this)),
      (this.mapPointerDown = this.mapPointerDown.bind(this)),
      (this.mapPointerMove = this.mapPointerMove.bind(this)),
      (this.mapPointerOut = this.mapPointerOut.bind(this)),
      (this.mapPointerOver = this.mapPointerOver.bind(this)),
      (this.mapPointerUp = this.mapPointerUp.bind(this)),
      (this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this)),
      (this.mapWheel = this.mapWheel.bind(this)),
      (this.mappingTable = {}),
      this.addEventMapping("pointerdown", this.mapPointerDown),
      this.addEventMapping("pointermove", this.mapPointerMove),
      this.addEventMapping("pointerout", this.mapPointerOut),
      this.addEventMapping("pointerleave", this.mapPointerOut),
      this.addEventMapping("pointerover", this.mapPointerOver),
      this.addEventMapping("pointerup", this.mapPointerUp),
      this.addEventMapping("pointerupoutside", this.mapPointerUpOutside),
      this.addEventMapping("wheel", this.mapWheel);
  }
  addEventMapping(e, t) {
    this.mappingTable[e] || (this.mappingTable[e] = []),
      this.mappingTable[e].push({ fn: t, priority: 0 }),
      this.mappingTable[e].sort((n, i) => n.priority - i.priority);
  }
  dispatchEvent(e, t) {
    (e.propagationStopped = !1),
      (e.propagationImmediatelyStopped = !1),
      this.propagate(e, t),
      this.dispatch.emit(t || e.type, e);
  }
  mapEvent(e) {
    if (!this.rootTarget) return;
    const t = this.mappingTable[e.type];
    if (t) for (let n = 0, i = t.length; n < i; n++) t[n].fn(e);
    else Be(`[EventBoundary]: Event mapping not defined for ${e.type}`);
  }
  hitTest(e, t) {
    Co.pauseUpdate = !0;
    const i =
        this._isPointerMoveEvent && this.enableGlobalMoveEvents
          ? "hitTestMoveRecursive"
          : "hitTestRecursive",
      s = this[i](
        this.rootTarget,
        this.rootTarget.eventMode,
        lX.set(e, t),
        this.hitTestFn,
        this.hitPruneFn
      );
    return s && s[0];
  }
  propagate(e, t) {
    if (!e.target) return;
    const n = e.composedPath();
    e.eventPhase = e.CAPTURING_PHASE;
    for (let i = 0, s = n.length - 1; i < s; i++)
      if (
        ((e.currentTarget = n[i]),
        this.notifyTarget(e, t),
        e.propagationStopped || e.propagationImmediatelyStopped)
      )
        return;
    if (
      ((e.eventPhase = e.AT_TARGET),
      (e.currentTarget = e.target),
      this.notifyTarget(e, t),
      !(e.propagationStopped || e.propagationImmediatelyStopped))
    ) {
      e.eventPhase = e.BUBBLING_PHASE;
      for (let i = n.length - 2; i >= 0; i--)
        if (
          ((e.currentTarget = n[i]),
          this.notifyTarget(e, t),
          e.propagationStopped || e.propagationImmediatelyStopped)
        )
          return;
    }
  }
  all(e, t, n = this._allInteractiveElements) {
    if (n.length === 0) return;
    e.eventPhase = e.BUBBLING_PHASE;
    const i = Array.isArray(t) ? t : [t];
    for (let s = n.length - 1; s >= 0; s--)
      i.forEach((o) => {
        (e.currentTarget = n[s]), this.notifyTarget(e, o);
      });
  }
  propagationPath(e) {
    const t = [e];
    for (let n = 0; n < aX && e !== this.rootTarget && e.parent; n++) {
      if (!e.parent)
        throw new Error("Cannot find propagation path to disconnected target");
      t.push(e.parent), (e = e.parent);
    }
    return t.reverse(), t;
  }
  hitTestMoveRecursive(e, t, n, i, s, o = !1) {
    let a = !1;
    if (this._interactivePrune(e)) return null;
    if (
      ((e.eventMode === "dynamic" || t === "dynamic") && (Co.pauseUpdate = !1),
      e.interactiveChildren && e.children)
    ) {
      const c = e.children;
      for (let h = c.length - 1; h >= 0; h--) {
        const d = c[h],
          f = this.hitTestMoveRecursive(
            d,
            this._isInteractive(t) ? t : d.eventMode,
            n,
            i,
            s,
            o || s(e, n)
          );
        if (f) {
          if (f.length > 0 && !f[f.length - 1].parent) continue;
          const m = e.isInteractive();
          (f.length > 0 || m) &&
            (m && this._allInteractiveElements.push(e), f.push(e)),
            this._hitElements.length === 0 && (this._hitElements = f),
            (a = !0);
        }
      }
    }
    const l = this._isInteractive(t),
      u = e.isInteractive();
    return (
      u && u && this._allInteractiveElements.push(e),
      o || this._hitElements.length > 0
        ? null
        : a
        ? this._hitElements
        : l && !s(e, n) && i(e, n)
        ? u
          ? [e]
          : []
        : null
    );
  }
  hitTestRecursive(e, t, n, i, s) {
    if (this._interactivePrune(e) || s(e, n)) return null;
    if (
      ((e.eventMode === "dynamic" || t === "dynamic") && (Co.pauseUpdate = !1),
      e.interactiveChildren && e.children)
    ) {
      const l = e.children,
        u = n;
      for (let c = l.length - 1; c >= 0; c--) {
        const h = l[c],
          d = this.hitTestRecursive(
            h,
            this._isInteractive(t) ? t : h.eventMode,
            u,
            i,
            s
          );
        if (d) {
          if (d.length > 0 && !d[d.length - 1].parent) continue;
          const f = e.isInteractive();
          return (d.length > 0 || f) && d.push(e), d;
        }
      }
    }
    const o = this._isInteractive(t),
      a = e.isInteractive();
    return o && i(e, n) ? (a ? [e] : []) : null;
  }
  _isInteractive(e) {
    return e === "static" || e === "dynamic";
  }
  _interactivePrune(e) {
    return (
      !e ||
      !e.visible ||
      !e.renderable ||
      !e.includeInBuild ||
      !e.measurable ||
      e.eventMode === "none" ||
      (e.eventMode === "passive" && !e.interactiveChildren)
    );
  }
  hitPruneFn(e, t) {
    if (
      e.hitArea &&
      (e.worldTransform.applyInverse(t, _c), !e.hitArea.contains(_c.x, _c.y))
    )
      return !0;
    if (e.effects && e.effects.length)
      for (let n = 0; n < e.effects.length; n++) {
        const i = e.effects[n];
        if (i.containsPoint && !i.containsPoint(t, this.hitTestFn)) return !0;
      }
    return !1;
  }
  hitTestFn(e, t) {
    return e.hitArea
      ? !0
      : e != null && e.containsPoint
      ? (e.worldTransform.applyInverse(t, _c), e.containsPoint(_c))
      : !1;
  }
  notifyTarget(e, t) {
    var n, i;
    t = t ?? e.type;
    const s = `on${t}`;
    (i = (n = e.currentTarget)[s]) == null || i.call(n, e);
    const o =
      e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET
        ? `${t}capture`
        : t;
    this._notifyListeners(e, o),
      e.eventPhase === e.AT_TARGET && this._notifyListeners(e, t);
  }
  mapPointerDown(e) {
    if (!(e instanceof Li)) {
      Be("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.createPointerEvent(e);
    if ((this.dispatchEvent(t, "pointerdown"), t.pointerType === "touch"))
      this.dispatchEvent(t, "touchstart");
    else if (t.pointerType === "mouse" || t.pointerType === "pen") {
      const i = t.button === 2;
      this.dispatchEvent(t, i ? "rightdown" : "mousedown");
    }
    const n = this.trackingData(e.pointerId);
    (n.pressTargetsByButton[e.button] = t.composedPath()), this.freeEvent(t);
  }
  mapPointerMove(e) {
    var t, n, i;
    if (!(e instanceof Li)) {
      Be("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    (this._allInteractiveElements.length = 0),
      (this._hitElements.length = 0),
      (this._isPointerMoveEvent = !0);
    const s = this.createPointerEvent(e);
    this._isPointerMoveEvent = !1;
    const o = s.pointerType === "mouse" || s.pointerType === "pen",
      a = this.trackingData(e.pointerId),
      l = this.findMountedTarget(a.overTargets);
    if (
      ((t = a.overTargets) == null ? void 0 : t.length) > 0 &&
      l !== s.target
    ) {
      const h = e.type === "mousemove" ? "mouseout" : "pointerout",
        d = this.createPointerEvent(e, h, l);
      if (
        (this.dispatchEvent(d, "pointerout"),
        o && this.dispatchEvent(d, "mouseout"),
        !s.composedPath().includes(l))
      ) {
        const f = this.createPointerEvent(e, "pointerleave", l);
        for (
          f.eventPhase = f.AT_TARGET;
          f.target && !s.composedPath().includes(f.target);

        )
          (f.currentTarget = f.target),
            this.notifyTarget(f),
            o && this.notifyTarget(f, "mouseleave"),
            (f.target = f.target.parent);
        this.freeEvent(f);
      }
      this.freeEvent(d);
    }
    if (l !== s.target) {
      const h = e.type === "mousemove" ? "mouseover" : "pointerover",
        d = this.clonePointerEvent(s, h);
      this.dispatchEvent(d, "pointerover"),
        o && this.dispatchEvent(d, "mouseover");
      let f = l == null ? void 0 : l.parent;
      for (; f && f !== this.rootTarget.parent && f !== s.target; )
        f = f.parent;
      if (!f || f === this.rootTarget.parent) {
        const g = this.clonePointerEvent(s, "pointerenter");
        for (
          g.eventPhase = g.AT_TARGET;
          g.target && g.target !== l && g.target !== this.rootTarget.parent;

        )
          (g.currentTarget = g.target),
            this.notifyTarget(g),
            o && this.notifyTarget(g, "mouseenter"),
            (g.target = g.target.parent);
        this.freeEvent(g);
      }
      this.freeEvent(d);
    }
    const u = [],
      c = (n = this.enableGlobalMoveEvents) != null ? n : !0;
    this.moveOnAll
      ? u.push("pointermove")
      : this.dispatchEvent(s, "pointermove"),
      c && u.push("globalpointermove"),
      s.pointerType === "touch" &&
        (this.moveOnAll
          ? u.splice(1, 0, "touchmove")
          : this.dispatchEvent(s, "touchmove"),
        c && u.push("globaltouchmove")),
      o &&
        (this.moveOnAll
          ? u.splice(1, 0, "mousemove")
          : this.dispatchEvent(s, "mousemove"),
        c && u.push("globalmousemove"),
        (this.cursor = (i = s.target) == null ? void 0 : i.cursor)),
      u.length > 0 && this.all(s, u),
      (this._allInteractiveElements.length = 0),
      (this._hitElements.length = 0),
      (a.overTargets = s.composedPath()),
      this.freeEvent(s);
  }
  mapPointerOver(e) {
    var t;
    if (!(e instanceof Li)) {
      Be("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const n = this.trackingData(e.pointerId),
      i = this.createPointerEvent(e),
      s = i.pointerType === "mouse" || i.pointerType === "pen";
    this.dispatchEvent(i, "pointerover"),
      s && this.dispatchEvent(i, "mouseover"),
      i.pointerType === "mouse" &&
        (this.cursor = (t = i.target) == null ? void 0 : t.cursor);
    const o = this.clonePointerEvent(i, "pointerenter");
    for (
      o.eventPhase = o.AT_TARGET;
      o.target && o.target !== this.rootTarget.parent;

    )
      (o.currentTarget = o.target),
        this.notifyTarget(o),
        s && this.notifyTarget(o, "mouseenter"),
        (o.target = o.target.parent);
    (n.overTargets = i.composedPath()), this.freeEvent(i), this.freeEvent(o);
  }
  mapPointerOut(e) {
    if (!(e instanceof Li)) {
      Be("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.trackingData(e.pointerId);
    if (t.overTargets) {
      const n = e.pointerType === "mouse" || e.pointerType === "pen",
        i = this.findMountedTarget(t.overTargets),
        s = this.createPointerEvent(e, "pointerout", i);
      this.dispatchEvent(s), n && this.dispatchEvent(s, "mouseout");
      const o = this.createPointerEvent(e, "pointerleave", i);
      for (
        o.eventPhase = o.AT_TARGET;
        o.target && o.target !== this.rootTarget.parent;

      )
        (o.currentTarget = o.target),
          this.notifyTarget(o),
          n && this.notifyTarget(o, "mouseleave"),
          (o.target = o.target.parent);
      (t.overTargets = null), this.freeEvent(s), this.freeEvent(o);
    }
    this.cursor = null;
  }
  mapPointerUp(e) {
    if (!(e instanceof Li)) {
      Be("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = performance.now(),
      n = this.createPointerEvent(e);
    if ((this.dispatchEvent(n, "pointerup"), n.pointerType === "touch"))
      this.dispatchEvent(n, "touchend");
    else if (n.pointerType === "mouse" || n.pointerType === "pen") {
      const a = n.button === 2;
      this.dispatchEvent(n, a ? "rightup" : "mouseup");
    }
    const i = this.trackingData(e.pointerId),
      s = this.findMountedTarget(i.pressTargetsByButton[e.button]);
    let o = s;
    if (s && !n.composedPath().includes(s)) {
      let a = s;
      for (; a && !n.composedPath().includes(a); ) {
        if (
          ((n.currentTarget = a),
          this.notifyTarget(n, "pointerupoutside"),
          n.pointerType === "touch")
        )
          this.notifyTarget(n, "touchendoutside");
        else if (n.pointerType === "mouse" || n.pointerType === "pen") {
          const l = n.button === 2;
          this.notifyTarget(n, l ? "rightupoutside" : "mouseupoutside");
        }
        a = a.parent;
      }
      delete i.pressTargetsByButton[e.button], (o = a);
    }
    if (o) {
      const a = this.clonePointerEvent(n, "click");
      (a.target = o),
        (a.path = null),
        i.clicksByButton[e.button] ||
          (i.clicksByButton[e.button] = {
            clickCount: 0,
            target: a.target,
            timeStamp: t,
          });
      const l = i.clicksByButton[e.button];
      if (
        (l.target === a.target && t - l.timeStamp < 200
          ? ++l.clickCount
          : (l.clickCount = 1),
        (l.target = a.target),
        (l.timeStamp = t),
        (a.detail = l.clickCount),
        a.pointerType === "mouse")
      ) {
        const u = a.button === 2;
        this.dispatchEvent(a, u ? "rightclick" : "click");
      } else a.pointerType === "touch" && this.dispatchEvent(a, "tap");
      this.dispatchEvent(a, "pointertap"), this.freeEvent(a);
    }
    this.freeEvent(n);
  }
  mapPointerUpOutside(e) {
    if (!(e instanceof Li)) {
      Be("EventBoundary cannot map a non-pointer event as a pointer event");
      return;
    }
    const t = this.trackingData(e.pointerId),
      n = this.findMountedTarget(t.pressTargetsByButton[e.button]),
      i = this.createPointerEvent(e);
    if (n) {
      let s = n;
      for (; s; )
        (i.currentTarget = s),
          this.notifyTarget(i, "pointerupoutside"),
          i.pointerType === "touch"
            ? this.notifyTarget(i, "touchendoutside")
            : (i.pointerType === "mouse" || i.pointerType === "pen") &&
              this.notifyTarget(
                i,
                i.button === 2 ? "rightupoutside" : "mouseupoutside"
              ),
          (s = s.parent);
      delete t.pressTargetsByButton[e.button];
    }
    this.freeEvent(i);
  }
  mapWheel(e) {
    if (!(e instanceof Nu)) {
      Be("EventBoundary cannot map a non-wheel event as a wheel event");
      return;
    }
    const t = this.createWheelEvent(e);
    this.dispatchEvent(t), this.freeEvent(t);
  }
  findMountedTarget(e) {
    if (!e) return null;
    let t = e[0];
    for (let n = 1; n < e.length && e[n].parent === t; n++) t = e[n];
    return t;
  }
  createPointerEvent(e, t, n) {
    var i;
    const s = this.allocateEvent(Li);
    return (
      this.copyPointerData(e, s),
      this.copyMouseData(e, s),
      this.copyData(e, s),
      (s.nativeEvent = e.nativeEvent),
      (s.originalEvent = e),
      (s.target =
        (i = n ?? this.hitTest(s.global.x, s.global.y)) != null
          ? i
          : this._hitElements[0]),
      typeof t == "string" && (s.type = t),
      s
    );
  }
  createWheelEvent(e) {
    const t = this.allocateEvent(Nu);
    return (
      this.copyWheelData(e, t),
      this.copyMouseData(e, t),
      this.copyData(e, t),
      (t.nativeEvent = e.nativeEvent),
      (t.originalEvent = e),
      (t.target = this.hitTest(t.global.x, t.global.y)),
      t
    );
  }
  clonePointerEvent(e, t) {
    const n = this.allocateEvent(Li);
    return (
      (n.nativeEvent = e.nativeEvent),
      (n.originalEvent = e.originalEvent),
      this.copyPointerData(e, n),
      this.copyMouseData(e, n),
      this.copyData(e, n),
      (n.target = e.target),
      (n.path = e.composedPath().slice()),
      (n.type = t ?? n.type),
      n
    );
  }
  copyWheelData(e, t) {
    (t.deltaMode = e.deltaMode),
      (t.deltaX = e.deltaX),
      (t.deltaY = e.deltaY),
      (t.deltaZ = e.deltaZ);
  }
  copyPointerData(e, t) {
    e instanceof Li &&
      t instanceof Li &&
      ((t.pointerId = e.pointerId),
      (t.width = e.width),
      (t.height = e.height),
      (t.isPrimary = e.isPrimary),
      (t.pointerType = e.pointerType),
      (t.pressure = e.pressure),
      (t.tangentialPressure = e.tangentialPressure),
      (t.tiltX = e.tiltX),
      (t.tiltY = e.tiltY),
      (t.twist = e.twist));
  }
  copyMouseData(e, t) {
    e instanceof lm &&
      t instanceof lm &&
      ((t.altKey = e.altKey),
      (t.button = e.button),
      (t.buttons = e.buttons),
      t.client.copyFrom(e.client),
      (t.ctrlKey = e.ctrlKey),
      (t.metaKey = e.metaKey),
      t.movement.copyFrom(e.movement),
      t.screen.copyFrom(e.screen),
      (t.shiftKey = e.shiftKey),
      t.global.copyFrom(e.global));
  }
  copyData(e, t) {
    (t.isTrusted = e.isTrusted),
      (t.srcElement = e.srcElement),
      (t.timeStamp = performance.now()),
      (t.type = e.type),
      (t.detail = e.detail),
      (t.view = e.view),
      (t.which = e.which),
      t.layer.copyFrom(e.layer),
      t.page.copyFrom(e.page);
  }
  trackingData(e) {
    return (
      this.mappingState.trackingData[e] ||
        (this.mappingState.trackingData[e] = {
          pressTargetsByButton: {},
          clicksByButton: {},
          overTarget: null,
        }),
      this.mappingState.trackingData[e]
    );
  }
  allocateEvent(e) {
    this.eventPool.has(e) || this.eventPool.set(e, []);
    const t = this.eventPool.get(e).pop() || new e(this);
    return (
      (t.eventPhase = t.NONE),
      (t.currentTarget = null),
      (t.path = null),
      (t.target = null),
      t
    );
  }
  freeEvent(e) {
    if (e.manager !== this)
      throw new Error(
        "It is illegal to free an event not managed by this EventBoundary!"
      );
    const t = e.constructor;
    this.eventPool.has(t) || this.eventPool.set(t, []),
      this.eventPool.get(t).push(e);
  }
  _notifyListeners(e, t) {
    const n = e.currentTarget._events[t];
    if (n && e.currentTarget.isInteractive())
      if ("fn" in n)
        n.once && e.currentTarget.removeListener(t, n.fn, void 0, !0),
          n.fn.call(n.context, e);
      else
        for (
          let i = 0, s = n.length;
          i < s && !e.propagationImmediatelyStopped;
          i++
        )
          n[i].once && e.currentTarget.removeListener(t, n[i].fn, void 0, !0),
            n[i].fn.call(n[i].context, e);
  }
}
var cX = Object.defineProperty,
  VT = Object.getOwnPropertySymbols,
  hX = Object.prototype.hasOwnProperty,
  dX = Object.prototype.propertyIsEnumerable,
  XT = (r, e, t) =>
    e in r
      ? cX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  fX = (r, e) => {
    for (var t in e || (e = {})) hX.call(e, t) && XT(r, t, e[t]);
    if (VT) for (var t of VT(e)) dX.call(e, t) && XT(r, t, e[t]);
    return r;
  };
const pX = 1,
  mX = {
    touchstart: "pointerdown",
    touchend: "pointerup",
    touchendoutside: "pointerupoutside",
    touchmove: "pointermove",
    touchcancel: "pointercancel",
  },
  Nb = class sx {
    constructor(e) {
      (this.supportsTouchEvents = "ontouchstart" in globalThis),
        (this.supportsPointerEvents = !!globalThis.PointerEvent),
        (this.domElement = null),
        (this.resolution = 1),
        (this.renderer = e),
        (this.rootBoundary = new uX(null)),
        Co.init(this),
        (this.autoPreventDefault = !0),
        (this._eventsAdded = !1),
        (this._rootPointerEvent = new Li(null)),
        (this._rootWheelEvent = new Nu(null)),
        (this.cursorStyles = { default: "inherit", pointer: "pointer" }),
        (this.features = new Proxy(fX({}, sx.defaultEventFeatures), {
          set: (t, n, i) => (
            n === "globalMove" &&
              (this.rootBoundary.enableGlobalMoveEvents = i),
            (t[n] = i),
            !0
          ),
        })),
        (this._onPointerDown = this._onPointerDown.bind(this)),
        (this._onPointerMove = this._onPointerMove.bind(this)),
        (this._onPointerUp = this._onPointerUp.bind(this)),
        (this._onPointerOverOut = this._onPointerOverOut.bind(this)),
        (this.onWheel = this.onWheel.bind(this));
    }
    static get defaultEventMode() {
      return this._defaultEventMode;
    }
    init(e) {
      var t, n;
      const { canvas: i, resolution: s } = this.renderer;
      this.setTargetElement(i),
        (this.resolution = s),
        (sx._defaultEventMode = (t = e.eventMode) != null ? t : "passive"),
        Object.assign(this.features, (n = e.eventFeatures) != null ? n : {}),
        (this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove);
    }
    resolutionChange(e) {
      this.resolution = e;
    }
    destroy() {
      this.setTargetElement(null),
        (this.renderer = null),
        (this._currentCursor = null);
    }
    setCursor(e) {
      e = e || "default";
      let t = !0;
      if (
        (globalThis.OffscreenCanvas &&
          this.domElement instanceof OffscreenCanvas &&
          (t = !1),
        this._currentCursor === e)
      )
        return;
      this._currentCursor = e;
      const n = this.cursorStyles[e];
      if (n)
        switch (typeof n) {
          case "string":
            t && (this.domElement.style.cursor = n);
            break;
          case "function":
            n(e);
            break;
          case "object":
            t && Object.assign(this.domElement.style, n);
            break;
        }
      else
        t &&
          typeof e == "string" &&
          !Object.prototype.hasOwnProperty.call(this.cursorStyles, e) &&
          (this.domElement.style.cursor = e);
    }
    get pointer() {
      return this._rootPointerEvent;
    }
    _onPointerDown(e) {
      if (!this.features.click) return;
      this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
      const t = this._normalizeToPointerData(e);
      this.autoPreventDefault &&
        t[0].isNormalized &&
        (e.cancelable || !("cancelable" in e)) &&
        e.preventDefault();
      for (let n = 0, i = t.length; n < i; n++) {
        const s = t[n],
          o = this._bootstrapEvent(this._rootPointerEvent, s);
        this.rootBoundary.mapEvent(o);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    _onPointerMove(e) {
      if (!this.features.move) return;
      (this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
        Co.pointerMoved();
      const t = this._normalizeToPointerData(e);
      for (let n = 0, i = t.length; n < i; n++) {
        const s = this._bootstrapEvent(this._rootPointerEvent, t[n]);
        this.rootBoundary.mapEvent(s);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    _onPointerUp(e) {
      if (!this.features.click) return;
      this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
      let t = e.target;
      e.composedPath &&
        e.composedPath().length > 0 &&
        (t = e.composedPath()[0]);
      const n = t !== this.domElement ? "outside" : "",
        i = this._normalizeToPointerData(e);
      for (let s = 0, o = i.length; s < o; s++) {
        const a = this._bootstrapEvent(this._rootPointerEvent, i[s]);
        (a.type += n), this.rootBoundary.mapEvent(a);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    _onPointerOverOut(e) {
      if (!this.features.click) return;
      this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
      const t = this._normalizeToPointerData(e);
      for (let n = 0, i = t.length; n < i; n++) {
        const s = this._bootstrapEvent(this._rootPointerEvent, t[n]);
        this.rootBoundary.mapEvent(s);
      }
      this.setCursor(this.rootBoundary.cursor);
    }
    onWheel(e) {
      if (!this.features.wheel) return;
      const t = this.normalizeWheelEvent(e);
      (this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
        this.rootBoundary.mapEvent(t);
    }
    setTargetElement(e) {
      this._removeEvents(),
        (this.domElement = e),
        (Co.domElement = e),
        this._addEvents();
    }
    _addEvents() {
      if (this._eventsAdded || !this.domElement) return;
      Co.addTickerListener();
      const e = this.domElement.style;
      e &&
        (globalThis.navigator.msPointerEnabled
          ? ((e.msContentZooming = "none"), (e.msTouchAction = "none"))
          : this.supportsPointerEvents && (e.touchAction = "none")),
        this.supportsPointerEvents
          ? (globalThis.document.addEventListener(
              "pointermove",
              this._onPointerMove,
              !0
            ),
            this.domElement.addEventListener(
              "pointerdown",
              this._onPointerDown,
              !0
            ),
            this.domElement.addEventListener(
              "pointerleave",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.addEventListener(
              "pointerover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.addEventListener("pointerup", this._onPointerUp, !0))
          : (globalThis.document.addEventListener(
              "mousemove",
              this._onPointerMove,
              !0
            ),
            this.domElement.addEventListener(
              "mousedown",
              this._onPointerDown,
              !0
            ),
            this.domElement.addEventListener(
              "mouseout",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.addEventListener(
              "mouseover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.addEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents &&
              (this.domElement.addEventListener(
                "touchstart",
                this._onPointerDown,
                !0
              ),
              this.domElement.addEventListener(
                "touchend",
                this._onPointerUp,
                !0
              ),
              this.domElement.addEventListener(
                "touchmove",
                this._onPointerMove,
                !0
              ))),
        this.domElement.addEventListener("wheel", this.onWheel, {
          passive: !0,
          capture: !0,
        }),
        (this._eventsAdded = !0);
    }
    _removeEvents() {
      if (!this._eventsAdded || !this.domElement) return;
      Co.removeTickerListener();
      const e = this.domElement.style;
      e &&
        (globalThis.navigator.msPointerEnabled
          ? ((e.msContentZooming = ""), (e.msTouchAction = ""))
          : this.supportsPointerEvents && (e.touchAction = "")),
        this.supportsPointerEvents
          ? (globalThis.document.removeEventListener(
              "pointermove",
              this._onPointerMove,
              !0
            ),
            this.domElement.removeEventListener(
              "pointerdown",
              this._onPointerDown,
              !0
            ),
            this.domElement.removeEventListener(
              "pointerleave",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.removeEventListener(
              "pointerover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.removeEventListener("pointerup", this._onPointerUp, !0))
          : (globalThis.document.removeEventListener(
              "mousemove",
              this._onPointerMove,
              !0
            ),
            this.domElement.removeEventListener(
              "mousedown",
              this._onPointerDown,
              !0
            ),
            this.domElement.removeEventListener(
              "mouseout",
              this._onPointerOverOut,
              !0
            ),
            this.domElement.removeEventListener(
              "mouseover",
              this._onPointerOverOut,
              !0
            ),
            globalThis.removeEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents &&
              (this.domElement.removeEventListener(
                "touchstart",
                this._onPointerDown,
                !0
              ),
              this.domElement.removeEventListener(
                "touchend",
                this._onPointerUp,
                !0
              ),
              this.domElement.removeEventListener(
                "touchmove",
                this._onPointerMove,
                !0
              ))),
        this.domElement.removeEventListener("wheel", this.onWheel, !0),
        (this.domElement = null),
        (this._eventsAdded = !1);
    }
    mapPositionToPoint(e, t, n) {
      const i = this.domElement.isConnected
          ? this.domElement.getBoundingClientRect()
          : {
              x: 0,
              y: 0,
              width: this.domElement.width,
              height: this.domElement.height,
              left: 0,
              top: 0,
            },
        s = 1 / this.resolution;
      (e.x = (t - i.left) * (this.domElement.width / i.width) * s),
        (e.y = (n - i.top) * (this.domElement.height / i.height) * s);
    }
    _normalizeToPointerData(e) {
      const t = [];
      if (this.supportsTouchEvents && e instanceof TouchEvent)
        for (let n = 0, i = e.changedTouches.length; n < i; n++) {
          const s = e.changedTouches[n];
          typeof s.button > "u" && (s.button = 0),
            typeof s.buttons > "u" && (s.buttons = 1),
            typeof s.isPrimary > "u" &&
              (s.isPrimary = e.touches.length === 1 && e.type === "touchstart"),
            typeof s.width > "u" && (s.width = s.radiusX || 1),
            typeof s.height > "u" && (s.height = s.radiusY || 1),
            typeof s.tiltX > "u" && (s.tiltX = 0),
            typeof s.tiltY > "u" && (s.tiltY = 0),
            typeof s.pointerType > "u" && (s.pointerType = "touch"),
            typeof s.pointerId > "u" && (s.pointerId = s.identifier || 0),
            typeof s.pressure > "u" && (s.pressure = s.force || 0.5),
            typeof s.twist > "u" && (s.twist = 0),
            typeof s.tangentialPressure > "u" && (s.tangentialPressure = 0),
            typeof s.layerX > "u" && (s.layerX = s.offsetX = s.clientX),
            typeof s.layerY > "u" && (s.layerY = s.offsetY = s.clientY),
            (s.isNormalized = !0),
            (s.type = e.type),
            t.push(s);
        }
      else if (
        !globalThis.MouseEvent ||
        (e instanceof MouseEvent &&
          (!this.supportsPointerEvents ||
            !(e instanceof globalThis.PointerEvent)))
      ) {
        const n = e;
        typeof n.isPrimary > "u" && (n.isPrimary = !0),
          typeof n.width > "u" && (n.width = 1),
          typeof n.height > "u" && (n.height = 1),
          typeof n.tiltX > "u" && (n.tiltX = 0),
          typeof n.tiltY > "u" && (n.tiltY = 0),
          typeof n.pointerType > "u" && (n.pointerType = "mouse"),
          typeof n.pointerId > "u" && (n.pointerId = pX),
          typeof n.pressure > "u" && (n.pressure = 0.5),
          typeof n.twist > "u" && (n.twist = 0),
          typeof n.tangentialPressure > "u" && (n.tangentialPressure = 0),
          (n.isNormalized = !0),
          t.push(n);
      } else t.push(e);
      return t;
    }
    normalizeWheelEvent(e) {
      const t = this._rootWheelEvent;
      return (
        this._transferMouseData(t, e),
        (t.deltaX = e.deltaX),
        (t.deltaY = e.deltaY),
        (t.deltaZ = e.deltaZ),
        (t.deltaMode = e.deltaMode),
        this.mapPositionToPoint(t.screen, e.clientX, e.clientY),
        t.global.copyFrom(t.screen),
        t.offset.copyFrom(t.screen),
        (t.nativeEvent = e),
        (t.type = e.type),
        t
      );
    }
    _bootstrapEvent(e, t) {
      return (
        (e.originalEvent = null),
        (e.nativeEvent = t),
        (e.pointerId = t.pointerId),
        (e.width = t.width),
        (e.height = t.height),
        (e.isPrimary = t.isPrimary),
        (e.pointerType = t.pointerType),
        (e.pressure = t.pressure),
        (e.tangentialPressure = t.tangentialPressure),
        (e.tiltX = t.tiltX),
        (e.tiltY = t.tiltY),
        (e.twist = t.twist),
        this._transferMouseData(e, t),
        this.mapPositionToPoint(e.screen, t.clientX, t.clientY),
        e.global.copyFrom(e.screen),
        e.offset.copyFrom(e.screen),
        (e.isTrusted = t.isTrusted),
        e.type === "pointerleave" && (e.type = "pointerout"),
        e.type.startsWith("mouse") &&
          (e.type = e.type.replace("mouse", "pointer")),
        e.type.startsWith("touch") && (e.type = mX[e.type] || e.type),
        e
      );
    }
    _transferMouseData(e, t) {
      (e.isTrusted = t.isTrusted),
        (e.srcElement = t.srcElement),
        (e.timeStamp = performance.now()),
        (e.type = t.type),
        (e.altKey = t.altKey),
        (e.button = t.button),
        (e.buttons = t.buttons),
        (e.client.x = t.clientX),
        (e.client.y = t.clientY),
        (e.ctrlKey = t.ctrlKey),
        (e.metaKey = t.metaKey),
        (e.movement.x = t.movementX),
        (e.movement.y = t.movementY),
        (e.page.x = t.pageX),
        (e.page.y = t.pageY),
        (e.relatedTarget = null),
        (e.shiftKey = t.shiftKey);
    }
  };
Nb.extension = {
  name: "events",
  type: [W.WebGLSystem, W.CanvasSystem, W.WebGPUSystem],
  priority: -1,
};
Nb.defaultEventFeatures = { move: !0, globalMove: !0, click: !0, wheel: !0 };
let jB = Nb;
const gX = {
  onclick: null,
  onmousedown: null,
  onmouseenter: null,
  onmouseleave: null,
  onmousemove: null,
  onglobalmousemove: null,
  onmouseout: null,
  onmouseover: null,
  onmouseup: null,
  onmouseupoutside: null,
  onpointercancel: null,
  onpointerdown: null,
  onpointerenter: null,
  onpointerleave: null,
  onpointermove: null,
  onglobalpointermove: null,
  onpointerout: null,
  onpointerover: null,
  onpointertap: null,
  onpointerup: null,
  onpointerupoutside: null,
  onrightclick: null,
  onrightdown: null,
  onrightup: null,
  onrightupoutside: null,
  ontap: null,
  ontouchcancel: null,
  ontouchend: null,
  ontouchendoutside: null,
  ontouchmove: null,
  onglobaltouchmove: null,
  ontouchstart: null,
  onwheel: null,
  get interactive() {
    return this.eventMode === "dynamic" || this.eventMode === "static";
  },
  set interactive(r) {
    this.eventMode = r ? "static" : "passive";
  },
  _internalEventMode: void 0,
  get eventMode() {
    var r;
    return (r = this._internalEventMode) != null ? r : jB.defaultEventMode;
  },
  set eventMode(r) {
    this._internalEventMode = r;
  },
  isInteractive() {
    return this.eventMode === "static" || this.eventMode === "dynamic";
  },
  interactiveChildren: !0,
  hitArea: null,
  addEventListener(r, e, t) {
    const n =
        (typeof t == "boolean" && t) || (typeof t == "object" && t.capture),
      i = typeof t == "object" ? t.signal : void 0,
      s = typeof t == "object" ? t.once === !0 : !1,
      o = typeof e == "function" ? void 0 : e;
    r = n ? `${r}capture` : r;
    const a = typeof e == "function" ? e : e.handleEvent,
      l = this;
    i &&
      i.addEventListener("abort", () => {
        l.off(r, a, o);
      }),
      s ? l.once(r, a, o) : l.on(r, a, o);
  },
  removeEventListener(r, e, t) {
    const n =
        (typeof t == "boolean" && t) || (typeof t == "object" && t.capture),
      i = typeof e == "function" ? void 0 : e;
    (r = n ? `${r}capture` : r),
      (e = typeof e == "function" ? e : e.handleEvent),
      this.off(r, e, i);
  },
  dispatchEvent(r) {
    if (!(r instanceof pd))
      throw new Error(
        "Container cannot propagate events outside of the Federated Events API"
      );
    return (
      (r.defaultPrevented = !1),
      (r.path = null),
      (r.target = this),
      r.manager.dispatchEvent(r),
      !r.defaultPrevented
    );
  },
};
Ue.add(jB);
ft.mixin(gX);
var Bi = ((r) => (
  (r[(r.Low = 0)] = "Low"),
  (r[(r.Normal = 1)] = "Normal"),
  (r[(r.High = 2)] = "High"),
  r
))(Bi || {});
const _X = {
  createCanvas: (r, e) => {
    const t = document.createElement("canvas");
    return (t.width = r), (t.height = e), t;
  },
  getCanvasRenderingContext2D: () => CanvasRenderingContext2D,
  getWebGLRenderingContext: () => WebGLRenderingContext,
  getNavigator: () => navigator,
  getBaseUrl: () => {
    var r;
    return (r = document.baseURI) != null ? r : window.location.href;
  },
  getFontFaceSet: () => document.fonts,
  fetch: (r, e) => fetch(r, e),
  parseXML: (r) => new DOMParser().parseFromString(r, "text/xml"),
};
let YT = _X;
const nt = {
  get() {
    return YT;
  },
  set(r) {
    YT = r;
  },
};
function Ni(r) {
  if (typeof r != "string")
    throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`);
}
function yc(r) {
  return r.split("?")[0].split("#")[0];
}
function yX(r) {
  return r.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function vX(r, e, t) {
  return r.replace(new RegExp(yX(e), "g"), t);
}
function xX(r, e) {
  let t = "",
    n = 0,
    i = -1,
    s = 0,
    o = -1;
  for (let a = 0; a <= r.length; ++a) {
    if (a < r.length) o = r.charCodeAt(a);
    else {
      if (o === 47) break;
      o = 47;
    }
    if (o === 47) {
      if (!(i === a - 1 || s === 1))
        if (i !== a - 1 && s === 2) {
          if (
            t.length < 2 ||
            n !== 2 ||
            t.charCodeAt(t.length - 1) !== 46 ||
            t.charCodeAt(t.length - 2) !== 46
          ) {
            if (t.length > 2) {
              const l = t.lastIndexOf("/");
              if (l !== t.length - 1) {
                l === -1
                  ? ((t = ""), (n = 0))
                  : ((t = t.slice(0, l)),
                    (n = t.length - 1 - t.lastIndexOf("/"))),
                  (i = a),
                  (s = 0);
                continue;
              }
            } else if (t.length === 2 || t.length === 1) {
              (t = ""), (n = 0), (i = a), (s = 0);
              continue;
            }
          }
        } else
          t.length > 0
            ? (t += `/${r.slice(i + 1, a)}`)
            : (t = r.slice(i + 1, a)),
            (n = a - i - 1);
      (i = a), (s = 0);
    } else o === 46 && s !== -1 ? ++s : (s = -1);
  }
  return t;
}
const Zn = {
    toPosix(r) {
      return vX(r, "\\", "/");
    },
    isUrl(r) {
      return /^https?:/.test(this.toPosix(r));
    },
    isDataUrl(r) {
      return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(
        r
      );
    },
    isBlobUrl(r) {
      return r.startsWith("blob:");
    },
    hasProtocol(r) {
      return /^[^/:]+:/.test(this.toPosix(r));
    },
    getProtocol(r) {
      Ni(r), (r = this.toPosix(r));
      const e = /^file:\/\/\//.exec(r);
      if (e) return e[0];
      const t = /^[^/:]+:\/{0,2}/.exec(r);
      return t ? t[0] : "";
    },
    toAbsolute(r, e, t) {
      if ((Ni(r), this.isDataUrl(r) || this.isBlobUrl(r))) return r;
      const n = yc(this.toPosix(e ?? nt.get().getBaseUrl())),
        i = yc(this.toPosix(t ?? this.rootname(n)));
      return (
        (r = this.toPosix(r)),
        r.startsWith("/")
          ? Zn.join(i, r.slice(1))
          : this.isAbsolute(r)
          ? r
          : this.join(n, r)
      );
    },
    normalize(r) {
      if ((Ni(r), r.length === 0)) return ".";
      if (this.isDataUrl(r) || this.isBlobUrl(r)) return r;
      r = this.toPosix(r);
      let e = "";
      const t = r.startsWith("/");
      this.hasProtocol(r) && ((e = this.rootname(r)), (r = r.slice(e.length)));
      const n = r.endsWith("/");
      return (r = xX(r)), r.length > 0 && n && (r += "/"), t ? `/${r}` : e + r;
    },
    isAbsolute(r) {
      return (
        Ni(r),
        (r = this.toPosix(r)),
        this.hasProtocol(r) ? !0 : r.startsWith("/")
      );
    },
    join(...r) {
      var e;
      if (r.length === 0) return ".";
      let t;
      for (let n = 0; n < r.length; ++n) {
        const i = r[n];
        if ((Ni(i), i.length > 0))
          if (t === void 0) t = i;
          else {
            const s = (e = r[n - 1]) != null ? e : "";
            this.joinExtensions.includes(this.extname(s).toLowerCase())
              ? (t += `/../${i}`)
              : (t += `/${i}`);
          }
      }
      return t === void 0 ? "." : this.normalize(t);
    },
    dirname(r) {
      if ((Ni(r), r.length === 0)) return ".";
      r = this.toPosix(r);
      let e = r.charCodeAt(0);
      const t = e === 47;
      let n = -1,
        i = !0;
      const s = this.getProtocol(r),
        o = r;
      r = r.slice(s.length);
      for (let a = r.length - 1; a >= 1; --a)
        if (((e = r.charCodeAt(a)), e === 47)) {
          if (!i) {
            n = a;
            break;
          }
        } else i = !1;
      return n === -1
        ? t
          ? "/"
          : this.isUrl(o)
          ? s + r
          : s
        : t && n === 1
        ? "//"
        : s + r.slice(0, n);
    },
    rootname(r) {
      Ni(r), (r = this.toPosix(r));
      let e = "";
      if (
        (r.startsWith("/") ? (e = "/") : (e = this.getProtocol(r)),
        this.isUrl(r))
      ) {
        const t = r.indexOf("/", e.length);
        t !== -1 ? (e = r.slice(0, t)) : (e = r), e.endsWith("/") || (e += "/");
      }
      return e;
    },
    basename(r, e) {
      Ni(r), e && Ni(e), (r = yc(this.toPosix(r)));
      let t = 0,
        n = -1,
        i = !0,
        s;
      if (e !== void 0 && e.length > 0 && e.length <= r.length) {
        if (e.length === r.length && e === r) return "";
        let o = e.length - 1,
          a = -1;
        for (s = r.length - 1; s >= 0; --s) {
          const l = r.charCodeAt(s);
          if (l === 47) {
            if (!i) {
              t = s + 1;
              break;
            }
          } else
            a === -1 && ((i = !1), (a = s + 1)),
              o >= 0 &&
                (l === e.charCodeAt(o)
                  ? --o === -1 && (n = s)
                  : ((o = -1), (n = a)));
        }
        return t === n ? (n = a) : n === -1 && (n = r.length), r.slice(t, n);
      }
      for (s = r.length - 1; s >= 0; --s)
        if (r.charCodeAt(s) === 47) {
          if (!i) {
            t = s + 1;
            break;
          }
        } else n === -1 && ((i = !1), (n = s + 1));
      return n === -1 ? "" : r.slice(t, n);
    },
    extname(r) {
      Ni(r), (r = yc(this.toPosix(r)));
      let e = -1,
        t = 0,
        n = -1,
        i = !0,
        s = 0;
      for (let o = r.length - 1; o >= 0; --o) {
        const a = r.charCodeAt(o);
        if (a === 47) {
          if (!i) {
            t = o + 1;
            break;
          }
          continue;
        }
        n === -1 && ((i = !1), (n = o + 1)),
          a === 46
            ? e === -1
              ? (e = o)
              : s !== 1 && (s = 1)
            : e !== -1 && (s = -1);
      }
      return e === -1 ||
        n === -1 ||
        s === 0 ||
        (s === 1 && e === n - 1 && e === t + 1)
        ? ""
        : r.slice(e, n);
    },
    parse(r) {
      Ni(r);
      const e = { root: "", dir: "", base: "", ext: "", name: "" };
      if (r.length === 0) return e;
      r = yc(this.toPosix(r));
      let t = r.charCodeAt(0);
      const n = this.isAbsolute(r);
      let i;
      (e.root = this.rootname(r)), n || this.hasProtocol(r) ? (i = 1) : (i = 0);
      let s = -1,
        o = 0,
        a = -1,
        l = !0,
        u = r.length - 1,
        c = 0;
      for (; u >= i; --u) {
        if (((t = r.charCodeAt(u)), t === 47)) {
          if (!l) {
            o = u + 1;
            break;
          }
          continue;
        }
        a === -1 && ((l = !1), (a = u + 1)),
          t === 46
            ? s === -1
              ? (s = u)
              : c !== 1 && (c = 1)
            : s !== -1 && (c = -1);
      }
      return (
        s === -1 ||
        a === -1 ||
        c === 0 ||
        (c === 1 && s === a - 1 && s === o + 1)
          ? a !== -1 &&
            (o === 0 && n
              ? (e.base = e.name = r.slice(1, a))
              : (e.base = e.name = r.slice(o, a)))
          : (o === 0 && n
              ? ((e.name = r.slice(1, s)), (e.base = r.slice(1, a)))
              : ((e.name = r.slice(o, s)), (e.base = r.slice(o, a))),
            (e.ext = r.slice(s, a))),
        (e.dir = this.dirname(r)),
        e
      );
    },
    sep: "/",
    delimiter: ":",
    joinExtensions: [".html"],
  },
  Wi = (r, e, t = !1) => (
    Array.isArray(r) || (r = [r]),
    e ? r.map((n) => (typeof n == "string" || t ? e(n) : n)) : r
  );
function $B(r, e, t, n, i) {
  const s = e[t];
  for (let o = 0; o < s.length; o++) {
    const a = s[o];
    t < e.length - 1
      ? $B(r.replace(n[t], a), e, t + 1, n, i)
      : i.push(r.replace(n[t], a));
  }
}
function wX(r) {
  const e = /\{(.*?)\}/g,
    t = r.match(e),
    n = [];
  if (t) {
    const i = [];
    t.forEach((s) => {
      const o = s.substring(1, s.length - 1).split(",");
      i.push(o);
    }),
      $B(r, i, 0, t, n);
  } else n.push(r);
  return n;
}
const um = (r) => !Array.isArray(r);
var bX = Object.defineProperty,
  KT = Object.getOwnPropertySymbols,
  SX = Object.prototype.hasOwnProperty,
  EX = Object.prototype.propertyIsEnumerable,
  qT = (r, e, t) =>
    e in r
      ? bX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  pa = (r, e) => {
    for (var t in e || (e = {})) SX.call(e, t) && qT(r, t, e[t]);
    if (KT) for (var t of KT(e)) EX.call(e, t) && qT(r, t, e[t]);
    return r;
  };
class xl {
  constructor() {
    (this._defaultBundleIdentifierOptions = {
      connector: "-",
      createBundleAssetId: (e, t) => `${e}${this._bundleIdConnector}${t}`,
      extractAssetIdFromBundle: (e, t) =>
        t.replace(`${e}${this._bundleIdConnector}`, ""),
    }),
      (this._bundleIdConnector =
        this._defaultBundleIdentifierOptions.connector),
      (this._createBundleAssetId =
        this._defaultBundleIdentifierOptions.createBundleAssetId),
      (this._extractAssetIdFromBundle =
        this._defaultBundleIdentifierOptions.extractAssetIdFromBundle),
      (this._assetMap = {}),
      (this._preferredOrder = []),
      (this._parsers = []),
      (this._resolverHash = {}),
      (this._bundles = {});
  }
  setBundleIdentifier(e) {
    var t, n, i;
    if (
      ((this._bundleIdConnector =
        (t = e.connector) != null ? t : this._bundleIdConnector),
      (this._createBundleAssetId =
        (n = e.createBundleAssetId) != null ? n : this._createBundleAssetId),
      (this._extractAssetIdFromBundle =
        (i = e.extractAssetIdFromBundle) != null
          ? i
          : this._extractAssetIdFromBundle),
      this._extractAssetIdFromBundle(
        "foo",
        this._createBundleAssetId("foo", "bar")
      ) !== "bar")
    )
      throw new Error(
        "[Resolver] GenerateBundleAssetId are not working correctly"
      );
  }
  prefer(...e) {
    e.forEach((t) => {
      this._preferredOrder.push(t),
        t.priority || (t.priority = Object.keys(t.params));
    }),
      (this._resolverHash = {});
  }
  set basePath(e) {
    this._basePath = e;
  }
  get basePath() {
    return this._basePath;
  }
  set rootPath(e) {
    this._rootPath = e;
  }
  get rootPath() {
    return this._rootPath;
  }
  get parsers() {
    return this._parsers;
  }
  reset() {
    this.setBundleIdentifier(this._defaultBundleIdentifierOptions),
      (this._assetMap = {}),
      (this._preferredOrder = []),
      (this._resolverHash = {}),
      (this._rootPath = null),
      (this._basePath = null),
      (this._manifest = null),
      (this._bundles = {}),
      (this._defaultSearchParams = null);
  }
  setDefaultSearchParams(e) {
    if (typeof e == "string") this._defaultSearchParams = e;
    else {
      const t = e;
      this._defaultSearchParams = Object.keys(t)
        .map((n) => `${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`)
        .join("&");
    }
  }
  getAlias(e) {
    const { alias: t, src: n } = e;
    return Wi(
      t || n,
      (s) =>
        typeof s == "string"
          ? s
          : Array.isArray(s)
          ? s.map((o) => {
              var a;
              return (a = o == null ? void 0 : o.src) != null ? a : o;
            })
          : s != null && s.src
          ? s.src
          : s,
      !0
    );
  }
  addManifest(e) {
    this._manifest &&
      Be("[Resolver] Manifest already exists, this will be overwritten"),
      (this._manifest = e),
      e.bundles.forEach((t) => {
        this.addBundle(t.name, t.assets);
      });
  }
  addBundle(e, t) {
    const n = [];
    let i = t;
    Array.isArray(t) ||
      (i = Object.entries(t).map(([s, o]) =>
        typeof o == "string" || Array.isArray(o)
          ? { alias: s, src: o }
          : pa({ alias: s }, o)
      )),
      i.forEach((s) => {
        const o = s.src,
          a = s.alias;
        let l;
        if (typeof a == "string") {
          const u = this._createBundleAssetId(e, a);
          n.push(u), (l = [a, u]);
        } else {
          const u = a.map((c) => this._createBundleAssetId(e, c));
          n.push(...u), (l = [...a, ...u]);
        }
        this.add(pa(pa({}, s), { alias: l, src: o }));
      }),
      (this._bundles[e] = n);
  }
  add(e) {
    const t = [];
    Array.isArray(e) ? t.push(...e) : t.push(e);
    let n;
    (n = (s) => {
      this.hasKey(s) && Be(`[Resolver] already has key: ${s} overwriting`);
    }),
      Wi(t).forEach((s) => {
        const { src: o } = s;
        let { data: a, format: l, loadParser: u } = s;
        const c = Wi(o).map((f) =>
            typeof f == "string" ? wX(f) : Array.isArray(f) ? f : [f]
          ),
          h = this.getAlias(s);
        Array.isArray(h) ? h.forEach(n) : n(h);
        const d = [];
        c.forEach((f) => {
          f.forEach((m) => {
            var g, _, v;
            let w = {};
            if (typeof m != "object") {
              w.src = m;
              for (let x = 0; x < this._parsers.length; x++) {
                const k = this._parsers[x];
                if (k.test(m)) {
                  w = k.parse(m);
                  break;
                }
              }
            } else
              (a = (g = m.data) != null ? g : a),
                (l = (_ = m.format) != null ? _ : l),
                (u = (v = m.loadParser) != null ? v : u),
                (w = pa(pa({}, w), m));
            if (!h)
              throw new Error(
                `[Resolver] alias is undefined for this asset: ${w.src}`
              );
            (w = this._buildResolvedAsset(w, {
              aliases: h,
              data: a,
              format: l,
              loadParser: u,
            })),
              d.push(w);
          });
        }),
          h.forEach((f) => {
            this._assetMap[f] = d;
          });
      });
  }
  resolveBundle(e) {
    const t = um(e);
    e = Wi(e);
    const n = {};
    return (
      e.forEach((i) => {
        const s = this._bundles[i];
        if (s) {
          const o = this.resolve(s),
            a = {};
          for (const l in o) {
            const u = o[l];
            a[this._extractAssetIdFromBundle(i, l)] = u;
          }
          n[i] = a;
        }
      }),
      t ? n[e[0]] : n
    );
  }
  resolveUrl(e) {
    const t = this.resolve(e);
    if (typeof e != "string") {
      const n = {};
      for (const i in t) n[i] = t[i].src;
      return n;
    }
    return t.src;
  }
  resolve(e) {
    const t = um(e);
    e = Wi(e);
    const n = {};
    return (
      e.forEach((i) => {
        if (!this._resolverHash[i])
          if (this._assetMap[i]) {
            let s = this._assetMap[i];
            const o = this._getPreferredOrder(s);
            o == null ||
              o.priority.forEach((a) => {
                o.params[a].forEach((l) => {
                  const u = s.filter((c) => (c[a] ? c[a] === l : !1));
                  u.length && (s = u);
                });
              }),
              (this._resolverHash[i] = s[0]);
          } else
            this._resolverHash[i] = this._buildResolvedAsset(
              { alias: [i], src: i },
              {}
            );
        n[i] = this._resolverHash[i];
      }),
      t ? n[e[0]] : n
    );
  }
  hasKey(e) {
    return !!this._assetMap[e];
  }
  hasBundle(e) {
    return !!this._bundles[e];
  }
  _getPreferredOrder(e) {
    for (let t = 0; t < e.length; t++) {
      const n = e[0],
        i = this._preferredOrder.find((s) =>
          s.params.format.includes(n.format)
        );
      if (i) return i;
    }
    return this._preferredOrder[0];
  }
  _appendDefaultSearchParams(e) {
    if (!this._defaultSearchParams) return e;
    const t = /\?/.test(e) ? "&" : "?";
    return `${e}${t}${this._defaultSearchParams}`;
  }
  _buildResolvedAsset(e, t) {
    var n, i;
    const { aliases: s, data: o, loadParser: a, format: l } = t;
    return (
      (this._basePath || this._rootPath) &&
        (e.src = Zn.toAbsolute(e.src, this._basePath, this._rootPath)),
      (e.alias = (n = s ?? e.alias) != null ? n : [e.src]),
      (e.src = this._appendDefaultSearchParams(e.src)),
      (e.data = pa(pa({}, o || {}), e.data)),
      (e.loadParser = a ?? e.loadParser),
      (e.format = (i = l ?? e.format) != null ? i : TX(e.src)),
      e
    );
  }
}
xl.RETINA_PREFIX = /@([0-9\.]+)x/;
function TX(r) {
  return r.split(".").pop().split("?").shift().split("#").shift();
}
const ox = (r, e) => {
    const t = e.split("?")[1];
    return t && (r += `?${t}`), r;
  },
  xa = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
  wa = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
  ba = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
  Sa = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
  ax = [],
  zB = [],
  nf = Math.sign;
function kX() {
  for (let r = 0; r < 16; r++) {
    const e = [];
    ax.push(e);
    for (let t = 0; t < 16; t++) {
      const n = nf(xa[r] * xa[t] + ba[r] * wa[t]),
        i = nf(wa[r] * xa[t] + Sa[r] * wa[t]),
        s = nf(xa[r] * ba[t] + ba[r] * Sa[t]),
        o = nf(wa[r] * ba[t] + Sa[r] * Sa[t]);
      for (let a = 0; a < 16; a++)
        if (xa[a] === n && wa[a] === i && ba[a] === s && Sa[a] === o) {
          e.push(a);
          break;
        }
    }
  }
  for (let r = 0; r < 16; r++) {
    const e = new we();
    e.set(xa[r], wa[r], ba[r], Sa[r], 0, 0), zB.push(e);
  }
}
kX();
const Rt = {
    E: 0,
    SE: 1,
    S: 2,
    SW: 3,
    W: 4,
    NW: 5,
    N: 6,
    NE: 7,
    MIRROR_VERTICAL: 8,
    MAIN_DIAGONAL: 10,
    MIRROR_HORIZONTAL: 12,
    REVERSE_DIAGONAL: 14,
    uX: (r) => xa[r],
    uY: (r) => wa[r],
    vX: (r) => ba[r],
    vY: (r) => Sa[r],
    inv: (r) => (r & 8 ? r & 15 : -r & 7),
    add: (r, e) => ax[r][e],
    sub: (r, e) => ax[r][Rt.inv(e)],
    rotate180: (r) => r ^ 4,
    isVertical: (r) => (r & 3) === 2,
    byDirection: (r, e) =>
      Math.abs(r) * 2 <= Math.abs(e)
        ? e >= 0
          ? Rt.S
          : Rt.N
        : Math.abs(e) * 2 <= Math.abs(r)
        ? r > 0
          ? Rt.E
          : Rt.W
        : e > 0
        ? r > 0
          ? Rt.SE
          : Rt.SW
        : r > 0
        ? Rt.NE
        : Rt.NW,
    matrixAppendRotationInv: (r, e, t = 0, n = 0) => {
      const i = zB[Rt.inv(e)];
      (i.tx = t), (i.ty = n), r.append(i);
    },
  },
  WB = () => {};
function Lu(r) {
  return (
    (r += r === 0 ? 1 : 0),
    --r,
    (r |= r >>> 1),
    (r |= r >>> 2),
    (r |= r >>> 4),
    (r |= r >>> 8),
    (r |= r >>> 16),
    r + 1
  );
}
function ZT(r) {
  return !(r & (r - 1)) && !!r;
}
function lx(r) {
  const e = {};
  for (const t in r) r[t] !== void 0 && (e[t] = r[t]);
  return e;
}
var AX = Object.defineProperty,
  QT = Object.getOwnPropertySymbols,
  PX = Object.prototype.hasOwnProperty,
  CX = Object.prototype.propertyIsEnumerable,
  JT = (r, e, t) =>
    e in r
      ? AX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ek = (r, e) => {
    for (var t in e || (e = {})) PX.call(e, t) && JT(r, t, e[t]);
    if (QT) for (var t of QT(e)) CX.call(e, t) && JT(r, t, e[t]);
    return r;
  };
const tk = Object.create(null);
function RX(r) {
  const e = tk[r];
  return e === void 0 && (tk[r] = Nt("resource")), e;
}
const HB = class VB extends si {
  constructor(e = {}) {
    var t, n, i, s, o, a, l;
    super(),
      (this._resourceType = "textureSampler"),
      (this._touched = 0),
      (this._maxAnisotropy = 1),
      (this.destroyed = !1),
      (e = ek(ek({}, VB.defaultOptions), e)),
      (this.addressMode = e.addressMode),
      (this.addressModeU =
        (t = e.addressModeU) != null ? t : this.addressModeU),
      (this.addressModeV =
        (n = e.addressModeV) != null ? n : this.addressModeV),
      (this.addressModeW =
        (i = e.addressModeW) != null ? i : this.addressModeW),
      (this.scaleMode = e.scaleMode),
      (this.magFilter = (s = e.magFilter) != null ? s : this.magFilter),
      (this.minFilter = (o = e.minFilter) != null ? o : this.minFilter),
      (this.mipmapFilter =
        (a = e.mipmapFilter) != null ? a : this.mipmapFilter),
      (this.lodMinClamp = e.lodMinClamp),
      (this.lodMaxClamp = e.lodMaxClamp),
      (this.compare = e.compare),
      (this.maxAnisotropy = (l = e.maxAnisotropy) != null ? l : 1);
  }
  set addressMode(e) {
    (this.addressModeU = e), (this.addressModeV = e), (this.addressModeW = e);
  }
  get addressMode() {
    return this.addressModeU;
  }
  set wrapMode(e) {
    Le(Ge, "TextureStyle.wrapMode is now TextureStyle.addressMode"),
      (this.addressMode = e);
  }
  get wrapMode() {
    return this.addressMode;
  }
  set scaleMode(e) {
    (this.magFilter = e), (this.minFilter = e), (this.mipmapFilter = e);
  }
  get scaleMode() {
    return this.magFilter;
  }
  set maxAnisotropy(e) {
    (this._maxAnisotropy = Math.min(e, 16)),
      this._maxAnisotropy > 1 && (this.scaleMode = "linear");
  }
  get maxAnisotropy() {
    return this._maxAnisotropy;
  }
  get _resourceId() {
    return this._sharedResourceId || this._generateResourceId();
  }
  update() {
    this.emit("change", this), (this._sharedResourceId = null);
  }
  _generateResourceId() {
    const e = `${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;
    return (this._sharedResourceId = RX(e)), this._resourceId;
  }
  destroy() {
    (this.destroyed = !0),
      this.emit("destroy", this),
      this.emit("change", this),
      this.removeAllListeners();
  }
};
HB.defaultOptions = { addressMode: "clamp-to-edge", scaleMode: "linear" };
let DX = HB;
var MX = Object.defineProperty,
  rk = Object.getOwnPropertySymbols,
  BX = Object.prototype.hasOwnProperty,
  OX = Object.prototype.propertyIsEnumerable,
  nk = (r, e, t) =>
    e in r
      ? MX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ik = (r, e) => {
    for (var t in e || (e = {})) BX.call(e, t) && nk(r, t, e[t]);
    if (rk) for (var t of rk(e)) OX.call(e, t) && nk(r, t, e[t]);
    return r;
  };
const XB = class YB extends si {
  constructor(e = {}) {
    var t, n, i;
    super(),
      (this.options = e),
      (this.uid = Nt("textureSource")),
      (this._resourceType = "textureSource"),
      (this._resourceId = Nt("resource")),
      (this.uploadMethodId = "unknown"),
      (this._resolution = 1),
      (this.pixelWidth = 1),
      (this.pixelHeight = 1),
      (this.width = 1),
      (this.height = 1),
      (this.sampleCount = 1),
      (this.mipLevelCount = 1),
      (this.autoGenerateMipmaps = !1),
      (this.format = "rgba8unorm"),
      (this.dimension = "2d"),
      (this.antialias = !1),
      (this._touched = 0),
      (this._batchTick = -1),
      (this._textureBindLocation = -1),
      (e = ik(ik({}, YB.defaultOptions), e)),
      (this.label = (t = e.label) != null ? t : ""),
      (this.resource = e.resource),
      (this.autoGarbageCollect = e.autoGarbageCollect),
      (this._resolution = e.resolution),
      e.width
        ? (this.pixelWidth = e.width * this._resolution)
        : (this.pixelWidth =
            this.resource && (n = this.resourceWidth) != null ? n : 1),
      e.height
        ? (this.pixelHeight = e.height * this._resolution)
        : (this.pixelHeight =
            this.resource && (i = this.resourceHeight) != null ? i : 1),
      (this.width = this.pixelWidth / this._resolution),
      (this.height = this.pixelHeight / this._resolution),
      (this.format = e.format),
      (this.dimension = e.dimensions),
      (this.mipLevelCount = e.mipLevelCount),
      (this.autoGenerateMipmaps = e.autoGenerateMipmaps),
      (this.sampleCount = e.sampleCount),
      (this.antialias = e.antialias),
      (this.alphaMode = e.alphaMode),
      (this.style = new DX(lx(e))),
      (this.destroyed = !1),
      this._refreshPOT();
  }
  get source() {
    return this;
  }
  get style() {
    return this._style;
  }
  set style(e) {
    var t, n;
    this.style !== e &&
      ((t = this._style) == null || t.off("change", this._onStyleChange, this),
      (this._style = e),
      (n = this._style) == null || n.on("change", this._onStyleChange, this),
      this._onStyleChange());
  }
  get addressMode() {
    return this._style.addressMode;
  }
  set addressMode(e) {
    this._style.addressMode = e;
  }
  get repeatMode() {
    return this._style.addressMode;
  }
  set repeatMode(e) {
    this._style.addressMode = e;
  }
  get magFilter() {
    return this._style.magFilter;
  }
  set magFilter(e) {
    this._style.magFilter = e;
  }
  get minFilter() {
    return this._style.minFilter;
  }
  set minFilter(e) {
    this._style.minFilter = e;
  }
  get mipmapFilter() {
    return this._style.mipmapFilter;
  }
  set mipmapFilter(e) {
    this._style.mipmapFilter = e;
  }
  get lodMinClamp() {
    return this._style.lodMinClamp;
  }
  set lodMinClamp(e) {
    this._style.lodMinClamp = e;
  }
  get lodMaxClamp() {
    return this._style.lodMaxClamp;
  }
  set lodMaxClamp(e) {
    this._style.lodMaxClamp = e;
  }
  _onStyleChange() {
    this.emit("styleChange", this);
  }
  update() {
    if (this.resource) {
      const e = this._resolution;
      if (this.resize(this.resourceWidth / e, this.resourceHeight / e)) return;
    }
    this.emit("update", this);
  }
  destroy() {
    (this.destroyed = !0),
      this.emit("destroy", this),
      this.emit("change", this),
      this._style && (this._style.destroy(), (this._style = null)),
      (this.uploadMethodId = null),
      (this.resource = null),
      this.removeAllListeners();
  }
  unload() {
    (this._resourceId = Nt("resource")),
      this.emit("change", this),
      this.emit("unload", this);
  }
  get resourceWidth() {
    const { resource: e } = this;
    return e.naturalWidth || e.videoWidth || e.displayWidth || e.width;
  }
  get resourceHeight() {
    const { resource: e } = this;
    return e.naturalHeight || e.videoHeight || e.displayHeight || e.height;
  }
  get resolution() {
    return this._resolution;
  }
  set resolution(e) {
    this._resolution !== e &&
      ((this._resolution = e),
      (this.width = this.pixelWidth / e),
      (this.height = this.pixelHeight / e));
  }
  resize(e, t, n) {
    (n = n || this._resolution), (e = e || this.width), (t = t || this.height);
    const i = Math.round(e * n),
      s = Math.round(t * n);
    return (
      (this.width = i / n),
      (this.height = s / n),
      (this._resolution = n),
      this.pixelWidth === i && this.pixelHeight === s
        ? !1
        : (this._refreshPOT(),
          (this.pixelWidth = i),
          (this.pixelHeight = s),
          this.emit("resize", this),
          (this._resourceId = Nt("resource")),
          this.emit("change", this),
          !0)
    );
  }
  updateMipmaps() {
    this.autoGenerateMipmaps &&
      this.mipLevelCount > 1 &&
      this.emit("updateMipmaps", this);
  }
  set wrapMode(e) {
    this._style.wrapMode = e;
  }
  get wrapMode() {
    return this._style.wrapMode;
  }
  set scaleMode(e) {
    this._style.scaleMode = e;
  }
  get scaleMode() {
    return this._style.scaleMode;
  }
  _refreshPOT() {
    this.isPowerOfTwo = ZT(this.pixelWidth) && ZT(this.pixelHeight);
  }
  static test(e) {
    throw new Error("Unimplemented");
  }
};
XB.defaultOptions = {
  resolution: 1,
  format: "bgra8unorm",
  alphaMode: "premultiply-alpha-on-upload",
  dimensions: "2d",
  mipLevelCount: 1,
  autoGenerateMipmaps: !1,
  sampleCount: 1,
  antialias: !1,
  autoGarbageCollect: !1,
};
let br = XB;
var IX = Object.defineProperty,
  FX = Object.defineProperties,
  NX = Object.getOwnPropertyDescriptors,
  sk = Object.getOwnPropertySymbols,
  LX = Object.prototype.hasOwnProperty,
  UX = Object.prototype.propertyIsEnumerable,
  ok = (r, e, t) =>
    e in r
      ? IX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  GX = (r, e) => {
    for (var t in e || (e = {})) LX.call(e, t) && ok(r, t, e[t]);
    if (sk) for (var t of sk(e)) UX.call(e, t) && ok(r, t, e[t]);
    return r;
  },
  jX = (r, e) => FX(r, NX(e));
class Lb extends br {
  constructor(e) {
    const t = e.resource || new Float32Array(e.width * e.height * 4);
    let n = e.format;
    n ||
      (t instanceof Float32Array
        ? (n = "rgba32float")
        : t instanceof Int32Array || t instanceof Uint32Array
        ? (n = "rgba32uint")
        : t instanceof Int16Array || t instanceof Uint16Array
        ? (n = "rgba16uint")
        : (t instanceof Int8Array, (n = "bgra8unorm"))),
      super(jX(GX({}, e), { resource: t, format: n })),
      (this.uploadMethodId = "buffer");
  }
  static test(e) {
    return (
      e instanceof Int8Array ||
      e instanceof Uint8Array ||
      e instanceof Uint8ClampedArray ||
      e instanceof Int16Array ||
      e instanceof Uint16Array ||
      e instanceof Int32Array ||
      e instanceof Uint32Array ||
      e instanceof Float32Array
    );
  }
}
Lb.extension = W.TextureSource;
const ak = new we();
class KB {
  constructor(e, t) {
    (this.mapCoord = new we()),
      (this.uClampFrame = new Float32Array(4)),
      (this.uClampOffset = new Float32Array(2)),
      (this._textureID = -1),
      (this._updateID = 0),
      (this.clampOffset = 0),
      typeof t > "u"
        ? (this.clampMargin = e.width < 10 ? 0 : 0.5)
        : (this.clampMargin = t),
      (this.isSimple = !1),
      (this.texture = e);
  }
  get texture() {
    return this._texture;
  }
  set texture(e) {
    var t;
    this.texture !== e &&
      ((t = this._texture) == null ||
        t.removeListener("update", this.update, this),
      (this._texture = e),
      this._texture.addListener("update", this.update, this),
      this.update());
  }
  multiplyUvs(e, t) {
    t === void 0 && (t = e);
    const n = this.mapCoord;
    for (let i = 0; i < e.length; i += 2) {
      const s = e[i],
        o = e[i + 1];
      (t[i] = s * n.a + o * n.c + n.tx), (t[i + 1] = s * n.b + o * n.d + n.ty);
    }
    return t;
  }
  update() {
    const e = this._texture;
    this._updateID++;
    const t = e.uvs;
    this.mapCoord.set(
      t.x1 - t.x0,
      t.y1 - t.y0,
      t.x3 - t.x0,
      t.y3 - t.y0,
      t.x0,
      t.y0
    );
    const n = e.orig,
      i = e.trim;
    i &&
      (ak.set(
        n.width / i.width,
        0,
        0,
        n.height / i.height,
        -i.x / i.width,
        -i.y / i.height
      ),
      this.mapCoord.append(ak));
    const s = e.source,
      o = this.uClampFrame,
      a = this.clampMargin / s._resolution,
      l = this.clampOffset;
    return (
      (o[0] = (e.frame.x + a + l) / s.width),
      (o[1] = (e.frame.y + a + l) / s.height),
      (o[2] = (e.frame.x + e.frame.width - a + l) / s.width),
      (o[3] = (e.frame.y + e.frame.height - a + l) / s.height),
      (this.uClampOffset[0] = l / s.pixelWidth),
      (this.uClampOffset[1] = l / s.pixelHeight),
      (this.isSimple =
        e.frame.width === s.width &&
        e.frame.height === s.height &&
        e.rotate === 0),
      !0
    );
  }
}
class fe extends si {
  constructor({
    source: e,
    label: t,
    frame: n,
    orig: i,
    trim: s,
    defaultAnchor: o,
    defaultBorders: a,
    rotate: l,
    dynamic: u,
  } = {}) {
    var c;
    if (
      (super(),
      (this.uid = Nt("texture")),
      (this.uvs = { x0: 0, y0: 0, x1: 0, y1: 0, x2: 0, y2: 0, x3: 0, y3: 0 }),
      (this.frame = new dt()),
      (this.noFrame = !1),
      (this.dynamic = !1),
      (this.isTexture = !0),
      (this.label = t),
      (this.source =
        (c = e == null ? void 0 : e.source) != null ? c : new br()),
      (this.noFrame = !n),
      n)
    )
      this.frame.copyFrom(n);
    else {
      const { width: h, height: d } = this._source;
      (this.frame.width = h), (this.frame.height = d);
    }
    (this.orig = i || this.frame),
      (this.trim = s),
      (this.rotate = l ?? 0),
      (this.defaultAnchor = o),
      (this.defaultBorders = a),
      (this.destroyed = !1),
      (this.dynamic = u || !1),
      this.updateUvs();
  }
  set source(e) {
    this._source && this._source.off("resize", this.update, this),
      (this._source = e),
      e.on("resize", this.update, this),
      this.emit("update", this);
  }
  get source() {
    return this._source;
  }
  get textureMatrix() {
    return (
      this._textureMatrix || (this._textureMatrix = new KB(this)),
      this._textureMatrix
    );
  }
  get width() {
    return this.orig.width;
  }
  get height() {
    return this.orig.height;
  }
  updateUvs() {
    const { uvs: e, frame: t } = this,
      { width: n, height: i } = this._source,
      s = t.x / n,
      o = t.y / i,
      a = t.width / n,
      l = t.height / i;
    let u = this.rotate;
    if (u) {
      const c = a / 2,
        h = l / 2,
        d = s + c,
        f = o + h;
      (u = Rt.add(u, Rt.NW)),
        (e.x0 = d + c * Rt.uX(u)),
        (e.y0 = f + h * Rt.uY(u)),
        (u = Rt.add(u, 2)),
        (e.x1 = d + c * Rt.uX(u)),
        (e.y1 = f + h * Rt.uY(u)),
        (u = Rt.add(u, 2)),
        (e.x2 = d + c * Rt.uX(u)),
        (e.y2 = f + h * Rt.uY(u)),
        (u = Rt.add(u, 2)),
        (e.x3 = d + c * Rt.uX(u)),
        (e.y3 = f + h * Rt.uY(u));
    } else
      (e.x0 = s),
        (e.y0 = o),
        (e.x1 = s + a),
        (e.y1 = o),
        (e.x2 = s + a),
        (e.y2 = o + l),
        (e.x3 = s),
        (e.y3 = o + l);
  }
  destroy(e = !1) {
    this._source && e && (this._source.destroy(), (this._source = null)),
      (this._textureMatrix = null),
      (this.destroyed = !0),
      this.emit("destroy", this),
      this.removeAllListeners();
  }
  update() {
    this.noFrame &&
      ((this.frame.width = this._source.width),
      (this.frame.height = this._source.height)),
      this.updateUvs(),
      this.emit("update", this);
  }
  get baseTexture() {
    return Le(Ge, "Texture.baseTexture is now Texture.source"), this._source;
  }
}
fe.EMPTY = new fe({ label: "EMPTY", source: new br({ label: "EMPTY" }) });
fe.EMPTY.destroy = WB;
fe.WHITE = new fe({
  source: new Lb({
    resource: new Uint8Array([255, 255, 255, 255]),
    width: 1,
    height: 1,
    alphaMode: "premultiply-alpha-on-upload",
    label: "WHITE",
  }),
  label: "WHITE",
});
fe.WHITE.destroy = WB;
const qB = class Gc {
  constructor(e, t) {
    (this.linkedSheets = []),
      (this._texture = e instanceof fe ? e : null),
      (this.textureSource = e.source),
      (this.textures = {}),
      (this.animations = {}),
      (this.data = t);
    const n = parseFloat(t.meta.scale);
    n
      ? ((this.resolution = n), (e.source.resolution = this.resolution))
      : (this.resolution = e.source._resolution),
      (this._frames = this.data.frames),
      (this._frameKeys = Object.keys(this._frames)),
      (this._batchIndex = 0),
      (this._callback = null);
  }
  parse() {
    return new Promise((e) => {
      (this._callback = e),
        (this._batchIndex = 0),
        this._frameKeys.length <= Gc.BATCH_SIZE
          ? (this._processFrames(0),
            this._processAnimations(),
            this._parseComplete())
          : this._nextBatch();
    });
  }
  _processFrames(e) {
    let t = e;
    const n = Gc.BATCH_SIZE;
    for (; t - e < n && t < this._frameKeys.length; ) {
      const i = this._frameKeys[t],
        s = this._frames[i],
        o = s.frame;
      if (o) {
        let a = null,
          l = null;
        const u = s.trimmed !== !1 && s.sourceSize ? s.sourceSize : s.frame,
          c = new dt(
            0,
            0,
            Math.floor(u.w) / this.resolution,
            Math.floor(u.h) / this.resolution
          );
        s.rotated
          ? (a = new dt(
              Math.floor(o.x) / this.resolution,
              Math.floor(o.y) / this.resolution,
              Math.floor(o.h) / this.resolution,
              Math.floor(o.w) / this.resolution
            ))
          : (a = new dt(
              Math.floor(o.x) / this.resolution,
              Math.floor(o.y) / this.resolution,
              Math.floor(o.w) / this.resolution,
              Math.floor(o.h) / this.resolution
            )),
          s.trimmed !== !1 &&
            s.spriteSourceSize &&
            (l = new dt(
              Math.floor(s.spriteSourceSize.x) / this.resolution,
              Math.floor(s.spriteSourceSize.y) / this.resolution,
              Math.floor(o.w) / this.resolution,
              Math.floor(o.h) / this.resolution
            )),
          (this.textures[i] = new fe({
            source: this.textureSource,
            frame: a,
            orig: c,
            trim: l,
            rotate: s.rotated ? 2 : 0,
            defaultAnchor: s.anchor,
            defaultBorders: s.borders,
            label: i.toString(),
          }));
      }
      t++;
    }
  }
  _processAnimations() {
    const e = this.data.animations || {};
    for (const t in e) {
      this.animations[t] = [];
      for (let n = 0; n < e[t].length; n++) {
        const i = e[t][n];
        this.animations[t].push(this.textures[i]);
      }
    }
  }
  _parseComplete() {
    const e = this._callback;
    (this._callback = null),
      (this._batchIndex = 0),
      e.call(this, this.textures);
  }
  _nextBatch() {
    this._processFrames(this._batchIndex * Gc.BATCH_SIZE),
      this._batchIndex++,
      setTimeout(() => {
        this._batchIndex * Gc.BATCH_SIZE < this._frameKeys.length
          ? this._nextBatch()
          : (this._processAnimations(), this._parseComplete());
      }, 0);
  }
  destroy(e = !1) {
    var t;
    for (const n in this.textures) this.textures[n].destroy();
    (this._frames = null),
      (this._frameKeys = null),
      (this.data = null),
      (this.textures = null),
      e &&
        ((t = this._texture) == null || t.destroy(),
        this.textureSource.destroy()),
      (this._texture = null),
      (this.textureSource = null),
      (this.linkedSheets = []);
  }
};
qB.BATCH_SIZE = 1e3;
let lk = qB;
const $X = [
  "jpg",
  "png",
  "jpeg",
  "avif",
  "webp",
  "basis",
  "etc2",
  "bc7",
  "bc6h",
  "bc5",
  "bc4",
  "bc3",
  "bc2",
  "bc1",
  "eac",
  "astc",
];
function ZB(r, e, t) {
  const n = {};
  if (
    (r.forEach((i) => {
      n[i] = e;
    }),
    Object.keys(e.textures).forEach((i) => {
      n[i] = e.textures[i];
    }),
    !t)
  ) {
    const i = Zn.dirname(r[0]);
    e.linkedSheets.forEach((s, o) => {
      const a = ZB([`${i}/${e.data.meta.related_multi_packs[o]}`], s, !0);
      Object.assign(n, a);
    });
  }
  return n;
}
const zX = {
  extension: W.Asset,
  cache: {
    test: (r) => r instanceof lk,
    getCacheableAssets: (r, e) => ZB(r, e, !1),
  },
  resolver: {
    extension: { type: W.ResolveParser, name: "resolveSpritesheet" },
    test: (r) => {
      const t = r.split("?")[0].split("."),
        n = t.pop(),
        i = t.pop();
      return n === "json" && $X.includes(i);
    },
    parse: (r) => {
      var e, t;
      const n = r.split(".");
      return {
        resolution: parseFloat(
          (t = (e = xl.RETINA_PREFIX.exec(r)) == null ? void 0 : e[1]) != null
            ? t
            : "1"
        ),
        format: n[n.length - 2],
        src: r,
      };
    },
  },
  loader: {
    name: "spritesheetLoader",
    extension: {
      type: W.LoadParser,
      priority: Bi.Normal,
      name: "spritesheetLoader",
    },
    async testParse(r, e) {
      return Zn.extname(e.src).toLowerCase() === ".json" && !!r.frames;
    },
    async parse(r, e, t) {
      var n, i, s;
      const { texture: o, imageFilename: a } =
        (n = e == null ? void 0 : e.data) != null ? n : {};
      let l = Zn.dirname(e.src);
      l && l.lastIndexOf("/") !== l.length - 1 && (l += "/");
      let u;
      if (o instanceof fe) u = o;
      else {
        const d = ox(l + (a ?? r.meta.image), e.src);
        u = (await t.load([d]))[d];
      }
      const c = new lk(u.source, r);
      await c.parse();
      const h =
        (i = r == null ? void 0 : r.meta) == null
          ? void 0
          : i.related_multi_packs;
      if (Array.isArray(h)) {
        const d = [];
        for (const m of h) {
          if (typeof m != "string") continue;
          let g = l + m;
          ((s = e.data) != null && s.ignoreMultiPack) ||
            ((g = ox(g, e.src)),
            d.push(t.load({ src: g, data: { ignoreMultiPack: !0 } })));
        }
        const f = await Promise.all(d);
        (c.linkedSheets = f),
          f.forEach((m) => {
            m.linkedSheets = [c].concat(c.linkedSheets.filter((g) => g !== m));
          });
      }
      return c;
    },
    async unload(r, e, t) {
      await t.unload(r.textureSource._sourceOrigin), r.destroy(!1);
    },
  },
};
Ue.add(zX);
function cm(r, e, t, n) {
  const { width: i, height: s } = t.orig,
    o = t.trim;
  if (o) {
    const a = o.width,
      l = o.height;
    (r.minX = o.x - e._x * i - n),
      (r.maxX = r.minX + a),
      (r.minY = o.y - e._y * s - n),
      (r.maxY = r.minY + l);
  } else
    (r.minX = -e._x * i - n),
      (r.maxX = r.minX + i),
      (r.minY = -e._y * s - n),
      (r.maxY = r.minY + s);
}
var WX = Object.defineProperty,
  hm = Object.getOwnPropertySymbols,
  QB = Object.prototype.hasOwnProperty,
  JB = Object.prototype.propertyIsEnumerable,
  uk = (r, e, t) =>
    e in r
      ? WX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  HX = (r, e) => {
    for (var t in e || (e = {})) QB.call(e, t) && uk(r, t, e[t]);
    if (hm) for (var t of hm(e)) JB.call(e, t) && uk(r, t, e[t]);
    return r;
  },
  VX = (r, e) => {
    var t = {};
    for (var n in r) QB.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && hm)
      for (var n of hm(r)) e.indexOf(n) < 0 && JB.call(r, n) && (t[n] = r[n]);
    return t;
  };
class Dr extends ft {
  constructor(e = fe.EMPTY) {
    e instanceof fe && (e = { texture: e });
    const t = e,
      {
        texture: n = fe.EMPTY,
        anchor: i,
        roundPixels: s,
        width: o,
        height: a,
      } = t,
      l = VX(t, ["texture", "anchor", "roundPixels", "width", "height"]);
    super(HX({ label: "Sprite" }, l)),
      (this.renderPipeId = "sprite"),
      (this.batched = !0),
      (this._didSpriteUpdate = !1),
      (this._bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (this._sourceBounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (this._boundsDirty = !0),
      (this._sourceBoundsDirty = !0),
      (this._roundPixels = 0),
      (this._anchor = new Cr({
        _onUpdate: () => {
          this.onViewUpdate();
        },
      })),
      i
        ? (this.anchor = i)
        : n.defaultAnchor && (this.anchor = n.defaultAnchor),
      (this.texture = n),
      (this.allowChildren = !1),
      (this.roundPixels = s ?? !1),
      o && (this.width = o),
      a && (this.height = a);
  }
  static from(e, t = !1) {
    return e instanceof fe ? new Dr(e) : new Dr(fe.from(e, t));
  }
  set texture(e) {
    e || (e = fe.EMPTY);
    const t = this._texture;
    t !== e &&
      (t && t.dynamic && t.off("update", this.onViewUpdate, this),
      e.dynamic && e.on("update", this.onViewUpdate, this),
      (this._texture = e),
      this._width && this._setWidth(this._width, this._texture.orig.width),
      this._height && this._setHeight(this._height, this._texture.orig.height),
      this.onViewUpdate());
  }
  get texture() {
    return this._texture;
  }
  get bounds() {
    return (
      this._boundsDirty && (this._updateBounds(), (this._boundsDirty = !1)),
      this._bounds
    );
  }
  get sourceBounds() {
    return (
      this._sourceBoundsDirty &&
        (this._updateSourceBounds(), (this._sourceBoundsDirty = !1)),
      this._sourceBounds
    );
  }
  containsPoint(e) {
    const t = this.sourceBounds;
    return e.x >= t.maxX && e.x <= t.minX && e.y >= t.maxY && e.y <= t.minY;
  }
  addBounds(e) {
    const t = this._texture.trim ? this.sourceBounds : this.bounds;
    e.addFrame(t.minX, t.minY, t.maxX, t.maxY);
  }
  onViewUpdate() {
    if (
      ((this._didChangeId += 4096),
      (this._didSpriteUpdate = !0),
      (this._sourceBoundsDirty = this._boundsDirty = !0),
      this.didViewUpdate)
    )
      return;
    this.didViewUpdate = !0;
    const e = this.renderGroup || this.parentRenderGroup;
    e && e.onChildViewUpdate(this);
  }
  _updateBounds() {
    cm(this._bounds, this._anchor, this._texture, 0);
  }
  _updateSourceBounds() {
    const e = this._anchor,
      t = this._texture,
      n = this._sourceBounds,
      { width: i, height: s } = t.orig;
    (n.maxX = -e._x * i),
      (n.minX = n.maxX + i),
      (n.maxY = -e._y * s),
      (n.minY = n.maxY + s);
  }
  destroy(e = !1) {
    if (
      (super.destroy(e),
      typeof e == "boolean" ? e : e == null ? void 0 : e.texture)
    ) {
      const n =
        typeof e == "boolean" ? e : e == null ? void 0 : e.textureSource;
      this._texture.destroy(n);
    }
    (this._texture = null),
      (this._bounds = null),
      (this._sourceBounds = null),
      (this._anchor = null);
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(e) {
    typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e);
  }
  get roundPixels() {
    return !!this._roundPixels;
  }
  set roundPixels(e) {
    this._roundPixels = e ? 1 : 0;
  }
  get width() {
    return Math.abs(this.scale.x) * this._texture.orig.width;
  }
  set width(e) {
    this._setWidth(e, this._texture.orig.width), (this._width = e);
  }
  get height() {
    return Math.abs(this.scale.y) * this._texture.orig.height;
  }
  set height(e) {
    this._setHeight(e, this._texture.orig.height), (this._height = e);
  }
  getSize(e) {
    return (
      e || (e = {}),
      (e.width = Math.abs(this.scale.x) * this._texture.orig.width),
      (e.height = Math.abs(this.scale.y) * this._texture.orig.height),
      e
    );
  }
  setSize(e, t) {
    var n;
    let i, s;
    typeof e != "object"
      ? ((i = e), (s = t ?? e))
      : ((i = e.width), (s = (n = e.height) != null ? n : e.width)),
      i !== void 0 && this._setWidth(i, this._texture.orig.width),
      s !== void 0 && this._setHeight(s, this._texture.orig.height);
  }
}
const XX = new ei();
function eO(r, e, t) {
  const n = XX;
  (r.measurable = !0), Ib(r, t, n), e.addBoundsMask(n), (r.measurable = !1);
}
function tO(r, e, t) {
  const n = eo.get();
  r.measurable = !0;
  const i = Js.get().identity(),
    s = rO(r, t, i);
  Fb(r, n, s),
    (r.measurable = !1),
    e.addBoundsMask(n),
    Js.return(i),
    eo.return(n);
}
function rO(r, e, t) {
  return r
    ? (r !== e &&
        (rO(r.parent, e, t),
        r.updateLocalTransform(),
        t.append(r.localTransform)),
      t)
    : (Be("Mask bounds, renderable is not inside the root container"), t);
}
class nO {
  constructor(e) {
    (this.priority = 0),
      (this.pipe = "alphaMask"),
      e != null && e.mask && this.init(e.mask);
  }
  init(e) {
    (this.mask = e),
      (this.renderMaskToTexture = !(e instanceof Dr)),
      (this.mask.renderable = this.renderMaskToTexture),
      (this.mask.includeInBuild = !this.renderMaskToTexture),
      (this.mask.measurable = !1);
  }
  reset() {
    (this.mask.measurable = !0), (this.mask = null);
  }
  addBounds(e, t) {
    eO(this.mask, e, t);
  }
  addLocalBounds(e, t) {
    tO(this.mask, e, t);
  }
  containsPoint(e, t) {
    const n = this.mask;
    return t(n, e);
  }
  destroy() {
    this.reset();
  }
  static test(e) {
    return e instanceof Dr;
  }
}
nO.extension = W.MaskEffect;
class iO {
  constructor(e) {
    (this.priority = 0),
      (this.pipe = "colorMask"),
      e != null && e.mask && this.init(e.mask);
  }
  init(e) {
    this.mask = e;
  }
  destroy() {}
  static test(e) {
    return typeof e == "number";
  }
}
iO.extension = W.MaskEffect;
class sO {
  constructor(e) {
    (this.priority = 0),
      (this.pipe = "stencilMask"),
      e != null && e.mask && this.init(e.mask);
  }
  init(e) {
    (this.mask = e),
      (this.mask.includeInBuild = !1),
      (this.mask.measurable = !1);
  }
  reset() {
    (this.mask.measurable = !0),
      (this.mask.includeInBuild = !0),
      (this.mask = null);
  }
  addBounds(e, t) {
    eO(this.mask, e, t);
  }
  addLocalBounds(e, t) {
    tO(this.mask, e, t);
  }
  containsPoint(e, t) {
    const n = this.mask;
    return t(n, e);
  }
  destroy() {
    this.reset();
  }
  static test(e) {
    return e instanceof ft;
  }
}
sO.extension = W.MaskEffect;
class Uu extends br {
  constructor(e) {
    e.resource || (e.resource = nt.get().createCanvas()),
      e.width ||
        ((e.width = e.resource.width),
        e.autoDensity || (e.width /= e.resolution)),
      e.height ||
        ((e.height = e.resource.height),
        e.autoDensity || (e.height /= e.resolution)),
      super(e),
      (this.uploadMethodId = "image"),
      (this.autoDensity = e.autoDensity);
    const t = e.resource;
    (this.pixelWidth !== t.width || this.pixelWidth !== t.height) &&
      this.resizeCanvas(),
      (this.transparent = !!e.transparent);
  }
  resizeCanvas() {
    this.autoDensity &&
      ((this.resource.style.width = `${this.width}px`),
      (this.resource.style.height = `${this.height}px`)),
      (this.resource.width !== this.pixelWidth ||
        this.resource.height !== this.pixelHeight) &&
        ((this.resource.width = this.pixelWidth),
        (this.resource.height = this.pixelHeight));
  }
  resize(e = this.width, t = this.height, n = this._resolution) {
    const i = super.resize(e, t, n);
    return i && this.resizeCanvas(), i;
  }
  static test(e) {
    return (
      (globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement) ||
      (globalThis.OffscreenCanvas && e instanceof OffscreenCanvas)
    );
  }
}
Uu.extension = W.TextureSource;
class ec extends br {
  constructor(e) {
    if (
      e.resource &&
      globalThis.HTMLImageElement &&
      e.resource instanceof HTMLImageElement
    ) {
      const t = nt.get().createCanvas(e.resource.width, e.resource.height);
      t.getContext("2d").drawImage(e.resource, 0, 0),
        (e.resource = t),
        Be(
          "ImageSource: Image element passed, converting to canvas. Use CanvasSource instead."
        );
    }
    super(e), (this.uploadMethodId = "image"), (this.autoGarbageCollect = !0);
  }
  static test(e) {
    return (
      (globalThis.HTMLImageElement && e instanceof HTMLImageElement) ||
      (typeof ImageBitmap < "u" && e instanceof ImageBitmap)
    );
  }
}
ec.extension = W.TextureSource;
let sf;
async function oO() {
  return (
    sf ??
      (sf = (async () => {
        var r;
        const t = document.createElement("canvas").getContext("webgl");
        if (!t) return "premultiply-alpha-on-upload";
        const n = await new Promise((a) => {
          const l = document.createElement("video");
          (l.onloadeddata = () => a(l)),
            (l.onerror = () => a(null)),
            (l.autoplay = !1),
            (l.crossOrigin = "anonymous"),
            (l.preload = "auto"),
            (l.src =
              "data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM="),
            l.load();
        });
        if (!n) return "premultiply-alpha-on-upload";
        const i = t.createTexture();
        t.bindTexture(t.TEXTURE_2D, i);
        const s = t.createFramebuffer();
        t.bindFramebuffer(t.FRAMEBUFFER, s),
          t.framebufferTexture2D(
            t.FRAMEBUFFER,
            t.COLOR_ATTACHMENT0,
            t.TEXTURE_2D,
            i,
            0
          ),
          t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1),
          t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL, t.NONE),
          t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, t.RGBA, t.UNSIGNED_BYTE, n);
        const o = new Uint8Array(4);
        return (
          t.readPixels(0, 0, 1, 1, t.RGBA, t.UNSIGNED_BYTE, o),
          t.deleteFramebuffer(s),
          t.deleteTexture(i),
          (r = t.getExtension("WEBGL_lose_context")) == null || r.loseContext(),
          o[0] <= o[3] ? "premultiplied-alpha" : "premultiply-alpha-on-upload"
        );
      })()),
    sf
  );
}
var YX = Object.defineProperty,
  KX = Object.defineProperties,
  qX = Object.getOwnPropertyDescriptors,
  ck = Object.getOwnPropertySymbols,
  ZX = Object.prototype.hasOwnProperty,
  QX = Object.prototype.propertyIsEnumerable,
  hk = (r, e, t) =>
    e in r
      ? YX(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ux = (r, e) => {
    for (var t in e || (e = {})) ZX.call(e, t) && hk(r, t, e[t]);
    if (ck) for (var t of ck(e)) QX.call(e, t) && hk(r, t, e[t]);
    return r;
  },
  JX = (r, e) => KX(r, qX(e));
const Ag = class aO extends br {
  constructor(e) {
    var t;
    super(e),
      (this.isReady = !1),
      (this.uploadMethodId = "video"),
      (e = ux(ux({}, aO.defaultOptions), e)),
      (this._autoUpdate = !0),
      (this._isConnectedToTicker = !1),
      (this._updateFPS = e.updateFPS || 0),
      (this._msToNextUpdate = 0),
      (this.autoPlay = e.autoPlay !== !1),
      (this.alphaMode =
        (t = e.alphaMode) != null ? t : "premultiply-alpha-on-upload"),
      (this._videoFrameRequestCallback =
        this._videoFrameRequestCallback.bind(this)),
      (this._videoFrameRequestCallbackHandle = null),
      (this._load = null),
      (this._resolve = null),
      (this._reject = null),
      (this._onCanPlay = this._onCanPlay.bind(this)),
      (this._onCanPlayThrough = this._onCanPlayThrough.bind(this)),
      (this._onError = this._onError.bind(this)),
      (this._onPlayStart = this._onPlayStart.bind(this)),
      (this._onPlayStop = this._onPlayStop.bind(this)),
      (this._onSeeked = this._onSeeked.bind(this)),
      e.autoLoad !== !1 && this.load();
  }
  updateFrame() {
    if (!this.destroyed) {
      if (this._updateFPS) {
        const e = Lo.shared.elapsedMS * this.resource.playbackRate;
        this._msToNextUpdate = Math.floor(this._msToNextUpdate - e);
      }
      (!this._updateFPS || this._msToNextUpdate <= 0) &&
        (this._msToNextUpdate = this._updateFPS
          ? Math.floor(1e3 / this._updateFPS)
          : 0),
        this.isValid && this.update();
    }
  }
  _videoFrameRequestCallback() {
    this.updateFrame(),
      this.destroyed
        ? (this._videoFrameRequestCallbackHandle = null)
        : (this._videoFrameRequestCallbackHandle =
            this.resource.requestVideoFrameCallback(
              this._videoFrameRequestCallback
            ));
  }
  get isValid() {
    return !!this.resource.videoWidth && !!this.resource.videoHeight;
  }
  async load() {
    if (this._load) return this._load;
    const e = this.resource,
      t = this.options;
    return (
      (e.readyState === e.HAVE_ENOUGH_DATA ||
        e.readyState === e.HAVE_FUTURE_DATA) &&
        e.width &&
        e.height &&
        (e.complete = !0),
      e.addEventListener("play", this._onPlayStart),
      e.addEventListener("pause", this._onPlayStop),
      e.addEventListener("seeked", this._onSeeked),
      this._isSourceReady()
        ? this._mediaReady()
        : (t.preload || e.addEventListener("canplay", this._onCanPlay),
          e.addEventListener("canplaythrough", this._onCanPlayThrough),
          e.addEventListener("error", this._onError, !0)),
      (this.alphaMode = await oO()),
      (this._load = new Promise((n, i) => {
        this.isValid
          ? n(this)
          : ((this._resolve = n),
            (this._reject = i),
            t.preloadTimeoutMs !== void 0 &&
              (this._preloadTimeout = setTimeout(() => {
                this._onError(
                  new ErrorEvent(
                    `Preload exceeded timeout of ${t.preloadTimeoutMs}ms`
                  )
                );
              })),
            e.load());
      })),
      this._load
    );
  }
  _onError(e) {
    this.resource.removeEventListener("error", this._onError, !0),
      this.emit("error", e),
      this._reject &&
        (this._reject(e), (this._reject = null), (this._resolve = null));
  }
  _isSourcePlaying() {
    const e = this.resource;
    return !e.paused && !e.ended;
  }
  _isSourceReady() {
    return this.resource.readyState > 2;
  }
  _onPlayStart() {
    this.isValid || this._mediaReady(), this._configureAutoUpdate();
  }
  _onPlayStop() {
    this._configureAutoUpdate();
  }
  _onSeeked() {
    this._autoUpdate &&
      !this._isSourcePlaying() &&
      ((this._msToNextUpdate = 0),
      this.updateFrame(),
      (this._msToNextUpdate = 0));
  }
  _onCanPlay() {
    this.resource.removeEventListener("canplay", this._onCanPlay),
      this._mediaReady();
  }
  _onCanPlayThrough() {
    this.resource.removeEventListener("canplaythrough", this._onCanPlay),
      this._preloadTimeout &&
        (clearTimeout(this._preloadTimeout), (this._preloadTimeout = void 0)),
      this._mediaReady();
  }
  _mediaReady() {
    const e = this.resource;
    this.isValid &&
      ((this.isReady = !0), this.resize(e.videoWidth, e.videoHeight)),
      (this._msToNextUpdate = 0),
      this.updateFrame(),
      (this._msToNextUpdate = 0),
      this._resolve &&
        (this._resolve(this), (this._resolve = null), (this._reject = null)),
      this._isSourcePlaying()
        ? this._onPlayStart()
        : this.autoPlay && this.resource.play();
  }
  destroy() {
    this._configureAutoUpdate();
    const e = this.resource;
    e &&
      (e.removeEventListener("play", this._onPlayStart),
      e.removeEventListener("pause", this._onPlayStop),
      e.removeEventListener("seeked", this._onSeeked),
      e.removeEventListener("canplay", this._onCanPlay),
      e.removeEventListener("canplaythrough", this._onCanPlayThrough),
      e.removeEventListener("error", this._onError, !0),
      e.pause(),
      (e.src = ""),
      e.load()),
      super.destroy();
  }
  get autoUpdate() {
    return this._autoUpdate;
  }
  set autoUpdate(e) {
    e !== this._autoUpdate &&
      ((this._autoUpdate = e), this._configureAutoUpdate());
  }
  get updateFPS() {
    return this._updateFPS;
  }
  set updateFPS(e) {
    e !== this._updateFPS &&
      ((this._updateFPS = e), this._configureAutoUpdate());
  }
  _configureAutoUpdate() {
    this._autoUpdate && this._isSourcePlaying()
      ? !this._updateFPS && this.resource.requestVideoFrameCallback
        ? (this._isConnectedToTicker &&
            (Lo.shared.remove(this.updateFrame, this),
            (this._isConnectedToTicker = !1),
            (this._msToNextUpdate = 0)),
          this._videoFrameRequestCallbackHandle === null &&
            (this._videoFrameRequestCallbackHandle =
              this.resource.requestVideoFrameCallback(
                this._videoFrameRequestCallback
              )))
        : (this._videoFrameRequestCallbackHandle !== null &&
            (this.resource.cancelVideoFrameCallback(
              this._videoFrameRequestCallbackHandle
            ),
            (this._videoFrameRequestCallbackHandle = null)),
          this._isConnectedToTicker ||
            (Lo.shared.add(this.updateFrame, this),
            (this._isConnectedToTicker = !0),
            (this._msToNextUpdate = 0)))
      : (this._videoFrameRequestCallbackHandle !== null &&
          (this.resource.cancelVideoFrameCallback(
            this._videoFrameRequestCallbackHandle
          ),
          (this._videoFrameRequestCallbackHandle = null)),
        this._isConnectedToTicker &&
          (Lo.shared.remove(this.updateFrame, this),
          (this._isConnectedToTicker = !1),
          (this._msToNextUpdate = 0)));
  }
  static test(e) {
    return (
      (globalThis.HTMLVideoElement && e instanceof HTMLVideoElement) ||
      (globalThis.VideoFrame && e instanceof VideoFrame)
    );
  }
};
Ag.extension = W.TextureSource;
Ag.defaultOptions = JX(ux({}, br.defaultOptions), {
  autoLoad: !0,
  autoPlay: !0,
  updateFPS: 0,
  crossorigin: !0,
  loop: !1,
  muted: !0,
  playsinline: !0,
  preload: !1,
});
Ag.MIME_TYPES = { ogv: "video/ogg", mov: "video/quicktime", m4v: "video/mp4" };
let Jf = Ag;
class eY {
  constructor() {
    (this._parsers = []),
      (this._cache = new Map()),
      (this._cacheMap = new Map());
  }
  reset() {
    this._cacheMap.clear(), this._cache.clear();
  }
  has(e) {
    return this._cache.has(e);
  }
  get(e) {
    const t = this._cache.get(e);
    return t || Be(`[Assets] Asset id ${e} was not found in the Cache`), t;
  }
  set(e, t) {
    const n = Wi(e);
    let i;
    for (let l = 0; l < this.parsers.length; l++) {
      const u = this.parsers[l];
      if (u.test(t)) {
        i = u.getCacheableAssets(n, t);
        break;
      }
    }
    const s = new Map(Object.entries(i || {}));
    i ||
      n.forEach((l) => {
        s.set(l, t);
      });
    const o = [...s.keys()],
      a = { cacheKeys: o, keys: n };
    n.forEach((l) => {
      this._cacheMap.set(l, a);
    }),
      o.forEach((l) => {
        const u = i ? i[l] : t;
        this._cache.has(l) &&
          this._cache.get(l) !== u &&
          Be("[Cache] already has key:", l),
          this._cache.set(l, s.get(l));
      });
  }
  remove(e) {
    if (!this._cacheMap.has(e)) {
      Be(`[Assets] Asset id ${e} was not found in the Cache`);
      return;
    }
    const t = this._cacheMap.get(e);
    t.cacheKeys.forEach((i) => {
      this._cache.delete(i);
    }),
      t.keys.forEach((i) => {
        this._cacheMap.delete(i);
      });
  }
  get parsers() {
    return this._parsers;
  }
}
const ct = new eY(),
  cx = [];
Ue.handleByList(W.TextureSource, cx);
function lO(r = {}) {
  const e = r && r.resource,
    t = e ? r.resource : r,
    n = e ? r : { resource: r };
  for (let i = 0; i < cx.length; i++) {
    const s = cx[i];
    if (s.test(t)) return new s(n);
  }
  throw new Error(`Could not find a source type for resource: ${n.resource}`);
}
function tY(r = {}, e = !1) {
  const t = r && r.resource,
    n = t ? r.resource : r,
    i = t ? r : { resource: r };
  if (!e && ct.has(n)) return ct.get(n);
  const s = new fe({ source: lO(i) });
  return (
    s.on("destroy", () => {
      ct.has(n) && ct.remove(n);
    }),
    e || ct.set(n, s),
    s
  );
}
function rY(r, e = !1) {
  return typeof r == "string"
    ? ct.get(r)
    : r instanceof br
    ? new fe({ source: r })
    : tY(r, e);
}
fe.from = rY;
br.from = lO;
Ue.add(nO, iO, sO, Jf, ec, Uu, Lb);
var rt = ((r) => (
  (r[(r.MAP_READ = 1)] = "MAP_READ"),
  (r[(r.MAP_WRITE = 2)] = "MAP_WRITE"),
  (r[(r.COPY_SRC = 4)] = "COPY_SRC"),
  (r[(r.COPY_DST = 8)] = "COPY_DST"),
  (r[(r.INDEX = 16)] = "INDEX"),
  (r[(r.VERTEX = 32)] = "VERTEX"),
  (r[(r.UNIFORM = 64)] = "UNIFORM"),
  (r[(r.STORAGE = 128)] = "STORAGE"),
  (r[(r.INDIRECT = 256)] = "INDIRECT"),
  (r[(r.QUERY_RESOLVE = 512)] = "QUERY_RESOLVE"),
  (r[(r.STATIC = 1024)] = "STATIC"),
  r
))(rt || {});
let qi = class extends si {
  constructor(e) {
    let { data: t, size: n } = e;
    const { usage: i, label: s, shrinkToFit: o } = e;
    super(),
      (this.uid = Nt("buffer")),
      (this._resourceType = "buffer"),
      (this._resourceId = Nt("resource")),
      (this._touched = 0),
      (this._updateID = 1),
      (this.shrinkToFit = !0),
      (this.destroyed = !1),
      t instanceof Array && (t = new Float32Array(t)),
      (this._data = t),
      (n = n ?? (t == null ? void 0 : t.byteLength));
    const a = !!t;
    (this.descriptor = { size: n, usage: i, mappedAtCreation: a, label: s }),
      (this.shrinkToFit = o ?? !0);
  }
  get data() {
    return this._data;
  }
  set data(e) {
    this.setDataWithSize(e, e.length, !0);
  }
  get static() {
    return !!(this.descriptor.usage & rt.STATIC);
  }
  set static(e) {
    e
      ? (this.descriptor.usage |= rt.STATIC)
      : (this.descriptor.usage &= ~rt.STATIC);
  }
  setDataWithSize(e, t, n) {
    if (
      (this._updateID++,
      (this._updateSize = t * e.BYTES_PER_ELEMENT),
      this._data === e)
    ) {
      n && this.emit("update", this);
      return;
    }
    const i = this._data;
    if (((this._data = e), i.length !== e.length)) {
      !this.shrinkToFit && e.byteLength < i.byteLength
        ? n && this.emit("update", this)
        : ((this.descriptor.size = e.byteLength),
          (this._resourceId = Nt("resource")),
          this.emit("change", this));
      return;
    }
    n && this.emit("update", this);
  }
  update(e) {
    (this._updateSize = e ?? this._updateSize),
      this._updateID++,
      this.emit("update", this);
  }
  destroy() {
    (this.destroyed = !0),
      this.emit("destroy", this),
      this.emit("change", this),
      (this._data = null),
      (this.descriptor = null),
      this.removeAllListeners();
  }
};
function uO(r, e) {
  if (!(r instanceof qi)) {
    let t = e ? rt.INDEX : rt.VERTEX;
    r instanceof Array &&
      (e
        ? ((r = new Uint32Array(r)), (t = rt.INDEX | rt.COPY_DST))
        : ((r = new Float32Array(r)), (t = rt.VERTEX | rt.COPY_DST))),
      (r = new qi({
        data: r,
        label: e ? "index-mesh-buffer" : "vertex-mesh-buffer",
        usage: t,
      }));
  }
  return r;
}
function nY(r, e, t) {
  const n = r.getAttribute(e);
  if (!n) return (t.minX = 0), (t.minY = 0), (t.maxX = 0), (t.maxY = 0), t;
  const i = n.buffer.data;
  let s = 1 / 0,
    o = 1 / 0,
    a = -1 / 0,
    l = -1 / 0;
  const u = i.BYTES_PER_ELEMENT,
    c = (n.offset || 0) / u,
    h = (n.stride || 2 * 4) / u;
  for (let d = c; d < i.length; d += h) {
    const f = i[d],
      m = i[d + 1];
    f > a && (a = f), m > l && (l = m), f < s && (s = f), m < o && (o = m);
  }
  return (t.minX = s), (t.minY = o), (t.maxX = a), (t.maxY = l), t;
}
function iY(r) {
  return (
    (r instanceof qi || Array.isArray(r) || r.BYTES_PER_ELEMENT) &&
      (r = { buffer: r }),
    (r.buffer = uO(r.buffer, !1)),
    r
  );
}
class md extends si {
  constructor(e) {
    const { attributes: t, indexBuffer: n, topology: i } = e;
    super(),
      (this.uid = Nt("geometry")),
      (this._layoutKey = 0),
      (this.instanceCount = 1),
      (this._bounds = new ei()),
      (this._boundsDirty = !0),
      (this.attributes = t),
      (this.buffers = []),
      (this.instanceCount = e.instanceCount || 1);
    for (const s in t) {
      const o = (t[s] = iY(t[s]));
      this.buffers.indexOf(o.buffer) === -1 &&
        (this.buffers.push(o.buffer),
        o.buffer.on("update", this.onBufferUpdate, this),
        o.buffer.on("change", this.onBufferUpdate, this));
    }
    n && ((this.indexBuffer = uO(n, !0)), this.buffers.push(this.indexBuffer)),
      (this.topology = i || "triangle-list");
  }
  onBufferUpdate() {
    (this._boundsDirty = !0), this.emit("update", this);
  }
  getAttribute(e) {
    return this.attributes[e];
  }
  getIndex() {
    return this.indexBuffer;
  }
  getBuffer(e) {
    return this.getAttribute(e).buffer;
  }
  getSize() {
    for (const e in this.attributes) {
      const t = this.attributes[e];
      return t.buffer.data.length / (t.stride / 4 || t.size);
    }
    return 0;
  }
  get bounds() {
    return this._boundsDirty
      ? ((this._boundsDirty = !1), nY(this, "aPosition", this._bounds))
      : this._bounds;
  }
  destroy(e = !1) {
    this.emit("destroy", this),
      this.removeAllListeners(),
      e && this.buffers.forEach((t) => t.destroy()),
      (this.attributes = null),
      (this.buffers = null),
      (this.indexBuffer = null),
      (this._bounds = null);
  }
}
const sY = new Float32Array(1),
  oY = new Uint32Array(1);
class cO extends md {
  constructor() {
    const t = new qi({
        data: sY,
        label: "attribute-batch-buffer",
        usage: rt.VERTEX | rt.COPY_DST,
        shrinkToFit: !1,
      }),
      n = new qi({
        data: oY,
        label: "index-batch-buffer",
        usage: rt.INDEX | rt.COPY_DST,
        shrinkToFit: !1,
      }),
      i = 6 * 4;
    super({
      attributes: {
        aPosition: {
          buffer: t,
          format: "float32x2",
          stride: i,
          offset: 0,
          location: 1,
        },
        aUV: {
          buffer: t,
          format: "float32x2",
          stride: i,
          offset: 2 * 4,
          location: 3,
        },
        aColor: {
          buffer: t,
          format: "unorm8x4",
          stride: i,
          offset: 4 * 4,
          location: 0,
        },
        aTextureIdAndRound: {
          buffer: t,
          format: "uint16x2",
          stride: i,
          offset: 5 * 4,
          location: 2,
        },
      },
      indexBuffer: n,
    });
  }
}
class to {
  constructor(e) {
    (this.resources = Object.create(null)), (this._dirty = !0);
    let t = 0;
    for (const n in e) {
      const i = e[n];
      this.setResource(i, t++);
    }
    this._updateKey();
  }
  _updateKey() {
    if (!this._dirty) return;
    this._dirty = !1;
    const e = [];
    let t = 0;
    for (const n in this.resources) e[t++] = this.resources[n]._resourceId;
    this._key = e.join("|");
  }
  setResource(e, t) {
    var n, i;
    const s = this.resources[t];
    e !== s &&
      (s &&
        ((n = e.off) == null ||
          n.call(e, "change", this.onResourceChange, this)),
      (i = e.on) == null || i.call(e, "change", this.onResourceChange, this),
      (this.resources[t] = e),
      (this._dirty = !0));
  }
  getResource(e) {
    return this.resources[e];
  }
  _touch(e) {
    const t = this.resources;
    for (const n in t) t[n]._touched = e;
  }
  destroy() {
    var e;
    const t = this.resources;
    for (const n in t) {
      const i = t[n];
      (e = i.off) == null || e.call(i, "change", this.onResourceChange, this);
    }
    this.resources = null;
  }
  onResourceChange(e) {
    if (((this._dirty = !0), e.destroyed)) {
      const t = this.resources;
      for (const n in t) t[n] === e && (t[n] = null);
    } else this._updateKey();
  }
}
let vc;
function hO() {
  return (
    (!vc || (vc != null && vc.isContextLost())) &&
      (vc = nt.get().createCanvas().getContext("webgl", {})),
    vc
  );
}
const aY = [
  "precision mediump float;",
  "void main(void){",
  "float test = 0.1;",
  "%forloop%",
  "gl_FragColor = vec4(0.0);",
  "}",
].join(`
`);
function lY(r) {
  let e = "";
  for (let t = 0; t < r; ++t)
    t > 0 &&
      (e += `
else `),
      t < r - 1 && (e += `if(test == ${t}.0){}`);
  return e;
}
function uY(r, e) {
  if (r === 0)
    throw new Error(
      "Invalid value of `0` passed to `checkMaxIfStatementsInShader`"
    );
  const t = e.createShader(e.FRAGMENT_SHADER);
  for (;;) {
    const n = aY.replace(/%forloop%/gi, lY(r));
    if (
      (e.shaderSource(t, n),
      e.compileShader(t),
      !e.getShaderParameter(t, e.COMPILE_STATUS))
    )
      r = (r / 2) | 0;
    else break;
  }
  return r;
}
let Rl = null;
function As() {
  if (Rl) return Rl;
  const r = hO();
  return (Rl = r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)), (Rl = uY(Rl, r)), Rl;
}
const dO = {};
function Ub(r, e) {
  let t = 0;
  for (let n = 0; n < e; n++) t = (t * 31 + r[n].uid) >>> 0;
  return dO[t] || cY(r, t);
}
let C0 = 0;
function cY(r, e) {
  const t = {};
  let n = 0;
  C0 || (C0 = As());
  for (let s = 0; s < C0; s++) {
    const o = s < r.length ? r[s] : fe.EMPTY.source;
    (t[n++] = o.source), (t[n++] = o.style);
  }
  const i = new to(t);
  return (dO[e] = i), i;
}
class dk {
  constructor(e) {
    typeof e == "number"
      ? (this.rawBinaryData = new ArrayBuffer(e))
      : e instanceof Uint8Array
      ? (this.rawBinaryData = e.buffer)
      : (this.rawBinaryData = e),
      (this.uint32View = new Uint32Array(this.rawBinaryData)),
      (this.float32View = new Float32Array(this.rawBinaryData)),
      (this.size = this.rawBinaryData.byteLength);
  }
  get int8View() {
    return (
      this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)),
      this._int8View
    );
  }
  get uint8View() {
    return (
      this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)),
      this._uint8View
    );
  }
  get int16View() {
    return (
      this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)),
      this._int16View
    );
  }
  get int32View() {
    return (
      this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)),
      this._int32View
    );
  }
  get float64View() {
    return (
      this._float64Array ||
        (this._float64Array = new Float64Array(this.rawBinaryData)),
      this._float64Array
    );
  }
  get bigUint64View() {
    return (
      this._bigUint64Array ||
        (this._bigUint64Array = new BigUint64Array(this.rawBinaryData)),
      this._bigUint64Array
    );
  }
  view(e) {
    return this[`${e}View`];
  }
  destroy() {
    (this.rawBinaryData = null),
      (this._int8View = null),
      (this._uint8View = null),
      (this._int16View = null),
      (this.uint16View = null),
      (this._int32View = null),
      (this.uint32View = null),
      (this.float32View = null);
  }
  static sizeOf(e) {
    switch (e) {
      case "int8":
      case "uint8":
        return 1;
      case "int16":
      case "uint16":
        return 2;
      case "int32":
      case "uint32":
      case "float32":
        return 4;
      default:
        throw new Error(`${e} isn't a valid view type`);
    }
  }
}
function hx(r, e) {
  const t = (r.byteLength / 8) | 0,
    n = new Float64Array(r, 0, t);
  new Float64Array(e, 0, t).set(n);
  const s = r.byteLength - t * 8;
  if (s > 0) {
    const o = new Uint8Array(r, t * 8, s);
    new Uint8Array(e, t * 8, s).set(o);
  }
}
const hY = { normal: "normal-npm", add: "add-npm", screen: "screen-npm" };
var Mr = ((r) => (
  (r[(r.DISABLED = 0)] = "DISABLED"),
  (r[(r.RENDERING_MASK_ADD = 1)] = "RENDERING_MASK_ADD"),
  (r[(r.MASK_ACTIVE = 2)] = "MASK_ACTIVE"),
  (r[(r.RENDERING_MASK_REMOVE = 3)] = "RENDERING_MASK_REMOVE"),
  (r[(r.NONE = 4)] = "NONE"),
  r
))(Mr || {});
function dm(r, e) {
  return (e.alphaMode === "no-premultiply-alpha" && hY[r]) || r;
}
class fk {
  constructor() {
    (this.ids = Object.create(null)), (this.textures = []), (this.count = 0);
  }
  clear() {
    for (let e = 0; e < this.count; e++) {
      const t = this.textures[e];
      (this.textures[e] = null), (this.ids[t.uid] = null);
    }
    this.count = 0;
  }
}
var dY = Object.defineProperty,
  pk = Object.getOwnPropertySymbols,
  fY = Object.prototype.hasOwnProperty,
  pY = Object.prototype.propertyIsEnumerable,
  mk = (r, e, t) =>
    e in r
      ? dY(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  gk = (r, e) => {
    for (var t in e || (e = {})) fY.call(e, t) && mk(r, t, e[t]);
    if (pk) for (var t of pk(e)) pY.call(e, t) && mk(r, t, e[t]);
    return r;
  };
class _k {
  constructor() {
    (this.renderPipeId = "batch"),
      (this.action = "startBatch"),
      (this.start = 0),
      (this.size = 0),
      (this.blendMode = "normal"),
      (this.canBundle = !0);
  }
  destroy() {
    (this.textures = null),
      (this.gpuBindGroup = null),
      (this.bindGroup = null),
      (this.batcher = null);
  }
}
let xc = 0;
const fO = class pO {
  constructor(e = {}) {
    (this.uid = Nt("batcher")),
      (this.dirty = !0),
      (this.batchIndex = 0),
      (this.batches = []),
      (this._vertexSize = 6),
      (this._elements = []),
      (this._batchPool = []),
      (this._batchPoolIndex = 0),
      (this._textureBatchPool = []),
      (this._textureBatchPoolIndex = 0),
      (e = gk(gk({}, pO.defaultOptions), e));
    const { vertexSize: t, indexSize: n } = e;
    (this.attributeBuffer = new dk(t * this._vertexSize * 4)),
      (this.indexBuffer = new Uint16Array(n)),
      (this._maxTextures = As());
  }
  begin() {
    (this.batchIndex = 0),
      (this.elementSize = 0),
      (this.elementStart = 0),
      (this.indexSize = 0),
      (this.attributeSize = 0),
      (this._batchPoolIndex = 0),
      (this._textureBatchPoolIndex = 0),
      (this._batchIndexStart = 0),
      (this._batchIndexSize = 0),
      (this.dirty = !0);
  }
  add(e) {
    (this._elements[this.elementSize++] = e),
      (e.indexStart = this.indexSize),
      (e.location = this.attributeSize),
      (e.batcher = this),
      (this.indexSize += e.indexSize),
      (this.attributeSize += e.vertexSize * this._vertexSize);
  }
  checkAndUpdateTexture(e, t) {
    const n = e.batch.textures.ids[t._source.uid];
    return !n && n !== 0 ? !1 : ((e.textureId = n), (e.texture = t), !0);
  }
  updateElement(e) {
    (this.dirty = !0),
      e.packAttributes(
        this.attributeBuffer.float32View,
        this.attributeBuffer.uint32View,
        e.location,
        e.textureId
      );
  }
  break(e) {
    const t = this._elements;
    let n = this._textureBatchPool[this._textureBatchPoolIndex++] || new fk();
    if ((n.clear(), !t[this.elementStart])) return;
    const i = t[this.elementStart];
    let s = dm(i.blendMode, i.texture._source);
    this.attributeSize * 4 > this.attributeBuffer.size &&
      this._resizeAttributeBuffer(this.attributeSize * 4),
      this.indexSize > this.indexBuffer.length &&
        this._resizeIndexBuffer(this.indexSize);
    const o = this.attributeBuffer.float32View,
      a = this.attributeBuffer.uint32View,
      l = this.indexBuffer;
    let u = this._batchIndexSize,
      c = this._batchIndexStart,
      h = "startBatch",
      d = this._batchPool[this._batchPoolIndex++] || new _k();
    const f = this._maxTextures;
    for (let m = this.elementStart; m < this.elementSize; ++m) {
      const g = t[m];
      t[m] = null;
      const v = g.texture._source,
        w = dm(g.blendMode, v),
        x = s !== w;
      if (v._batchTick === xc && !x) {
        (g.textureId = v._textureBindLocation),
          (u += g.indexSize),
          g.packAttributes(o, a, g.location, g.textureId),
          g.packIndex(l, g.indexStart, g.location / this._vertexSize),
          (g.batch = d);
        continue;
      }
      (v._batchTick = xc),
        (n.count >= f || x) &&
          (this._finishBatch(d, c, u - c, n, s, e, h),
          (h = "renderBatch"),
          (c = u),
          (s = w),
          (n =
            this._textureBatchPool[this._textureBatchPoolIndex++] || new fk()),
          n.clear(),
          (d = this._batchPool[this._batchPoolIndex++] || new _k()),
          ++xc),
        (g.textureId = v._textureBindLocation = n.count),
        (n.ids[v.uid] = n.count),
        (n.textures[n.count++] = v),
        (g.batch = d),
        (u += g.indexSize),
        g.packAttributes(o, a, g.location, g.textureId),
        g.packIndex(l, g.indexStart, g.location / this._vertexSize);
    }
    n.count > 0 && (this._finishBatch(d, c, u - c, n, s, e, h), (c = u), ++xc),
      (this.elementStart = this.elementSize),
      (this._batchIndexStart = c),
      (this._batchIndexSize = u);
  }
  _finishBatch(e, t, n, i, s, o, a) {
    (e.gpuBindGroup = null),
      (e.action = a),
      (e.batcher = this),
      (e.textures = i),
      (e.blendMode = s),
      (e.start = t),
      (e.size = n),
      ++xc,
      o.add(e);
  }
  finish(e) {
    this.break(e);
  }
  ensureAttributeBuffer(e) {
    e * 4 <= this.attributeBuffer.size || this._resizeAttributeBuffer(e * 4);
  }
  ensureIndexBuffer(e) {
    e <= this.indexBuffer.length || this._resizeIndexBuffer(e);
  }
  _resizeAttributeBuffer(e) {
    const t = Math.max(e, this.attributeBuffer.size * 2),
      n = new dk(t);
    hx(this.attributeBuffer.rawBinaryData, n.rawBinaryData),
      (this.attributeBuffer = n);
  }
  _resizeIndexBuffer(e) {
    const t = this.indexBuffer;
    let n = Math.max(e, t.length * 1.5);
    n += n % 2;
    const i = n > 65535 ? new Uint32Array(n) : new Uint16Array(n);
    if (i.BYTES_PER_ELEMENT !== t.BYTES_PER_ELEMENT)
      for (let s = 0; s < t.length; s++) i[s] = t[s];
    else hx(t.buffer, i.buffer);
    this.indexBuffer = i;
  }
  destroy() {
    for (let e = 0; e < this.batches.length; e++) this.batches[e].destroy();
    this.batches = null;
    for (let e = 0; e < this._elements.length; e++)
      this._elements[e].batch = null;
    (this._elements = null),
      (this.indexBuffer = null),
      this.attributeBuffer.destroy(),
      (this.attributeBuffer = null);
  }
};
fO.defaultOptions = { vertexSize: 4, indexSize: 6 };
let mO = fO;
function mY(r, e, t, n, i, s, o, a = null) {
  let l = 0;
  (t *= e), (i *= s);
  const u = a.a,
    c = a.b,
    h = a.c,
    d = a.d,
    f = a.tx,
    m = a.ty;
  for (; l < o; ) {
    const g = r[t],
      _ = r[t + 1];
    (n[i] = u * g + h * _ + f),
      (n[i + 1] = c * g + d * _ + m),
      (i += s),
      (t += e),
      l++;
  }
}
function gY(r, e, t, n) {
  let i = 0;
  for (e *= t; i < n; ) (r[e] = 0), (r[e + 1] = 0), (e += t), i++;
}
function gO(r, e, t, n, i) {
  const s = e.a,
    o = e.b,
    a = e.c,
    l = e.d,
    u = e.tx,
    c = e.ty;
  (t = t || 0), (n = n || 2), (i = i || r.length / n - t);
  let h = t * n;
  for (let d = 0; d < i; d++) {
    const f = r[h],
      m = r[h + 1];
    (r[h] = s * f + a * m + u), (r[h + 1] = o * f + l * m + c), (h += n);
  }
}
function _Y(r, e) {
  if (r === 16777215 || !e) return e;
  if (e === 16777215 || !r) return r;
  const t = (r >> 16) & 255,
    n = (r >> 8) & 255,
    i = r & 255,
    s = (e >> 16) & 255,
    o = (e >> 8) & 255,
    a = e & 255,
    l = (t * s) / 255,
    u = (n * o) / 255,
    c = (i * a) / 255;
  return (l << 16) + (u << 8) + c;
}
class Gb {
  constructor() {
    (this.batcher = null),
      (this.batch = null),
      (this.applyTransform = !0),
      (this.roundPixels = 0);
  }
  get blendMode() {
    return this.applyTransform ? this.renderable.groupBlendMode : "normal";
  }
  packIndex(e, t, n) {
    const i = this.geometryData.indices;
    for (let s = 0; s < this.indexSize; s++)
      e[t++] = i[s + this.indexOffset] + n - this.vertexOffset;
  }
  packAttributes(e, t, n, i) {
    const s = this.geometryData,
      o = this.renderable,
      a = s.vertices,
      l = s.uvs,
      u = this.vertexOffset * 2,
      c = (this.vertexOffset + this.vertexSize) * 2,
      h = this.color,
      d = (h >> 16) | (h & 65280) | ((h & 255) << 16);
    if (this.applyTransform) {
      const f = _Y(d, o.groupColor) + ((this.alpha * o.groupAlpha * 255) << 24),
        m = o.groupTransform,
        g = (i << 16) | (this.roundPixels & 65535),
        _ = m.a,
        v = m.b,
        w = m.c,
        x = m.d,
        k = m.tx,
        C = m.ty;
      for (let F = u; F < c; F += 2) {
        const I = a[F],
          G = a[F + 1];
        (e[n] = _ * I + w * G + k),
          (e[n + 1] = v * I + x * G + C),
          (e[n + 2] = l[F]),
          (e[n + 3] = l[F + 1]),
          (t[n + 4] = f),
          (t[n + 5] = g),
          (n += 6);
      }
    } else {
      const f = d + ((this.alpha * 255) << 24);
      for (let m = u; m < c; m += 2)
        (e[n] = a[m]),
          (e[n + 1] = a[m + 1]),
          (e[n + 2] = l[m]),
          (e[n + 3] = l[m + 1]),
          (t[n + 4] = f),
          (t[n + 5] = i << 16),
          (n += 6);
    }
  }
  get vertSize() {
    return this.vertexSize;
  }
  copyTo(e) {
    (e.indexOffset = this.indexOffset),
      (e.indexSize = this.indexSize),
      (e.vertexOffset = this.vertexOffset),
      (e.vertexSize = this.vertexSize),
      (e.color = this.color),
      (e.alpha = this.alpha),
      (e.texture = this.texture),
      (e.geometryData = this.geometryData);
  }
  reset() {
    this.applyTransform = !0;
  }
}
var yY = Object.defineProperty,
  vY = Object.defineProperties,
  xY = Object.getOwnPropertyDescriptors,
  yk = Object.getOwnPropertySymbols,
  wY = Object.prototype.hasOwnProperty,
  bY = Object.prototype.propertyIsEnumerable,
  vk = (r, e, t) =>
    e in r
      ? yY(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  fm = (r, e) => {
    for (var t in e || (e = {})) wY.call(e, t) && vk(r, t, e[t]);
    if (yk) for (var t of yk(e)) bY.call(e, t) && vk(r, t, e[t]);
    return r;
  },
  pm = (r, e) => vY(r, xY(e));
const $h = {
    extension: { type: W.ShapeBuilder, name: "circle" },
    build(r, e) {
      let t, n, i, s, o, a;
      if (r.type === "circle") {
        const k = r;
        (t = k.x), (n = k.y), (o = a = k.radius), (i = s = 0);
      } else if (r.type === "ellipse") {
        const k = r;
        (t = k.x),
          (n = k.y),
          (o = k.halfWidth),
          (a = k.halfHeight),
          (i = s = 0);
      } else {
        const k = r,
          C = k.width / 2,
          F = k.height / 2;
        (t = k.x + C),
          (n = k.y + F),
          (o = a = Math.max(0, Math.min(k.radius, Math.min(C, F)))),
          (i = C - o),
          (s = F - a);
      }
      if (!(o >= 0 && a >= 0 && i >= 0 && s >= 0)) return e;
      const l = Math.ceil(2.3 * Math.sqrt(o + a)),
        u = l * 8 + (i ? 4 : 0) + (s ? 4 : 0);
      if (u === 0) return e;
      if (l === 0)
        return (
          (e[0] = e[6] = t + i),
          (e[1] = e[3] = n + s),
          (e[2] = e[4] = t - i),
          (e[5] = e[7] = n - s),
          e
        );
      let c = 0,
        h = l * 4 + (i ? 2 : 0) + 2,
        d = h,
        f = u,
        m = i + o,
        g = s,
        _ = t + m,
        v = t - m,
        w = n + g;
      if (((e[c++] = _), (e[c++] = w), (e[--h] = w), (e[--h] = v), s)) {
        const k = n - g;
        (e[d++] = v), (e[d++] = k), (e[--f] = k), (e[--f] = _);
      }
      for (let k = 1; k < l; k++) {
        const C = (Math.PI / 2) * (k / l),
          F = i + Math.cos(C) * o,
          I = s + Math.sin(C) * a,
          G = t + F,
          j = t - F,
          $ = n + I,
          H = n - I;
        (e[c++] = G),
          (e[c++] = $),
          (e[--h] = $),
          (e[--h] = j),
          (e[d++] = j),
          (e[d++] = H),
          (e[--f] = H),
          (e[--f] = G);
      }
      (m = i), (g = s + a), (_ = t + m), (v = t - m), (w = n + g);
      const x = n - g;
      return (
        (e[c++] = _),
        (e[c++] = w),
        (e[--f] = x),
        (e[--f] = _),
        i && ((e[c++] = v), (e[c++] = w), (e[--f] = x), (e[--f] = v)),
        e
      );
    },
    triangulate(r, e, t, n, i, s) {
      if (r.length === 0) return;
      let o = 0,
        a = 0;
      for (let c = 0; c < r.length; c += 2) (o += r[c]), (a += r[c + 1]);
      (o /= r.length / 2), (a /= r.length / 2);
      let l = n;
      (e[l * t] = o), (e[l * t + 1] = a);
      const u = l++;
      for (let c = 0; c < r.length; c += 2)
        (e[l * t] = r[c]),
          (e[l * t + 1] = r[c + 1]),
          c > 0 && ((i[s++] = l), (i[s++] = u), (i[s++] = l - 1)),
          l++;
      (i[s++] = u + 1), (i[s++] = u), (i[s++] = l - 1);
    },
  },
  SY = pm(fm({}, $h), {
    extension: pm(fm({}, $h.extension), { name: "ellipse" }),
  }),
  EY = pm(fm({}, $h), {
    extension: pm(fm({}, $h.extension), { name: "roundedRectangle" }),
  }),
  TY = 1e-4,
  xk = 1e-4;
function kY(r) {
  const e = r.length;
  if (e < 6) return 1;
  let t = 0;
  for (let n = 0, i = r[e - 2], s = r[e - 1]; n < e; n += 2) {
    const o = r[n],
      a = r[n + 1];
    (t += (o - i) * (a + s)), (i = o), (s = a);
  }
  return t < 0 ? -1 : 1;
}
function wk(r, e, t, n, i, s, o, a) {
  const l = r - t * i,
    u = e - n * i,
    c = r + t * s,
    h = e + n * s;
  let d, f;
  o ? ((d = n), (f = -t)) : ((d = -n), (f = t));
  const m = l + d,
    g = u + f,
    _ = c + d,
    v = h + f;
  return a.push(m, g), a.push(_, v), 2;
}
function ma(r, e, t, n, i, s, o, a) {
  const l = t - r,
    u = n - e;
  let c = Math.atan2(l, u),
    h = Math.atan2(i - r, s - e);
  a && c < h ? (c += Math.PI * 2) : !a && c > h && (h += Math.PI * 2);
  let d = c;
  const f = h - c,
    m = Math.abs(f),
    g = Math.sqrt(l * l + u * u),
    _ = (((15 * m * Math.sqrt(g)) / Math.PI) >> 0) + 1,
    v = f / _;
  if (((d += v), a)) {
    o.push(r, e), o.push(t, n);
    for (let w = 1, x = d; w < _; w++, x += v)
      o.push(r, e), o.push(r + Math.sin(x) * g, e + Math.cos(x) * g);
    o.push(r, e), o.push(i, s);
  } else {
    o.push(t, n), o.push(r, e);
    for (let w = 1, x = d; w < _; w++, x += v)
      o.push(r + Math.sin(x) * g, e + Math.cos(x) * g), o.push(r, e);
    o.push(i, s), o.push(r, e);
  }
  return _ * 2;
}
function AY(r, e, t, n, i, s, o, a, l) {
  const u = TY;
  if (r.length === 0) return;
  const c = e;
  let h = c.alignment;
  if (e.alignment !== 0.5) {
    let b = kY(r);
    h = (h - 0.5) * b + 0.5;
  }
  const d = new ht(r[0], r[1]),
    f = new ht(r[r.length - 2], r[r.length - 1]),
    m = n,
    g = Math.abs(d.x - f.x) < u && Math.abs(d.y - f.y) < u;
  if (m) {
    (r = r.slice()),
      g && (r.pop(), r.pop(), f.set(r[r.length - 2], r[r.length - 1]));
    const b = (d.x + f.x) * 0.5,
      N = (f.y + d.y) * 0.5;
    r.unshift(b, N), r.push(b, N);
  }
  const _ = i,
    v = r.length / 2;
  let w = r.length;
  const x = _.length / 2,
    k = c.width / 2,
    C = k * k,
    F = c.miterLimit * c.miterLimit;
  let I = r[0],
    G = r[1],
    j = r[2],
    $ = r[3],
    H = 0,
    Q = 0,
    O = -(G - $),
    y = I - j,
    T = 0,
    A = 0,
    P = Math.sqrt(O * O + y * y);
  (O /= P), (y /= P), (O *= k), (y *= k);
  const R = h,
    B = (1 - R) * 2,
    L = R * 2;
  m ||
    (c.cap === "round"
      ? (w +=
          ma(
            I - O * (B - L) * 0.5,
            G - y * (B - L) * 0.5,
            I - O * B,
            G - y * B,
            I + O * L,
            G + y * L,
            _,
            !0
          ) + 2)
      : c.cap === "square" && (w += wk(I, G, O, y, B, L, !0, _))),
    _.push(I - O * B, G - y * B),
    _.push(I + O * L, G + y * L);
  for (let b = 1; b < v - 1; ++b) {
    (I = r[(b - 1) * 2]),
      (G = r[(b - 1) * 2 + 1]),
      (j = r[b * 2]),
      ($ = r[b * 2 + 1]),
      (H = r[(b + 1) * 2]),
      (Q = r[(b + 1) * 2 + 1]),
      (O = -(G - $)),
      (y = I - j),
      (P = Math.sqrt(O * O + y * y)),
      (O /= P),
      (y /= P),
      (O *= k),
      (y *= k),
      (T = -($ - Q)),
      (A = j - H),
      (P = Math.sqrt(T * T + A * A)),
      (T /= P),
      (A /= P),
      (T *= k),
      (A *= k);
    const N = j - I,
      J = G - $,
      te = j - H,
      ne = Q - $,
      ke = N * te + J * ne,
      ye = J * te - ne * N,
      ve = ye < 0;
    if (Math.abs(ye) < 0.001 * Math.abs(ke)) {
      _.push(j - O * B, $ - y * B),
        _.push(j + O * L, $ + y * L),
        ke >= 0 &&
          (c.join === "round"
            ? (w +=
                ma(j, $, j - O * B, $ - y * B, j - T * B, $ - A * B, _, !1) + 4)
            : (w += 2),
          _.push(j - T * L, $ - A * L),
          _.push(j + T * B, $ + A * B));
      continue;
    }
    const Tt = (-O + I) * (-y + $) - (-O + j) * (-y + G),
      Oe = (-T + H) * (-A + $) - (-T + j) * (-A + Q),
      be = (N * Oe - te * Tt) / ye,
      mt = (ne * Tt - J * Oe) / ye,
      We = (be - j) * (be - j) + (mt - $) * (mt - $),
      He = j + (be - j) * B,
      gn = $ + (mt - $) * B,
      Xe = j - (be - j) * L,
      qe = $ - (mt - $) * L,
      mo = Math.min(N * N + J * J, te * te + ne * ne),
      it = ve ? B : L,
      tt = mo + it * it * C;
    We <= tt
      ? c.join === "bevel" || We / C > F
        ? (ve
            ? (_.push(He, gn),
              _.push(j + O * L, $ + y * L),
              _.push(He, gn),
              _.push(j + T * L, $ + A * L))
            : (_.push(j - O * B, $ - y * B),
              _.push(Xe, qe),
              _.push(j - T * B, $ - A * B),
              _.push(Xe, qe)),
          (w += 2))
        : c.join === "round"
        ? ve
          ? (_.push(He, gn),
            _.push(j + O * L, $ + y * L),
            (w +=
              ma(j, $, j + O * L, $ + y * L, j + T * L, $ + A * L, _, !0) + 4),
            _.push(He, gn),
            _.push(j + T * L, $ + A * L))
          : (_.push(j - O * B, $ - y * B),
            _.push(Xe, qe),
            (w +=
              ma(j, $, j - O * B, $ - y * B, j - T * B, $ - A * B, _, !1) + 4),
            _.push(j - T * B, $ - A * B),
            _.push(Xe, qe))
        : (_.push(He, gn), _.push(Xe, qe))
      : (_.push(j - O * B, $ - y * B),
        _.push(j + O * L, $ + y * L),
        c.join === "round"
          ? ve
            ? (w +=
                ma(j, $, j + O * L, $ + y * L, j + T * L, $ + A * L, _, !0) + 2)
            : (w +=
                ma(j, $, j - O * B, $ - y * B, j - T * B, $ - A * B, _, !1) + 2)
          : c.join === "miter" &&
            We / C <= F &&
            (ve
              ? (_.push(Xe, qe), _.push(Xe, qe))
              : (_.push(He, gn), _.push(He, gn)),
            (w += 2)),
        _.push(j - T * B, $ - A * B),
        _.push(j + T * L, $ + A * L),
        (w += 2));
  }
  (I = r[(v - 2) * 2]),
    (G = r[(v - 2) * 2 + 1]),
    (j = r[(v - 1) * 2]),
    ($ = r[(v - 1) * 2 + 1]),
    (O = -(G - $)),
    (y = I - j),
    (P = Math.sqrt(O * O + y * y)),
    (O /= P),
    (y /= P),
    (O *= k),
    (y *= k),
    _.push(j - O * B, $ - y * B),
    _.push(j + O * L, $ + y * L),
    m ||
      (c.cap === "round"
        ? (w +=
            ma(
              j - O * (B - L) * 0.5,
              $ - y * (B - L) * 0.5,
              j - O * B,
              $ - y * B,
              j + O * L,
              $ + y * L,
              _,
              !1
            ) + 2)
        : c.cap === "square" && (w += wk(j, $, O, y, B, L, !1, _)));
  const M = xk * xk;
  for (let b = x; b < w + x - 2; ++b)
    (I = _[b * 2]),
      (G = _[b * 2 + 1]),
      (j = _[(b + 1) * 2]),
      ($ = _[(b + 1) * 2 + 1]),
      (H = _[(b + 2) * 2]),
      (Q = _[(b + 2) * 2 + 1]),
      !(Math.abs(I * ($ - Q) + j * (Q - G) + H * (G - $)) < M) &&
        a.push(b, b + 1, b + 2);
}
var jb = { exports: {} };
jb.exports = Pg;
jb.exports.default = Pg;
function Pg(r, e, t) {
  t = t || 2;
  var n = e && e.length,
    i = n ? e[0] * t : r.length,
    s = _O(r, 0, i, t, !0),
    o = [];
  if (!s || s.next === s.prev) return o;
  var a, l, u, c, h, d, f;
  if ((n && (s = MY(r, e, s, t)), r.length > 80 * t)) {
    (a = u = r[0]), (l = c = r[1]);
    for (var m = t; m < i; m += t)
      (h = r[m]),
        (d = r[m + 1]),
        h < a && (a = h),
        d < l && (l = d),
        h > u && (u = h),
        d > c && (c = d);
    (f = Math.max(u - a, c - l)), (f = f !== 0 ? 32767 / f : 0);
  }
  return zh(s, o, t, a, l, f, 0), o;
}
function _O(r, e, t, n, i) {
  var s, o;
  if (i === px(r, e, t, n) > 0)
    for (s = e; s < t; s += n) o = bk(s, r[s], r[s + 1], o);
  else for (s = t - n; s >= e; s -= n) o = bk(s, r[s], r[s + 1], o);
  return o && Cg(o, o.next) && (Hh(o), (o = o.next)), o;
}
function al(r, e) {
  if (!r) return r;
  e || (e = r);
  var t = r,
    n;
  do
    if (
      ((n = !1), !t.steiner && (Cg(t, t.next) || Ft(t.prev, t, t.next) === 0))
    ) {
      if ((Hh(t), (t = e = t.prev), t === t.next)) break;
      n = !0;
    } else t = t.next;
  while (n || t !== e);
  return e;
}
function zh(r, e, t, n, i, s, o) {
  if (r) {
    !o && s && NY(r, n, i, s);
    for (var a = r, l, u; r.prev !== r.next; ) {
      if (((l = r.prev), (u = r.next), s ? CY(r, n, i, s) : PY(r))) {
        e.push((l.i / t) | 0),
          e.push((r.i / t) | 0),
          e.push((u.i / t) | 0),
          Hh(r),
          (r = u.next),
          (a = u.next);
        continue;
      }
      if (((r = u), r === a)) {
        o
          ? o === 1
            ? ((r = RY(al(r), e, t)), zh(r, e, t, n, i, s, 2))
            : o === 2 && DY(r, e, t, n, i, s)
          : zh(al(r), e, t, n, i, s, 1);
        break;
      }
    }
  }
}
function PY(r) {
  var e = r.prev,
    t = r,
    n = r.next;
  if (Ft(e, t, n) >= 0) return !1;
  for (
    var i = e.x,
      s = t.x,
      o = n.x,
      a = e.y,
      l = t.y,
      u = n.y,
      c = i < s ? (i < o ? i : o) : s < o ? s : o,
      h = a < l ? (a < u ? a : u) : l < u ? l : u,
      d = i > s ? (i > o ? i : o) : s > o ? s : o,
      f = a > l ? (a > u ? a : u) : l > u ? l : u,
      m = n.next;
    m !== e;

  ) {
    if (
      m.x >= c &&
      m.x <= d &&
      m.y >= h &&
      m.y <= f &&
      tu(i, a, s, l, o, u, m.x, m.y) &&
      Ft(m.prev, m, m.next) >= 0
    )
      return !1;
    m = m.next;
  }
  return !0;
}
function CY(r, e, t, n) {
  var i = r.prev,
    s = r,
    o = r.next;
  if (Ft(i, s, o) >= 0) return !1;
  for (
    var a = i.x,
      l = s.x,
      u = o.x,
      c = i.y,
      h = s.y,
      d = o.y,
      f = a < l ? (a < u ? a : u) : l < u ? l : u,
      m = c < h ? (c < d ? c : d) : h < d ? h : d,
      g = a > l ? (a > u ? a : u) : l > u ? l : u,
      _ = c > h ? (c > d ? c : d) : h > d ? h : d,
      v = dx(f, m, e, t, n),
      w = dx(g, _, e, t, n),
      x = r.prevZ,
      k = r.nextZ;
    x && x.z >= v && k && k.z <= w;

  ) {
    if (
      (x.x >= f &&
        x.x <= g &&
        x.y >= m &&
        x.y <= _ &&
        x !== i &&
        x !== o &&
        tu(a, c, l, h, u, d, x.x, x.y) &&
        Ft(x.prev, x, x.next) >= 0) ||
      ((x = x.prevZ),
      k.x >= f &&
        k.x <= g &&
        k.y >= m &&
        k.y <= _ &&
        k !== i &&
        k !== o &&
        tu(a, c, l, h, u, d, k.x, k.y) &&
        Ft(k.prev, k, k.next) >= 0)
    )
      return !1;
    k = k.nextZ;
  }
  for (; x && x.z >= v; ) {
    if (
      x.x >= f &&
      x.x <= g &&
      x.y >= m &&
      x.y <= _ &&
      x !== i &&
      x !== o &&
      tu(a, c, l, h, u, d, x.x, x.y) &&
      Ft(x.prev, x, x.next) >= 0
    )
      return !1;
    x = x.prevZ;
  }
  for (; k && k.z <= w; ) {
    if (
      k.x >= f &&
      k.x <= g &&
      k.y >= m &&
      k.y <= _ &&
      k !== i &&
      k !== o &&
      tu(a, c, l, h, u, d, k.x, k.y) &&
      Ft(k.prev, k, k.next) >= 0
    )
      return !1;
    k = k.nextZ;
  }
  return !0;
}
function RY(r, e, t) {
  var n = r;
  do {
    var i = n.prev,
      s = n.next.next;
    !Cg(i, s) &&
      yO(i, n, n.next, s) &&
      Wh(i, s) &&
      Wh(s, i) &&
      (e.push((i.i / t) | 0),
      e.push((n.i / t) | 0),
      e.push((s.i / t) | 0),
      Hh(n),
      Hh(n.next),
      (n = r = s)),
      (n = n.next);
  } while (n !== r);
  return al(n);
}
function DY(r, e, t, n, i, s) {
  var o = r;
  do {
    for (var a = o.next.next; a !== o.prev; ) {
      if (o.i !== a.i && GY(o, a)) {
        var l = vO(o, a);
        (o = al(o, o.next)),
          (l = al(l, l.next)),
          zh(o, e, t, n, i, s, 0),
          zh(l, e, t, n, i, s, 0);
        return;
      }
      a = a.next;
    }
    o = o.next;
  } while (o !== r);
}
function MY(r, e, t, n) {
  var i = [],
    s,
    o,
    a,
    l,
    u;
  for (s = 0, o = e.length; s < o; s++)
    (a = e[s] * n),
      (l = s < o - 1 ? e[s + 1] * n : r.length),
      (u = _O(r, a, l, n, !1)),
      u === u.next && (u.steiner = !0),
      i.push(UY(u));
  for (i.sort(BY), s = 0; s < i.length; s++) t = OY(i[s], t);
  return t;
}
function BY(r, e) {
  return r.x - e.x;
}
function OY(r, e) {
  var t = IY(r, e);
  if (!t) return e;
  var n = vO(t, r);
  return al(n, n.next), al(t, t.next);
}
function IY(r, e) {
  var t = e,
    n = r.x,
    i = r.y,
    s = -1 / 0,
    o;
  do {
    if (i <= t.y && i >= t.next.y && t.next.y !== t.y) {
      var a = t.x + ((i - t.y) * (t.next.x - t.x)) / (t.next.y - t.y);
      if (
        a <= n &&
        a > s &&
        ((s = a), (o = t.x < t.next.x ? t : t.next), a === n)
      )
        return o;
    }
    t = t.next;
  } while (t !== e);
  if (!o) return null;
  var l = o,
    u = o.x,
    c = o.y,
    h = 1 / 0,
    d;
  t = o;
  do
    n >= t.x &&
      t.x >= u &&
      n !== t.x &&
      tu(i < c ? n : s, i, u, c, i < c ? s : n, i, t.x, t.y) &&
      ((d = Math.abs(i - t.y) / (n - t.x)),
      Wh(t, r) &&
        (d < h || (d === h && (t.x > o.x || (t.x === o.x && FY(o, t))))) &&
        ((o = t), (h = d))),
      (t = t.next);
  while (t !== l);
  return o;
}
function FY(r, e) {
  return Ft(r.prev, r, e.prev) < 0 && Ft(e.next, r, r.next) < 0;
}
function NY(r, e, t, n) {
  var i = r;
  do
    i.z === 0 && (i.z = dx(i.x, i.y, e, t, n)),
      (i.prevZ = i.prev),
      (i.nextZ = i.next),
      (i = i.next);
  while (i !== r);
  (i.prevZ.nextZ = null), (i.prevZ = null), LY(i);
}
function LY(r) {
  var e,
    t,
    n,
    i,
    s,
    o,
    a,
    l,
    u = 1;
  do {
    for (t = r, r = null, s = null, o = 0; t; ) {
      for (o++, n = t, a = 0, e = 0; e < u && (a++, (n = n.nextZ), !!n); e++);
      for (l = u; a > 0 || (l > 0 && n); )
        a !== 0 && (l === 0 || !n || t.z <= n.z)
          ? ((i = t), (t = t.nextZ), a--)
          : ((i = n), (n = n.nextZ), l--),
          s ? (s.nextZ = i) : (r = i),
          (i.prevZ = s),
          (s = i);
      t = n;
    }
    (s.nextZ = null), (u *= 2);
  } while (o > 1);
  return r;
}
function dx(r, e, t, n, i) {
  return (
    (r = ((r - t) * i) | 0),
    (e = ((e - n) * i) | 0),
    (r = (r | (r << 8)) & 16711935),
    (r = (r | (r << 4)) & 252645135),
    (r = (r | (r << 2)) & 858993459),
    (r = (r | (r << 1)) & 1431655765),
    (e = (e | (e << 8)) & 16711935),
    (e = (e | (e << 4)) & 252645135),
    (e = (e | (e << 2)) & 858993459),
    (e = (e | (e << 1)) & 1431655765),
    r | (e << 1)
  );
}
function UY(r) {
  var e = r,
    t = r;
  do (e.x < t.x || (e.x === t.x && e.y < t.y)) && (t = e), (e = e.next);
  while (e !== r);
  return t;
}
function tu(r, e, t, n, i, s, o, a) {
  return (
    (i - o) * (e - a) >= (r - o) * (s - a) &&
    (r - o) * (n - a) >= (t - o) * (e - a) &&
    (t - o) * (s - a) >= (i - o) * (n - a)
  );
}
function GY(r, e) {
  return (
    r.next.i !== e.i &&
    r.prev.i !== e.i &&
    !jY(r, e) &&
    ((Wh(r, e) &&
      Wh(e, r) &&
      $Y(r, e) &&
      (Ft(r.prev, r, e.prev) || Ft(r, e.prev, e))) ||
      (Cg(r, e) && Ft(r.prev, r, r.next) > 0 && Ft(e.prev, e, e.next) > 0))
  );
}
function Ft(r, e, t) {
  return (e.y - r.y) * (t.x - e.x) - (e.x - r.x) * (t.y - e.y);
}
function Cg(r, e) {
  return r.x === e.x && r.y === e.y;
}
function yO(r, e, t, n) {
  var i = af(Ft(r, e, t)),
    s = af(Ft(r, e, n)),
    o = af(Ft(t, n, r)),
    a = af(Ft(t, n, e));
  return !!(
    (i !== s && o !== a) ||
    (i === 0 && of(r, t, e)) ||
    (s === 0 && of(r, n, e)) ||
    (o === 0 && of(t, r, n)) ||
    (a === 0 && of(t, e, n))
  );
}
function of(r, e, t) {
  return (
    e.x <= Math.max(r.x, t.x) &&
    e.x >= Math.min(r.x, t.x) &&
    e.y <= Math.max(r.y, t.y) &&
    e.y >= Math.min(r.y, t.y)
  );
}
function af(r) {
  return r > 0 ? 1 : r < 0 ? -1 : 0;
}
function jY(r, e) {
  var t = r;
  do {
    if (
      t.i !== r.i &&
      t.next.i !== r.i &&
      t.i !== e.i &&
      t.next.i !== e.i &&
      yO(t, t.next, r, e)
    )
      return !0;
    t = t.next;
  } while (t !== r);
  return !1;
}
function Wh(r, e) {
  return Ft(r.prev, r, r.next) < 0
    ? Ft(r, e, r.next) >= 0 && Ft(r, r.prev, e) >= 0
    : Ft(r, e, r.prev) < 0 || Ft(r, r.next, e) < 0;
}
function $Y(r, e) {
  var t = r,
    n = !1,
    i = (r.x + e.x) / 2,
    s = (r.y + e.y) / 2;
  do
    t.y > s != t.next.y > s &&
      t.next.y !== t.y &&
      i < ((t.next.x - t.x) * (s - t.y)) / (t.next.y - t.y) + t.x &&
      (n = !n),
      (t = t.next);
  while (t !== r);
  return n;
}
function vO(r, e) {
  var t = new fx(r.i, r.x, r.y),
    n = new fx(e.i, e.x, e.y),
    i = r.next,
    s = e.prev;
  return (
    (r.next = e),
    (e.prev = r),
    (t.next = i),
    (i.prev = t),
    (n.next = t),
    (t.prev = n),
    (s.next = n),
    (n.prev = s),
    n
  );
}
function bk(r, e, t, n) {
  var i = new fx(r, e, t);
  return (
    n
      ? ((i.next = n.next), (i.prev = n), (n.next.prev = i), (n.next = i))
      : ((i.prev = i), (i.next = i)),
    i
  );
}
function Hh(r) {
  (r.next.prev = r.prev),
    (r.prev.next = r.next),
    r.prevZ && (r.prevZ.nextZ = r.nextZ),
    r.nextZ && (r.nextZ.prevZ = r.prevZ);
}
function fx(r, e, t) {
  (this.i = r),
    (this.x = e),
    (this.y = t),
    (this.prev = null),
    (this.next = null),
    (this.z = 0),
    (this.prevZ = null),
    (this.nextZ = null),
    (this.steiner = !1);
}
Pg.deviation = function (r, e, t, n) {
  var i = e && e.length,
    s = i ? e[0] * t : r.length,
    o = Math.abs(px(r, 0, s, t));
  if (i)
    for (var a = 0, l = e.length; a < l; a++) {
      var u = e[a] * t,
        c = a < l - 1 ? e[a + 1] * t : r.length;
      o -= Math.abs(px(r, u, c, t));
    }
  var h = 0;
  for (a = 0; a < n.length; a += 3) {
    var d = n[a] * t,
      f = n[a + 1] * t,
      m = n[a + 2] * t;
    h += Math.abs(
      (r[d] - r[m]) * (r[f + 1] - r[d + 1]) -
        (r[d] - r[f]) * (r[m + 1] - r[d + 1])
    );
  }
  return o === 0 && h === 0 ? 0 : Math.abs((h - o) / o);
};
function px(r, e, t, n) {
  for (var i = 0, s = e, o = t - n; s < t; s += n)
    (i += (r[o] - r[s]) * (r[s + 1] + r[o + 1])), (o = s);
  return i;
}
Pg.flatten = function (r) {
  for (
    var e = r[0][0].length,
      t = { vertices: [], holes: [], dimensions: e },
      n = 0,
      i = 0;
    i < r.length;
    i++
  ) {
    for (var s = 0; s < r[i].length; s++)
      for (var o = 0; o < e; o++) t.vertices.push(r[i][s][o]);
    i > 0 && ((n += r[i - 1].length), t.holes.push(n));
  }
  return t;
};
var zY = jb.exports,
  WY = Bb(zY);
function xO(r, e, t, n, i, s, o) {
  const a = WY(r, e, 2);
  if (!a) return;
  for (let u = 0; u < a.length; u += 3)
    (s[o++] = a[u] + i), (s[o++] = a[u + 1] + i), (s[o++] = a[u + 2] + i);
  let l = i * n;
  for (let u = 0; u < r.length; u += 2)
    (t[l] = r[u]), (t[l + 1] = r[u + 1]), (l += n);
}
const HY = [],
  VY = {
    extension: { type: W.ShapeBuilder, name: "polygon" },
    build(r, e) {
      for (let t = 0; t < r.points.length; t++) e[t] = r.points[t];
      return e;
    },
    triangulate(r, e, t, n, i, s) {
      xO(r, HY, e, t, n, i, s);
    },
  },
  XY = {
    extension: { type: W.ShapeBuilder, name: "rectangle" },
    build(r, e) {
      const t = r,
        n = t.x,
        i = t.y,
        s = t.width,
        o = t.height;
      return (
        s >= 0 &&
          o >= 0 &&
          ((e[0] = n),
          (e[1] = i),
          (e[2] = n + s),
          (e[3] = i),
          (e[4] = n + s),
          (e[5] = i + o),
          (e[6] = n),
          (e[7] = i + o)),
        e
      );
    },
    triangulate(r, e, t, n, i, s) {
      let o = 0;
      (n *= t),
        (e[n + o] = r[0]),
        (e[n + o + 1] = r[1]),
        (o += t),
        (e[n + o] = r[2]),
        (e[n + o + 1] = r[3]),
        (o += t),
        (e[n + o] = r[6]),
        (e[n + o + 1] = r[7]),
        (o += t),
        (e[n + o] = r[4]),
        (e[n + o + 1] = r[5]),
        (o += t);
      const a = n / t;
      (i[s++] = a),
        (i[s++] = a + 1),
        (i[s++] = a + 2),
        (i[s++] = a + 1),
        (i[s++] = a + 3),
        (i[s++] = a + 2);
    },
  },
  YY = {
    extension: { type: W.ShapeBuilder, name: "triangle" },
    build(r, e) {
      return (
        (e[0] = r.x),
        (e[1] = r.y),
        (e[2] = r.x2),
        (e[3] = r.y2),
        (e[4] = r.x3),
        (e[5] = r.y3),
        e
      );
    },
    triangulate(r, e, t, n, i, s) {
      let o = 0;
      (n *= t),
        (e[n + o] = r[0]),
        (e[n + o + 1] = r[1]),
        (o += t),
        (e[n + o] = r[2]),
        (e[n + o + 1] = r[3]),
        (o += t),
        (e[n + o] = r[4]),
        (e[n + o + 1] = r[5]);
      const a = n / t;
      (i[s++] = a), (i[s++] = a + 1), (i[s++] = a + 2);
    },
  },
  Rg = {};
Ue.handleByMap(W.ShapeBuilder, Rg);
Ue.add(XY, VY, YY, $h, SY, EY);
const KY = new dt();
function qY(r, e) {
  const { geometryData: t, batches: n } = e;
  (n.length = 0),
    (t.indices.length = 0),
    (t.vertices.length = 0),
    (t.uvs.length = 0);
  for (let i = 0; i < r.instructions.length; i++) {
    const s = r.instructions[i];
    if (s.action === "texture") ZY(s.data, n, t);
    else if (s.action === "fill" || s.action === "stroke") {
      const o = s.action === "stroke",
        a = s.data.path.shapePath,
        l = s.data.style,
        u = s.data.hole;
      o && u && Sk(u.shapePath, l, null, !0, n, t), Sk(a, l, u, o, n, t);
    }
  }
}
function ZY(r, e, t) {
  const { vertices: n, uvs: i, indices: s } = t,
    o = s.length,
    a = n.length / 2,
    l = [],
    u = Rg.rectangle,
    c = KY,
    h = r.image;
  (c.x = r.dx), (c.y = r.dy), (c.width = r.dw), (c.height = r.dh);
  const d = r.transform;
  u.build(c, l), d && gO(l, d), u.triangulate(l, n, 2, a, s, o);
  const f = h.uvs;
  i.push(f.x0, f.y0, f.x1, f.y1, f.x3, f.y3, f.x2, f.y2);
  const m = Je.get(Gb);
  (m.indexOffset = o),
    (m.indexSize = s.length - o),
    (m.vertexOffset = a),
    (m.vertexSize = n.length / 2 - a),
    (m.color = r.style),
    (m.alpha = r.alpha),
    (m.texture = h),
    (m.geometryData = t),
    e.push(m);
}
function Sk(r, e, t, n, i, s) {
  const { vertices: o, uvs: a, indices: l } = s,
    u = r.shapePrimitives.length - 1;
  r.shapePrimitives.forEach(({ shape: c, transform: h }, d) => {
    var f;
    const m = l.length,
      g = o.length / 2,
      _ = [],
      v = Rg[c.type];
    if ((v.build(c, _), h && gO(_, h), n)) {
      const C = (f = c.closePath) != null ? f : !0;
      AY(_, e, !1, C, o, 2, g, l);
    } else if (t && u === d) {
      u !== 0 &&
        console.warn("[Pixi Graphics] only the last shape have be cut out");
      const C = [],
        F = _.slice();
      QY(t.shapePath).forEach((G) => {
        C.push(F.length / 2), F.push(...G);
      }),
        xO(F, C, o, 2, g, l, m);
    } else v.triangulate(_, o, 2, g, l, m);
    const w = a.length / 2,
      x = e.texture;
    if (x !== fe.WHITE) {
      const C = e.matrix;
      C &&
        (h && C.append(h.clone().invert()),
        mY(o, 2, g, a, w, 2, o.length / 2 - g, C));
    } else gY(a, w, 2, o.length / 2 - g);
    const k = Je.get(Gb);
    (k.indexOffset = m),
      (k.indexSize = l.length - m),
      (k.vertexOffset = g),
      (k.vertexSize = o.length / 2 - g),
      (k.color = e.color),
      (k.alpha = e.alpha),
      (k.texture = x),
      (k.geometryData = s),
      i.push(k);
  });
}
function QY(r) {
  if (!r) return [];
  const e = r.shapePrimitives,
    t = [];
  for (let n = 0; n < e.length; n++) {
    const i = e[n].shape,
      s = [];
    Rg[i.type].build(i, s), t.push(s);
  }
  return t;
}
class JY {
  constructor() {
    (this.batches = []),
      (this.geometryData = { vertices: [], uvs: [], indices: [] });
  }
}
class eK {
  constructor() {
    (this.geometry = new cO()), (this.instructions = new IB());
  }
  init() {
    this.instructions.reset();
  }
}
const $b = class mx {
  constructor() {
    (this._activeBatchers = []),
      (this._gpuContextHash = {}),
      (this._graphicsDataContextHash = Object.create(null));
  }
  init(e) {
    var t;
    mx.defaultOptions.bezierSmoothness =
      (t = e == null ? void 0 : e.bezierSmoothness) != null
        ? t
        : mx.defaultOptions.bezierSmoothness;
  }
  prerender() {
    this._returnActiveBatchers();
  }
  getContextRenderData(e) {
    return (
      this._graphicsDataContextHash[e.uid] || this._initContextRenderData(e)
    );
  }
  updateGpuContext(e) {
    let t = this._gpuContextHash[e.uid] || this._initContext(e);
    if (e.dirty) {
      t ? this._cleanGraphicsContextData(e) : (t = this._initContext(e)),
        qY(e, t);
      const n = e.batchMode;
      e.customShader || n === "no-batch"
        ? (t.isBatchable = !1)
        : n === "auto" &&
          (t.isBatchable = t.geometryData.vertices.length < 400),
        (e.dirty = !1);
    }
    return t;
  }
  getGpuContext(e) {
    return this._gpuContextHash[e.uid] || this._initContext(e);
  }
  _returnActiveBatchers() {
    for (let e = 0; e < this._activeBatchers.length; e++)
      Je.return(this._activeBatchers[e]);
    this._activeBatchers.length = 0;
  }
  _initContextRenderData(e) {
    const t = Je.get(eK),
      { batches: n, geometryData: i } = this._gpuContextHash[e.uid],
      s = i.vertices.length,
      o = i.indices.length;
    for (let c = 0; c < n.length; c++) n[c].applyTransform = !1;
    const a = Je.get(mO);
    this._activeBatchers.push(a),
      a.ensureAttributeBuffer(s),
      a.ensureIndexBuffer(o),
      a.begin();
    for (let c = 0; c < n.length; c++) {
      const h = n[c];
      a.add(h);
    }
    a.finish(t.instructions);
    const l = t.geometry;
    l.indexBuffer.setDataWithSize(a.indexBuffer, a.indexSize, !0),
      l.buffers[0].setDataWithSize(
        a.attributeBuffer.float32View,
        a.attributeSize,
        !0
      );
    const u = a.batches;
    for (let c = 0; c < u.length; c++) {
      const h = u[c];
      h.bindGroup = Ub(h.textures.textures, h.textures.count);
    }
    return (this._graphicsDataContextHash[e.uid] = t), t;
  }
  _initContext(e) {
    const t = new JY();
    return (
      (t.context = e),
      (this._gpuContextHash[e.uid] = t),
      e.on("destroy", this.onGraphicsContextDestroy, this),
      this._gpuContextHash[e.uid]
    );
  }
  onGraphicsContextDestroy(e) {
    this._cleanGraphicsContextData(e),
      e.off("destroy", this.onGraphicsContextDestroy, this),
      (this._gpuContextHash[e.uid] = null);
  }
  _cleanGraphicsContextData(e) {
    const t = this._gpuContextHash[e.uid];
    t.isBatchable ||
      (this._graphicsDataContextHash[e.uid] &&
        (Je.return(this.getContextRenderData(e)),
        (this._graphicsDataContextHash[e.uid] = null))),
      t.batches &&
        t.batches.forEach((n) => {
          Je.return(n);
        });
  }
  destroy() {
    for (const e in this._gpuContextHash)
      this._gpuContextHash[e] &&
        this.onGraphicsContextDestroy(this._gpuContextHash[e].context);
  }
};
$b.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "graphicsContext",
};
$b.defaultOptions = { bezierSmoothness: 0.5 };
let zb = $b;
const tK = {
    normal: 0,
    add: 1,
    multiply: 2,
    screen: 3,
    overlay: 4,
    erase: 5,
    "normal-npm": 6,
    "add-npm": 7,
    "screen-npm": 8,
  },
  R0 = 0,
  D0 = 1,
  M0 = 2,
  B0 = 3,
  O0 = 4,
  I0 = 5,
  gx = class wO {
    constructor() {
      (this.data = 0),
        (this.blendMode = "normal"),
        (this.polygonOffset = 0),
        (this.blend = !0),
        (this.depthMask = !0);
    }
    get blend() {
      return !!(this.data & (1 << R0));
    }
    set blend(e) {
      !!(this.data & (1 << R0)) !== e && (this.data ^= 1 << R0);
    }
    get offsets() {
      return !!(this.data & (1 << D0));
    }
    set offsets(e) {
      !!(this.data & (1 << D0)) !== e && (this.data ^= 1 << D0);
    }
    set cullMode(e) {
      if (e === "none") {
        this.culling = !1;
        return;
      }
      (this.culling = !0), (this.clockwiseFrontFace = e === "front");
    }
    get cullMode() {
      return this.culling
        ? this.clockwiseFrontFace
          ? "front"
          : "back"
        : "none";
    }
    get culling() {
      return !!(this.data & (1 << M0));
    }
    set culling(e) {
      !!(this.data & (1 << M0)) !== e && (this.data ^= 1 << M0);
    }
    get depthTest() {
      return !!(this.data & (1 << B0));
    }
    set depthTest(e) {
      !!(this.data & (1 << B0)) !== e && (this.data ^= 1 << B0);
    }
    get depthMask() {
      return !!(this.data & (1 << I0));
    }
    set depthMask(e) {
      !!(this.data & (1 << I0)) !== e && (this.data ^= 1 << I0);
    }
    get clockwiseFrontFace() {
      return !!(this.data & (1 << O0));
    }
    set clockwiseFrontFace(e) {
      !!(this.data & (1 << O0)) !== e && (this.data ^= 1 << O0);
    }
    get blendMode() {
      return this._blendMode;
    }
    set blendMode(e) {
      (this.blend = e !== "none"),
        (this._blendMode = e),
        (this._blendModeId = tK[e] || 0);
    }
    get polygonOffset() {
      return this._polygonOffset;
    }
    set polygonOffset(e) {
      (this.offsets = !!e), (this._polygonOffset = e);
    }
    toString() {
      return `[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;
    }
    static for2d() {
      const e = new wO();
      return (e.depthTest = !1), (e.blend = !0), e;
    }
  };
gx.default2d = gx.for2d();
let Ds = gx;
function Dg(r, e, t) {
  const n = ((r >> 24) & 255) / 255;
  (e[t++] = ((r & 255) / 255) * n),
    (e[t++] = (((r >> 8) & 255) / 255) * n),
    (e[t++] = (((r >> 16) & 255) / 255) * n),
    (e[t++] = n);
}
class bO {
  constructor(e, t) {
    (this.state = Ds.for2d()),
      (this._graphicsBatchesHash = Object.create(null)),
      (this.renderer = e),
      (this._adaptor = t),
      this._adaptor.init();
  }
  validateRenderable(e) {
    const t = e.context,
      n = !!this._graphicsBatchesHash[e.uid],
      i = this.renderer.graphicsContext.updateGpuContext(t);
    return !!(i.isBatchable || n !== i.isBatchable);
  }
  addRenderable(e, t) {
    const n = this.renderer.graphicsContext.updateGpuContext(e.context);
    e._didGraphicsUpdate && ((e._didGraphicsUpdate = !1), this._rebuild(e)),
      n.isBatchable
        ? this._addToBatcher(e, t)
        : (this.renderer.renderPipes.batch.break(t), t.add(e));
  }
  updateRenderable(e) {
    const t = this._graphicsBatchesHash[e.uid];
    if (t)
      for (let n = 0; n < t.length; n++) {
        const i = t[n];
        i.batcher.updateElement(i);
      }
  }
  destroyRenderable(e) {
    this._graphicsBatchesHash[e.uid] && this._removeBatchForRenderable(e.uid);
  }
  execute(e) {
    if (!e.isRenderable) return;
    const t = this.renderer,
      n = e.context;
    if (!t.graphicsContext.getGpuContext(n).batches.length) return;
    const s = n.customShader || this._adaptor.shader;
    this.state.blendMode = e.groupBlendMode;
    const o = s.resources.localUniforms.uniforms;
    (o.uTransformMatrix = e.groupTransform),
      (o.uRound = t._roundPixels | e._roundPixels),
      Dg(e.groupColorAlpha, o.uColor, 0),
      this._adaptor.execute(this, e);
  }
  _rebuild(e) {
    const t = !!this._graphicsBatchesHash[e.uid],
      n = this.renderer.graphicsContext.updateGpuContext(e.context);
    t && this._removeBatchForRenderable(e.uid),
      n.isBatchable && this._initBatchesForRenderable(e),
      (e.batched = n.isBatchable);
  }
  _addToBatcher(e, t) {
    const n = this.renderer.renderPipes.batch,
      i = this._getBatchesForRenderable(e);
    for (let s = 0; s < i.length; s++) {
      const o = i[s];
      n.addToBatch(o, t);
    }
  }
  _getBatchesForRenderable(e) {
    return (
      this._graphicsBatchesHash[e.uid] || this._initBatchesForRenderable(e)
    );
  }
  _initBatchesForRenderable(e) {
    const t = e.context,
      n = this.renderer.graphicsContext.getGpuContext(t),
      i = this.renderer._roundPixels | e._roundPixels,
      s = n.batches.map((o) => {
        const a = Je.get(Gb);
        return o.copyTo(a), (a.renderable = e), (a.roundPixels = i), a;
      });
    return (
      this._graphicsBatchesHash[e.uid] === void 0 &&
        e.on("destroyed", () => {
          this.destroyRenderable(e);
        }),
      (this._graphicsBatchesHash[e.uid] = s),
      s
    );
  }
  _removeBatchForRenderable(e) {
    this._graphicsBatchesHash[e].forEach((t) => {
      Je.return(t);
    }),
      (this._graphicsBatchesHash[e] = null);
  }
  destroy() {
    (this.renderer = null),
      this._adaptor.destroy(),
      (this._adaptor = null),
      (this.state = null);
    for (const e in this._graphicsBatchesHash)
      this._removeBatchForRenderable(e);
    this._graphicsBatchesHash = null;
  }
}
bO.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "graphics",
};
Ue.add(bO);
Ue.add(zb);
const F0 = Object.create(null),
  Ek = Object.create(null);
function Mg(r, e) {
  let t = Ek[r];
  return (
    t === void 0 && (F0[e] === void 0 && (F0[e] = 1), (Ek[r] = t = F0[e]++)), t
  );
}
const SO = [
    "f32",
    "i32",
    "vec2<f32>",
    "vec3<f32>",
    "vec4<f32>",
    "mat2x2<f32>",
    "mat3x3<f32>",
    "mat4x4<f32>",
    "mat3x2<f32>",
    "mat4x2<f32>",
    "mat2x3<f32>",
    "mat4x3<f32>",
    "mat2x4<f32>",
    "mat3x4<f32>",
  ],
  rK = SO.reduce((r, e) => ((r[e] = !0), r), {});
function nK(r, e) {
  switch (r) {
    case "f32":
      return 0;
    case "vec2<f32>":
      return new Float32Array(2 * e);
    case "vec3<f32>":
      return new Float32Array(3 * e);
    case "vec4<f32>":
      return new Float32Array(4 * e);
    case "mat2x2<f32>":
      return new Float32Array([1, 0, 0, 1]);
    case "mat3x3<f32>":
      return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
    case "mat4x4<f32>":
      return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
  }
  return null;
}
var iK = Object.defineProperty,
  Tk = Object.getOwnPropertySymbols,
  sK = Object.prototype.hasOwnProperty,
  oK = Object.prototype.propertyIsEnumerable,
  kk = (r, e, t) =>
    e in r
      ? iK(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ak = (r, e) => {
    for (var t in e || (e = {})) sK.call(e, t) && kk(r, t, e[t]);
    if (Tk) for (var t of Tk(e)) oK.call(e, t) && kk(r, t, e[t]);
    return r;
  };
const EO = class TO {
  constructor(e, t) {
    (this._touched = 0),
      (this.uid = Nt("uniform")),
      (this._resourceType = "uniformGroup"),
      (this._resourceId = Nt("resource")),
      (this.isUniformGroup = !0),
      (this._dirtyId = 0),
      (this.destroyed = !1);
    var n, i;
    (t = Ak(Ak({}, TO.defaultOptions), t)), (this.uniformStructures = e);
    const s = {};
    for (const o in e) {
      const a = e[o];
      if (((a.name = o), (a.size = (n = a.size) != null ? n : 1), !rK[a.type]))
        throw new Error(
          `Uniform type ${
            a.type
          } is not supported. Supported uniform types are: ${SO.join(", ")}`
        );
      (i = a.value) != null || (a.value = nK(a.type, a.size)), (s[o] = a.value);
    }
    (this.uniforms = s),
      (this._dirtyId = 1),
      (this.ubo = t.ubo),
      (this.isStatic = t.isStatic),
      (this._signature = Mg(
        Object.keys(s)
          .map((o) => `${o}-${e[o].type}`)
          .join("-"),
        "uniform-group"
      ));
  }
  update() {
    this._dirtyId++;
  }
};
EO.defaultOptions = { ubo: !1, isStatic: !1 };
let dn = EO;
class Wb {
  constructor() {
    (this.batcher = null),
      (this.batch = null),
      (this.roundPixels = 0),
      (this._uvUpdateId = -1),
      (this._textureMatrixUpdateId = -1);
  }
  get blendMode() {
    return this.mesh.groupBlendMode;
  }
  reset() {
    (this.mesh = null),
      (this.texture = null),
      (this.batcher = null),
      (this.batch = null);
  }
  packIndex(e, t, n) {
    const i = this.geometry.indices;
    for (let s = 0; s < i.length; s++) e[t++] = i[s] + n;
  }
  packAttributes(e, t, n, i) {
    const s = this.mesh,
      o = this.geometry,
      a = s.groupTransform,
      l = (i << 16) | (this.roundPixels & 65535),
      u = a.a,
      c = a.b,
      h = a.c,
      d = a.d,
      f = a.tx,
      m = a.ty,
      g = o.positions,
      _ = o.getBuffer("aUV"),
      v = _.data;
    let w = v;
    const x = this.texture.textureMatrix;
    x.isSimple ||
      ((w = this._transformedUvs),
      (this._textureMatrixUpdateId !== x._updateID ||
        this._uvUpdateId !== _._updateID) &&
        ((!w || w.length < v.length) &&
          (w = this._transformedUvs = new Float32Array(v.length)),
        (this._textureMatrixUpdateId = x._updateID),
        (this._uvUpdateId = _._updateID),
        x.multiplyUvs(v, w)));
    const k = s.groupColorAlpha;
    for (let C = 0; C < g.length; C += 2) {
      const F = g[C],
        I = g[C + 1];
      (e[n] = u * F + h * I + f),
        (e[n + 1] = c * F + d * I + m),
        (e[n + 2] = w[C]),
        (e[n + 3] = w[C + 1]),
        (t[n + 4] = k),
        (t[n + 5] = l),
        (n += 6);
    }
  }
  get vertexSize() {
    return this.geometry.positions.length / 2;
  }
  get indexSize() {
    return this.geometry.indices.length;
  }
}
class kO {
  constructor(e, t) {
    (this.localUniforms = new dn({
      uTransformMatrix: { value: new we(), type: "mat3x3<f32>" },
      uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
      uRound: { value: 0, type: "f32" },
    })),
      (this.localUniformsBindGroup = new to({ 0: this.localUniforms })),
      (this._meshDataHash = Object.create(null)),
      (this._gpuBatchableMeshHash = Object.create(null)),
      (this.renderer = e),
      (this._adaptor = t),
      this._adaptor.init();
  }
  validateRenderable(e) {
    const t = this._getMeshData(e),
      n = t.batched,
      i = e.batched;
    if (((t.batched = i), n !== i)) return !0;
    if (i) {
      const s = e._geometry;
      if (
        s.indices.length !== t.indexSize ||
        s.positions.length !== t.vertexSize
      )
        return (
          (t.indexSize = s.indices.length),
          (t.vertexSize = s.positions.length),
          !0
        );
      const o = this._getBatchableMesh(e),
        a = e.texture;
      if (o.texture._source !== a._source && o.texture._source !== a._source)
        return !o.batcher.checkAndUpdateTexture(o, a);
    }
    return !1;
  }
  addRenderable(e, t) {
    const n = this.renderer.renderPipes.batch,
      { batched: i } = this._getMeshData(e);
    if (i) {
      const s = this._getBatchableMesh(e);
      (s.texture = e._texture), (s.geometry = e._geometry), n.addToBatch(s);
    } else n.break(t), t.add({ renderPipeId: "mesh", mesh: e });
  }
  updateRenderable(e) {
    if (e.batched) {
      const t = this._gpuBatchableMeshHash[e.uid];
      (t.texture = e._texture),
        (t.geometry = e._geometry),
        t.batcher.updateElement(t);
    }
  }
  destroyRenderable(e) {
    this._meshDataHash[e.uid] = null;
    const t = this._gpuBatchableMeshHash[e.uid];
    t && (Je.return(t), (this._gpuBatchableMeshHash[e.uid] = null));
  }
  execute({ mesh: e }) {
    if (!e.isRenderable) return;
    e.state.blendMode = dm(e.groupBlendMode, e.texture._source);
    const t = this.localUniforms;
    (t.uniforms.uTransformMatrix = e.groupTransform),
      (t.uniforms.uRound = this.renderer._roundPixels | e._roundPixels),
      t.update(),
      Dg(e.groupColorAlpha, t.uniforms.uColor, 0),
      this._adaptor.execute(this, e);
  }
  _getMeshData(e) {
    return this._meshDataHash[e.uid] || this._initMeshData(e);
  }
  _initMeshData(e) {
    var t, n;
    return (
      (this._meshDataHash[e.uid] = {
        batched: e.batched,
        indexSize: (t = e._geometry.indices) == null ? void 0 : t.length,
        vertexSize: (n = e._geometry.positions) == null ? void 0 : n.length,
      }),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      this._meshDataHash[e.uid]
    );
  }
  _getBatchableMesh(e) {
    return this._gpuBatchableMeshHash[e.uid] || this._initBatchableMesh(e);
  }
  _initBatchableMesh(e) {
    const t = Je.get(Wb);
    return (
      (t.mesh = e),
      (t.texture = e._texture),
      (t.roundPixels = this.renderer._roundPixels | e._roundPixels),
      (this._gpuBatchableMeshHash[e.uid] = t),
      (t.mesh = e),
      t
    );
  }
  destroy() {
    for (const e in this._gpuBatchableMeshHash)
      this._gpuBatchableMeshHash[e] && Je.return(this._gpuBatchableMeshHash[e]);
    (this._gpuBatchableMeshHash = null),
      (this._meshDataHash = null),
      (this.localUniforms = null),
      (this.localUniformsBindGroup = null),
      this._adaptor.destroy(),
      (this._adaptor = null),
      (this.renderer = null);
  }
}
kO.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "mesh",
};
Ue.add(kO);
class Hb {
  constructor() {
    (this.vertexSize = 4),
      (this.indexSize = 6),
      (this.location = 0),
      (this.batcher = null),
      (this.batch = null),
      (this.roundPixels = 0);
  }
  get blendMode() {
    return this.renderable.groupBlendMode;
  }
  packAttributes(e, t, n, i) {
    const s = this.renderable,
      o = this.texture,
      a = s.groupTransform,
      l = a.a,
      u = a.b,
      c = a.c,
      h = a.d,
      d = a.tx,
      f = a.ty,
      m = this.bounds,
      g = m.maxX,
      _ = m.minX,
      v = m.maxY,
      w = m.minY,
      x = o.uvs,
      k = s.groupColorAlpha,
      C = (i << 16) | (this.roundPixels & 65535);
    (e[n + 0] = l * _ + c * w + d),
      (e[n + 1] = h * w + u * _ + f),
      (e[n + 2] = x.x0),
      (e[n + 3] = x.y0),
      (t[n + 4] = k),
      (t[n + 5] = C),
      (e[n + 6] = l * g + c * w + d),
      (e[n + 7] = h * w + u * g + f),
      (e[n + 8] = x.x1),
      (e[n + 9] = x.y1),
      (t[n + 10] = k),
      (t[n + 11] = C),
      (e[n + 12] = l * g + c * v + d),
      (e[n + 13] = h * v + u * g + f),
      (e[n + 14] = x.x2),
      (e[n + 15] = x.y2),
      (t[n + 16] = k),
      (t[n + 17] = C),
      (e[n + 18] = l * _ + c * v + d),
      (e[n + 19] = h * v + u * _ + f),
      (e[n + 20] = x.x3),
      (e[n + 21] = x.y3),
      (t[n + 22] = k),
      (t[n + 23] = C);
  }
  packIndex(e, t, n) {
    (e[t] = n + 0),
      (e[t + 1] = n + 1),
      (e[t + 2] = n + 2),
      (e[t + 3] = n + 0),
      (e[t + 4] = n + 2),
      (e[t + 5] = n + 3);
  }
  reset() {
    (this.renderable = null),
      (this.texture = null),
      (this.batcher = null),
      (this.batch = null),
      (this.bounds = null);
  }
}
class AO {
  constructor(e) {
    (this._gpuText = Object.create(null)),
      (this._renderer = e),
      this._renderer.runners.resolutionChange.add(this);
  }
  resolutionChange() {
    for (const e in this._gpuText) {
      const n = this._gpuText[e].batchableSprite.renderable;
      n._autoResolution &&
        ((n._resolution = this._renderer.resolution), n.onViewUpdate());
    }
  }
  validateRenderable(e) {
    const t = this._getGpuText(e),
      n = e._getKey();
    if (t.currentKey !== n) {
      const { width: i, height: s } = this._renderer.canvasText.getTextureSize(
        e.text,
        e.resolution,
        e._style
      );
      return !(
        this._renderer.canvasText.getReferenceCount(t.currentKey) === 1 &&
        i === t.texture._source.width &&
        s === t.texture._source.height
      );
    }
    return !1;
  }
  addRenderable(e, t) {
    const i = this._getGpuText(e).batchableSprite;
    e._didTextUpdate && this._updateText(e),
      this._renderer.renderPipes.batch.addToBatch(i);
  }
  updateRenderable(e) {
    const n = this._getGpuText(e).batchableSprite;
    e._didTextUpdate && this._updateText(e), n.batcher.updateElement(n);
  }
  destroyRenderable(e) {
    this._destroyRenderableById(e.uid);
  }
  _destroyRenderableById(e) {
    const t = this._gpuText[e];
    this._renderer.canvasText.decreaseReferenceCount(t.currentKey),
      Je.return(t.batchableSprite),
      (this._gpuText[e] = null);
  }
  _updateText(e) {
    const t = e._getKey(),
      n = this._getGpuText(e),
      i = n.batchableSprite;
    n.currentKey !== t && this._updateGpuText(e), (e._didTextUpdate = !1);
    const s = e._style.padding;
    cm(i.bounds, e._anchor, i.texture, s);
  }
  _updateGpuText(e) {
    const t = this._getGpuText(e),
      n = t.batchableSprite;
    t.texture && this._renderer.canvasText.decreaseReferenceCount(t.currentKey),
      (t.texture = n.texture = this._renderer.canvasText.getManagedTexture(e)),
      (t.currentKey = e._getKey()),
      (n.texture = t.texture);
  }
  _getGpuText(e) {
    return this._gpuText[e.uid] || this.initGpuText(e);
  }
  initGpuText(e) {
    const t = { texture: null, currentKey: "--", batchableSprite: Je.get(Hb) };
    return (
      (t.batchableSprite.renderable = e),
      (t.batchableSprite.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (t.batchableSprite.roundPixels =
        this._renderer._roundPixels | e._roundPixels),
      (this._gpuText[e.uid] = t),
      (e._resolution = e._autoResolution
        ? this._renderer.resolution
        : e.resolution),
      this._updateText(e),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      t
    );
  }
  destroy() {
    for (const e in this._gpuText) this._destroyRenderableById(e);
    (this._gpuText = null), (this._renderer = null);
  }
}
AO.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "text",
};
class aK {
  constructor(e) {
    (this._canvasPool = Object.create(null)),
      (this.canvasOptions = e || {}),
      (this.enableFullScreen = !1);
  }
  _createCanvasAndContext(e, t) {
    const n = nt.get().createCanvas();
    (n.width = e), (n.height = t);
    const i = n.getContext("2d");
    return { canvas: n, context: i };
  }
  getOptimalCanvasAndContext(e, t, n = 1) {
    (e = Math.ceil(e * n - 1e-6)),
      (t = Math.ceil(t * n - 1e-6)),
      (e = Lu(e)),
      (t = Lu(t));
    const i = (e << 17) + (t << 1);
    this._canvasPool[i] || (this._canvasPool[i] = []);
    let s = this._canvasPool[i].pop();
    return s || (s = this._createCanvasAndContext(e, t)), s;
  }
  returnCanvasAndContext(e) {
    const t = e.canvas,
      { width: n, height: i } = t,
      s = (n << 17) + (i << 1);
    this._canvasPool[s].push(e);
  }
  clear() {
    this._canvasPool = {};
  }
}
const ro = new aK();
var lK = Object.defineProperty,
  uK = Object.defineProperties,
  cK = Object.getOwnPropertyDescriptors,
  Pk = Object.getOwnPropertySymbols,
  hK = Object.prototype.hasOwnProperty,
  dK = Object.prototype.propertyIsEnumerable,
  Ck = (r, e, t) =>
    e in r
      ? lK(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  fK = (r, e) => {
    for (var t in e || (e = {})) hK.call(e, t) && Ck(r, t, e[t]);
    if (Pk) for (var t of Pk(e)) dK.call(e, t) && Ck(r, t, e[t]);
    return r;
  },
  pK = (r, e) => uK(r, cK(e));
let mK = 0;
class gK {
  constructor(e) {
    (this._poolKeyHash = Object.create(null)),
      (this._texturePool = {}),
      (this.textureOptions = e || {}),
      (this.enableFullScreen = !1);
  }
  createTexture(e, t, n) {
    const i = new br(
      pK(fK({}, this.textureOptions), {
        width: e,
        height: t,
        resolution: 1,
        antialias: n,
        autoGarbageCollect: !0,
      })
    );
    return new fe({ source: i, label: `texturePool_${mK++}` });
  }
  getOptimalTexture(e, t, n = 1, i) {
    let s = Math.ceil(e * n - 1e-6),
      o = Math.ceil(t * n - 1e-6);
    (s = Lu(s)), (o = Lu(o));
    const a = (s << 17) + (o << 1) + (i ? 1 : 0);
    this._texturePool[a] || (this._texturePool[a] = []);
    let l = this._texturePool[a].pop();
    return (
      l || (l = this.createTexture(s, o, i)),
      (l.source._resolution = n),
      (l.source.width = s / n),
      (l.source.height = o / n),
      (l.source.pixelWidth = s),
      (l.source.pixelHeight = o),
      (l.frame.x = 0),
      (l.frame.y = 0),
      (l.frame.width = e),
      (l.frame.height = t),
      l.updateUvs(),
      (this._poolKeyHash[l.uid] = a),
      l
    );
  }
  getSameSizeTexture(e, t = !1) {
    const n = e.source;
    return this.getOptimalTexture(e.width, e.height, n._resolution, t);
  }
  returnTexture(e) {
    const t = this._poolKeyHash[e.uid];
    this._texturePool[t].push(e);
  }
  clear(e) {
    if (((e = e !== !1), e))
      for (const t in this._texturePool) {
        const n = this._texturePool[t];
        if (n) for (let i = 0; i < n.length; i++) n[i].destroy(!0);
      }
    this._texturePool = {};
  }
}
const Qr = new gK();
function Rk(r, e, t) {
  for (let n = 0, i = 4 * t * e; n < e; ++n, i += 4)
    if (r[i + 3] !== 0) return !1;
  return !0;
}
function Dk(r, e, t, n, i) {
  const s = 4 * e;
  for (let o = n, a = n * s + 4 * t; o <= i; ++o, a += s)
    if (r[a + 3] !== 0) return !1;
  return !0;
}
function _K(r, e = 1) {
  const { width: t, height: n } = r,
    i = r.getContext("2d", { willReadFrequently: !0 });
  if (i === null) throw new TypeError("Failed to get canvas 2D context");
  const o = i.getImageData(0, 0, t, n).data;
  let a = 0,
    l = 0,
    u = t - 1,
    c = n - 1;
  for (; l < n && Rk(o, t, l); ) ++l;
  if (l === n) return dt.EMPTY;
  for (; Rk(o, t, c); ) --c;
  for (; Dk(o, t, a, l, c); ) ++a;
  for (; Dk(o, t, u, l, c); ) --u;
  return ++u, ++c, new dt(a / e, l / e, (u - a) / e, (c - l) / e);
}
const PO = class _x {
  constructor(e, t, n, i) {
    (this.uid = Nt("fillGradient")),
      (this.type = "linear"),
      (this.gradientStops = []),
      (this._styleKey = null),
      (this.x0 = e),
      (this.y0 = t),
      (this.x1 = n),
      (this.y1 = i);
  }
  addColorStop(e, t) {
    return (
      this.gradientStops.push({
        offset: e,
        color: at.shared.setValue(t).toHex(),
      }),
      (this._styleKey = null),
      this
    );
  }
  buildLinearGradient() {
    const e = _x.defaultTextureSize,
      { gradientStops: t } = this,
      n = nt.get().createCanvas();
    (n.width = e), (n.height = e);
    const i = n.getContext("2d"),
      s = i.createLinearGradient(0, 0, _x.defaultTextureSize, 1);
    for (let g = 0; g < t.length; g++) {
      const _ = t[g];
      s.addColorStop(_.offset, _.color);
    }
    (i.fillStyle = s),
      i.fillRect(0, 0, e, e),
      (this.texture = new fe({
        source: new ec({
          resource: n,
          addressModeU: "clamp-to-edge",
          addressModeV: "repeat",
        }),
      }));
    const { x0: o, y0: a, x1: l, y1: u } = this,
      c = new we(),
      h = l - o,
      d = u - a,
      f = Math.sqrt(h * h + d * d),
      m = Math.atan2(d, h);
    c.translate(-o, -a),
      c.scale(1 / e, 1 / e),
      c.rotate(-m),
      c.scale(256 / f, 1),
      (this.transform = c),
      (this._styleKey = null);
  }
  get styleKey() {
    if (this._styleKey) return this._styleKey;
    const e = this.gradientStops.map((i) => `${i.offset}-${i.color}`).join("-"),
      t = this.texture.uid,
      n = this.transform.toArray().join("-");
    return `fill-gradient-${this.uid}-${e}-${t}-${n}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`;
  }
};
PO.defaultTextureSize = 256;
let Vh = PO;
const Mk = {
  repeat: { addressModeU: "repeat", addressModeV: "repeat" },
  "repeat-x": { addressModeU: "repeat", addressModeV: "clamp-to-edge" },
  "repeat-y": { addressModeU: "clamp-to-edge", addressModeV: "repeat" },
  "no-repeat": { addressModeU: "clamp-to-edge", addressModeV: "clamp-to-edge" },
};
class Bg {
  constructor(e, t) {
    (this.uid = Nt("fillPattern")),
      (this.transform = new we()),
      (this._styleKey = null),
      (this.texture = e),
      this.transform.scale(1 / e.frame.width, 1 / e.frame.height),
      t &&
        ((e.source.style.addressModeU = Mk[t].addressModeU),
        (e.source.style.addressModeV = Mk[t].addressModeV));
  }
  setTransform(e) {
    const t = this.texture;
    this.transform.copyFrom(e),
      this.transform.invert(),
      this.transform.scale(1 / t.frame.width, 1 / t.frame.height),
      (this._styleKey = null);
  }
  get styleKey() {
    return this._styleKey
      ? this._styleKey
      : ((this._styleKey = `fill-pattern-${this.uid}-${
          this.texture.uid
        }-${this.transform.toArray().join("-")}`),
        this._styleKey);
  }
}
var yK = xK,
  N0 = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 },
  vK = /([astvzqmhlc])([^astvzqmhlc]*)/gi;
function xK(r) {
  var e = [];
  return (
    r.replace(vK, function (t, n, i) {
      var s = n.toLowerCase();
      for (
        i = bK(i),
          s == "m" &&
            i.length > 2 &&
            (e.push([n].concat(i.splice(0, 2))),
            (s = "l"),
            (n = n == "m" ? "l" : "L"));
        ;

      ) {
        if (i.length == N0[s]) return i.unshift(n), e.push(i);
        if (i.length < N0[s]) throw new Error("malformed path data");
        e.push([n].concat(i.splice(0, N0[s])));
      }
    }),
    e
  );
}
var wK = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;
function bK(r) {
  var e = r.match(wK);
  return e ? e.map(Number) : [];
}
var SK = Bb(yK);
function EK(r, e) {
  const t = SK(r),
    n = [];
  let i = null,
    s = 0,
    o = 0;
  for (let a = 0; a < t.length; a++) {
    const l = t[a],
      u = l[0],
      c = l;
    switch (u) {
      case "M":
        (s = c[1]), (o = c[2]), e.moveTo(s, o);
        break;
      case "m":
        (s += c[1]), (o += c[2]), e.moveTo(s, o);
        break;
      case "H":
        (s = c[1]), e.lineTo(s, o);
        break;
      case "h":
        (s += c[1]), e.lineTo(s, o);
        break;
      case "V":
        (o = c[1]), e.lineTo(s, o);
        break;
      case "v":
        (o += c[1]), e.lineTo(s, o);
        break;
      case "L":
        (s = c[1]), (o = c[2]), e.lineTo(s, o);
        break;
      case "l":
        (s += c[1]), (o += c[2]), e.lineTo(s, o);
        break;
      case "C":
        (s = c[5]), (o = c[6]), e.bezierCurveTo(c[1], c[2], c[3], c[4], s, o);
        break;
      case "c":
        e.bezierCurveTo(
          s + c[1],
          o + c[2],
          s + c[3],
          o + c[4],
          s + c[5],
          o + c[6]
        ),
          (s += c[5]),
          (o += c[6]);
        break;
      case "S":
        (s = c[3]), (o = c[4]), e.bezierCurveToShort(c[1], c[2], s, o);
        break;
      case "s":
        e.bezierCurveToShort(s + c[1], o + c[2], s + c[3], o + c[4]),
          (s += c[3]),
          (o += c[4]);
        break;
      case "Q":
        (s = c[3]), (o = c[4]), e.quadraticCurveTo(c[1], c[2], s, o);
        break;
      case "q":
        e.quadraticCurveTo(s + c[1], o + c[2], s + c[3], o + c[4]),
          (s += c[3]),
          (o += c[4]);
        break;
      case "T":
        (s = c[1]), (o = c[2]), e.quadraticCurveToShort(s, o);
        break;
      case "t":
        (s += c[1]), (o += c[2]), e.quadraticCurveToShort(s, o);
        break;
      case "A":
        (s = c[6]), (o = c[7]), e.arcToSvg(c[1], c[2], c[3], c[4], c[5], s, o);
        break;
      case "a":
        (s += c[6]),
          (o += c[7]),
          e.arcToSvg(c[1], c[2], c[3], c[4], c[5], s, o);
        break;
      case "Z":
      case "z":
        e.closePath(),
          n.length > 0 &&
            ((i = n.pop()),
            i ? ((s = i.startX), (o = i.startY)) : ((s = 0), (o = 0))),
          (i = null);
        break;
      default:
        Be(`Unknown SVG path command: ${u}`);
    }
    u !== "Z" &&
      u !== "z" &&
      i === null &&
      ((i = { startX: s, startY: o }), n.push(i));
  }
  return e;
}
class Vb {
  constructor(e = 0, t = 0, n = 0) {
    (this.type = "circle"), (this.x = e), (this.y = t), (this.radius = n);
  }
  clone() {
    return new Vb(this.x, this.y, this.radius);
  }
  contains(e, t) {
    if (this.radius <= 0) return !1;
    const n = this.radius * this.radius;
    let i = this.x - e,
      s = this.y - t;
    return (i *= i), (s *= s), i + s <= n;
  }
  strokeContains(e, t, n) {
    if (this.radius === 0) return !1;
    const i = this.x - e,
      s = this.y - t,
      o = this.radius,
      a = n / 2,
      l = Math.sqrt(i * i + s * s);
    return l < o + a && l > o - a;
  }
  getBounds(e) {
    return (
      (e = e || new dt()),
      (e.x = this.x - this.radius),
      (e.y = this.y - this.radius),
      (e.width = this.radius * 2),
      (e.height = this.radius * 2),
      e
    );
  }
  copyFrom(e) {
    return (this.x = e.x), (this.y = e.y), (this.radius = e.radius), this;
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;
  }
}
class Xb {
  constructor(e = 0, t = 0, n = 0, i = 0) {
    (this.type = "ellipse"),
      (this.x = e),
      (this.y = t),
      (this.halfWidth = n),
      (this.halfHeight = i);
  }
  clone() {
    return new Xb(this.x, this.y, this.halfWidth, this.halfHeight);
  }
  contains(e, t) {
    if (this.halfWidth <= 0 || this.halfHeight <= 0) return !1;
    let n = (e - this.x) / this.halfWidth,
      i = (t - this.y) / this.halfHeight;
    return (n *= n), (i *= i), n + i <= 1;
  }
  strokeContains(e, t, n) {
    const { halfWidth: i, halfHeight: s } = this;
    if (i <= 0 || s <= 0) return !1;
    const o = n / 2,
      a = i - o,
      l = s - o,
      u = i + o,
      c = s + o,
      h = e - this.x,
      d = t - this.y,
      f = (h * h) / (a * a) + (d * d) / (l * l),
      m = (h * h) / (u * u) + (d * d) / (c * c);
    return f > 1 && m <= 1;
  }
  getBounds() {
    return new dt(
      this.x - this.halfWidth,
      this.y - this.halfHeight,
      this.halfWidth * 2,
      this.halfHeight * 2
    );
  }
  copyFrom(e) {
    return (
      (this.x = e.x),
      (this.y = e.y),
      (this.halfWidth = e.halfWidth),
      (this.halfHeight = e.halfHeight),
      this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`;
  }
}
function TK(r, e, t, n, i, s) {
  const o = r - t,
    a = e - n,
    l = i - t,
    u = s - n,
    c = o * l + a * u,
    h = l * l + u * u;
  let d = -1;
  h !== 0 && (d = c / h);
  let f, m;
  d < 0
    ? ((f = t), (m = n))
    : d > 1
    ? ((f = i), (m = s))
    : ((f = t + d * l), (m = n + d * u));
  const g = r - f,
    _ = e - m;
  return g * g + _ * _;
}
class ih {
  constructor(...e) {
    this.type = "polygon";
    let t = Array.isArray(e[0]) ? e[0] : e;
    if (typeof t[0] != "number") {
      const n = [];
      for (let i = 0, s = t.length; i < s; i++) n.push(t[i].x, t[i].y);
      t = n;
    }
    (this.points = t), (this.closePath = !0);
  }
  clone() {
    const e = this.points.slice(),
      t = new ih(e);
    return (t.closePath = this.closePath), t;
  }
  contains(e, t) {
    let n = !1;
    const i = this.points.length / 2;
    for (let s = 0, o = i - 1; s < i; o = s++) {
      const a = this.points[s * 2],
        l = this.points[s * 2 + 1],
        u = this.points[o * 2],
        c = this.points[o * 2 + 1];
      l > t != c > t && e < (u - a) * ((t - l) / (c - l)) + a && (n = !n);
    }
    return n;
  }
  strokeContains(e, t, n) {
    const i = n / 2,
      s = i * i,
      { points: o } = this,
      a = o.length - (this.closePath ? 0 : 2);
    for (let l = 0; l < a; l += 2) {
      const u = o[l],
        c = o[l + 1],
        h = o[(l + 2) % o.length],
        d = o[(l + 3) % o.length];
      if (TK(e, t, u, c, h, d) <= s) return !0;
    }
    return !1;
  }
  getBounds(e) {
    e = e || new dt();
    const t = this.points;
    let n = 1 / 0,
      i = -1 / 0,
      s = 1 / 0,
      o = -1 / 0;
    for (let a = 0, l = t.length; a < l; a += 2) {
      const u = t[a],
        c = t[a + 1];
      (n = u < n ? u : n),
        (i = u > i ? u : i),
        (s = c < s ? c : s),
        (o = c > o ? c : o);
    }
    return (e.x = n), (e.width = i - n), (e.y = s), (e.height = o - s), e;
  }
  copyFrom(e) {
    return (
      (this.points = e.points.slice()), (this.closePath = e.closePath), this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  toString() {
    return `[pixi.js/math:PolygoncloseStroke=${
      this.closePath
    }points=${this.points.reduce((e, t) => `${e}, ${t}`, "")}]`;
  }
  get lastX() {
    return this.points[this.points.length - 2];
  }
  get lastY() {
    return this.points[this.points.length - 1];
  }
  get x() {
    return this.points[this.points.length - 2];
  }
  get y() {
    return this.points[this.points.length - 1];
  }
}
const lf = (r, e, t, n, i, s) => {
  const o = r - t,
    a = e - n,
    l = Math.sqrt(o * o + a * a);
  return l >= i - s && l <= i + s;
};
class Yb {
  constructor(e = 0, t = 0, n = 0, i = 0, s = 20) {
    (this.type = "roundedRectangle"),
      (this.x = e),
      (this.y = t),
      (this.width = n),
      (this.height = i),
      (this.radius = s);
  }
  getBounds(e) {
    return (
      (e = e || new dt()),
      (e.x = this.x),
      (e.y = this.y),
      (e.width = this.width),
      (e.height = this.height),
      e
    );
  }
  clone() {
    return new Yb(this.x, this.y, this.width, this.height, this.radius);
  }
  copyFrom(e) {
    return (
      (this.x = e.x),
      (this.y = e.y),
      (this.width = e.width),
      (this.height = e.height),
      this
    );
  }
  copyTo(e) {
    return e.copyFrom(this), e;
  }
  contains(e, t) {
    if (this.width <= 0 || this.height <= 0) return !1;
    if (
      e >= this.x &&
      e <= this.x + this.width &&
      t >= this.y &&
      t <= this.y + this.height
    ) {
      const n = Math.max(
        0,
        Math.min(this.radius, Math.min(this.width, this.height) / 2)
      );
      if (
        (t >= this.y + n && t <= this.y + this.height - n) ||
        (e >= this.x + n && e <= this.x + this.width - n)
      )
        return !0;
      let i = e - (this.x + n),
        s = t - (this.y + n);
      const o = n * n;
      if (
        i * i + s * s <= o ||
        ((i = e - (this.x + this.width - n)), i * i + s * s <= o) ||
        ((s = t - (this.y + this.height - n)), i * i + s * s <= o) ||
        ((i = e - (this.x + n)), i * i + s * s <= o)
      )
        return !0;
    }
    return !1;
  }
  strokeContains(e, t, n) {
    const { x: i, y: s, width: o, height: a, radius: l } = this,
      u = n / 2,
      c = i + l,
      h = s + l,
      d = o - l * 2,
      f = a - l * 2,
      m = i + o,
      g = s + a;
    return (((e >= i - u && e <= i + u) || (e >= m - u && e <= m + u)) &&
      t >= h &&
      t <= h + f) ||
      (((t >= s - u && t <= s + u) || (t >= g - u && t <= g + u)) &&
        e >= c &&
        e <= c + d)
      ? !0
      : (e < c && t < h && lf(e, t, c, h, l, u)) ||
          (e > m - l && t < h && lf(e, t, m - l, h, l, u)) ||
          (e > m - l && t > g - l && lf(e, t, m - l, g - l, l, u)) ||
          (e < c && t > g - l && lf(e, t, c, g - l, l, u));
  }
  toString() {
    return `[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;
  }
}
const kK = 8,
  uf = 11920929e-14,
  AK = 1;
function CO(r, e, t, n, i, s, o, a, l, u) {
  const h = Math.min(
    0.99,
    Math.max(0, u ?? zb.defaultOptions.bezierSmoothness)
  );
  let d = (AK - h) / 1;
  return (d *= d), PK(e, t, n, i, s, o, a, l, r, d), r;
}
function PK(r, e, t, n, i, s, o, a, l, u) {
  yx(r, e, t, n, i, s, o, a, l, u, 0), l.push(o, a);
}
function yx(r, e, t, n, i, s, o, a, l, u, c) {
  if (c > kK) return;
  const h = (r + t) / 2,
    d = (e + n) / 2,
    f = (t + i) / 2,
    m = (n + s) / 2,
    g = (i + o) / 2,
    _ = (s + a) / 2,
    v = (h + f) / 2,
    w = (d + m) / 2,
    x = (f + g) / 2,
    k = (m + _) / 2,
    C = (v + x) / 2,
    F = (w + k) / 2;
  if (c > 0) {
    let I = o - r,
      G = a - e;
    const j = Math.abs((t - o) * G - (n - a) * I),
      $ = Math.abs((i - o) * G - (s - a) * I);
    if (j > uf && $ > uf) {
      if ((j + $) * (j + $) <= u * (I * I + G * G)) {
        l.push(C, F);
        return;
      }
    } else if (j > uf) {
      if (j * j <= u * (I * I + G * G)) {
        l.push(C, F);
        return;
      }
    } else if ($ > uf) {
      if ($ * $ <= u * (I * I + G * G)) {
        l.push(C, F);
        return;
      }
    } else if (
      ((I = C - (r + o) / 2), (G = F - (e + a) / 2), I * I + G * G <= u)
    ) {
      l.push(C, F);
      return;
    }
  }
  yx(r, e, h, d, v, w, C, F, l, u, c + 1),
    yx(C, F, x, k, g, _, o, a, l, u, c + 1);
}
const CK = 8,
  RK = 11920929e-14,
  DK = 1;
function MK(r, e, t, n, i, s, o, a) {
  const u = Math.min(
    0.99,
    Math.max(0, a ?? zb.defaultOptions.bezierSmoothness)
  );
  let c = (DK - u) / 1;
  return (c *= c), BK(e, t, n, i, s, o, r, c), r;
}
function BK(r, e, t, n, i, s, o, a) {
  vx(o, r, e, t, n, i, s, a, 0), o.push(i, s);
}
function vx(r, e, t, n, i, s, o, a, l) {
  if (l > CK) return;
  const u = (e + n) / 2,
    c = (t + i) / 2,
    h = (n + s) / 2,
    d = (i + o) / 2,
    f = (u + h) / 2,
    m = (c + d) / 2;
  let g = s - e,
    _ = o - t;
  const v = Math.abs((n - s) * _ - (i - o) * g);
  if (v > RK) {
    if (v * v <= a * (g * g + _ * _)) {
      r.push(f, m);
      return;
    }
  } else if (
    ((g = f - (e + s) / 2), (_ = m - (t + o) / 2), g * g + _ * _ <= a)
  ) {
    r.push(f, m);
    return;
  }
  vx(r, e, t, u, c, f, m, a, l + 1), vx(r, f, m, h, d, s, o, a, l + 1);
}
function RO(r, e, t, n, i, s, o, a) {
  let l = Math.abs(i - s);
  ((!o && i > s) || (o && s > i)) && (l = 2 * Math.PI - l),
    (a = a || Math.max(6, Math.floor(6 * Math.pow(n, 1 / 3) * (l / Math.PI)))),
    (a = Math.max(a, 3));
  let u = l / a,
    c = i;
  u *= o ? -1 : 1;
  for (let h = 0; h < a + 1; h++) {
    const d = Math.cos(c),
      f = Math.sin(c),
      m = e + d * n,
      g = t + f * n;
    r.push(m, g), (c += u);
  }
}
function OK(r, e, t, n, i, s) {
  const o = r[r.length - 2],
    l = r[r.length - 1] - t,
    u = o - e,
    c = i - t,
    h = n - e,
    d = Math.abs(l * h - u * c);
  if (d < 1e-8 || s === 0) {
    (r[r.length - 2] !== e || r[r.length - 1] !== t) && r.push(e, t);
    return;
  }
  const f = l * l + u * u,
    m = c * c + h * h,
    g = l * c + u * h,
    _ = (s * Math.sqrt(f)) / d,
    v = (s * Math.sqrt(m)) / d,
    w = (_ * g) / f,
    x = (v * g) / m,
    k = _ * h + v * u,
    C = _ * c + v * l,
    F = u * (v + w),
    I = l * (v + w),
    G = h * (_ + x),
    j = c * (_ + x),
    $ = Math.atan2(I - C, F - k),
    H = Math.atan2(j - C, G - k);
  RO(r, k + e, C + t, s, $, H, u * c > h * l);
}
const sh = Math.PI * 2,
  L0 = { centerX: 0, centerY: 0, ang1: 0, ang2: 0 },
  U0 = ({ x: r, y: e }, t, n, i, s, o, a, l) => {
    (r *= t), (e *= n);
    const u = i * r - s * e,
      c = s * r + i * e;
    return (l.x = u + o), (l.y = c + a), l;
  };
function IK(r, e) {
  const t =
      e === -1.5707963267948966
        ? -0.551915024494
        : 1.3333333333333333 * Math.tan(e / 4),
    n = e === 1.5707963267948966 ? 0.551915024494 : t,
    i = Math.cos(r),
    s = Math.sin(r),
    o = Math.cos(r + e),
    a = Math.sin(r + e);
  return [
    { x: i - s * n, y: s + i * n },
    { x: o + a * n, y: a - o * n },
    { x: o, y: a },
  ];
}
const Bk = (r, e, t, n) => {
    const i = r * n - e * t < 0 ? -1 : 1;
    let s = r * t + e * n;
    return s > 1 && (s = 1), s < -1 && (s = -1), i * Math.acos(s);
  },
  FK = (r, e, t, n, i, s, o, a, l, u, c, h, d) => {
    const f = Math.pow(i, 2),
      m = Math.pow(s, 2),
      g = Math.pow(c, 2),
      _ = Math.pow(h, 2);
    let v = f * m - f * _ - m * g;
    v < 0 && (v = 0),
      (v /= f * _ + m * g),
      (v = Math.sqrt(v) * (o === a ? -1 : 1));
    const w = ((v * i) / s) * h,
      x = ((v * -s) / i) * c,
      k = u * w - l * x + (r + t) / 2,
      C = l * w + u * x + (e + n) / 2,
      F = (c - w) / i,
      I = (h - x) / s,
      G = (-c - w) / i,
      j = (-h - x) / s,
      $ = Bk(1, 0, F, I);
    let H = Bk(F, I, G, j);
    a === 0 && H > 0 && (H -= sh),
      a === 1 && H < 0 && (H += sh),
      (d.centerX = k),
      (d.centerY = C),
      (d.ang1 = $),
      (d.ang2 = H);
  };
function NK(r, e, t, n, i, s, o, a = 0, l = 0, u = 0) {
  if (s === 0 || o === 0) return;
  const c = Math.sin((a * sh) / 360),
    h = Math.cos((a * sh) / 360),
    d = (h * (e - n)) / 2 + (c * (t - i)) / 2,
    f = (-c * (e - n)) / 2 + (h * (t - i)) / 2;
  if (d === 0 && f === 0) return;
  (s = Math.abs(s)), (o = Math.abs(o));
  const m = Math.pow(d, 2) / Math.pow(s, 2) + Math.pow(f, 2) / Math.pow(o, 2);
  m > 1 && ((s *= Math.sqrt(m)), (o *= Math.sqrt(m))),
    FK(e, t, n, i, s, o, l, u, c, h, d, f, L0);
  let { ang1: g, ang2: _ } = L0;
  const { centerX: v, centerY: w } = L0;
  let x = Math.abs(_) / (sh / 4);
  Math.abs(1 - x) < 1e-7 && (x = 1);
  const k = Math.max(Math.ceil(x), 1);
  _ /= k;
  let C = r[r.length - 2],
    F = r[r.length - 1];
  const I = { x: 0, y: 0 };
  for (let G = 0; G < k; G++) {
    const j = IK(g, _),
      { x: $, y: H } = U0(j[0], s, o, h, c, v, w, I),
      { x: Q, y: O } = U0(j[1], s, o, h, c, v, w, I),
      { x: y, y: T } = U0(j[2], s, o, h, c, v, w, I);
    CO(r, C, F, $, H, Q, O, y, T), (C = y), (F = T), (g += _);
  }
}
function LK(r, e, t) {
  var n;
  const i = (a, l) => {
      const u = l.x - a.x,
        c = l.y - a.y,
        h = Math.sqrt(u * u + c * c),
        d = u / h,
        f = c / h;
      return { len: h, nx: d, ny: f };
    },
    s = (a, l) => {
      a === 0 ? r.moveTo(l.x, l.y) : r.lineTo(l.x, l.y);
    };
  let o = e[e.length - 1];
  for (let a = 0; a < e.length; a++) {
    const l = e[a % e.length],
      u = (n = l.radius) != null ? n : t;
    if (u <= 0) {
      s(a, l), (o = l);
      continue;
    }
    const c = e[(a + 1) % e.length],
      h = i(l, o),
      d = i(l, c);
    if (h.len < 1e-4 || d.len < 1e-4) {
      s(a, l), (o = l);
      continue;
    }
    let f = Math.asin(h.nx * d.ny - h.ny * d.nx),
      m = 1,
      g = !1;
    h.nx * d.nx - h.ny * -d.ny < 0
      ? f < 0
        ? (f = Math.PI + f)
        : ((f = Math.PI - f), (m = -1), (g = !0))
      : f > 0 && ((m = -1), (g = !0));
    const _ = f / 2;
    let v,
      w = Math.abs((Math.cos(_) * u) / Math.sin(_));
    w > Math.min(h.len / 2, d.len / 2)
      ? ((w = Math.min(h.len / 2, d.len / 2)),
        (v = Math.abs((w * Math.sin(_)) / Math.cos(_))))
      : (v = u);
    const x = l.x + d.nx * w + -d.ny * v * m,
      k = l.y + d.ny * w + d.nx * v * m,
      C = Math.atan2(h.ny, h.nx) + (Math.PI / 2) * m,
      F = Math.atan2(d.ny, d.nx) - (Math.PI / 2) * m;
    a === 0 && r.moveTo(x + Math.cos(C) * v, k + Math.sin(C) * v),
      r.arc(x, k, v, C, F, g),
      (o = l);
  }
}
function UK(r, e, t, n) {
  var i;
  const s = (l, u) => Math.sqrt((l.x - u.x) ** 2 + (l.y - u.y) ** 2),
    o = (l, u, c) => ({ x: l.x + (u.x - l.x) * c, y: l.y + (u.y - l.y) * c }),
    a = e.length;
  for (let l = 0; l < a; l++) {
    const u = e[(l + 1) % a],
      c = (i = u.radius) != null ? i : t;
    if (c <= 0) {
      l === 0 ? r.moveTo(u.x, u.y) : r.lineTo(u.x, u.y);
      continue;
    }
    const h = e[l],
      d = e[(l + 2) % a],
      f = s(h, u);
    let m;
    if (f < 1e-4) m = u;
    else {
      const v = Math.min(f / 2, c);
      m = o(u, h, v / f);
    }
    const g = s(d, u);
    let _;
    if (g < 1e-4) _ = u;
    else {
      const v = Math.min(g / 2, c);
      _ = o(u, d, v / g);
    }
    l === 0 ? r.moveTo(m.x, m.y) : r.lineTo(m.x, m.y),
      r.quadraticCurveTo(u.x, u.y, _.x, _.y, n);
  }
}
const GK = new dt();
class jK {
  constructor(e) {
    (this.shapePrimitives = []),
      (this._currentPoly = null),
      (this._bounds = new ei()),
      (this._graphicsPath2D = e);
  }
  moveTo(e, t) {
    return this.startPoly(e, t), this;
  }
  lineTo(e, t) {
    this._ensurePoly();
    const n = this._currentPoly.points,
      i = n[n.length - 2],
      s = n[n.length - 1];
    return (i !== e || s !== t) && n.push(e, t), this;
  }
  arc(e, t, n, i, s, o) {
    this._ensurePoly(!1);
    const a = this._currentPoly.points;
    return RO(a, e, t, n, i, s, o), this;
  }
  arcTo(e, t, n, i, s) {
    this._ensurePoly();
    const o = this._currentPoly.points;
    return OK(o, e, t, n, i, s), this;
  }
  arcToSvg(e, t, n, i, s, o, a) {
    const l = this._currentPoly.points;
    return (
      NK(
        l,
        this._currentPoly.lastX,
        this._currentPoly.lastY,
        o,
        a,
        e,
        t,
        n,
        i,
        s
      ),
      this
    );
  }
  bezierCurveTo(e, t, n, i, s, o, a) {
    this._ensurePoly();
    const l = this._currentPoly;
    return (
      CO(this._currentPoly.points, l.lastX, l.lastY, e, t, n, i, s, o, a), this
    );
  }
  quadraticCurveTo(e, t, n, i, s) {
    this._ensurePoly();
    const o = this._currentPoly;
    return MK(this._currentPoly.points, o.lastX, o.lastY, e, t, n, i, s), this;
  }
  closePath() {
    return this.endPoly(!0), this;
  }
  addPath(e, t) {
    this.endPoly(), t && !t.isIdentity() && ((e = e.clone(!0)), e.transform(t));
    for (let n = 0; n < e.instructions.length; n++) {
      const i = e.instructions[n];
      this[i.action](...i.data);
    }
    return this;
  }
  finish(e = !1) {
    this.endPoly(e);
  }
  rect(e, t, n, i, s) {
    return this.drawShape(new dt(e, t, n, i), s), this;
  }
  circle(e, t, n, i) {
    return this.drawShape(new Vb(e, t, n), i), this;
  }
  poly(e, t, n) {
    const i = new ih(e);
    return (i.closePath = t), this.drawShape(i, n), this;
  }
  regularPoly(e, t, n, i, s = 0, o) {
    i = Math.max(i | 0, 3);
    const a = (-1 * Math.PI) / 2 + s,
      l = (Math.PI * 2) / i,
      u = [];
    for (let c = 0; c < i; c++) {
      const h = c * l + a;
      u.push(e + n * Math.cos(h), t + n * Math.sin(h));
    }
    return this.poly(u, !0, o), this;
  }
  roundPoly(e, t, n, i, s, o = 0, a) {
    if (((i = Math.max(i | 0, 3)), s <= 0))
      return this.regularPoly(e, t, n, i, o);
    const l = n * Math.sin(Math.PI / i) - 0.001;
    s = Math.min(s, l);
    const u = (-1 * Math.PI) / 2 + o,
      c = (Math.PI * 2) / i,
      h = ((i - 2) * Math.PI) / i / 2;
    for (let d = 0; d < i; d++) {
      const f = d * c + u,
        m = e + n * Math.cos(f),
        g = t + n * Math.sin(f),
        _ = f + Math.PI + h,
        v = f - Math.PI - h,
        w = m + s * Math.cos(_),
        x = g + s * Math.sin(_),
        k = m + s * Math.cos(v),
        C = g + s * Math.sin(v);
      d === 0 ? this.moveTo(w, x) : this.lineTo(w, x),
        this.quadraticCurveTo(m, g, k, C, a);
    }
    return this.closePath();
  }
  roundShape(e, t, n = !1, i) {
    return e.length < 3
      ? this
      : (n ? UK(this, e, t, i) : LK(this, e, t), this.closePath());
  }
  filletRect(e, t, n, i, s) {
    if (s === 0) return this.rect(e, t, n, i);
    const o = Math.min(n, i) / 2,
      a = Math.min(o, Math.max(-o, s)),
      l = e + n,
      u = t + i,
      c = a < 0 ? -a : 0,
      h = Math.abs(a);
    return this.moveTo(e, t + h)
      .arcTo(e + c, t + c, e + h, t, h)
      .lineTo(l - h, t)
      .arcTo(l - c, t + c, l, t + h, h)
      .lineTo(l, u - h)
      .arcTo(l - c, u - c, e + n - h, u, h)
      .lineTo(e + h, u)
      .arcTo(e + c, u - c, e, u - h, h)
      .closePath();
  }
  chamferRect(e, t, n, i, s, o) {
    if (s <= 0) return this.rect(e, t, n, i);
    const a = Math.min(s, Math.min(n, i) / 2),
      l = e + n,
      u = t + i,
      c = [
        e + a,
        t,
        l - a,
        t,
        l,
        t + a,
        l,
        u - a,
        l - a,
        u,
        e + a,
        u,
        e,
        u - a,
        e,
        t + a,
      ];
    for (let h = c.length - 1; h >= 2; h -= 2)
      c[h] === c[h - 2] && c[h - 1] === c[h - 3] && c.splice(h - 1, 2);
    return this.poly(c, !0, o);
  }
  ellipse(e, t, n, i, s) {
    return this.drawShape(new Xb(e, t, n, i), s), this;
  }
  roundRect(e, t, n, i, s, o) {
    return this.drawShape(new Yb(e, t, n, i, s), o), this;
  }
  drawShape(e, t) {
    return (
      this.endPoly(),
      this.shapePrimitives.push({ shape: e, transform: t }),
      this
    );
  }
  startPoly(e, t) {
    let n = this._currentPoly;
    return (
      n && this.endPoly(),
      (n = new ih()),
      n.points.push(e, t),
      (this._currentPoly = n),
      this
    );
  }
  endPoly(e = !1) {
    const t = this._currentPoly;
    return (
      t &&
        t.points.length > 2 &&
        ((t.closePath = e), this.shapePrimitives.push({ shape: t })),
      (this._currentPoly = null),
      this
    );
  }
  _ensurePoly(e = !0) {
    if (!this._currentPoly && ((this._currentPoly = new ih()), e)) {
      const t = this.shapePrimitives[this.shapePrimitives.length - 1];
      if (t) {
        let n = t.shape.x,
          i = t.shape.y;
        if (!t.transform.isIdentity()) {
          const s = t.transform,
            o = n;
          (n = s.a * n + s.c * i + s.tx), (i = s.b * o + s.d * i + s.ty);
        }
        this._currentPoly.points.push(n, i);
      } else this._currentPoly.points.push(0, 0);
    }
  }
  buildPath() {
    const e = this._graphicsPath2D;
    (this.shapePrimitives.length = 0), (this._currentPoly = null);
    for (let t = 0; t < e.instructions.length; t++) {
      const n = e.instructions[t];
      this[n.action](...n.data);
    }
    this.finish();
  }
  get bounds() {
    const e = this._bounds;
    e.clear();
    const t = this.shapePrimitives;
    for (let n = 0; n < t.length; n++) {
      const i = t[n],
        s = i.shape.getBounds(GK);
      i.transform ? e.addRect(s, i.transform) : e.addRect(s);
    }
    return e;
  }
}
class Gu {
  constructor(e) {
    (this.instructions = []),
      (this.uid = Nt("graphicsPath")),
      (this._dirty = !0);
    var t;
    typeof e == "string"
      ? EK(e, this)
      : (this.instructions =
          (t = e == null ? void 0 : e.slice()) != null ? t : []);
  }
  get shapePath() {
    return (
      this._shapePath || (this._shapePath = new jK(this)),
      this._dirty && ((this._dirty = !1), this._shapePath.buildPath()),
      this._shapePath
    );
  }
  addPath(e, t) {
    return (
      (e = e.clone()),
      this.instructions.push({ action: "addPath", data: [e, t] }),
      (this._dirty = !0),
      this
    );
  }
  arc(...e) {
    return (
      this.instructions.push({ action: "arc", data: e }),
      (this._dirty = !0),
      this
    );
  }
  arcTo(...e) {
    return (
      this.instructions.push({ action: "arcTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  arcToSvg(...e) {
    return (
      this.instructions.push({ action: "arcToSvg", data: e }),
      (this._dirty = !0),
      this
    );
  }
  bezierCurveTo(...e) {
    return (
      this.instructions.push({ action: "bezierCurveTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  bezierCurveToShort(e, t, n, i, s) {
    const o = this.instructions[this.instructions.length - 1],
      a = this.getLastPoint(ht.shared);
    let l = 0,
      u = 0;
    if (!o || o.action !== "bezierCurveTo") (l = a.x), (u = a.y);
    else {
      (l = o.data[2]), (u = o.data[3]);
      const c = a.x,
        h = a.y;
      (l = c + (c - l)), (u = h + (h - u));
    }
    return (
      this.instructions.push({
        action: "bezierCurveTo",
        data: [l, u, e, t, n, i, s],
      }),
      (this._dirty = !0),
      this
    );
  }
  closePath() {
    return (
      this.instructions.push({ action: "closePath", data: [] }),
      (this._dirty = !0),
      this
    );
  }
  ellipse(...e) {
    return (
      this.instructions.push({ action: "ellipse", data: e }),
      (this._dirty = !0),
      this
    );
  }
  lineTo(...e) {
    return (
      this.instructions.push({ action: "lineTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  moveTo(...e) {
    return this.instructions.push({ action: "moveTo", data: e }), this;
  }
  quadraticCurveTo(...e) {
    return (
      this.instructions.push({ action: "quadraticCurveTo", data: e }),
      (this._dirty = !0),
      this
    );
  }
  quadraticCurveToShort(e, t, n) {
    const i = this.instructions[this.instructions.length - 1],
      s = this.getLastPoint(ht.shared);
    let o = 0,
      a = 0;
    if (!i || i.action !== "quadraticCurveTo") (o = s.x), (a = s.y);
    else {
      (o = i.data[0]), (a = i.data[1]);
      const l = s.x,
        u = s.y;
      (o = l + (l - o)), (a = u + (u - a));
    }
    return (
      this.instructions.push({
        action: "quadraticCurveTo",
        data: [o, a, e, t, n],
      }),
      (this._dirty = !0),
      this
    );
  }
  rect(e, t, n, i, s) {
    return (
      this.instructions.push({ action: "rect", data: [e, t, n, i, s] }),
      (this._dirty = !0),
      this
    );
  }
  circle(e, t, n, i) {
    return (
      this.instructions.push({ action: "circle", data: [e, t, n, i] }),
      (this._dirty = !0),
      this
    );
  }
  roundRect(...e) {
    return (
      this.instructions.push({ action: "roundRect", data: e }),
      (this._dirty = !0),
      this
    );
  }
  poly(...e) {
    return (
      this.instructions.push({ action: "poly", data: e }),
      (this._dirty = !0),
      this
    );
  }
  regularPoly(...e) {
    return (
      this.instructions.push({ action: "regularPoly", data: e }),
      (this._dirty = !0),
      this
    );
  }
  roundPoly(...e) {
    return (
      this.instructions.push({ action: "roundPoly", data: e }),
      (this._dirty = !0),
      this
    );
  }
  roundShape(...e) {
    return (
      this.instructions.push({ action: "roundShape", data: e }),
      (this._dirty = !0),
      this
    );
  }
  filletRect(...e) {
    return (
      this.instructions.push({ action: "filletRect", data: e }),
      (this._dirty = !0),
      this
    );
  }
  chamferRect(...e) {
    return (
      this.instructions.push({ action: "chamferRect", data: e }),
      (this._dirty = !0),
      this
    );
  }
  star(e, t, n, i, s, o, a) {
    s = s || i / 2;
    const l = (-1 * Math.PI) / 2 + o,
      u = n * 2,
      c = (Math.PI * 2) / u,
      h = [];
    for (let d = 0; d < u; d++) {
      const f = d % 2 ? s : i,
        m = d * c + l;
      h.push(e + f * Math.cos(m), t + f * Math.sin(m));
    }
    return this.poly(h, !0, a), this;
  }
  clone(e = !1) {
    const t = new Gu();
    if (!e) t.instructions = this.instructions.slice();
    else
      for (let n = 0; n < this.instructions.length; n++) {
        const i = this.instructions[n];
        t.instructions.push({ action: i.action, data: i.data.slice() });
      }
    return t;
  }
  clear() {
    return (this.instructions.length = 0), (this._dirty = !0), this;
  }
  transform(e) {
    if (e.isIdentity()) return this;
    const t = e.a,
      n = e.b,
      i = e.c,
      s = e.d,
      o = e.tx,
      a = e.ty;
    let l = 0,
      u = 0,
      c = 0,
      h = 0,
      d = 0,
      f = 0,
      m = 0,
      g = 0;
    for (let _ = 0; _ < this.instructions.length; _++) {
      const v = this.instructions[_],
        w = v.data;
      switch (v.action) {
        case "moveTo":
        case "lineTo":
          (l = w[0]),
            (u = w[1]),
            (w[0] = t * l + i * u + o),
            (w[1] = n * l + s * u + a);
          break;
        case "bezierCurveTo":
          (c = w[0]),
            (h = w[1]),
            (d = w[2]),
            (f = w[3]),
            (l = w[4]),
            (u = w[5]),
            (w[0] = t * c + i * h + o),
            (w[1] = n * c + s * h + a),
            (w[2] = t * d + i * f + o),
            (w[3] = n * d + s * f + a),
            (w[4] = t * l + i * u + o),
            (w[5] = n * l + s * u + a);
          break;
        case "quadraticCurveTo":
          (c = w[0]),
            (h = w[1]),
            (l = w[2]),
            (u = w[3]),
            (w[0] = t * c + i * h + o),
            (w[1] = n * c + s * h + a),
            (w[2] = t * l + i * u + o),
            (w[3] = n * l + s * u + a);
          break;
        case "arcToSvg":
          (l = w[5]),
            (u = w[6]),
            (m = w[0]),
            (g = w[1]),
            (w[0] = t * m + i * g),
            (w[1] = n * m + s * g),
            (w[5] = t * l + i * u + o),
            (w[6] = n * l + s * u + a);
          break;
        case "circle":
          w[4] = wc(w[3], e);
          break;
        case "rect":
          w[4] = wc(w[4], e);
          break;
        case "ellipse":
          w[8] = wc(w[8], e);
          break;
        case "roundRect":
          w[5] = wc(w[5], e);
          break;
        case "addPath":
          w[0].transform(e);
          break;
        case "poly":
          w[2] = wc(w[2], e);
          break;
        default:
          Be("unknown transform action", v.action);
          break;
      }
    }
    return (this._dirty = !0), this;
  }
  get bounds() {
    return this.shapePath.bounds;
  }
  getLastPoint(e) {
    let t = this.instructions.length - 1,
      n = this.instructions[t];
    if (!n) return (e.x = 0), (e.y = 0), e;
    for (; n.action === "closePath"; ) {
      if ((t--, t < 0)) return (e.x = 0), (e.y = 0), e;
      n = this.instructions[t];
    }
    switch (n.action) {
      case "moveTo":
      case "lineTo":
        (e.x = n.data[0]), (e.y = n.data[1]);
        break;
      case "quadraticCurveTo":
        (e.x = n.data[2]), (e.y = n.data[3]);
        break;
      case "bezierCurveTo":
        (e.x = n.data[4]), (e.y = n.data[5]);
        break;
      case "arc":
      case "arcToSvg":
        (e.x = n.data[5]), (e.y = n.data[6]);
        break;
      case "addPath":
        n.data[0].getLastPoint(e);
        break;
    }
    return e;
  }
}
function wc(r, e) {
  return r ? r.prepend(e) : e.clone();
}
var $K = Object.defineProperty,
  Ok = Object.getOwnPropertySymbols,
  zK = Object.prototype.hasOwnProperty,
  WK = Object.prototype.propertyIsEnumerable,
  Ik = (r, e, t) =>
    e in r
      ? $K(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  cf = (r, e) => {
    for (var t in e || (e = {})) zK.call(e, t) && Ik(r, t, e[t]);
    if (Ok) for (var t of Ok(e)) WK.call(e, t) && Ik(r, t, e[t]);
    return r;
  };
function HK(r, e) {
  if (typeof r == "string") {
    const n = document.createElement("div");
    (n.innerHTML = r.trim()), (r = n.querySelector("svg"));
  }
  const t = { context: e, path: new Gu() };
  return DO(r, t, null, null), e;
}
function DO(r, e, t, n) {
  const i = r.children,
    { fillStyle: s, strokeStyle: o } = VK(r);
  s && t ? (t = cf(cf({}, t), s)) : s && (t = s),
    o && n ? (n = cf(cf({}, n), o)) : o && (n = o),
    (e.context.fillStyle = t),
    (e.context.strokeStyle = n);
  let a, l, u, c, h, d, f, m, g, _, v, w, x, k, C, F, I;
  switch (r.nodeName.toLowerCase()) {
    case "path":
      (k = r.getAttribute("d")),
        (C = new Gu(k)),
        e.context.path(C),
        t && e.context.fill(),
        n && e.context.stroke();
      break;
    case "circle":
      (f = Tr(r, "cx", 0)),
        (m = Tr(r, "cy", 0)),
        (g = Tr(r, "r", 0)),
        e.context.ellipse(f, m, g, g),
        t && e.context.fill(),
        n && e.context.stroke();
      break;
    case "rect":
      (a = Tr(r, "x", 0)),
        (l = Tr(r, "y", 0)),
        (F = Tr(r, "width", 0)),
        (I = Tr(r, "height", 0)),
        (_ = Tr(r, "rx", 0)),
        (v = Tr(r, "ry", 0)),
        _ || v
          ? e.context.roundRect(a, l, F, I, _ || v)
          : e.context.rect(a, l, F, I),
        t && e.context.fill(),
        n && e.context.stroke();
      break;
    case "ellipse":
      (f = Tr(r, "cx", 0)),
        (m = Tr(r, "cy", 0)),
        (_ = Tr(r, "rx", 0)),
        (v = Tr(r, "ry", 0)),
        e.context.beginPath(),
        e.context.ellipse(f, m, _, v),
        t && e.context.fill(),
        n && e.context.stroke();
      break;
    case "line":
      (u = Tr(r, "x1", 0)),
        (c = Tr(r, "y1", 0)),
        (h = Tr(r, "x2", 0)),
        (d = Tr(r, "y2", 0)),
        e.context.beginPath(),
        e.context.moveTo(u, c),
        e.context.lineTo(h, d),
        n && e.context.stroke();
      break;
    case "polygon":
      (x = r.getAttribute("points")),
        (w = x.match(/\d+/g).map((G) => parseInt(G, 10))),
        e.context.poly(w, !0),
        t && e.context.fill(),
        n && e.context.stroke();
      break;
    case "polyline":
      (x = r.getAttribute("points")),
        (w = x.match(/\d+/g).map((G) => parseInt(G, 10))),
        e.context.poly(w, !1),
        n && e.context.stroke();
      break;
    case "g":
    case "svg":
      break;
    default: {
      console.info(`[SVG parser] <${r.nodeName}> elements unsupported`);
      break;
    }
  }
  for (let G = 0; G < i.length; G++) DO(i[G], e, t, n);
}
function Tr(r, e, t) {
  const n = r.getAttribute(e);
  return n ? Number(n) : t;
}
function VK(r) {
  const e = r.getAttribute("style"),
    t = {},
    n = {};
  let i = !1,
    s = !1;
  if (e) {
    const o = e.split(";");
    for (let a = 0; a < o.length; a++) {
      const l = o[a],
        [u, c] = l.split(":");
      switch (u) {
        case "stroke":
          c !== "none" &&
            ((t.color = at.shared.setValue(c).toNumber()), (s = !0));
          break;
        case "stroke-width":
          t.width = Number(c);
          break;
        case "fill":
          c !== "none" &&
            ((i = !0), (n.color = at.shared.setValue(c).toNumber()));
          break;
        case "fill-opacity":
          n.alpha = Number(c);
          break;
        case "stroke-opacity":
          t.alpha = Number(c);
          break;
        case "opacity":
          (n.alpha = Number(c)), (t.alpha = Number(c));
          break;
      }
    }
  } else {
    const o = r.getAttribute("stroke");
    o &&
      o !== "none" &&
      ((s = !0),
      (t.color = at.shared.setValue(o).toNumber()),
      (t.width = Tr(r, "stroke-width", 1)));
    const a = r.getAttribute("fill");
    a &&
      a !== "none" &&
      ((i = !0), (n.color = at.shared.setValue(a).toNumber()));
  }
  return { strokeStyle: s ? t : null, fillStyle: i ? n : null };
}
var XK = Object.defineProperty,
  mm = Object.getOwnPropertySymbols,
  MO = Object.prototype.hasOwnProperty,
  BO = Object.prototype.propertyIsEnumerable,
  Fk = (r, e, t) =>
    e in r
      ? XK(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ho = (r, e) => {
    for (var t in e || (e = {})) MO.call(e, t) && Fk(r, t, e[t]);
    if (mm) for (var t of mm(e)) BO.call(e, t) && Fk(r, t, e[t]);
    return r;
  },
  YK = (r, e) => {
    var t = {};
    for (var n in r) MO.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && mm)
      for (var n of mm(r)) e.indexOf(n) < 0 && BO.call(r, n) && (t[n] = r[n]);
    return t;
  };
function KK(r) {
  return at.isColorLike(r);
}
function Nk(r) {
  return r instanceof Bg;
}
function Lk(r) {
  return r instanceof Vh;
}
function qK(r, e, t) {
  const n = at.shared.setValue(e ?? 0);
  return (
    (r.color = n.toNumber()),
    (r.alpha = n.alpha === 1 ? t.alpha : n.alpha),
    (r.texture = fe.WHITE),
    ho(ho({}, t), r)
  );
}
function Uk(r, e, t) {
  return (
    (r.fill = e),
    (r.color = 16777215),
    (r.texture = e.texture),
    (r.matrix = e.transform),
    ho(ho({}, t), r)
  );
}
function Gk(r, e, t) {
  return (
    e.buildLinearGradient(),
    (r.fill = e),
    (r.color = 16777215),
    (r.texture = e.texture),
    (r.matrix = e.transform),
    ho(ho({}, t), r)
  );
}
function ZK(r, e) {
  var t;
  const n = ho(ho({}, e), r);
  if (n.texture) {
    if (n.texture !== fe.WHITE) {
      const o = ((t = n.matrix) == null ? void 0 : t.invert()) || new we();
      o.scale(1 / n.texture.frame.width, 1 / n.texture.frame.height),
        (n.matrix = o);
    }
    const s = n.texture.source.style;
    s.addressMode === "clamp-to-edge" &&
      ((s.addressMode = "repeat"), s.update());
  }
  const i = at.shared.setValue(n.color);
  return (
    (n.alpha *= i.alpha),
    (n.color = i.toNumber()),
    (n.matrix = n.matrix ? n.matrix.clone() : null),
    n
  );
}
function Ba(r, e) {
  if (r == null) return null;
  const t = {},
    n = r;
  return KK(r)
    ? qK(t, r, e)
    : Nk(r)
    ? Uk(t, r, e)
    : Lk(r)
    ? Gk(t, r, e)
    : n.fill && Nk(n.fill)
    ? Uk(n, n.fill, e)
    : n.fill && Lk(n.fill)
    ? Gk(n, n.fill, e)
    : ZK(n, e);
}
function gm(r, e) {
  const t = e,
    { width: n, alignment: i, miterLimit: s, cap: o, join: a } = t,
    l = YK(t, ["width", "alignment", "miterLimit", "cap", "join"]),
    u = Ba(r, l);
  return u
    ? ho({ width: n, alignment: i, miterLimit: s, cap: o, join: a }, u)
    : null;
}
var QK = Object.defineProperty,
  jk = Object.getOwnPropertySymbols,
  JK = Object.prototype.hasOwnProperty,
  eq = Object.prototype.propertyIsEnumerable,
  $k = (r, e, t) =>
    e in r
      ? QK(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Dl = (r, e) => {
    for (var t in e || (e = {})) JK.call(e, t) && $k(r, t, e[t]);
    if (jk) for (var t of jk(e)) eq.call(e, t) && $k(r, t, e[t]);
    return r;
  };
const tq = new ht(),
  zk = new we(),
  Kb = class cs extends si {
    constructor() {
      super(...arguments),
        (this.uid = Nt("graphicsContext")),
        (this.dirty = !0),
        (this.batchMode = "auto"),
        (this.instructions = []),
        (this._activePath = new Gu()),
        (this._transform = new we()),
        (this._fillStyle = Dl({}, cs.defaultFillStyle)),
        (this._strokeStyle = Dl({}, cs.defaultStrokeStyle)),
        (this._stateStack = []),
        (this._tick = 0),
        (this._bounds = new ei()),
        (this._boundsDirty = !0);
    }
    clone() {
      const e = new cs();
      return (
        (e.batchMode = this.batchMode),
        (e.instructions = this.instructions.slice()),
        (e._activePath = this._activePath.clone()),
        (e._transform = this._transform.clone()),
        (e._fillStyle = Dl({}, this._fillStyle)),
        (e._strokeStyle = Dl({}, this._strokeStyle)),
        (e._stateStack = this._stateStack.slice()),
        (e._bounds = this._bounds.clone()),
        (e._boundsDirty = !0),
        e
      );
    }
    get fillStyle() {
      return this._fillStyle;
    }
    set fillStyle(e) {
      this._fillStyle = Ba(e, cs.defaultFillStyle);
    }
    get strokeStyle() {
      return this._strokeStyle;
    }
    set strokeStyle(e) {
      this._strokeStyle = gm(e, cs.defaultStrokeStyle);
    }
    setFillStyle(e) {
      return (this._fillStyle = Ba(e, cs.defaultFillStyle)), this;
    }
    setStrokeStyle(e) {
      return (this._strokeStyle = Ba(e, cs.defaultStrokeStyle)), this;
    }
    texture(e, t, n, i, s, o) {
      return (
        this.instructions.push({
          action: "texture",
          data: {
            image: e,
            dx: n || 0,
            dy: i || 0,
            dw: s || e.frame.width,
            dh: o || e.frame.height,
            transform: this._transform.clone(),
            alpha: this._fillStyle.alpha,
            style: t ? at.shared.setValue(t).toNumber() : 16777215,
          },
        }),
        this.onUpdate(),
        this
      );
    }
    beginPath() {
      return (this._activePath = new Gu()), this;
    }
    fill(e, t) {
      let n;
      const i = this.instructions[this.instructions.length - 1];
      return (
        this._tick === 0 && i && i.action === "stroke"
          ? (n = i.data.path)
          : (n = this._activePath.clone()),
        n
          ? (e != null &&
              (t !== void 0 &&
                typeof e == "number" &&
                (Le(
                  Ge,
                  "GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"
                ),
                (e = { color: e, alpha: t })),
              (this._fillStyle = Ba(e, cs.defaultFillStyle))),
            this.instructions.push({
              action: "fill",
              data: { style: this.fillStyle, path: n },
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            (this._tick = 0),
            this)
          : this
      );
    }
    _initNextPathLocation() {
      const { x: e, y: t } = this._activePath.getLastPoint(ht.shared);
      this._activePath.clear(), this._activePath.moveTo(e, t);
    }
    stroke(e) {
      let t;
      const n = this.instructions[this.instructions.length - 1];
      return (
        this._tick === 0 && n && n.action === "fill"
          ? (t = n.data.path)
          : (t = this._activePath.clone()),
        t
          ? (e != null && (this._strokeStyle = gm(e, cs.defaultStrokeStyle)),
            this.instructions.push({
              action: "stroke",
              data: { style: this.strokeStyle, path: t },
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            (this._tick = 0),
            this)
          : this
      );
    }
    cut() {
      for (let e = 0; e < 2; e++) {
        const t = this.instructions[this.instructions.length - 1 - e],
          n = this._activePath.clone();
        if (t && (t.action === "stroke" || t.action === "fill"))
          if (t.data.hole) t.data.hole.addPath(n);
          else {
            t.data.hole = n;
            break;
          }
      }
      return this._initNextPathLocation(), this;
    }
    arc(e, t, n, i, s, o) {
      this._tick++;
      const a = this._transform;
      return (
        this._activePath.arc(
          a.a * e + a.c * t + a.tx,
          a.b * e + a.d * t + a.ty,
          n,
          i,
          s,
          o
        ),
        this
      );
    }
    arcTo(e, t, n, i, s) {
      this._tick++;
      const o = this._transform;
      return (
        this._activePath.arcTo(
          o.a * e + o.c * t + o.tx,
          o.b * e + o.d * t + o.ty,
          o.a * n + o.c * i + o.tx,
          o.b * n + o.d * i + o.ty,
          s
        ),
        this
      );
    }
    arcToSvg(e, t, n, i, s, o, a) {
      this._tick++;
      const l = this._transform;
      return (
        this._activePath.arcToSvg(
          e,
          t,
          n,
          i,
          s,
          l.a * o + l.c * a + l.tx,
          l.b * o + l.d * a + l.ty
        ),
        this
      );
    }
    bezierCurveTo(e, t, n, i, s, o, a) {
      this._tick++;
      const l = this._transform;
      return (
        this._activePath.bezierCurveTo(
          l.a * e + l.c * t + l.tx,
          l.b * e + l.d * t + l.ty,
          l.a * n + l.c * i + l.tx,
          l.b * n + l.d * i + l.ty,
          l.a * s + l.c * o + l.tx,
          l.b * s + l.d * o + l.ty,
          a
        ),
        this
      );
    }
    closePath() {
      var e;
      return (
        this._tick++, (e = this._activePath) == null || e.closePath(), this
      );
    }
    ellipse(e, t, n, i) {
      return (
        this._tick++,
        this._activePath.ellipse(e, t, n, i, this._transform.clone()),
        this
      );
    }
    circle(e, t, n) {
      return (
        this._tick++,
        this._activePath.circle(e, t, n, this._transform.clone()),
        this
      );
    }
    path(e) {
      return (
        this._tick++, this._activePath.addPath(e, this._transform.clone()), this
      );
    }
    lineTo(e, t) {
      this._tick++;
      const n = this._transform;
      return (
        this._activePath.lineTo(
          n.a * e + n.c * t + n.tx,
          n.b * e + n.d * t + n.ty
        ),
        this
      );
    }
    moveTo(e, t) {
      this._tick++;
      const n = this._transform,
        i = this._activePath.instructions,
        s = n.a * e + n.c * t + n.tx,
        o = n.b * e + n.d * t + n.ty;
      return i.length === 1 && i[0].action === "moveTo"
        ? ((i[0].data[0] = s), (i[0].data[1] = o), this)
        : (this._activePath.moveTo(s, o), this);
    }
    quadraticCurveTo(e, t, n, i, s) {
      this._tick++;
      const o = this._transform;
      return (
        this._activePath.quadraticCurveTo(
          o.a * e + o.c * t + o.tx,
          o.b * e + o.d * t + o.ty,
          o.a * n + o.c * i + o.tx,
          o.b * n + o.d * i + o.ty,
          s
        ),
        this
      );
    }
    rect(e, t, n, i) {
      return (
        this._tick++,
        this._activePath.rect(e, t, n, i, this._transform.clone()),
        this
      );
    }
    roundRect(e, t, n, i, s) {
      return (
        this._tick++,
        this._activePath.roundRect(e, t, n, i, s, this._transform.clone()),
        this
      );
    }
    poly(e, t) {
      return (
        this._tick++, this._activePath.poly(e, t, this._transform.clone()), this
      );
    }
    regularPoly(e, t, n, i, s = 0, o) {
      return this._tick++, this._activePath.regularPoly(e, t, n, i, s, o), this;
    }
    roundPoly(e, t, n, i, s, o) {
      return this._tick++, this._activePath.roundPoly(e, t, n, i, s, o), this;
    }
    roundShape(e, t, n, i) {
      return this._tick++, this._activePath.roundShape(e, t, n, i), this;
    }
    filletRect(e, t, n, i, s) {
      return this._tick++, this._activePath.filletRect(e, t, n, i, s), this;
    }
    chamferRect(e, t, n, i, s, o) {
      return this._tick++, this._activePath.chamferRect(e, t, n, i, s, o), this;
    }
    star(e, t, n, i, s = 0, o = 0) {
      return (
        this._tick++,
        this._activePath.star(e, t, n, i, s, o, this._transform.clone()),
        this
      );
    }
    svg(e) {
      return this._tick++, HK(e, this), this;
    }
    restore() {
      const e = this._stateStack.pop();
      return (
        e &&
          ((this._transform = e.transform),
          (this._fillStyle = e.fillStyle),
          (this._strokeStyle = e.strokeStyle)),
        this
      );
    }
    save() {
      return (
        this._stateStack.push({
          transform: this._transform.clone(),
          fillStyle: Dl({}, this._fillStyle),
          strokeStyle: Dl({}, this._strokeStyle),
        }),
        this
      );
    }
    getTransform() {
      return this._transform;
    }
    resetTransform() {
      return this._transform.identity(), this;
    }
    rotate(e) {
      return this._transform.rotate(e), this;
    }
    scale(e, t = e) {
      return this._transform.scale(e, t), this;
    }
    setTransform(e, t, n, i, s, o) {
      return e instanceof we
        ? (this._transform.set(e.a, e.b, e.c, e.d, e.tx, e.ty), this)
        : (this._transform.set(e, t, n, i, s, o), this);
    }
    transform(e, t, n, i, s, o) {
      return e instanceof we
        ? (this._transform.append(e), this)
        : (zk.set(e, t, n, i, s, o), this._transform.append(zk), this);
    }
    translate(e, t = e) {
      return this._transform.translate(e, t), this;
    }
    clear() {
      return (
        this._activePath.clear(),
        (this.instructions.length = 0),
        this.resetTransform(),
        this.onUpdate(),
        this
      );
    }
    onUpdate() {
      this.dirty ||
        (this.emit("update", this, 16),
        (this.dirty = !0),
        (this._boundsDirty = !0));
    }
    get bounds() {
      if (!this._boundsDirty) return this._bounds;
      const e = this._bounds;
      e.clear();
      for (let t = 0; t < this.instructions.length; t++) {
        const n = this.instructions[t],
          i = n.action;
        if (i === "fill") {
          const s = n.data;
          e.addBounds(s.path.bounds);
        } else if (i === "texture") {
          const s = n.data;
          e.addFrame(s.dx, s.dy, s.dx + s.dw, s.dy + s.dh, s.transform);
        }
        if (i === "stroke") {
          const s = n.data,
            o = s.style.width / 2,
            a = s.path.bounds;
          e.addFrame(a.minX - o, a.minY - o, a.maxX + o, a.maxY + o);
        }
      }
      return e;
    }
    containsPoint(e) {
      var t;
      if (!this.bounds.containsPoint(e.x, e.y)) return !1;
      const n = this.instructions;
      let i = !1;
      for (let s = 0; s < n.length; s++) {
        const o = n[s],
          a = o.data,
          l = a.path;
        if (!o.action || !l) continue;
        const u = a.style,
          c = l.shapePath.shapePrimitives;
        for (let h = 0; h < c.length; h++) {
          const d = c[h].shape;
          if (!u || !d) continue;
          const f = c[h].transform,
            m = f ? f.applyInverse(e, tq) : e;
          o.action === "fill"
            ? (i = d.contains(m.x, m.y))
            : (i = d.strokeContains(m.x, m.y, u.width));
          const g = a.hole;
          if (g) {
            const _ = (t = g.shapePath) == null ? void 0 : t.shapePrimitives;
            if (_)
              for (let v = 0; v < _.length; v++)
                _[v].shape.contains(m.x, m.y) && (i = !1);
          }
          if (i) return !0;
        }
      }
      return i;
    }
    destroy(e = !1) {
      if (
        ((this._stateStack.length = 0),
        (this._transform = null),
        this.emit("destroy", this),
        this.removeAllListeners(),
        typeof e == "boolean" ? e : e == null ? void 0 : e.texture)
      ) {
        const n =
          typeof e == "boolean" ? e : e == null ? void 0 : e.textureSource;
        this._fillStyle.texture && this._fillStyle.texture.destroy(n),
          this._strokeStyle.texture && this._strokeStyle.texture.destroy(n);
      }
      (this._fillStyle = null),
        (this._strokeStyle = null),
        (this.instructions = null),
        (this._activePath = null),
        (this._bounds = null),
        (this._stateStack = null),
        (this.customShader = null),
        (this._transform = null);
    }
  };
Kb.defaultFillStyle = {
  color: 16777215,
  alpha: 1,
  texture: fe.WHITE,
  matrix: null,
  fill: null,
};
Kb.defaultStrokeStyle = {
  width: 1,
  color: 16777215,
  alpha: 1,
  alignment: 0.5,
  miterLimit: 10,
  cap: "butt",
  join: "miter",
  texture: fe.WHITE,
  matrix: null,
  fill: null,
};
let gi = Kb;
const Wk = [
  "align",
  "breakWords",
  "cssOverrides",
  "fontVariant",
  "fontWeight",
  "leading",
  "letterSpacing",
  "lineHeight",
  "padding",
  "textBaseline",
  "trim",
  "whiteSpace",
  "wordWrap",
  "wordWrapWidth",
  "fontFamily",
  "fontStyle",
  "fontSize",
];
function OO(r) {
  const e = [];
  let t = 0;
  for (let n = 0; n < Wk.length; n++) {
    const i = `_${Wk[n]}`;
    e[t++] = r[i];
  }
  return (
    (t = IO(r._fill, e, t)),
    (t = rq(r._stroke, e, t)),
    (t = nq(r.dropShadow, e, t)),
    e.join("-")
  );
}
function IO(r, e, t) {
  var n;
  return (
    r &&
      ((e[t++] = r.color),
      (e[t++] = r.alpha),
      (e[t++] = (n = r.fill) == null ? void 0 : n.styleKey)),
    t
  );
}
function rq(r, e, t) {
  return (
    r &&
      ((t = IO(r, e, t)),
      (e[t++] = r.width),
      (e[t++] = r.alignment),
      (e[t++] = r.cap),
      (e[t++] = r.join),
      (e[t++] = r.miterLimit)),
    t
  );
}
function nq(r, e, t) {
  return (
    r &&
      ((e[t++] = r.alpha),
      (e[t++] = r.angle),
      (e[t++] = r.blur),
      (e[t++] = r.distance),
      (e[t++] = at.shared.setValue(r.color).toNumber())),
    t
  );
}
var iq = Object.defineProperty,
  sq = Object.defineProperties,
  oq = Object.getOwnPropertyDescriptors,
  Hk = Object.getOwnPropertySymbols,
  aq = Object.prototype.hasOwnProperty,
  lq = Object.prototype.propertyIsEnumerable,
  Vk = (r, e, t) =>
    e in r
      ? iq(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  In = (r, e) => {
    for (var t in e || (e = {})) aq.call(e, t) && Vk(r, t, e[t]);
    if (Hk) for (var t of Hk(e)) lq.call(e, t) && Vk(r, t, e[t]);
    return r;
  },
  uq = (r, e) => sq(r, oq(e));
const qb = class Il extends si {
  constructor(e = {}) {
    super(), cq(e);
    const t = In(In({}, Il.defaultTextStyle), e);
    for (const n in t) {
      const i = n;
      this[i] = t[n];
    }
    this.update();
  }
  get align() {
    return this._align;
  }
  set align(e) {
    (this._align = e), this.update();
  }
  get breakWords() {
    return this._breakWords;
  }
  set breakWords(e) {
    (this._breakWords = e), this.update();
  }
  get dropShadow() {
    return this._dropShadow;
  }
  set dropShadow(e) {
    e !== null && typeof e == "object"
      ? (this._dropShadow = this._createProxy(
          In(In({}, Il.defaultDropShadow), e)
        ))
      : (this._dropShadow = e
          ? this._createProxy(In({}, Il.defaultDropShadow))
          : null),
      this.update();
  }
  get fontFamily() {
    return this._fontFamily;
  }
  set fontFamily(e) {
    (this._fontFamily = e), this.update();
  }
  get fontSize() {
    return this._fontSize;
  }
  set fontSize(e) {
    typeof e == "string"
      ? (this._fontSize = parseInt(e, 10))
      : (this._fontSize = e),
      this.update();
  }
  get fontStyle() {
    return this._fontStyle;
  }
  set fontStyle(e) {
    (this._fontStyle = e), this.update();
  }
  get fontVariant() {
    return this._fontVariant;
  }
  set fontVariant(e) {
    (this._fontVariant = e), this.update();
  }
  get fontWeight() {
    return this._fontWeight;
  }
  set fontWeight(e) {
    (this._fontWeight = e), this.update();
  }
  get leading() {
    return this._leading;
  }
  set leading(e) {
    (this._leading = e), this.update();
  }
  get letterSpacing() {
    return this._letterSpacing;
  }
  set letterSpacing(e) {
    (this._letterSpacing = e), this.update();
  }
  get lineHeight() {
    return this._lineHeight;
  }
  set lineHeight(e) {
    (this._lineHeight = e), this.update();
  }
  get padding() {
    return this._padding;
  }
  set padding(e) {
    (this._padding = e), this.update();
  }
  get trim() {
    return this._trim;
  }
  set trim(e) {
    (this._trim = e), this.update();
  }
  get textBaseline() {
    return this._textBaseline;
  }
  set textBaseline(e) {
    (this._textBaseline = e), this.update();
  }
  get whiteSpace() {
    return this._whiteSpace;
  }
  set whiteSpace(e) {
    (this._whiteSpace = e), this.update();
  }
  get wordWrap() {
    return this._wordWrap;
  }
  set wordWrap(e) {
    (this._wordWrap = e), this.update();
  }
  get wordWrapWidth() {
    return this._wordWrapWidth;
  }
  set wordWrapWidth(e) {
    (this._wordWrapWidth = e), this.update();
  }
  get fill() {
    return this._originalFill;
  }
  set fill(e) {
    e !== this._originalFill &&
      ((this._originalFill = e),
      this._isFillStyle(e) &&
        (this._originalFill = this._createProxy(
          In(In({}, gi.defaultFillStyle), e),
          () => {
            this._fill = Ba(In({}, this._originalFill), gi.defaultFillStyle);
          }
        )),
      (this._fill = Ba(e === 0 ? "black" : e, gi.defaultFillStyle)),
      this.update());
  }
  get stroke() {
    return this._originalStroke;
  }
  set stroke(e) {
    e !== this._originalStroke &&
      ((this._originalStroke = e),
      this._isFillStyle(e) &&
        (this._originalStroke = this._createProxy(
          In(In({}, gi.defaultStrokeStyle), e),
          () => {
            this._stroke = gm(
              In({}, this._originalStroke),
              gi.defaultStrokeStyle
            );
          }
        )),
      (this._stroke = gm(e, gi.defaultStrokeStyle)),
      this.update());
  }
  _generateKey() {
    return (this._styleKey = OO(this)), this._styleKey;
  }
  update() {
    (this._styleKey = null), this.emit("update", this);
  }
  reset() {
    const e = Il.defaultTextStyle;
    for (const t in e) this[t] = e[t];
  }
  get styleKey() {
    return this._styleKey || this._generateKey();
  }
  clone() {
    return new Il({
      align: this.align,
      breakWords: this.breakWords,
      dropShadow: this._dropShadow ? In({}, this._dropShadow) : null,
      fill: this._fill,
      fontFamily: this.fontFamily,
      fontSize: this.fontSize,
      fontStyle: this.fontStyle,
      fontVariant: this.fontVariant,
      fontWeight: this.fontWeight,
      leading: this.leading,
      letterSpacing: this.letterSpacing,
      lineHeight: this.lineHeight,
      padding: this.padding,
      stroke: this._stroke,
      textBaseline: this.textBaseline,
      whiteSpace: this.whiteSpace,
      wordWrap: this.wordWrap,
      wordWrapWidth: this.wordWrapWidth,
    });
  }
  destroy(e = !1) {
    var t, n, i, s;
    if (
      (this.removeAllListeners(),
      typeof e == "boolean" ? e : e == null ? void 0 : e.texture)
    ) {
      const a =
        typeof e == "boolean" ? e : e == null ? void 0 : e.textureSource;
      (t = this._fill) != null && t.texture && this._fill.texture.destroy(a),
        (n = this._originalFill) != null &&
          n.texture &&
          this._originalFill.texture.destroy(a),
        (i = this._stroke) != null &&
          i.texture &&
          this._stroke.texture.destroy(a),
        (s = this._originalStroke) != null &&
          s.texture &&
          this._originalStroke.texture.destroy(a);
    }
    (this._fill = null),
      (this._stroke = null),
      (this.dropShadow = null),
      (this._originalStroke = null),
      (this._originalFill = null);
  }
  _createProxy(e, t) {
    return new Proxy(e, {
      set: (n, i, s) => ((n[i] = s), t == null || t(i, s), this.update(), !0),
    });
  }
  _isFillStyle(e) {
    return (
      (e ?? null) !== null &&
      !(at.isColorLike(e) || e instanceof Vh || e instanceof Bg)
    );
  }
};
qb.defaultDropShadow = {
  alpha: 1,
  angle: Math.PI / 6,
  blur: 0,
  color: "black",
  distance: 5,
};
qb.defaultTextStyle = {
  align: "left",
  breakWords: !1,
  dropShadow: null,
  fill: "black",
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  leading: 0,
  letterSpacing: 0,
  lineHeight: 0,
  padding: 0,
  stroke: null,
  textBaseline: "alphabetic",
  trim: !1,
  whiteSpace: "pre",
  wordWrap: !1,
  wordWrapWidth: 100,
};
let ra = qb;
function cq(r) {
  var e, t, n, i, s;
  const o = r;
  if (typeof o.dropShadow == "boolean" && o.dropShadow) {
    const a = ra.defaultDropShadow;
    r.dropShadow = {
      alpha: (e = o.dropShadowAlpha) != null ? e : a.alpha,
      angle: (t = o.dropShadowAngle) != null ? t : a.angle,
      blur: (n = o.dropShadowBlur) != null ? n : a.blur,
      color: (i = o.dropShadowColor) != null ? i : a.color,
      distance: (s = o.dropShadowDistance) != null ? s : a.distance,
    };
  }
  if (o.strokeThickness !== void 0) {
    Le(Ge, "strokeThickness is now a part of stroke");
    const a = o.stroke;
    let l = {};
    if (at.isColorLike(a)) l.color = a;
    else if (a instanceof Vh || a instanceof Bg) l.fill = a;
    else if (
      Object.hasOwnProperty.call(a, "color") ||
      Object.hasOwnProperty.call(a, "fill")
    )
      l = a;
    else throw new Error("Invalid stroke value.");
    r.stroke = uq(In({}, l), { width: o.strokeThickness });
  }
  if (Array.isArray(o.fillGradientStops)) {
    Le(Ge, "gradient fill is now a fill pattern: `new FillGradient(...)`");
    let a;
    r.fontSize == null
      ? (r.fontSize = ra.defaultTextStyle.fontSize)
      : typeof r.fontSize == "string"
      ? (a = parseInt(r.fontSize, 10))
      : (a = r.fontSize);
    const l = new Vh(0, 0, 0, a * 1.7),
      u = o.fillGradientStops.map((c) => at.shared.setValue(c).toNumber());
    u.forEach((c, h) => {
      const d = h / (u.length - 1);
      l.addColorStop(d, c);
    }),
      (r.fill = { fill: l });
  }
}
const hq = new ei();
function FO(r, e, t, n) {
  const i = hq;
  (i.minX = 0),
    (i.minY = 0),
    (i.maxX = (r.width / n) | 0),
    (i.maxY = (r.height / n) | 0);
  const s = Qr.getOptimalTexture(i.width, i.height, n, !1);
  return (
    (s.source.uploadMethodId = "image"),
    (s.source.resource = r),
    (s.source.alphaMode = "premultiply-alpha-on-upload"),
    (s.frame.width = e / n),
    (s.frame.height = t / n),
    s.source.emit("update", s.source),
    s.updateUvs(),
    s
  );
}
const dq = [
  "serif",
  "sans-serif",
  "monospace",
  "cursive",
  "fantasy",
  "system-ui",
];
function _m(r) {
  const e = typeof r.fontSize == "number" ? `${r.fontSize}px` : r.fontSize;
  let t = r.fontFamily;
  Array.isArray(r.fontFamily) || (t = r.fontFamily.split(","));
  for (let n = t.length - 1; n >= 0; n--) {
    let i = t[n].trim();
    !/([\"\'])[^\'\"]+\1/.test(i) && !dq.includes(i) && (i = `"${i}"`),
      (t[n] = i);
  }
  return `${r.fontStyle} ${r.fontVariant} ${r.fontWeight} ${e} ${t.join(",")}`;
}
const G0 = { willReadFrequently: !0 },
  ss = class ge {
    static get experimentalLetterSpacingSupported() {
      let e = ge._experimentalLetterSpacingSupported;
      if (e !== void 0) {
        const t = nt.get().getCanvasRenderingContext2D().prototype;
        e = ge._experimentalLetterSpacingSupported =
          "letterSpacing" in t || "textLetterSpacing" in t;
      }
      return e;
    }
    constructor(e, t, n, i, s, o, a, l, u) {
      (this.text = e),
        (this.style = t),
        (this.width = n),
        (this.height = i),
        (this.lines = s),
        (this.lineWidths = o),
        (this.lineHeight = a),
        (this.maxLineWidth = l),
        (this.fontProperties = u);
    }
    static measureText(e = " ", t, n = ge._canvas, i = t.wordWrap) {
      var s;
      const o = `${e}:${t.styleKey}`;
      if (ge._measurementCache[o]) return ge._measurementCache[o];
      const a = _m(t),
        l = ge.measureFont(a);
      l.fontSize === 0 && ((l.fontSize = t.fontSize), (l.ascent = t.fontSize));
      const u = ge.__context;
      u.font = a;
      const h = (i ? ge._wordWrap(e, t, n) : e).split(/(?:\r\n|\r|\n)/),
        d = new Array(h.length);
      let f = 0;
      for (let x = 0; x < h.length; x++) {
        const k = ge._measureText(h[x], t.letterSpacing, u);
        (d[x] = k), (f = Math.max(f, k));
      }
      const m = ((s = t._stroke) == null ? void 0 : s.width) || 0;
      let g = f + m;
      t.dropShadow && (g += t.dropShadow.distance);
      const _ = t.lineHeight || l.fontSize;
      let v = Math.max(_, l.fontSize + m) + (h.length - 1) * (_ + t.leading);
      return (
        t.dropShadow && (v += t.dropShadow.distance),
        new ge(e, t, g, v, h, d, _ + t.leading, f, l)
      );
    }
    static _measureText(e, t, n) {
      let i = !1;
      ge.experimentalLetterSpacingSupported &&
        (ge.experimentalLetterSpacing
          ? ((n.letterSpacing = `${t}px`),
            (n.textLetterSpacing = `${t}px`),
            (i = !0))
          : ((n.letterSpacing = "0px"), (n.textLetterSpacing = "0px")));
      let s = n.measureText(e).width;
      return (
        s > 0 &&
          (i ? (s -= t) : (s += (ge.graphemeSegmenter(e).length - 1) * t)),
        s
      );
    }
    static _wordWrap(e, t, n = ge._canvas) {
      const i = n.getContext("2d", G0);
      let s = 0,
        o = "",
        a = "";
      const l = Object.create(null),
        { letterSpacing: u, whiteSpace: c } = t,
        h = ge._collapseSpaces(c),
        d = ge._collapseNewlines(c);
      let f = !h;
      const m = t.wordWrapWidth + u,
        g = ge._tokenize(e);
      for (let _ = 0; _ < g.length; _++) {
        let v = g[_];
        if (ge._isNewline(v)) {
          if (!d) {
            (a += ge._addLine(o)), (f = !h), (o = ""), (s = 0);
            continue;
          }
          v = " ";
        }
        if (h) {
          const x = ge.isBreakingSpace(v),
            k = ge.isBreakingSpace(o[o.length - 1]);
          if (x && k) continue;
        }
        const w = ge._getFromCache(v, u, l, i);
        if (w > m)
          if (
            (o !== "" && ((a += ge._addLine(o)), (o = ""), (s = 0)),
            ge.canBreakWords(v, t.breakWords))
          ) {
            const x = ge.wordWrapSplit(v);
            for (let k = 0; k < x.length; k++) {
              let C = x[k],
                F = C,
                I = 1;
              for (; x[k + I]; ) {
                const j = x[k + I];
                if (!ge.canBreakChars(F, j, v, k, t.breakWords)) C += j;
                else break;
                (F = j), I++;
              }
              k += I - 1;
              const G = ge._getFromCache(C, u, l, i);
              G + s > m && ((a += ge._addLine(o)), (f = !1), (o = ""), (s = 0)),
                (o += C),
                (s += G);
            }
          } else {
            o.length > 0 && ((a += ge._addLine(o)), (o = ""), (s = 0));
            const x = _ === g.length - 1;
            (a += ge._addLine(v, !x)), (f = !1), (o = ""), (s = 0);
          }
        else
          w + s > m && ((f = !1), (a += ge._addLine(o)), (o = ""), (s = 0)),
            (o.length > 0 || !ge.isBreakingSpace(v) || f) &&
              ((o += v), (s += w));
      }
      return (a += ge._addLine(o, !1)), a;
    }
    static _addLine(e, t = !0) {
      return (
        (e = ge._trimRight(e)),
        (e = t
          ? `${e}
`
          : e),
        e
      );
    }
    static _getFromCache(e, t, n, i) {
      let s = n[e];
      return (
        typeof s != "number" &&
          ((s = ge._measureText(e, t, i) + t), (n[e] = s)),
        s
      );
    }
    static _collapseSpaces(e) {
      return e === "normal" || e === "pre-line";
    }
    static _collapseNewlines(e) {
      return e === "normal";
    }
    static _trimRight(e) {
      if (typeof e != "string") return "";
      for (let t = e.length - 1; t >= 0; t--) {
        const n = e[t];
        if (!ge.isBreakingSpace(n)) break;
        e = e.slice(0, -1);
      }
      return e;
    }
    static _isNewline(e) {
      return typeof e != "string" ? !1 : ge._newlines.includes(e.charCodeAt(0));
    }
    static isBreakingSpace(e, t) {
      return typeof e != "string"
        ? !1
        : ge._breakingSpaces.includes(e.charCodeAt(0));
    }
    static _tokenize(e) {
      const t = [];
      let n = "";
      if (typeof e != "string") return t;
      for (let i = 0; i < e.length; i++) {
        const s = e[i],
          o = e[i + 1];
        if (ge.isBreakingSpace(s, o) || ge._isNewline(s)) {
          n !== "" && (t.push(n), (n = "")), t.push(s);
          continue;
        }
        n += s;
      }
      return n !== "" && t.push(n), t;
    }
    static canBreakWords(e, t) {
      return t;
    }
    static canBreakChars(e, t, n, i, s) {
      return !0;
    }
    static wordWrapSplit(e) {
      return ge.graphemeSegmenter(e);
    }
    static measureFont(e) {
      if (ge._fonts[e]) return ge._fonts[e];
      const t = ge._context;
      t.font = e;
      const n = t.measureText(ge.METRICS_STRING + ge.BASELINE_SYMBOL),
        i = {
          ascent: n.actualBoundingBoxAscent,
          descent: n.actualBoundingBoxDescent,
          fontSize: n.actualBoundingBoxAscent + n.actualBoundingBoxDescent,
        };
      return (ge._fonts[e] = i), i;
    }
    static clearMetrics(e = "") {
      e ? delete ge._fonts[e] : (ge._fonts = {});
    }
    static get _canvas() {
      if (!ge.__canvas) {
        let e;
        try {
          const t = new OffscreenCanvas(0, 0),
            n = t.getContext("2d", G0);
          if (n != null && n.measureText) return (ge.__canvas = t), t;
          e = nt.get().createCanvas();
        } catch {
          e = nt.get().createCanvas();
        }
        (e.width = e.height = 10), (ge.__canvas = e);
      }
      return ge.__canvas;
    }
    static get _context() {
      return (
        ge.__context || (ge.__context = ge._canvas.getContext("2d", G0)),
        ge.__context
      );
    }
  };
ss.METRICS_STRING = "|q";
ss.BASELINE_SYMBOL = "M";
ss.BASELINE_MULTIPLIER = 1.4;
ss.HEIGHT_MULTIPLIER = 2;
ss.graphemeSegmenter = (() => {
  if (typeof (Intl == null ? void 0 : Intl.Segmenter) == "function") {
    const r = new Intl.Segmenter();
    return (e) => [...r.segment(e)].map((t) => t.segment);
  }
  return (r) => [...r];
})();
ss.experimentalLetterSpacing = !1;
ss._fonts = {};
ss._newlines = [10, 13];
ss._breakingSpaces = [
  9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287,
  12288,
];
ss._measurementCache = {};
let Gs = ss;
function ym(r, e) {
  if (r.texture === fe.WHITE && !r.fill)
    return at.shared.setValue(r.color).toHex();
  if (r.fill) {
    if (r.fill instanceof Bg) {
      const t = r.fill,
        n = e.createPattern(t.texture.source.resource, "repeat"),
        i = t.transform.copyTo(we.shared);
      return (
        i.scale(t.texture.frame.width, t.texture.frame.height),
        n.setTransform(i),
        n
      );
    } else if (r.fill instanceof Vh) {
      const t = r.fill;
      if (t.type === "linear") {
        const n = e.createLinearGradient(t.x0, t.y0, t.x1, t.y1);
        return (
          t.gradientStops.forEach((i) => {
            n.addColorStop(i.offset, at.shared.setValue(i.color).toHex());
          }),
          n
        );
      }
    }
  } else {
    const t = e.createPattern(r.texture.source.resource, "repeat"),
      n = r.matrix.copyTo(we.shared);
    return (
      n.scale(r.texture.frame.width, r.texture.frame.height),
      t.setTransform(n),
      t
    );
  }
  return Be("FillStyle not recognised", r), "red";
}
class NO {
  constructor(e) {
    (this._activeTextures = {}), (this._renderer = e);
  }
  getTextureSize(e, t, n) {
    const i = Gs.measureText(e || " ", n);
    let s = Math.ceil(Math.ceil(Math.max(1, i.width) + n.padding * 2) * t),
      o = Math.ceil(Math.ceil(Math.max(1, i.height) + n.padding * 2) * t);
    return (
      (s = Math.ceil(s - 1e-6)),
      (o = Math.ceil(o - 1e-6)),
      (s = Lu(s)),
      (o = Lu(o)),
      { width: s, height: o }
    );
  }
  getTexture(e, t, n, i) {
    typeof e == "string" &&
      (Le(
        "8.0.0",
        "CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"
      ),
      (e = { text: e, style: n, resolution: t })),
      e.style instanceof ra || (e.style = new ra(e.style));
    const { texture: s, canvasAndContext: o } = this.createTextureAndCanvas(e);
    return (
      this._renderer.texture.initSource(s._source),
      ro.returnCanvasAndContext(o),
      s
    );
  }
  createTextureAndCanvas(e) {
    var t;
    const { text: n, style: i } = e,
      s = (t = e.resolution) != null ? t : this._renderer.resolution,
      o = Gs.measureText(n || " ", i),
      a = Math.ceil(Math.ceil(Math.max(1, o.width) + i.padding * 2) * s),
      l = Math.ceil(Math.ceil(Math.max(1, o.height) + i.padding * 2) * s),
      u = ro.getOptimalCanvasAndContext(a, l),
      { canvas: c } = u;
    this.renderTextToCanvas(n, i, s, u);
    const h = FO(c, a, l, s);
    if (i.trim) {
      const d = _K(c, s);
      h.frame.copyFrom(d), h.updateUvs();
    }
    return { texture: h, canvasAndContext: u };
  }
  getManagedTexture(e) {
    e._resolution = e._autoResolution
      ? this._renderer.resolution
      : e.resolution;
    const t = e._getKey();
    if (this._activeTextures[t])
      return this._increaseReferenceCount(t), this._activeTextures[t].texture;
    const { texture: n, canvasAndContext: i } = this.createTextureAndCanvas(e);
    return (
      (this._activeTextures[t] = {
        canvasAndContext: i,
        texture: n,
        usageCount: 1,
      }),
      n
    );
  }
  _increaseReferenceCount(e) {
    this._activeTextures[e].usageCount++;
  }
  decreaseReferenceCount(e) {
    const t = this._activeTextures[e];
    if ((t.usageCount--, t.usageCount === 0)) {
      ro.returnCanvasAndContext(t.canvasAndContext),
        Qr.returnTexture(t.texture);
      const n = t.texture.source;
      (n.resource = null),
        (n.uploadMethodId = "unknown"),
        (n.alphaMode = "no-premultiply-alpha"),
        (this._activeTextures[e] = null);
    }
  }
  getReferenceCount(e) {
    return this._activeTextures[e].usageCount;
  }
  renderTextToCanvas(e, t, n, i) {
    var s, o, a, l, u, c, h;
    const { canvas: d, context: f } = i,
      m = _m(t),
      g = Gs.measureText(e || " ", t),
      _ = g.lines,
      v = g.lineHeight,
      w = g.lineWidths,
      x = g.maxLineWidth,
      k = g.fontProperties,
      C = d.height;
    f.resetTransform(), f.scale(n, n);
    const F = t.padding * 2;
    if (
      (f.clearRect(0, 0, g.width + 4 + F, g.height + 4 + F),
      (s = t._stroke) != null && s.width)
    ) {
      const $ = t._stroke;
      (f.lineWidth = $.width),
        (f.miterLimit = $.miterLimit),
        (f.lineJoin = $.join),
        (f.lineCap = $.cap);
    }
    f.font = m;
    let I, G;
    const j = t.dropShadow ? 2 : 1;
    for (let $ = 0; $ < j; ++$) {
      const H = t.dropShadow && $ === 0,
        Q = H ? Math.ceil(Math.max(1, C) + t.padding * 2) : 0,
        O = Q * n;
      if (H) {
        (f.fillStyle = "black"), (f.strokeStyle = "black");
        const A = t.dropShadow,
          P = A.color,
          R = A.alpha;
        f.shadowColor = at.shared.setValue(P).setAlpha(R).toRgbaString();
        const B = A.blur * n,
          L = A.distance * n;
        (f.shadowBlur = B),
          (f.shadowOffsetX = Math.cos(A.angle) * L),
          (f.shadowOffsetY = Math.sin(A.angle) * L + O);
      } else
        (f.globalAlpha =
          (a = (o = t._fill) == null ? void 0 : o.alpha) != null ? a : 1),
          (f.fillStyle = t._fill ? ym(t._fill, f) : null),
          (l = t._stroke) != null &&
            l.width &&
            (f.strokeStyle = ym(t._stroke, f)),
          (f.shadowColor = "black");
      let y = (v - k.fontSize) / 2;
      v - k.fontSize < 0 && (y = 0);
      const T =
        (c = (u = t._stroke) == null ? void 0 : u.width) != null ? c : 0;
      for (let A = 0; A < _.length; A++)
        (I = T / 2),
          (G = T / 2 + A * v + k.ascent + y),
          t.align === "right"
            ? (I += x - w[A])
            : t.align === "center" && (I += (x - w[A]) / 2),
          (h = t._stroke) != null &&
            h.width &&
            this._drawLetterSpacing(
              _[A],
              t,
              i,
              I + t.padding,
              G + t.padding - Q,
              !0
            ),
          t._fill !== void 0 &&
            this._drawLetterSpacing(
              _[A],
              t,
              i,
              I + t.padding,
              G + t.padding - Q
            );
    }
  }
  _drawLetterSpacing(e, t, n, i, s, o = !1) {
    const { context: a } = n,
      l = t.letterSpacing;
    let u = !1;
    if (
      (Gs.experimentalLetterSpacingSupported &&
        (Gs.experimentalLetterSpacing
          ? ((a.letterSpacing = `${l}px`),
            (a.textLetterSpacing = `${l}px`),
            (u = !0))
          : ((a.letterSpacing = "0px"), (a.textLetterSpacing = "0px"))),
      l === 0 || u)
    ) {
      o ? a.strokeText(e, i, s) : a.fillText(e, i, s);
      return;
    }
    let c = i;
    const h = Gs.graphemeSegmenter(e);
    let d = a.measureText(e).width,
      f = 0;
    for (let m = 0; m < h.length; ++m) {
      const g = h[m];
      o ? a.strokeText(g, c, s) : a.fillText(g, c, s);
      let _ = "";
      for (let v = m + 1; v < h.length; ++v) _ += h[v];
      (f = a.measureText(_).width), (c += d - f + l), (d = f);
    }
  }
  destroy() {
    this._activeTextures = null;
  }
}
NO.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "canvasText",
};
Ue.add(NO);
Ue.add(AO);
var fq = Object.defineProperty,
  vm = Object.getOwnPropertySymbols,
  LO = Object.prototype.hasOwnProperty,
  UO = Object.prototype.propertyIsEnumerable,
  Xk = (r, e, t) =>
    e in r
      ? fq(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  pq = (r, e) => {
    for (var t in e || (e = {})) LO.call(e, t) && Xk(r, t, e[t]);
    if (vm) for (var t of vm(e)) UO.call(e, t) && Xk(r, t, e[t]);
    return r;
  },
  mq = (r, e) => {
    var t = {};
    for (var n in r) LO.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && vm)
      for (var n of vm(r)) e.indexOf(n) < 0 && UO.call(r, n) && (t[n] = r[n]);
    return t;
  };
class xm extends ft {
  constructor(e) {
    e instanceof gi && (e = { context: e });
    const t = e || {},
      { context: n, roundPixels: i } = t,
      s = mq(t, ["context", "roundPixels"]);
    super(pq({ label: "Graphics" }, s)),
      (this.canBundle = !0),
      (this.renderPipeId = "graphics"),
      (this._roundPixels = 0),
      n ? (this._context = n) : (this._context = this._ownedContext = new gi()),
      this._context.on("update", this.onViewUpdate, this),
      (this.allowChildren = !1),
      (this.roundPixels = i ?? !1);
  }
  set context(e) {
    e !== this._context &&
      (this._context.off("update", this.onViewUpdate, this),
      (this._context = e),
      this._context.on("update", this.onViewUpdate, this),
      this.onViewUpdate());
  }
  get context() {
    return this._context;
  }
  get bounds() {
    return this._context.bounds;
  }
  addBounds(e) {
    e.addBounds(this._context.bounds);
  }
  containsPoint(e) {
    return this._context.containsPoint(e);
  }
  get roundPixels() {
    return !!this._roundPixels;
  }
  set roundPixels(e) {
    this._roundPixels = e ? 1 : 0;
  }
  onViewUpdate() {
    if (
      ((this._didChangeId += 4096),
      (this._didGraphicsUpdate = !0),
      this.didViewUpdate)
    )
      return;
    this.didViewUpdate = !0;
    const e = this.renderGroup || this.parentRenderGroup;
    e && e.onChildViewUpdate(this);
  }
  destroy(e) {
    this._ownedContext && !e
      ? this._ownedContext.destroy(e)
      : (e === !0 || (e == null ? void 0 : e.context) === !0) &&
        this._context.destroy(e),
      (this._ownedContext = null),
      (this._context = null),
      super.destroy(e);
  }
  _callContextMethod(e, t) {
    return this.context[e](...t), this;
  }
  setFillStyle(...e) {
    return this._callContextMethod("setFillStyle", e);
  }
  setStrokeStyle(...e) {
    return this._callContextMethod("setStrokeStyle", e);
  }
  fill(...e) {
    return this._callContextMethod("fill", e);
  }
  stroke(...e) {
    return this._callContextMethod("stroke", e);
  }
  texture(...e) {
    return this._callContextMethod("texture", e);
  }
  beginPath() {
    return this._callContextMethod("beginPath", []);
  }
  cut() {
    return this._callContextMethod("cut", []);
  }
  arc(...e) {
    return this._callContextMethod("arc", e);
  }
  arcTo(...e) {
    return this._callContextMethod("arcTo", e);
  }
  arcToSvg(...e) {
    return this._callContextMethod("arcToSvg", e);
  }
  bezierCurveTo(...e) {
    return this._callContextMethod("bezierCurveTo", e);
  }
  closePath() {
    return this._callContextMethod("closePath", []);
  }
  ellipse(...e) {
    return this._callContextMethod("ellipse", e);
  }
  circle(...e) {
    return this._callContextMethod("circle", e);
  }
  path(...e) {
    return this._callContextMethod("path", e);
  }
  lineTo(...e) {
    return this._callContextMethod("lineTo", e);
  }
  moveTo(...e) {
    return this._callContextMethod("moveTo", e);
  }
  quadraticCurveTo(...e) {
    return this._callContextMethod("quadraticCurveTo", e);
  }
  rect(...e) {
    return this._callContextMethod("rect", e);
  }
  roundRect(...e) {
    return this._callContextMethod("roundRect", e);
  }
  poly(...e) {
    return this._callContextMethod("poly", e);
  }
  regularPoly(...e) {
    return this._callContextMethod("regularPoly", e);
  }
  roundPoly(...e) {
    return this._callContextMethod("roundPoly", e);
  }
  roundShape(...e) {
    return this._callContextMethod("roundShape", e);
  }
  filletRect(...e) {
    return this._callContextMethod("filletRect", e);
  }
  chamferRect(...e) {
    return this._callContextMethod("chamferRect", e);
  }
  star(...e) {
    return this._callContextMethod("star", e);
  }
  svg(...e) {
    return this._callContextMethod("svg", e);
  }
  restore(...e) {
    return this._callContextMethod("restore", e);
  }
  save() {
    return this._callContextMethod("save", []);
  }
  getTransform() {
    return this.context.getTransform();
  }
  resetTransform() {
    return this._callContextMethod("resetTransform", []);
  }
  rotateTransform(...e) {
    return this._callContextMethod("rotate", e);
  }
  scaleTransform(...e) {
    return this._callContextMethod("scale", e);
  }
  setTransform(...e) {
    return this._callContextMethod("setTransform", e);
  }
  transform(...e) {
    return this._callContextMethod("transform", e);
  }
  translateTransform(...e) {
    return this._callContextMethod("translate", e);
  }
  clear() {
    return this._callContextMethod("clear", []);
  }
  get fillStyle() {
    return this._context.fillStyle;
  }
  set fillStyle(e) {
    this._context.fillStyle = e;
  }
  get strokeStyle() {
    return this._context.strokeStyle;
  }
  set strokeStyle(e) {
    this._context.strokeStyle = e;
  }
  clone(e = !1) {
    return e
      ? new xm(this._context.clone())
      : ((this._ownedContext = null), new xm(this._context));
  }
  lineStyle(e, t, n) {
    Le(
      Ge,
      "Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style."
    );
    const i = {};
    return (
      e && (i.width = e),
      t && (i.color = t),
      n && (i.alpha = n),
      (this.context.strokeStyle = i),
      this
    );
  }
  beginFill(e, t) {
    Le(
      Ge,
      "Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."
    );
    const n = {};
    return (
      e && (n.color = e), t && (n.alpha = t), (this.context.fillStyle = n), this
    );
  }
  endFill() {
    Le(
      Ge,
      "Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."
    ),
      this.context.fill();
    const e = this.context.strokeStyle;
    return (
      (e.width !== gi.defaultStrokeStyle.width ||
        e.color !== gi.defaultStrokeStyle.color ||
        e.alpha !== gi.defaultStrokeStyle.alpha) &&
        this.context.stroke(),
      this
    );
  }
  drawCircle(...e) {
    return (
      Le(Ge, "Graphics#drawCircle has been renamed to Graphics#circle"),
      this._callContextMethod("circle", e)
    );
  }
  drawEllipse(...e) {
    return (
      Le(Ge, "Graphics#drawEllipse has been renamed to Graphics#ellipse"),
      this._callContextMethod("ellipse", e)
    );
  }
  drawPolygon(...e) {
    return (
      Le(Ge, "Graphics#drawPolygon has been renamed to Graphics#poly"),
      this._callContextMethod("poly", e)
    );
  }
  drawRect(...e) {
    return (
      Le(Ge, "Graphics#drawRect has been renamed to Graphics#rect"),
      this._callContextMethod("rect", e)
    );
  }
  drawRoundedRect(...e) {
    return (
      Le(Ge, "Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),
      this._callContextMethod("roundRect", e)
    );
  }
  drawStar(...e) {
    return (
      Le(Ge, "Graphics#drawStar has been renamed to Graphics#star"),
      this._callContextMethod("star", e)
    );
  }
}
let hf;
function gq() {
  if (!hf) {
    hf = "mediump";
    const r = hO();
    r &&
      r.getShaderPrecisionFormat &&
      (hf = r.getShaderPrecisionFormat(r.FRAGMENT_SHADER, r.HIGH_FLOAT)
        .precision
        ? "highp"
        : "mediump");
  }
  return hf;
}
function _q(r, e, t) {
  return e
    ? r
    : t
    ? ((r = r.replace("out vec4 finalColor;", "")),
      `
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${r}
        `)
    : `
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${r}
        `;
}
function yq(r, e, t) {
  const n = t ? e.maxSupportedFragmentPrecision : e.maxSupportedVertexPrecision;
  if (r.substring(0, 9) !== "precision") {
    let i = t ? e.requestedFragmentPrecision : e.requestedVertexPrecision;
    return (
      i === "highp" && n !== "highp" && (i = "mediump"),
      `precision ${i} float;
${r}`
    );
  } else if (n !== "highp" && r.substring(0, 15) === "precision highp")
    return r.replace("precision highp", "precision mediump");
  return r;
}
function vq(r, e) {
  return e
    ? `#version 300 es
${r}`
    : r;
}
const xq = {},
  wq = {};
function bq(r, { name: e = "pixi-program" }, t = !0) {
  (e = e.replace(/\s+/g, "-")), (e += t ? "-fragment" : "-vertex");
  const n = t ? xq : wq;
  return (
    n[e] ? (n[e]++, (e += `-${n[e]}`)) : (n[e] = 1),
    r.indexOf("#define SHADER_NAME") !== -1
      ? r
      : `${`#define SHADER_NAME ${e}`}
${r}`
  );
}
function Sq(r, e) {
  return e ? r.replace("#version 300 es", "") : r;
}
var Eq = Object.defineProperty,
  Yk = Object.getOwnPropertySymbols,
  Tq = Object.prototype.hasOwnProperty,
  kq = Object.prototype.propertyIsEnumerable,
  Kk = (r, e, t) =>
    e in r
      ? Eq(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  qk = (r, e) => {
    for (var t in e || (e = {})) Tq.call(e, t) && Kk(r, t, e[t]);
    if (Yk) for (var t of Yk(e)) kq.call(e, t) && Kk(r, t, e[t]);
    return r;
  };
const j0 = {
    stripVersion: Sq,
    ensurePrecision: yq,
    addProgramDefines: _q,
    setProgramName: bq,
    insertVersion: vq,
  },
  $0 = Object.create(null),
  GO = class xx {
    constructor(e) {
      e = qk(qk({}, xx.defaultOptions), e);
      const t = e.fragment.indexOf("#version 300 es") !== -1,
        n = {
          stripVersion: t,
          ensurePrecision: {
            requestedFragmentPrecision: e.preferredFragmentPrecision,
            requestedVertexPrecision: e.preferredVertexPrecision,
            maxSupportedVertexPrecision: "highp",
            maxSupportedFragmentPrecision: gq(),
          },
          setProgramName: { name: e.name },
          addProgramDefines: t,
          insertVersion: t,
        };
      let i = e.fragment,
        s = e.vertex;
      Object.keys(j0).forEach((o) => {
        const a = n[o];
        (i = j0[o](i, a, !0)), (s = j0[o](s, a, !1));
      }),
        (this.fragment = i),
        (this.vertex = s),
        (this._key = Mg(`${this.vertex}:${this.fragment}`, "gl-program"));
    }
    destroy() {
      (this.fragment = null),
        (this.vertex = null),
        (this._attributeData = null),
        (this._uniformData = null),
        (this._uniformBlockData = null),
        (this.transformFeedbackVaryings = null);
    }
    static from(e) {
      const t = `${e.vertex}:${e.fragment}`;
      return $0[t] || ($0[t] = new xx(e)), $0[t];
    }
  };
GO.defaultOptions = {
  preferredVertexPrecision: "highp",
  preferredFragmentPrecision: "mediump",
};
let ca = GO;
const Zk = {
  uint8x2: { size: 2, stride: 2, normalised: !1 },
  uint8x4: { size: 4, stride: 4, normalised: !1 },
  sint8x2: { size: 2, stride: 2, normalised: !1 },
  sint8x4: { size: 4, stride: 4, normalised: !1 },
  unorm8x2: { size: 2, stride: 2, normalised: !0 },
  unorm8x4: { size: 4, stride: 4, normalised: !0 },
  snorm8x2: { size: 2, stride: 2, normalised: !0 },
  snorm8x4: { size: 4, stride: 4, normalised: !0 },
  uint16x2: { size: 2, stride: 4, normalised: !1 },
  uint16x4: { size: 4, stride: 8, normalised: !1 },
  sint16x2: { size: 2, stride: 4, normalised: !1 },
  sint16x4: { size: 4, stride: 8, normalised: !1 },
  unorm16x2: { size: 2, stride: 4, normalised: !0 },
  unorm16x4: { size: 4, stride: 8, normalised: !0 },
  snorm16x2: { size: 2, stride: 4, normalised: !0 },
  snorm16x4: { size: 4, stride: 8, normalised: !0 },
  float16x2: { size: 2, stride: 4, normalised: !1 },
  float16x4: { size: 4, stride: 8, normalised: !1 },
  float32: { size: 1, stride: 4, normalised: !1 },
  float32x2: { size: 2, stride: 8, normalised: !1 },
  float32x3: { size: 3, stride: 12, normalised: !1 },
  float32x4: { size: 4, stride: 16, normalised: !1 },
  uint32: { size: 1, stride: 4, normalised: !1 },
  uint32x2: { size: 2, stride: 8, normalised: !1 },
  uint32x3: { size: 3, stride: 12, normalised: !1 },
  uint32x4: { size: 4, stride: 16, normalised: !1 },
  sint32: { size: 1, stride: 4, normalised: !1 },
  sint32x2: { size: 2, stride: 8, normalised: !1 },
  sint32x3: { size: 3, stride: 12, normalised: !1 },
  sint32x4: { size: 4, stride: 16, normalised: !1 },
};
function Xh(r) {
  var e;
  return (e = Zk[r]) != null ? e : Zk.float32;
}
const Aq = {
  f32: "float32",
  "vec2<f32>": "float32x2",
  "vec3<f32>": "float32x3",
  "vec4<f32>": "float32x4",
  vec2f: "float32x2",
  vec3f: "float32x3",
  vec4f: "float32x4",
  i32: "sint32",
  "vec2<i32>": "sint32x2",
  "vec3<i32>": "sint32x3",
  "vec4<i32>": "sint32x4",
  u32: "uint32",
  "vec2<u32>": "uint32x2",
  "vec3<u32>": "uint32x3",
  "vec4<u32>": "uint32x4",
  bool: "uint32",
  "vec2<bool>": "uint32x2",
  "vec3<bool>": "uint32x3",
  "vec4<bool>": "uint32x4",
};
function Pq({ source: r, entryPoint: e }) {
  var t;
  const n = {},
    i = r.indexOf(`fn ${e}`);
  if (i !== -1) {
    const s = r.indexOf("->", i);
    if (s !== -1) {
      const o = r.substring(i, s),
        a =
          /@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;
      let l;
      for (; (l = a.exec(o)) !== null; ) {
        const u = (t = Aq[l[3]]) != null ? t : "float32";
        n[l[2]] = {
          location: parseInt(l[1], 10),
          format: u,
          stride: Xh(u).stride,
          offset: 0,
          instance: !1,
          start: 0,
        };
      }
    }
  }
  return n;
}
function z0(r) {
  var e, t, n;
  const i = /(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,
    s = /@group\((\d+)\)/,
    o = /@binding\((\d+)\)/,
    a = /var(<[^>]+>)? (\w+)/,
    l = /:\s*(\w+)/,
    u = /struct\s+(\w+)\s*{([^}]+)}/g,
    c = /(\w+)\s*:\s*([\w\<\>]+)/g,
    h = /struct\s+(\w+)/,
    d =
      (e = r.match(i)) == null
        ? void 0
        : e.map((m) => ({
            group: parseInt(m.match(s)[1], 10),
            binding: parseInt(m.match(o)[1], 10),
            name: m.match(a)[2],
            isUniform: m.match(a)[1] === "<uniform>",
            type: m.match(l)[1],
          }));
  if (!d) return { groups: [], structs: [] };
  const f =
    (n =
      (t = r.match(u)) == null
        ? void 0
        : t
            .map((m) => {
              const g = m.match(h)[1],
                _ = m.match(c).reduce((v, w) => {
                  const [x, k] = w.split(":");
                  return (v[x.trim()] = k.trim()), v;
                }, {});
              return _ ? { name: g, members: _ } : null;
            })
            .filter(({ name: m }) => d.some((g) => g.type === m))) != null
      ? n
      : [];
  return { groups: d, structs: f };
}
var jc = ((r) => (
  (r[(r.VERTEX = 1)] = "VERTEX"),
  (r[(r.FRAGMENT = 2)] = "FRAGMENT"),
  (r[(r.COMPUTE = 4)] = "COMPUTE"),
  r
))(jc || {});
function Cq({ groups: r }) {
  const e = [];
  for (let t = 0; t < r.length; t++) {
    const n = r[t];
    e[n.group] || (e[n.group] = []),
      n.isUniform
        ? e[n.group].push({
            binding: n.binding,
            visibility: jc.VERTEX | jc.FRAGMENT,
            buffer: { type: "uniform" },
          })
        : n.type === "sampler"
        ? e[n.group].push({
            binding: n.binding,
            visibility: jc.FRAGMENT,
            sampler: { type: "filtering" },
          })
        : n.type === "texture_2d" &&
          e[n.group].push({
            binding: n.binding,
            visibility: jc.FRAGMENT,
            texture: {
              sampleType: "float",
              viewDimension: "2d",
              multisampled: !1,
            },
          });
  }
  return e;
}
function Rq({ groups: r }) {
  const e = [];
  for (let t = 0; t < r.length; t++) {
    const n = r[t];
    e[n.group] || (e[n.group] = {}), (e[n.group][n.name] = n.binding);
  }
  return e;
}
function Dq(r, e) {
  const t = new Set(),
    n = new Set(),
    i = [...r.structs, ...e.structs].filter((o) =>
      t.has(o.name) ? !1 : (t.add(o.name), !0)
    ),
    s = [...r.groups, ...e.groups].filter((o) => {
      const a = `${o.name}-${o.binding}`;
      return n.has(a) ? !1 : (n.add(a), !0);
    });
  return { structs: i, groups: s };
}
const W0 = Object.create(null);
class po {
  constructor(e) {
    this._layoutKey = 0;
    var t, n;
    const { fragment: i, vertex: s, layout: o, gpuLayout: a, name: l } = e;
    if (
      ((this.name = l),
      (this.fragment = i),
      (this.vertex = s),
      i.source === s.source)
    ) {
      const u = z0(i.source);
      this.structsAndGroups = u;
    } else {
      const u = z0(s.source),
        c = z0(i.source);
      this.structsAndGroups = Dq(u, c);
    }
    (this.layout = o ?? Rq(this.structsAndGroups)),
      (this.gpuLayout = a ?? Cq(this.structsAndGroups)),
      (this.autoAssignGlobalUniforms =
        ((t = this.layout[0]) == null ? void 0 : t.globalUniforms) !== void 0),
      (this.autoAssignLocalUniforms =
        ((n = this.layout[1]) == null ? void 0 : n.localUniforms) !== void 0),
      this._generateProgramKey();
  }
  _generateProgramKey() {
    const { vertex: e, fragment: t } = this,
      n = e.source + t.source + e.entryPoint + t.entryPoint;
    this._layoutKey = Mg(n, "program");
  }
  get attributeData() {
    var e;
    return (
      (e = this._attributeData) != null ||
        (this._attributeData = Pq(this.vertex)),
      this._attributeData
    );
  }
  destroy() {
    (this.gpuLayout = null),
      (this.layout = null),
      (this.structsAndGroups = null),
      (this.fragment = null),
      (this.vertex = null);
  }
  static from(e) {
    const t = `${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;
    return W0[t] || (W0[t] = new po(e)), W0[t];
  }
}
function Qk(r, e, t) {
  if (r)
    for (const n in r) {
      const i = n.toLocaleLowerCase(),
        s = e[i];
      if (s) {
        let o = r[n];
        n === "header" &&
          (o = o
            .replace(/@in\s+[^;]+;\s*/g, "")
            .replace(/@out\s+[^;]+;\s*/g, "")),
          t && s.push(`//----${t}----//`),
          s.push(o);
      } else Be(`${n} placement hook does not exist in shader`);
    }
}
const Mq = /\{\{(.*?)\}\}/g;
function Jk(r) {
  var e, t;
  const n = {};
  return (
    ((t =
      (e = r.match(Mq)) == null
        ? void 0
        : e.map((s) => s.replace(/[{()}]/g, ""))) != null
      ? t
      : []
    ).forEach((s) => {
      n[s] = [];
    }),
    n
  );
}
function eA(r, e) {
  let t;
  const n = /@in\s+([^;]+);/g;
  for (; (t = n.exec(r)) !== null; ) e.push(t[1]);
}
function tA(r, e, t = !1) {
  const n = [];
  eA(e, n),
    r.forEach((a) => {
      a.header && eA(a.header, n);
    });
  const i = n;
  t && i.sort();
  const s = i.map((a, l) => `       @location(${l}) ${a},`).join(`
`);
  let o = e.replace(/@in\s+[^;]+;\s*/g, "");
  return (
    (o = o.replace(
      "{{in}}",
      `
${s}
`
    )),
    o
  );
}
function rA(r, e) {
  let t;
  const n = /@out\s+([^;]+);/g;
  for (; (t = n.exec(r)) !== null; ) e.push(t[1]);
}
function Bq(r) {
  const t = /\b(\w+)\s*:/g.exec(r);
  return t ? t[1] : "";
}
function Oq(r) {
  const e = /@.*?\s+/g;
  return r.replace(e, "");
}
function Iq(r, e) {
  const t = [];
  rA(e, t),
    r.forEach((l) => {
      l.header && rA(l.header, t);
    });
  let n = 0;
  const i = t
      .sort()
      .map((l) => (l.indexOf("builtin") > -1 ? l : `@location(${n++}) ${l}`))
      .join(`,
`),
    s = t.sort().map((l) => `       var ${Oq(l)};`).join(`
`),
    o = `return VSOutput(
                ${t.sort().map((l) => ` ${Bq(l)}`).join(`,
`)});`;
  let a = e.replace(/@out\s+[^;]+;\s*/g, "");
  return (
    (a = a.replace(
      "{{struct}}",
      `
${i}
`
    )),
    (a = a.replace(
      "{{start}}",
      `
${s}
`
    )),
    (a = a.replace(
      "{{return}}",
      `
${o}
`
    )),
    a
  );
}
function nA(r, e) {
  let t = r;
  for (const n in e) {
    const i = e[n];
    i.join(`
`).length
      ? (t = t.replace(
          `{{${n}}}`,
          `//-----${n} START-----//
${i.join(`
`)}
//----${n} FINISH----//`
        ))
      : (t = t.replace(`{{${n}}}`, ""));
  }
  return t;
}
const Uo = Object.create(null),
  H0 = new Map();
let Fq = 0;
function Nq({ template: r, bits: e }) {
  const t = jO(r, e);
  if (Uo[t]) return Uo[t];
  const { vertex: n, fragment: i } = Uq(r, e);
  return (Uo[t] = $O(n, i, e)), Uo[t];
}
function Lq({ template: r, bits: e }) {
  const t = jO(r, e);
  return Uo[t] || (Uo[t] = $O(r.vertex, r.fragment, e)), Uo[t];
}
function Uq(r, e) {
  const t = e.map((o) => o.vertex).filter((o) => !!o),
    n = e.map((o) => o.fragment).filter((o) => !!o);
  let i = tA(t, r.vertex, !0);
  i = Iq(t, i);
  const s = tA(n, r.fragment, !0);
  return { vertex: i, fragment: s };
}
function jO(r, e) {
  return (
    e
      .map((t) => (H0.has(t) || H0.set(t, Fq++), H0.get(t)))
      .sort((t, n) => t - n)
      .join("-") +
    r.vertex +
    r.fragment
  );
}
function $O(r, e, t) {
  const n = Jk(r),
    i = Jk(e);
  return (
    t.forEach((s) => {
      Qk(s.vertex, n, s.name), Qk(s.fragment, i, s.name);
    }),
    { vertex: nA(r, n), fragment: nA(e, i) }
  );
}
const Gq = `
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,
  jq = `
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        return outColor * vColor;
      };
`,
  $q = `
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,
  zq = `
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
    }
`,
  Wq = {
    name: "global-uniforms-bit",
    vertex: {
      header: `
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `,
    },
  },
  Hq = {
    name: "global-uniforms-bit",
    vertex: {
      header: `
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `,
    },
  };
var Vq = Object.defineProperty,
  iA = Object.getOwnPropertySymbols,
  Xq = Object.prototype.hasOwnProperty,
  Yq = Object.prototype.propertyIsEnumerable,
  sA = (r, e, t) =>
    e in r
      ? Vq(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Kq = (r, e) => {
    for (var t in e || (e = {})) Xq.call(e, t) && sA(r, t, e[t]);
    if (iA) for (var t of iA(e)) Yq.call(e, t) && sA(r, t, e[t]);
    return r;
  };
function gd({ bits: r, name: e }) {
  const t = Nq({ template: { fragment: jq, vertex: Gq }, bits: [Wq, ...r] });
  return po.from({
    name: e,
    vertex: { source: t.vertex, entryPoint: "main" },
    fragment: { source: t.fragment, entryPoint: "main" },
  });
}
function _d({ bits: r, name: e }) {
  return new ca(
    Kq(
      { name: e },
      Lq({ template: { vertex: $q, fragment: zq }, bits: [Hq, ...r] })
    )
  );
}
const Zb = {
    name: "color-bit",
    vertex: {
      header: `
            @in aColor: vec4<f32>;
        `,
      main: `
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `,
    },
  },
  Qb = {
    name: "color-bit",
    vertex: {
      header: `
            in vec4 aColor;
        `,
      main: `
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `,
    },
  },
  V0 = {};
function qq(r) {
  const e = [];
  if (r === 1)
    e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),
      e.push("@group(1) @binding(1) var textureSampler1: sampler;");
  else {
    let t = 0;
    for (let n = 0; n < r; n++)
      e.push(
        `@group(1) @binding(${t++}) var textureSource${n + 1}: texture_2d<f32>;`
      ),
        e.push(
          `@group(1) @binding(${t++}) var textureSampler${n + 1}: sampler;`
        );
  }
  return e.join(`
`);
}
function Zq(r) {
  const e = [];
  if (r === 1)
    e.push(
      "outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);"
    );
  else {
    e.push("switch vTextureId {");
    for (let t = 0; t < r; t++)
      t === r - 1 ? e.push("  default:{") : e.push(`  case ${t}:{`),
        e.push(
          `      outColor = textureSampleGrad(textureSource${
            t + 1
          }, textureSampler${t + 1}, vUV, uvDx, uvDy);`
        ),
        e.push("      break;}");
    e.push("}");
  }
  return e.join(`
`);
}
function Jb(r) {
  return (
    V0[r] ||
      (V0[r] = {
        name: "texture-batch-bit",
        vertex: {
          header: `
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,
          main: `
                vTextureId = aTextureIdAndRound.y;
            `,
          end: `
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `,
        },
        fragment: {
          header: `
                @in @interpolate(flat) vTextureId: u32;
    
                ${qq(As())}
            `,
          main: `
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);
    
                ${Zq(As())}
            `,
        },
      }),
    V0[r]
  );
}
const X0 = {};
function Qq(r) {
  const e = [];
  for (let t = 0; t < r; t++)
    t > 0 && e.push("else"),
      t < r - 1 && e.push(`if(vTextureId < ${t}.5)`),
      e.push("{"),
      e.push(`	outColor = texture(uTextures[${t}], vUV);`),
      e.push("}");
  return e.join(`
`);
}
function e1(r) {
  return (
    X0[r] ||
      (X0[r] = {
        name: "texture-batch-bit",
        vertex: {
          header: `
                in vec2 aTextureIdAndRound;
                out float vTextureId;
              
            `,
          main: `
                vTextureId = aTextureIdAndRound.y;
            `,
          end: `
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `,
        },
        fragment: {
          header: `
                in float vTextureId;
    
                uniform sampler2D uTextures[${r}];
              
            `,
          main: `
    
                ${Qq(As())}
            `,
        },
      }),
    X0[r]
  );
}
const yd = {
    name: "round-pixels-bit",
    vertex: {
      header: `
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `,
    },
  },
  vd = {
    name: "round-pixels-bit",
    vertex: {
      header: `   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `,
    },
  },
  oA = {};
function t1(r) {
  let e = oA[r];
  if (e) return e;
  const t = new Int32Array(r);
  for (let n = 0; n < r; n++) t[n] = n;
  return (
    (e = oA[r] =
      new dn(
        { uTextures: { value: t, type: "i32", size: r } },
        { isStatic: !0 }
      )),
    e
  );
}
var Di = ((r) => (
    (r[(r.WEBGL = 1)] = "WEBGL"),
    (r[(r.WEBGPU = 2)] = "WEBGPU"),
    (r[(r.BOTH = 3)] = "BOTH"),
    r
  ))(Di || {}),
  Jq = Object.defineProperty,
  wm = Object.getOwnPropertySymbols,
  zO = Object.prototype.hasOwnProperty,
  WO = Object.prototype.propertyIsEnumerable,
  aA = (r, e, t) =>
    e in r
      ? Jq(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  eZ = (r, e) => {
    for (var t in e || (e = {})) zO.call(e, t) && aA(r, t, e[t]);
    if (wm) for (var t of wm(e)) WO.call(e, t) && aA(r, t, e[t]);
    return r;
  },
  tZ = (r, e) => {
    var t = {};
    for (var n in r) zO.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && wm)
      for (var n of wm(r)) e.indexOf(n) < 0 && WO.call(r, n) && (t[n] = r[n]);
    return t;
  };
class Oi extends si {
  constructor(e) {
    super(),
      (this._uniformBindMap = Object.create(null)),
      (this._ownedBindGroups = []);
    let {
      gpuProgram: t,
      glProgram: n,
      groups: i,
      resources: s,
      compatibleRenderers: o,
      groupMap: a,
    } = e;
    (this.gpuProgram = t),
      (this.glProgram = n),
      o === void 0 && ((o = 0), t && (o |= Di.WEBGPU), n && (o |= Di.WEBGL)),
      (this.compatibleRenderers = o);
    const l = {};
    if ((!s && !i && (s = {}), s && i))
      throw new Error("[Shader] Cannot have both resources and groups");
    if (!t && i && !a)
      throw new Error(
        "[Shader] No group map or WebGPU shader provided - consider using resources instead."
      );
    if (!t && i && a)
      for (const u in a)
        for (const c in a[u]) {
          const h = a[u][c];
          l[h] = { group: u, binding: c, name: h };
        }
    else if (t && i && !a) {
      const u = t.structsAndGroups.groups;
      (a = {}),
        u.forEach((c) => {
          (a[c.group] = a[c.group] || {}),
            (a[c.group][c.binding] = c.name),
            (l[c.name] = c);
        });
    } else if (s) {
      if (t) {
        const u = t.structsAndGroups.groups;
        (a = {}),
          u.forEach((c) => {
            (a[c.group] = a[c.group] || {}),
              (a[c.group][c.binding] = c.name),
              (l[c.name] = c);
          });
      } else {
        (a = {}), (i = { 99: new to() }), this._ownedBindGroups.push(i[99]);
        let u = 0;
        for (const c in s)
          (l[c] = { group: 99, binding: u, name: c }),
            (a[99] = a[99] || {}),
            (a[99][u] = c),
            u++;
      }
      i = {};
      for (const u in s) {
        const c = u;
        let h = s[u];
        !h.source && !h._resourceType && (h = new dn(h));
        const d = l[c];
        d &&
          (i[d.group] ||
            ((i[d.group] = new to()), this._ownedBindGroups.push(i[d.group])),
          i[d.group].setResource(h, d.binding));
      }
    }
    (this.groups = i),
      (this._uniformBindMap = a),
      (this.resources = this._buildResourceAccessor(i, l));
  }
  addResource(e, t, n) {
    var i, s;
    (i = this._uniformBindMap)[t] || (i[t] = {}),
      (s = this._uniformBindMap[t])[n] || (s[n] = e),
      this.groups[t] ||
        ((this.groups[t] = new to()),
        this._ownedBindGroups.push(this.groups[t]));
  }
  _buildResourceAccessor(e, t) {
    const n = {};
    for (const i in t) {
      const s = t[i];
      Object.defineProperty(n, s.name, {
        get() {
          return e[s.group].getResource(s.binding);
        },
        set(o) {
          e[s.group].setResource(o, s.binding);
        },
      });
    }
    return n;
  }
  destroy(e = !1) {
    var t, n;
    this.emit("destroy", this),
      e &&
        ((t = this.gpuProgram) == null || t.destroy(),
        (n = this.glProgram) == null || n.destroy()),
      (this.gpuProgram = null),
      (this.glProgram = null),
      this.removeAllListeners(),
      (this._uniformBindMap = null),
      this._ownedBindGroups.forEach((i) => {
        i.destroy();
      }),
      (this._ownedBindGroups = null),
      (this.resources = null),
      (this.groups = null);
  }
  static from(e) {
    const t = e,
      { gpu: n, gl: i } = t,
      s = tZ(t, ["gpu", "gl"]);
    let o, a;
    return (
      n && (o = po.from(n)),
      i && (a = ca.from(i)),
      new Oi(eZ({ gpuProgram: o, glProgram: a }, s))
    );
  }
}
const rZ = {
    name: "local-uniform-msdf-bit",
    vertex: {
      header: `
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,
      main: `
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,
      end: `
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `,
    },
    fragment: {
      header: `
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,
      main: ` 
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `,
    },
  },
  nZ = {
    name: "local-uniform-msdf-bit",
    vertex: {
      header: `
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,
      main: `
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,
      end: `
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `,
    },
    fragment: {
      header: `
            uniform float uDistance;
         `,
      main: ` 
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `,
    },
  },
  iZ = {
    name: "msdf-bit",
    fragment: {
      header: `
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {
                
                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));
            
                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;
             
            }
        `,
    },
  },
  sZ = {
    name: "msdf-bit",
    fragment: {
      header: `
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {
                
                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));
               
                // SDF
                median = min(median, msdfColor.a);
            
                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
           
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);  
              
                return coverage;
            }
        `,
    },
  };
let df, ff;
class oZ extends Oi {
  constructor() {
    const e = new dn({
        uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
        uTransformMatrix: { value: new we(), type: "mat3x3<f32>" },
        uDistance: { value: 4, type: "f32" },
        uRound: { value: 0, type: "f32" },
      }),
      t = As();
    df ?? (df = gd({ name: "sdf-shader", bits: [Zb, Jb(t), rZ, iZ, yd] })),
      ff ?? (ff = _d({ name: "sdf-shader", bits: [Qb, e1(t), nZ, sZ, vd] })),
      super({
        glProgram: ff,
        gpuProgram: df,
        resources: { localUniforms: e, batchSamplers: t1(t) },
      });
  }
}
class HO extends si {
  constructor() {
    super(...arguments),
      (this.chars = Object.create(null)),
      (this.lineHeight = 0),
      (this.fontFamily = ""),
      (this.fontMetrics = { fontSize: 0, ascent: 0, descent: 0 }),
      (this.baseLineOffset = 0),
      (this.distanceField = { type: "none", range: 0 }),
      (this.pages = []),
      (this.applyFillAsTint = !0),
      (this.baseMeasurementFontSize = 100),
      (this.baseRenderedFontSize = 100);
  }
  get font() {
    return (
      Le(
        Ge,
        "BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."
      ),
      this.fontFamily
    );
  }
  get pageTextures() {
    return (
      Le(
        Ge,
        "BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."
      ),
      this.pages
    );
  }
  get size() {
    return (
      Le(
        Ge,
        "BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."
      ),
      this.fontMetrics.fontSize
    );
  }
  get distanceFieldRange() {
    return (
      Le(
        Ge,
        "BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."
      ),
      this.distanceField.range
    );
  }
  get distanceFieldType() {
    return (
      Le(
        Ge,
        "BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."
      ),
      this.distanceField.type
    );
  }
  destroy(e = !1) {
    var t;
    this.emit("destroy", this), this.removeAllListeners();
    for (const n in this.chars)
      (t = this.chars[n].texture) == null || t.destroy();
    (this.chars = null),
      e &&
        (this.pages.forEach((n) => n.texture.destroy(!0)), (this.pages = null));
  }
}
function VO(r) {
  if (r === "") return [];
  typeof r == "string" && (r = [r]);
  const e = [];
  for (let t = 0, n = r.length; t < n; t++) {
    const i = r[t];
    if (Array.isArray(i)) {
      if (i.length !== 2)
        throw new Error(
          `[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`
        );
      if (i[0].length === 0 || i[1].length === 0)
        throw new Error("[BitmapFont]: Invalid character delimiter.");
      const s = i[0].charCodeAt(0),
        o = i[1].charCodeAt(0);
      if (o < s) throw new Error("[BitmapFont]: Invalid character range.");
      for (let a = s, l = o; a <= l; a++) e.push(String.fromCharCode(a));
    } else e.push(...Array.from(i));
  }
  if (e.length === 0)
    throw new Error("[BitmapFont]: Empty set when resolving characters.");
  return e;
}
var aZ = Object.defineProperty,
  lA = Object.getOwnPropertySymbols,
  lZ = Object.prototype.hasOwnProperty,
  uZ = Object.prototype.propertyIsEnumerable,
  uA = (r, e, t) =>
    e in r
      ? aZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  cA = (r, e) => {
    for (var t in e || (e = {})) lZ.call(e, t) && uA(r, t, e[t]);
    if (lA) for (var t of lA(e)) uZ.call(e, t) && uA(r, t, e[t]);
    return r;
  };
const XO = class YO extends HO {
  constructor(e) {
    var t, n, i;
    super(),
      (this.resolution = 1),
      (this.pages = []),
      (this._padding = 0),
      (this._measureCache = Object.create(null)),
      (this._currentChars = []),
      (this._currentX = 0),
      (this._currentY = 0),
      (this._currentPageIndex = -1),
      (this._skipKerning = !1);
    const s = cA(cA({}, YO.defaultOptions), e);
    (this._textureSize = s.textureSize), (this._mipmap = s.mipmap);
    const o = s.style.clone();
    s.overrideFill &&
      ((o._fill.color = 16777215),
      (o._fill.alpha = 1),
      (o._fill.texture = fe.WHITE),
      (o._fill.fill = null)),
      (this.applyFillAsTint = s.overrideFill);
    const a = o.fontSize;
    o.fontSize = this.baseMeasurementFontSize;
    const l = _m(o);
    s.overrideSize
      ? o._stroke && (o._stroke.width *= this.baseRenderedFontSize / a)
      : (o.fontSize = this.baseRenderedFontSize = a),
      (this._style = o),
      (this._skipKerning = (t = s.skipKerning) != null ? t : !1),
      (this.resolution = (n = s.resolution) != null ? n : 1),
      (this._padding = (i = s.padding) != null ? i : 4),
      (this.fontMetrics = Gs.measureFont(l)),
      (this.lineHeight =
        o.lineHeight || this.fontMetrics.fontSize || o.fontSize);
  }
  ensureCharacters(e) {
    var t, n, i, s;
    const o = VO(e)
      .filter((x) => !this._currentChars.includes(x))
      .filter((x, k, C) => C.indexOf(x) === k);
    if (!o.length) return;
    this._currentChars = [...this._currentChars, ...o];
    let a;
    this._currentPageIndex === -1
      ? (a = this._nextPage())
      : (a = this.pages[this._currentPageIndex]);
    let { canvas: l, context: u } = a.canvasAndContext,
      c = a.texture.source;
    const h = this._style;
    let d = this._currentX,
      f = this._currentY;
    const m = this.baseRenderedFontSize / this.baseMeasurementFontSize,
      g = this._padding * m,
      _ = h.fontStyle === "italic" ? 2 : 1;
    let v = 0,
      w = !1;
    for (let x = 0; x < o.length; x++) {
      const k = o[x],
        C = Gs.measureText(k, h, l, !1);
      C.lineHeight = C.height;
      const F = _ * C.width * m,
        I = C.height * m,
        G = F + g * 2,
        j = I + g * 2;
      if (
        ((w = !1),
        k !==
          `
` &&
          k !== "\r" &&
          k !== "	" &&
          k !== " " &&
          ((w = !0), (v = Math.ceil(Math.max(j, v)))),
        d + G > this._textureSize &&
          ((f += v), (v = j), (d = 0), f + v > this._textureSize))
      ) {
        c.update();
        const H = this._nextPage();
        (l = H.canvasAndContext.canvas),
          (u = H.canvasAndContext.context),
          (c = H.texture.source),
          (f = 0);
      }
      const $ =
        F / m -
        ((n = (t = h.dropShadow) == null ? void 0 : t.distance) != null
          ? n
          : 0) -
        ((s = (i = h._stroke) == null ? void 0 : i.width) != null ? s : 0);
      if (
        ((this.chars[k] = {
          id: k.codePointAt(0),
          xOffset: -this._padding,
          yOffset: -this._padding,
          xAdvance: $,
          kerning: {},
        }),
        w)
      ) {
        this._drawGlyph(u, C, d + g, f + g, m, h);
        const H = c.width * m,
          Q = c.height * m,
          O = new dt(
            (d / H) * c.width,
            (f / Q) * c.height,
            (G / H) * c.width,
            (j / Q) * c.height
          );
        (this.chars[k].texture = new fe({ source: c, frame: O })),
          (d += Math.ceil(G));
      }
    }
    c.update(),
      (this._currentX = d),
      (this._currentY = f),
      this._skipKerning && this._applyKerning(o, u);
  }
  get pageTextures() {
    return (
      Le(
        Ge,
        "BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."
      ),
      this.pages
    );
  }
  _applyKerning(e, t) {
    const n = this._measureCache;
    for (let i = 0; i < e.length; i++) {
      const s = e[i];
      for (let o = 0; o < this._currentChars.length; o++) {
        const a = this._currentChars[o];
        let l = n[s];
        l || (l = n[s] = t.measureText(s).width);
        let u = n[a];
        u || (u = n[a] = t.measureText(a).width);
        let c = t.measureText(s + a).width,
          h = c - (l + u);
        h && (this.chars[s].kerning[a] = h),
          (c = t.measureText(s + a).width),
          (h = c - (l + u)),
          h && (this.chars[a].kerning[s] = h);
      }
    }
  }
  _nextPage() {
    this._currentPageIndex++;
    const e = this.resolution,
      t = ro.getOptimalCanvasAndContext(
        this._textureSize,
        this._textureSize,
        e
      );
    this._setupContext(t.context, this._style, e);
    const n = e * (this.baseRenderedFontSize / this.baseMeasurementFontSize),
      i = new fe({
        source: new ec({
          resource: t.canvas,
          resolution: n,
          alphaMode: "premultiply-alpha-on-upload",
          autoGenerateMipmaps: this._mipmap,
        }),
      }),
      s = { canvasAndContext: t, texture: i };
    return (this.pages[this._currentPageIndex] = s), s;
  }
  _setupContext(e, t, n) {
    var i;
    (t.fontSize = this.baseRenderedFontSize),
      e.scale(n, n),
      (e.font = _m(t)),
      (t.fontSize = this.baseMeasurementFontSize),
      (e.textBaseline = t.textBaseline);
    const s = t._stroke,
      o = (i = s == null ? void 0 : s.width) != null ? i : 0;
    if (
      (s &&
        ((e.lineWidth = o),
        (e.lineJoin = s.join),
        (e.miterLimit = s.miterLimit),
        (e.strokeStyle = ym(s, e))),
      t._fill && (e.fillStyle = ym(t._fill, e)),
      t.dropShadow)
    ) {
      const a = t.dropShadow,
        l = at.shared.setValue(a.color).toArray(),
        u = a.blur * n,
        c = a.distance * n;
      (e.shadowColor = `rgba(${l[0] * 255},${l[1] * 255},${l[2] * 255},${
        a.alpha
      })`),
        (e.shadowBlur = u),
        (e.shadowOffsetX = Math.cos(a.angle) * c),
        (e.shadowOffsetY = Math.sin(a.angle) * c);
    } else
      (e.shadowColor = "black"),
        (e.shadowBlur = 0),
        (e.shadowOffsetX = 0),
        (e.shadowOffsetY = 0);
  }
  _drawGlyph(e, t, n, i, s, o) {
    var a;
    const l = t.text,
      u = t.fontProperties,
      c = o._stroke,
      h = ((a = c == null ? void 0 : c.width) != null ? a : 0) * s,
      d = n + h / 2,
      f = i - h / 2,
      m = u.descent * s,
      g = t.lineHeight * s;
    o.stroke && h && e.strokeText(l, d, f + g - m),
      o._fill && e.fillText(l, d, f + g - m);
  }
  destroy() {
    super.destroy();
    for (let e = 0; e < this.pages.length; e++) {
      const { canvasAndContext: t, texture: n } = this.pages[e];
      (t.canvas.width = t.canvas.width),
        ro.returnCanvasAndContext(t),
        n.destroy(!0);
    }
    this.pages = null;
  }
};
XO.defaultOptions = { textureSize: 512, style: new ra(), mipmap: !0 };
let hA = XO;
function KO(r, e, t) {
  const n = {
    width: 0,
    height: 0,
    offsetY: 0,
    scale: e.fontSize / t.baseMeasurementFontSize,
    lines: [
      {
        width: 0,
        charPositions: [],
        spaceWidth: 0,
        spacesIndex: [],
        chars: [],
      },
    ],
  };
  n.offsetY = t.baseLineOffset;
  let i = n.lines[0],
    s = null,
    o = !0;
  const a = {
      spaceWord: !1,
      width: 0,
      start: 0,
      index: 0,
      positions: [],
      chars: [],
    },
    l = (f) => {
      const m = i.width;
      for (let g = 0; g < a.index; g++) {
        const _ = f.positions[g];
        i.chars.push(f.chars[g]), i.charPositions.push(_ + m);
      }
      (i.width += f.width),
        (o = !1),
        (a.width = 0),
        (a.index = 0),
        (a.chars.length = 0);
    },
    u = () => {
      let f = i.chars.length - 1,
        m = i.chars[f];
      for (; m === " "; ) (i.width -= t.chars[m].xAdvance), (m = i.chars[--f]);
      (n.width = Math.max(n.width, i.width)),
        (i = {
          width: 0,
          charPositions: [],
          chars: [],
          spaceWidth: 0,
          spacesIndex: [],
        }),
        (o = !0),
        n.lines.push(i),
        (n.height += t.lineHeight);
    },
    c = t.baseMeasurementFontSize / e.fontSize,
    h = e.letterSpacing * c,
    d = e.wordWrapWidth * c;
  for (let f = 0; f < r.length + 1; f++) {
    let m;
    const g = f === r.length;
    g || (m = r[f]);
    const _ = t.chars[m] || t.chars[" "];
    if (
      /(?:\s)/.test(m) ||
      m === "\r" ||
      m ===
        `
` ||
      g
    ) {
      if (
        (!o && e.wordWrap && i.width + a.width - h > d
          ? (u(), l(a), g || i.charPositions.push(0))
          : ((a.start = i.width), l(a), g || i.charPositions.push(0)),
        m === "\r" ||
          m ===
            `
`)
      )
        i.width !== 0 && u();
      else if (!g) {
        const k = _.xAdvance + (_.kerning[s] || 0) + h;
        (i.width += k),
          (i.spaceWidth = k),
          i.spacesIndex.push(i.charPositions.length),
          i.chars.push(m);
      }
    } else {
      const x = _.kerning[s] || 0,
        k = _.xAdvance + x + h;
      (a.positions[a.index++] = a.width + x), a.chars.push(m), (a.width += k);
    }
    s = m;
  }
  return (
    u(),
    e.align === "center"
      ? cZ(n)
      : e.align === "right"
      ? hZ(n)
      : e.align === "justify" && dZ(n),
    n
  );
}
function cZ(r) {
  for (let e = 0; e < r.lines.length; e++) {
    const t = r.lines[e],
      n = r.width / 2 - t.width / 2;
    for (let i = 0; i < t.charPositions.length; i++) t.charPositions[i] += n;
  }
}
function hZ(r) {
  for (let e = 0; e < r.lines.length; e++) {
    const t = r.lines[e],
      n = r.width - t.width;
    for (let i = 0; i < t.charPositions.length; i++) t.charPositions[i] += n;
  }
}
function dZ(r) {
  const e = r.width;
  for (let t = 0; t < r.lines.length; t++) {
    const n = r.lines[t];
    let i = 0,
      s = n.spacesIndex[i++],
      o = 0;
    const a = n.spacesIndex.length,
      u = (e - n.width) / a;
    for (let c = 0; c < n.charPositions.length; c++)
      c === s && ((s = n.spacesIndex[i++]), (o += u)),
        (n.charPositions[c] += o);
  }
}
var fZ = Object.defineProperty,
  dA = Object.getOwnPropertySymbols,
  pZ = Object.prototype.hasOwnProperty,
  mZ = Object.prototype.propertyIsEnumerable,
  fA = (r, e, t) =>
    e in r
      ? fZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Y0 = (r, e) => {
    for (var t in e || (e = {})) pZ.call(e, t) && fA(r, t, e[t]);
    if (dA) for (var t of dA(e)) mZ.call(e, t) && fA(r, t, e[t]);
    return r;
  };
let pf = 0;
class gZ {
  constructor() {
    (this.ALPHA = [["a", "z"], ["A", "Z"], " "]),
      (this.NUMERIC = [["0", "9"]]),
      (this.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "]),
      (this.ASCII = [[" ", "~"]]),
      (this.defaultOptions = {
        chars: this.ALPHANUMERIC,
        resolution: 1,
        padding: 4,
        skipKerning: !1,
      });
  }
  getFont(e, t) {
    var n;
    let i = `${t.fontFamily}-bitmap`,
      s = !0;
    if (t._fill.fill && !t._stroke) (i += t._fill.fill.styleKey), (s = !1);
    else if (t._stroke || t.dropShadow) {
      let a = t.styleKey;
      (a = a.substring(0, a.lastIndexOf("-"))), (i = `${a}-bitmap`), (s = !1);
    }
    if (!ct.has(i)) {
      const a = new hA(
        Y0({ style: t, overrideFill: s, overrideSize: !0 }, this.defaultOptions)
      );
      pf++,
        pf > 50 &&
          Be(
            "BitmapText",
            `You have dynamically created ${pf} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``
          ),
        a.once("destroy", () => {
          pf--, ct.remove(i);
        }),
        ct.set(i, a);
    }
    const o = ct.get(i);
    return (n = o.ensureCharacters) == null || n.call(o, e), o;
  }
  getLayout(e, t) {
    const n = this.getFont(e, t);
    return KO([...e], t, n);
  }
  measureText(e, t) {
    return this.getLayout(e, t);
  }
  install(...e) {
    var t, n, i, s;
    let o = e[0];
    typeof o == "string" &&
      ((o = {
        name: o,
        style: e[1],
        chars: (t = e[2]) == null ? void 0 : t.chars,
        resolution: (n = e[2]) == null ? void 0 : n.resolution,
        padding: (i = e[2]) == null ? void 0 : i.padding,
        skipKerning: (s = e[2]) == null ? void 0 : s.skipKerning,
      }),
      Le(
        Ge,
        "BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"
      ));
    const a = o == null ? void 0 : o.name;
    if (!a) throw new Error("[BitmapFontManager] Property `name` is required.");
    o = Y0(Y0({}, this.defaultOptions), o);
    const l = o.style,
      u = l instanceof ra ? l : new ra(l),
      c = u._fill.fill !== null && u._fill.fill !== void 0,
      h = new hA({
        style: u,
        overrideFill: c,
        skipKerning: o.skipKerning,
        padding: o.padding,
        resolution: o.resolution,
        overrideSize: !1,
      }),
      d = VO(o.chars);
    return (
      h.ensureCharacters(d.join("")),
      ct.set(`${a}-bitmap`, h),
      h.once("destroy", () => ct.remove(`${a}-bitmap`)),
      h
    );
  }
  uninstall(e) {
    const t = `${e}-bitmap`,
      n = ct.get(t);
    n && (ct.remove(t), n.destroy());
  }
}
const wx = new gZ();
class qO {
  constructor(e) {
    (this._gpuBitmapText = {}), (this._renderer = e);
  }
  validateRenderable(e) {
    const t = this._getGpuBitmapText(e);
    return (
      e._didTextUpdate && ((e._didTextUpdate = !1), this._updateContext(e, t)),
      this._renderer.renderPipes.graphics.validateRenderable(t)
    );
  }
  addRenderable(e, t) {
    const n = this._getGpuBitmapText(e);
    pA(e, n),
      e._didTextUpdate && ((e._didTextUpdate = !1), this._updateContext(e, n)),
      this._renderer.renderPipes.graphics.addRenderable(n, t),
      n.context.customShader && this._updateDistanceField(e);
  }
  destroyRenderable(e) {
    this._destroyRenderableByUid(e.uid);
  }
  _destroyRenderableByUid(e) {
    const t = this._gpuBitmapText[e].context;
    t.customShader && (Je.return(t.customShader), (t.customShader = null)),
      Je.return(this._gpuBitmapText[e]),
      (this._gpuBitmapText[e] = null);
  }
  updateRenderable(e) {
    const t = this._getGpuBitmapText(e);
    pA(e, t),
      this._renderer.renderPipes.graphics.updateRenderable(t),
      t.context.customShader && this._updateDistanceField(e);
  }
  _updateContext(e, t) {
    const { context: n } = t,
      i = wx.getFont(e.text, e._style);
    n.clear(),
      i.distanceField.type !== "none" &&
        (n.customShader || (n.customShader = Je.get(oZ)));
    const s = Array.from(e.text),
      o = e._style;
    let a = i.baseLineOffset;
    const l = KO(s, o, i);
    let u = 0;
    const c = o.padding,
      h = l.scale;
    let d = l.width,
      f = l.height + l.offsetY;
    o._stroke && ((d += o._stroke.width / h), (f += o._stroke.width / h)),
      n.translate(-e._anchor._x * d - c, -e._anchor._y * f - c).scale(h, h);
    const m = i.applyFillAsTint ? o._fill.color : 16777215;
    for (let g = 0; g < l.lines.length; g++) {
      const _ = l.lines[g];
      for (let v = 0; v < _.charPositions.length; v++) {
        const w = s[u++],
          x = i.chars[w];
        x != null &&
          x.texture &&
          n.texture(
            x.texture,
            m || "black",
            Math.round(_.charPositions[v] + x.xOffset),
            Math.round(a + x.yOffset)
          );
      }
      a += i.lineHeight;
    }
  }
  _getGpuBitmapText(e) {
    return this._gpuBitmapText[e.uid] || this.initGpuText(e);
  }
  initGpuText(e) {
    const t = Je.get(xm);
    return (
      (this._gpuBitmapText[e.uid] = t),
      this._updateContext(e, t),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      this._gpuBitmapText[e.uid]
    );
  }
  _updateDistanceField(e) {
    const t = this._getGpuBitmapText(e).context,
      n = e._style.fontFamily,
      i = ct.get(`${n}-bitmap`),
      { a: s, b: o, c: a, d: l } = e.groupTransform,
      u = Math.sqrt(s * s + o * o),
      c = Math.sqrt(a * a + l * l),
      h = (Math.abs(u) + Math.abs(c)) / 2,
      d = i.baseRenderedFontSize / e._style.fontSize,
      f = h * i.distanceField.range * (1 / d);
    t.customShader.resources.localUniforms.uniforms.uDistance = f;
  }
  destroy() {
    for (const e in this._gpuBitmapText) this._destroyRenderableByUid(e);
    (this._gpuBitmapText = null), (this._renderer = null);
  }
}
qO.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "bitmapText",
};
function pA(r, e) {
  (e.groupTransform = r.groupTransform),
    (e.groupColorAlpha = r.groupColorAlpha),
    (e.groupColor = r.groupColor),
    (e.groupBlendMode = r.groupBlendMode),
    (e.globalDisplayStatus = r.globalDisplayStatus),
    (e.groupTransform = r.groupTransform),
    (e.localDisplayStatus = r.localDisplayStatus),
    (e.groupAlpha = r.groupAlpha),
    (e._roundPixels = r._roundPixels);
}
Ue.add(qO);
class ZO {
  constructor(e) {
    (this._gpuText = Object.create(null)),
      (this._renderer = e),
      this._renderer.runners.resolutionChange.add(this);
  }
  resolutionChange() {
    for (const e in this._gpuText) {
      const n = this._gpuText[e].batchableSprite.renderable;
      n._autoResolution &&
        ((n._resolution = this._renderer.resolution), n.onViewUpdate());
    }
  }
  validateRenderable(e) {
    const t = this._getGpuText(e),
      n = e._getKey();
    return t.textureNeedsUploading
      ? ((t.textureNeedsUploading = !1), !0)
      : t.currentKey !== n;
  }
  addRenderable(e) {
    const n = this._getGpuText(e).batchableSprite;
    e._didTextUpdate && this._updateText(e),
      this._renderer.renderPipes.batch.addToBatch(n);
  }
  updateRenderable(e) {
    const n = this._getGpuText(e).batchableSprite;
    e._didTextUpdate && this._updateText(e), n.batcher.updateElement(n);
  }
  destroyRenderable(e) {
    this._destroyRenderableById(e.uid);
  }
  _destroyRenderableById(e) {
    const t = this._gpuText[e];
    this._renderer.htmlText.decreaseReferenceCount(t.currentKey),
      Je.return(t.batchableSprite),
      (this._gpuText[e] = null);
  }
  _updateText(e) {
    const t = e._getKey(),
      n = this._getGpuText(e),
      i = n.batchableSprite;
    n.currentKey !== t &&
      this._updateGpuText(e).catch((o) => {
        console.error(o);
      }),
      (e._didTextUpdate = !1);
    const s = e._style.padding;
    cm(i.bounds, e._anchor, i.texture, s);
  }
  async _updateGpuText(e) {
    var t;
    e._didTextUpdate = !1;
    const n = this._getGpuText(e);
    if (n.generatingTexture) return;
    const i = e._getKey();
    this._renderer.htmlText.decreaseReferenceCount(n.currentKey),
      (n.generatingTexture = !0),
      (n.currentKey = i);
    const s = (t = e.resolution) != null ? t : this._renderer.resolution,
      o = await this._renderer.htmlText.getManagedTexture(
        e.text,
        s,
        e._style,
        e._getKey()
      ),
      a = n.batchableSprite;
    (a.texture = n.texture = o),
      (n.generatingTexture = !1),
      (n.textureNeedsUploading = !0),
      e.onViewUpdate();
    const l = e._style.padding;
    cm(a.bounds, e._anchor, a.texture, l);
  }
  _getGpuText(e) {
    return this._gpuText[e.uid] || this.initGpuText(e);
  }
  initGpuText(e) {
    const t = {
        texture: fe.EMPTY,
        currentKey: "--",
        batchableSprite: Je.get(Hb),
        textureNeedsUploading: !1,
        generatingTexture: !1,
      },
      n = t.batchableSprite;
    return (
      (n.renderable = e),
      (n.texture = fe.EMPTY),
      (n.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (n.roundPixels = this._renderer._roundPixels | e._roundPixels),
      (e._resolution = e._autoResolution
        ? this._renderer.resolution
        : e.resolution),
      (this._gpuText[e.uid] = t),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      t
    );
  }
  destroy() {
    for (const e in this._gpuText) this._destroyRenderableById(e);
    (this._gpuText = null), (this._renderer = null);
  }
}
ZO.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "htmlText",
};
function _Z() {
  const { userAgent: r } = nt.get().getNavigator();
  return /^((?!chrome|android).)*safari/i.test(r);
}
const mA = "http://www.w3.org/2000/svg",
  gA = "http://www.w3.org/1999/xhtml";
class QO {
  constructor() {
    (this.svgRoot = document.createElementNS(mA, "svg")),
      (this.foreignObject = document.createElementNS(mA, "foreignObject")),
      (this.domElement = document.createElementNS(gA, "div")),
      (this.styleElement = document.createElementNS(gA, "style")),
      (this.image = new Image());
    const {
      foreignObject: e,
      svgRoot: t,
      styleElement: n,
      domElement: i,
    } = this;
    e.setAttribute("width", "10000"),
      e.setAttribute("height", "10000"),
      (e.style.overflow = "hidden"),
      t.appendChild(e),
      e.appendChild(n),
      e.appendChild(i);
  }
}
function yZ(r) {
  const e = r._stroke,
    t = r._fill,
    i = [
      `div { ${[
        `color: ${at.shared.setValue(t.color).toHex()}`,
        `font-size: ${r.fontSize}px`,
        `font-family: ${r.fontFamily}`,
        `font-weight: ${r.fontWeight}`,
        `font-style: ${r.fontStyle}`,
        `font-variant: ${r.fontVariant}`,
        `letter-spacing: ${r.letterSpacing}px`,
        `text-align: ${r.align}`,
        `padding: ${r.padding}px`,
        `white-space: ${
          r.whiteSpace === "pre" && r.wordWrap ? "pre-wrap" : r.whiteSpace
        }`,
        ...(r.lineHeight ? [`line-height: ${r.lineHeight}px`] : []),
        ...(r.wordWrap
          ? [
              `word-wrap: ${r.breakWords ? "break-all" : "break-word"}`,
              `max-width: ${r.wordWrapWidth}px`,
            ]
          : []),
        ...(e ? [eI(e)] : []),
        ...(r.dropShadow ? [JO(r.dropShadow)] : []),
        ...r.cssOverrides,
      ].join(";")} }`,
    ];
  return vZ(r.tagStyles, i), i.join(" ");
}
function JO(r) {
  const e = at.shared.setValue(r.color).setAlpha(r.alpha).toHexa(),
    t = Math.round(Math.cos(r.angle) * r.distance),
    n = Math.round(Math.sin(r.angle) * r.distance),
    i = `${t}px ${n}px`;
  return r.blur > 0
    ? `text-shadow: ${i} ${r.blur}px ${e}`
    : `text-shadow: ${i} ${e}`;
}
function eI(r) {
  return [
    `-webkit-text-stroke-width: ${r.width}px`,
    `-webkit-text-stroke-color: ${at.shared.setValue(r.color).toHex()}`,
    `text-stroke-width: ${r.width}px`,
    `text-stroke-color: ${at.shared.setValue(r.color).toHex()}`,
    "paint-order: stroke",
  ].join(";");
}
const _A = {
    fontSize: "font-size: {{VALUE}}px",
    fontFamily: "font-family: {{VALUE}}",
    fontWeight: "font-weight: {{VALUE}}",
    fontStyle: "font-style: {{VALUE}}",
    fontVariant: "font-variant: {{VALUE}}",
    letterSpacing: "letter-spacing: {{VALUE}}px",
    align: "text-align: {{VALUE}}",
    padding: "padding: {{VALUE}}px",
    whiteSpace: "white-space: {{VALUE}}",
    lineHeight: "line-height: {{VALUE}}px",
    wordWrapWidth: "max-width: {{VALUE}}px",
  },
  yA = {
    fill: (r) => `color: ${at.shared.setValue(r).toHex()}`,
    breakWords: (r) => `word-wrap: ${r ? "break-all" : "break-word"}`,
    stroke: eI,
    dropShadow: JO,
  };
function vZ(r, e) {
  for (const t in r) {
    const n = r[t],
      i = [];
    for (const s in n)
      yA[s]
        ? i.push(yA[s](n[s]))
        : _A[s] && i.push(_A[s].replace("{{VALUE}}", n[s]));
    e.push(`${t} { ${i.join(";")} }`);
  }
}
var xZ = Object.defineProperty,
  vA = Object.getOwnPropertySymbols,
  wZ = Object.prototype.hasOwnProperty,
  bZ = Object.prototype.propertyIsEnumerable,
  xA = (r, e, t) =>
    e in r
      ? xZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  SZ = (r, e) => {
    for (var t in e || (e = {})) wZ.call(e, t) && xA(r, t, e[t]);
    if (vA) for (var t of vA(e)) bZ.call(e, t) && xA(r, t, e[t]);
    return r;
  };
class r1 extends ra {
  constructor(e = {}) {
    var t, n;
    super(e),
      (this._cssOverrides = []),
      (t = this.cssOverrides) != null || (this.cssOverrides = e.cssOverrides),
      (this.tagStyles = (n = e.tagStyles) != null ? n : {});
  }
  set cssOverrides(e) {
    (this._cssOverrides = e instanceof Array ? e : [e]), this.update();
  }
  get cssOverrides() {
    return this._cssOverrides;
  }
  _generateKey() {
    return (
      (this._styleKey = OO(this) + this._cssOverrides.join("-")), this._styleKey
    );
  }
  update() {
    (this._cssStyle = null), super.update();
  }
  clone() {
    return new r1({
      align: this.align,
      breakWords: this.breakWords,
      dropShadow: this.dropShadow ? SZ({}, this.dropShadow) : null,
      fill: this._fill,
      fontFamily: this.fontFamily,
      fontSize: this.fontSize,
      fontStyle: this.fontStyle,
      fontVariant: this.fontVariant,
      fontWeight: this.fontWeight,
      letterSpacing: this.letterSpacing,
      lineHeight: this.lineHeight,
      padding: this.padding,
      stroke: this._stroke,
      whiteSpace: this.whiteSpace,
      wordWrap: this.wordWrap,
      wordWrapWidth: this.wordWrapWidth,
      cssOverrides: this.cssOverrides,
    });
  }
  get cssStyle() {
    return this._cssStyle || (this._cssStyle = yZ(this)), this._cssStyle;
  }
  addOverride(...e) {
    const t = e.filter((n) => !this.cssOverrides.includes(n));
    t.length > 0 && (this.cssOverrides.push(...t), this.update());
  }
  removeOverride(...e) {
    const t = e.filter((n) => this.cssOverrides.includes(n));
    t.length > 0 &&
      ((this.cssOverrides = this.cssOverrides.filter((n) => !t.includes(n))),
      this.update());
  }
  set fill(e) {
    typeof e != "string" &&
      typeof e != "number" &&
      Be("[HTMLTextStyle] only color fill is not supported by HTMLText"),
      (super.fill = e);
  }
  set stroke(e) {
    e &&
      typeof e != "string" &&
      typeof e != "number" &&
      Be("[HTMLTextStyle] only color stroke is not supported by HTMLText"),
      (super.stroke = e);
  }
}
function EZ(r, e) {
  const t = e.fontFamily,
    n = [],
    i = {},
    s = /font-family:([^;"\s]+)/g,
    o = r.match(s);
  function a(l) {
    i[l] || (n.push(l), (i[l] = !0));
  }
  if (Array.isArray(t)) for (let l = 0; l < t.length; l++) a(t[l]);
  else a(t);
  o &&
    o.forEach((l) => {
      const u = l.split(":")[1].trim();
      a(u);
    });
  for (const l in e.tagStyles) {
    const u = e.tagStyles[l].fontFamily;
    a(u);
  }
  return n;
}
async function TZ(r) {
  const t = await (await nt.get().fetch(r)).blob(),
    n = new FileReader();
  return await new Promise((s, o) => {
    (n.onloadend = () => s(n.result)), (n.onerror = o), n.readAsDataURL(t);
  });
}
async function wA(r, e) {
  const t = await TZ(e);
  return `@font-face {
        font-family: "${r.fontFamily}";
        src: url('${t}');
        font-weight: ${r.fontWeight};
        font-style: ${r.fontStyle};
    }`;
}
const mf = new Map();
async function kZ(r, e, t) {
  const n = r
    .filter((i) => ct.has(`${i}-and-url`))
    .map((i, s) => {
      if (!mf.has(i)) {
        const { url: o } = ct.get(`${i}-and-url`);
        s === 0
          ? mf.set(i, wA(e, o))
          : mf.set(
              i,
              wA(
                {
                  fontWeight: t.fontWeight,
                  fontStyle: t.fontStyle,
                  fontFamily: i,
                },
                o
              )
            );
      }
      return mf.get(i);
    });
  return (await Promise.all(n)).join(`
`);
}
function AZ(r, e, t, n, i) {
  const { domElement: s, styleElement: o, svgRoot: a } = i;
  (s.innerHTML = `<style>${e.cssStyle}</style><div>${r}</div>`),
    s.setAttribute(
      "style",
      `transform: scale(${t});transform-origin: top left; display: inline-block`
    ),
    (o.textContent = n);
  const { width: l, height: u } = i.image;
  return (
    a.setAttribute("width", l.toString()),
    a.setAttribute("height", u.toString()),
    new XMLSerializer().serializeToString(a)
  );
}
function PZ(r, e) {
  const t = ro.getOptimalCanvasAndContext(r.width, r.height, e),
    { context: n } = t;
  return (
    n.clearRect(0, 0, r.width, r.height),
    n.drawImage(r, 0, 0),
    ro.returnCanvasAndContext(t),
    t.canvas
  );
}
function CZ(r, e, t) {
  return new Promise(async (n) => {
    t && (await new Promise((i) => setTimeout(i, 100))),
      (r.onload = () => {
        n();
      }),
      (r.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`),
      (r.crossOrigin = "anonymous");
  });
}
let bA;
function RZ(r, e, t, n) {
  n = n || bA || (bA = new QO());
  const { domElement: i, styleElement: s, svgRoot: o } = n;
  (i.innerHTML = `<style>${e.cssStyle}</style><div>${r}</div>`),
    i.setAttribute(
      "style",
      "transform-origin: top left; display: inline-block"
    ),
    t && (s.textContent = t),
    document.body.appendChild(o);
  const a = i.getBoundingClientRect();
  o.remove();
  const l = Gs.measureFont(e.fontStyle).descent;
  return { width: a.width, height: a.height + l };
}
class n1 {
  constructor(e) {
    (this._activeTextures = {}),
      (this._renderer = e),
      (this._createCanvas = e.type === Di.WEBGPU);
  }
  getTexture(e) {
    return this._buildTexturePromise(e.text, e.resolution, e.style);
  }
  getManagedTexture(e, t, n, i) {
    if (this._activeTextures[i])
      return this._increaseReferenceCount(i), this._activeTextures[i].promise;
    const s = this._buildTexturePromise(e, t, n).then(
      (o) => ((this._activeTextures[i].texture = o), o)
    );
    return (
      (this._activeTextures[i] = { texture: null, promise: s, usageCount: 1 }),
      s
    );
  }
  async _buildTexturePromise(e, t, n) {
    const i = Je.get(QO),
      s = EZ(e, n),
      o = await kZ(s, n, r1.defaultTextStyle),
      a = RZ(e, n, o, i),
      l = Math.ceil(Math.ceil(Math.max(1, a.width) + n.padding * 2) * t),
      u = Math.ceil(Math.ceil(Math.max(1, a.height) + n.padding * 2) * t),
      c = i.image;
    (c.width = l | 0), (c.height = u | 0);
    const h = AZ(e, n, t, o, i);
    await CZ(c, h, _Z() && s.length > 0);
    let d = c;
    this._createCanvas && (d = PZ(c, t));
    const f = FO(d, c.width, c.height, t);
    return (
      this._createCanvas && this._renderer.texture.initSource(f.source),
      Je.return(i),
      f
    );
  }
  _increaseReferenceCount(e) {
    this._activeTextures[e].usageCount++;
  }
  decreaseReferenceCount(e) {
    const t = this._activeTextures[e];
    t &&
      (t.usageCount--,
      t.usageCount === 0 &&
        (t.texture
          ? this._cleanUp(t)
          : t.promise
              .then((n) => {
                (t.texture = n), this._cleanUp(t);
              })
              .catch(() => {
                Be("HTMLTextSystem: Failed to clean texture");
              }),
        (this._activeTextures[e] = null)));
  }
  _cleanUp(e) {
    Qr.returnTexture(e.texture),
      (e.texture.source.resource = null),
      (e.texture.source.uploadMethodId = "unknown");
  }
  getReferenceCount(e) {
    return this._activeTextures[e].usageCount;
  }
  destroy() {
    this._activeTextures = null;
  }
}
n1.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "htmlText",
};
n1.defaultFontOptions = {
  fontFamily: "Arial",
  fontStyle: "normal",
  fontWeight: "normal",
};
Ue.add(n1);
Ue.add(ZO);
var DZ = Object.defineProperty,
  SA = Object.getOwnPropertySymbols,
  MZ = Object.prototype.hasOwnProperty,
  BZ = Object.prototype.propertyIsEnumerable,
  EA = (r, e, t) =>
    e in r
      ? DZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  TA = (r, e) => {
    for (var t in e || (e = {})) MZ.call(e, t) && EA(r, t, e[t]);
    if (SA) for (var t of SA(e)) BZ.call(e, t) && EA(r, t, e[t]);
    return r;
  };
const tI = class rI extends md {
  constructor(...e) {
    var t;
    let n = (t = e[0]) != null ? t : {};
    n instanceof Float32Array &&
      (Le(Ge, "use new MeshGeometry({ positions, uvs, indices }) instead"),
      (n = { positions: n, uvs: e[1], indices: e[2] })),
      (n = TA(TA({}, rI.defaultOptions), n));
    const i = n.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      s = n.uvs || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      o = n.indices || new Uint32Array([0, 1, 2, 0, 2, 3]),
      a = n.shrinkBuffersToFit,
      l = new qi({
        data: i,
        label: "attribute-mesh-positions",
        shrinkToFit: a,
        usage: rt.VERTEX | rt.COPY_DST,
      }),
      u = new qi({
        data: s,
        label: "attribute-mesh-uvs",
        shrinkToFit: a,
        usage: rt.VERTEX | rt.COPY_DST,
      }),
      c = new qi({
        data: o,
        label: "index-mesh-buffer",
        shrinkToFit: a,
        usage: rt.INDEX | rt.COPY_DST,
      });
    super({
      attributes: {
        aPosition: { buffer: l, format: "float32x2", stride: 2 * 4, offset: 0 },
        aUV: { buffer: u, format: "float32x2", stride: 2 * 4, offset: 0 },
      },
      indexBuffer: c,
      topology: n.topology,
    }),
      (this.batchMode = "auto");
  }
  get positions() {
    return this.attributes.aPosition.buffer.data;
  }
  set positions(e) {
    this.attributes.aPosition.buffer.data = e;
  }
  get uvs() {
    return this.attributes.aUV.buffer.data;
  }
  set uvs(e) {
    this.attributes.aUV.buffer.data = e;
  }
  get indices() {
    return this.indexBuffer.data;
  }
  set indices(e) {
    this.indexBuffer.data = e;
  }
};
tI.defaultOptions = { topology: "triangle-list", shrinkBuffersToFit: !1 };
let xd = tI;
var OZ = Object.defineProperty,
  IZ = Object.defineProperties,
  FZ = Object.getOwnPropertyDescriptors,
  kA = Object.getOwnPropertySymbols,
  NZ = Object.prototype.hasOwnProperty,
  LZ = Object.prototype.propertyIsEnumerable,
  AA = (r, e, t) =>
    e in r
      ? OZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  PA = (r, e) => {
    for (var t in e || (e = {})) NZ.call(e, t) && AA(r, t, e[t]);
    if (kA) for (var t of kA(e)) LZ.call(e, t) && AA(r, t, e[t]);
    return r;
  },
  CA = (r, e) => IZ(r, FZ(e));
const oh = {
    name: "local-uniform-bit",
    vertex: {
      header: `

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,
      main: `
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,
      end: `
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `,
    },
  },
  UZ = CA(PA({}, oh), {
    vertex: CA(PA({}, oh.vertex), {
      header: oh.vertex.header.replace("group(1)", "group(2)"),
    }),
  }),
  i1 = {
    name: "local-uniform-bit",
    vertex: {
      header: `

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,
      main: `
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,
      end: `
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `,
    },
  },
  GZ = {
    name: "tiling-bit",
    vertex: {
      header: `
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,
      main: `
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `,
    },
    fragment: {
      header: `
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,
      main: `

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            } 

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `,
    },
  },
  jZ = {
    name: "tiling-bit",
    vertex: {
      header: `
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;
        
        `,
      main: `
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `,
    },
    fragment: {
      header: `
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,
      main: `

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);
        
        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0
    
        `,
    },
  };
let gf, _f;
class $Z extends Oi {
  constructor() {
    gf ?? (gf = gd({ name: "tiling-sprite-shader", bits: [oh, GZ, yd] })),
      _f ?? (_f = _d({ name: "tiling-sprite-shader", bits: [i1, jZ, vd] }));
    const e = new dn({
      uMapCoord: { value: new we(), type: "mat3x3<f32>" },
      uClampFrame: { value: new Float32Array([0, 0, 1, 1]), type: "vec4<f32>" },
      uClampOffset: { value: new Float32Array([0, 0]), type: "vec2<f32>" },
      uTextureTransform: { value: new we(), type: "mat3x3<f32>" },
      uSizeAnchor: {
        value: new Float32Array([100, 100, 0.5, 0.5]),
        type: "vec4<f32>",
      },
    });
    super({
      glProgram: _f,
      gpuProgram: gf,
      resources: {
        localUniforms: new dn({
          uTransformMatrix: { value: new we(), type: "mat3x3<f32>" },
          uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
          uRound: { value: 0, type: "f32" },
        }),
        tilingUniforms: e,
        uTexture: fe.EMPTY.source,
        uSampler: fe.EMPTY.source.style,
      },
    });
  }
  updateUniforms(e, t, n, i, s, o) {
    const a = this.resources.tilingUniforms,
      l = o.width,
      u = o.height,
      c = o.textureMatrix,
      h = a.uniforms.uTextureTransform;
    h.set(
      (n.a * l) / e,
      (n.b * l) / t,
      (n.c * u) / e,
      (n.d * u) / t,
      n.tx / e,
      n.ty / t
    ),
      h.invert(),
      (a.uniforms.uMapCoord = c.mapCoord),
      (a.uniforms.uClampFrame = c.uClampFrame),
      (a.uniforms.uClampOffset = c.uClampOffset),
      (a.uniforms.uTextureTransform = h),
      (a.uniforms.uSizeAnchor[0] = e),
      (a.uniforms.uSizeAnchor[1] = t),
      (a.uniforms.uSizeAnchor[2] = i),
      (a.uniforms.uSizeAnchor[3] = s),
      o &&
        ((this.resources.uTexture = o.source),
        (this.resources.uSampler = o.source.style));
  }
}
class zZ extends xd {
  constructor() {
    super({
      positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      indices: new Uint32Array([0, 1, 2, 0, 2, 3]),
    });
  }
}
function WZ(r, e) {
  const t = r.anchor.x,
    n = r.anchor.y;
  (e[0] = -t * r.width),
    (e[1] = -n * r.height),
    (e[2] = (1 - t) * r.width),
    (e[3] = -n * r.height),
    (e[4] = (1 - t) * r.width),
    (e[5] = (1 - n) * r.height),
    (e[6] = -t * r.width),
    (e[7] = (1 - n) * r.height);
}
function HZ(r, e, t, n) {
  let i = 0;
  const s = r.length / e,
    o = n.a,
    a = n.b,
    l = n.c,
    u = n.d,
    c = n.tx,
    h = n.ty;
  for (t *= e; i < s; ) {
    const d = r[t],
      f = r[t + 1];
    (r[t] = o * d + l * f + c), (r[t + 1] = a * d + u * f + h), (t += e), i++;
  }
}
function VZ(r, e) {
  const t = r.texture,
    n = t.frame.width,
    i = t.frame.height;
  let s = 0,
    o = 0;
  r._applyAnchorToTexture && ((s = r.anchor.x), (o = r.anchor.y)),
    (e[0] = e[6] = -s),
    (e[2] = e[4] = 1 - s),
    (e[1] = e[3] = -o),
    (e[5] = e[7] = 1 - o);
  const a = we.shared;
  a.copyFrom(r._tileTransform.matrix),
    (a.tx /= r.width),
    (a.ty /= r.height),
    a.invert(),
    a.scale(r.width / n, r.height / i),
    HZ(e, 2, 0, a);
}
const yf = new zZ();
class nI {
  constructor(e) {
    (this._state = Ds.default2d),
      (this._tilingSpriteDataHash = Object.create(null)),
      (this._renderer = e);
  }
  validateRenderable(e) {
    const t = this._getTilingSpriteData(e),
      n = t.canBatch;
    this._updateCanBatch(e);
    const i = t.canBatch;
    if (i && i === n) {
      const { batchableMesh: s } = t;
      if (s && s.texture._source !== e.texture._source)
        return !s.batcher.checkAndUpdateTexture(s, e.texture);
    }
    return n !== i;
  }
  addRenderable(e, t) {
    const n = this._renderer.renderPipes.batch;
    this._updateCanBatch(e);
    const i = this._getTilingSpriteData(e),
      { geometry: s, canBatch: o } = i;
    if (o) {
      i.batchableMesh || (i.batchableMesh = new Wb());
      const a = i.batchableMesh;
      e._didTilingSpriteUpdate &&
        ((e._didTilingSpriteUpdate = !1),
        this._updateBatchableMesh(e),
        (a.geometry = s),
        (a.mesh = e),
        (a.texture = e._texture)),
        (a.roundPixels = this._renderer._roundPixels | e._roundPixels),
        n.addToBatch(a);
    } else
      n.break(t),
        i.shader || (i.shader = new $Z()),
        this.updateRenderable(e),
        t.add(e);
  }
  execute(e) {
    const { shader: t } = this._tilingSpriteDataHash[e.uid];
    t.groups[0] = this._renderer.globalUniforms.bindGroup;
    const n = t.resources.localUniforms.uniforms;
    (n.uTransformMatrix = e.groupTransform),
      (n.uRound = this._renderer._roundPixels | e._roundPixels),
      Dg(e.groupColorAlpha, n.uColor, 0),
      (this._state.blendMode = dm(e.groupBlendMode, e.texture._source)),
      this._renderer.encoder.draw({
        geometry: yf,
        shader: t,
        state: this._state,
      });
  }
  updateRenderable(e) {
    const t = this._getTilingSpriteData(e),
      { canBatch: n } = t;
    if (n) {
      const { batchableMesh: i } = t;
      e._didTilingSpriteUpdate && this._updateBatchableMesh(e),
        i.batcher.updateElement(i);
    } else if (e._didTilingSpriteUpdate) {
      const { shader: i } = t;
      i.updateUniforms(
        e.width,
        e.height,
        e._tileTransform.matrix,
        e.anchor.x,
        e.anchor.y,
        e.texture
      );
    }
    e._didTilingSpriteUpdate = !1;
  }
  destroyRenderable(e) {
    var t;
    const n = this._getTilingSpriteData(e);
    (n.batchableMesh = null),
      (t = n.shader) == null || t.destroy(),
      (this._tilingSpriteDataHash[e.uid] = null);
  }
  _getTilingSpriteData(e) {
    return this._tilingSpriteDataHash[e.uid] || this._initTilingSpriteData(e);
  }
  _initTilingSpriteData(e) {
    const t = new xd({
      indices: yf.indices,
      positions: yf.positions.slice(),
      uvs: yf.uvs.slice(),
    });
    return (
      (this._tilingSpriteDataHash[e.uid] = {
        canBatch: !0,
        renderable: e,
        geometry: t,
      }),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      this._tilingSpriteDataHash[e.uid]
    );
  }
  _updateBatchableMesh(e) {
    const t = this._getTilingSpriteData(e),
      { geometry: n } = t,
      i = e.texture.source.style;
    i.addressMode !== "repeat" && ((i.addressMode = "repeat"), i.update()),
      VZ(e, n.uvs),
      WZ(e, n.positions);
  }
  destroy() {
    for (const e in this._tilingSpriteDataHash)
      this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);
    (this._tilingSpriteDataHash = null), (this._renderer = null);
  }
  _updateCanBatch(e) {
    const t = this._getTilingSpriteData(e),
      n = e.texture;
    let i = !0;
    return (
      this._renderer.type === Di.WEBGL &&
        (i = this._renderer.context.supports.nonPowOf2wrapping),
      (t.canBatch = n.textureMatrix.isSimple && (i || n.source.isPowerOfTwo)),
      t.canBatch
    );
  }
}
nI.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "tilingSprite",
};
Ue.add(nI);
var XZ = Object.defineProperty,
  RA = Object.getOwnPropertySymbols,
  YZ = Object.prototype.hasOwnProperty,
  KZ = Object.prototype.propertyIsEnumerable,
  DA = (r, e, t) =>
    e in r
      ? XZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  MA = (r, e) => {
    for (var t in e || (e = {})) YZ.call(e, t) && DA(r, t, e[t]);
    if (RA) for (var t of RA(e)) KZ.call(e, t) && DA(r, t, e[t]);
    return r;
  };
const iI = class sI extends xd {
  constructor(...e) {
    var t;
    super({});
    let n = (t = e[0]) != null ? t : {};
    typeof n == "number" &&
      (Le(
        Ge,
        "PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"
      ),
      (n = { width: n, height: e[1], verticesX: e[2], verticesY: e[3] })),
      this.build(n);
  }
  build(e) {
    var t, n, i, s;
    (e = MA(MA({}, sI.defaultOptions), e)),
      (this.verticesX = (t = this.verticesX) != null ? t : e.verticesX),
      (this.verticesY = (n = this.verticesY) != null ? n : e.verticesY),
      (this.width = (i = this.width) != null ? i : e.width),
      (this.height = (s = this.height) != null ? s : e.height);
    const o = this.verticesX * this.verticesY,
      a = [],
      l = [],
      u = [],
      c = this.verticesX - 1,
      h = this.verticesY - 1,
      d = this.width / c,
      f = this.height / h;
    for (let g = 0; g < o; g++) {
      const _ = g % this.verticesX,
        v = (g / this.verticesX) | 0;
      a.push(_ * d, v * f), l.push(_ / c, v / h);
    }
    const m = c * h;
    for (let g = 0; g < m; g++) {
      const _ = g % c,
        v = (g / c) | 0,
        w = v * this.verticesX + _,
        x = v * this.verticesX + _ + 1,
        k = (v + 1) * this.verticesX + _,
        C = (v + 1) * this.verticesX + _ + 1;
      u.push(w, x, k, x, C, k);
    }
    (this.buffers[0].data = new Float32Array(a)),
      (this.buffers[1].data = new Float32Array(l)),
      (this.indexBuffer.data = new Uint32Array(u)),
      this.buffers[0].update(),
      this.buffers[1].update(),
      this.indexBuffer.update();
  }
};
iI.defaultOptions = { width: 100, height: 100, verticesX: 10, verticesY: 10 };
let qZ = iI;
var ZZ = Object.defineProperty,
  BA = Object.getOwnPropertySymbols,
  QZ = Object.prototype.hasOwnProperty,
  JZ = Object.prototype.propertyIsEnumerable,
  OA = (r, e, t) =>
    e in r
      ? ZZ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  IA = (r, e) => {
    for (var t in e || (e = {})) QZ.call(e, t) && OA(r, t, e[t]);
    if (BA) for (var t of BA(e)) JZ.call(e, t) && OA(r, t, e[t]);
    return r;
  };
const oI = class aI extends qZ {
  constructor(e = {}) {
    (e = IA(IA({}, aI.defaultOptions), e)),
      super({ width: e.width, height: e.height, verticesX: 4, verticesY: 4 }),
      this.update(e);
  }
  update(e) {
    var t, n, i, s, o, a, l, u;
    (this.width = (t = e.width) != null ? t : this.width),
      (this.height = (n = e.height) != null ? n : this.height),
      (this._originalWidth =
        (i = e.originalWidth) != null ? i : this._originalWidth),
      (this._originalHeight =
        (s = e.originalHeight) != null ? s : this._originalHeight),
      (this._leftWidth = (o = e.leftWidth) != null ? o : this._leftWidth),
      (this._rightWidth = (a = e.rightWidth) != null ? a : this._rightWidth),
      (this._topHeight = (l = e.topHeight) != null ? l : this._topHeight),
      (this._bottomHeight =
        (u = e.bottomHeight) != null ? u : this._bottomHeight),
      this.updateUvs(),
      this.updatePositions();
  }
  updatePositions() {
    const e = this.positions,
      t = this._leftWidth + this._rightWidth,
      n = this.width > t ? 1 : this.width / t,
      i = this._topHeight + this._bottomHeight,
      s = this.height > i ? 1 : this.height / i,
      o = Math.min(n, s);
    (e[9] = e[11] = e[13] = e[15] = this._topHeight * o),
      (e[17] = e[19] = e[21] = e[23] = this.height - this._bottomHeight * o),
      (e[25] = e[27] = e[29] = e[31] = this.height),
      (e[2] = e[10] = e[18] = e[26] = this._leftWidth * o),
      (e[4] = e[12] = e[20] = e[28] = this.width - this._rightWidth * o),
      (e[6] = e[14] = e[22] = e[30] = this.width),
      this.getBuffer("aPosition").update();
  }
  updateUvs() {
    const e = this.uvs;
    (e[0] = e[8] = e[16] = e[24] = 0),
      (e[1] = e[3] = e[5] = e[7] = 0),
      (e[6] = e[14] = e[22] = e[30] = 1),
      (e[25] = e[27] = e[29] = e[31] = 1);
    const t = 1 / this._originalWidth,
      n = 1 / this._originalHeight;
    (e[2] = e[10] = e[18] = e[26] = t * this._leftWidth),
      (e[9] = e[11] = e[13] = e[15] = n * this._topHeight),
      (e[4] = e[12] = e[20] = e[28] = 1 - t * this._rightWidth),
      (e[17] = e[19] = e[21] = e[23] = 1 - n * this._bottomHeight),
      this.getBuffer("aUV").update();
  }
};
oI.defaultOptions = {
  width: 100,
  height: 100,
  leftWidth: 10,
  topHeight: 10,
  rightWidth: 10,
  bottomHeight: 10,
  originalWidth: 100,
  originalHeight: 100,
};
let Ea = oI;
class lI {
  constructor(e) {
    (this._gpuSpriteHash = Object.create(null)), (this._renderer = e);
  }
  addRenderable(e, t) {
    const n = this._getGpuSprite(e);
    e._didSpriteUpdate && this._updateBatchableSprite(e, n),
      this._renderer.renderPipes.batch.addToBatch(n);
  }
  updateRenderable(e) {
    const t = this._gpuSpriteHash[e.uid];
    e._didSpriteUpdate && this._updateBatchableSprite(e, t),
      t.batcher.updateElement(t);
  }
  validateRenderable(e) {
    const t = e._texture,
      n = this._getGpuSprite(e);
    return n.texture._source !== t._source
      ? !n.batcher.checkAndUpdateTexture(n, t)
      : !1;
  }
  destroyRenderable(e) {
    const t = this._gpuSpriteHash[e.uid];
    Je.return(t), (this._gpuSpriteHash[e.uid] = null);
  }
  _updateBatchableSprite(e, t) {
    (e._didSpriteUpdate = !1), t.geometry.update(e), (t.texture = e._texture);
  }
  _getGpuSprite(e) {
    return this._gpuSpriteHash[e.uid] || this._initGPUSprite(e);
  }
  _initGPUSprite(e) {
    const t = new Wb();
    return (
      (t.geometry = new Ea()),
      (t.mesh = e),
      (t.texture = e._texture),
      (t.roundPixels = this._renderer._roundPixels | e._roundPixels),
      (this._gpuSpriteHash[e.uid] = t),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      t
    );
  }
  destroy() {
    for (const e in this._gpuSpriteHash)
      this._gpuSpriteHash[e].geometry.destroy();
    (this._gpuSpriteHash = null), (this._renderer = null);
  }
}
lI.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "nineSliceSprite",
};
Ue.add(lI);
class uI {
  constructor(e) {
    this._renderer = e;
  }
  push(e, t, n) {
    this._renderer.renderPipes.batch.break(n),
      n.add({
        renderPipeId: "filter",
        canBundle: !1,
        action: "pushFilter",
        container: t,
        filterEffect: e,
      });
  }
  pop(e, t, n) {
    this._renderer.renderPipes.batch.break(n),
      n.add({ renderPipeId: "filter", action: "popFilter", canBundle: !1 });
  }
  execute(e) {
    e.action === "pushFilter"
      ? this._renderer.filter.push(e)
      : e.action === "popFilter" && this._renderer.filter.pop();
  }
  destroy() {
    this._renderer = null;
  }
}
uI.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "filter",
};
const eQ = new we();
function tQ(r, e) {
  return (
    e.clear(),
    cI(r, e),
    e.isValid || e.set(0, 0, 0, 0),
    r.renderGroup
      ? e.applyMatrix(r.renderGroup.localTransform)
      : e.applyMatrix(r.parentRenderGroup.worldTransform),
    e
  );
}
function cI(r, e) {
  if (r.localDisplayStatus !== 7 || !r.measurable) return;
  const t = !!r.effects.length;
  let n = e;
  if (((r.renderGroup || t) && (n = eo.get().clear()), r.boundsArea))
    e.addRect(r.boundsArea, r.worldTransform);
  else {
    if (r.renderPipeId) {
      const s = r.bounds;
      n.addFrame(s.minX, s.minY, s.maxX, s.maxY, r.groupTransform);
    }
    const i = r.children;
    for (let s = 0; s < i.length; s++) cI(i[s], n);
  }
  if (t) {
    let i = !1;
    for (let s = 0; s < r.effects.length; s++)
      r.effects[s].addBounds &&
        (i || ((i = !0), n.applyMatrix(r.parentRenderGroup.worldTransform)),
        r.effects[s].addBounds(n, !0));
    i &&
      (n.applyMatrix(r.parentRenderGroup.worldTransform.copyTo(eQ).invert()),
      e.addBounds(n, r.relativeGroupTransform)),
      e.addBounds(n),
      eo.return(n);
  } else
    r.renderGroup && (e.addBounds(n, r.relativeGroupTransform), eo.return(n));
}
function rQ(r, e) {
  e.clear();
  const t = e.matrix;
  for (let n = 0; n < r.length; n++) {
    const i = r[n];
    i.globalDisplayStatus < 7 ||
      ((e.matrix = i.worldTransform), i.addBounds(e));
  }
  return (e.matrix = t), e;
}
const nQ = new md({
  attributes: {
    aPosition: {
      buffer: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
      location: 0,
      format: "float32x2",
      stride: 2 * 4,
      offset: 0,
    },
  },
  indexBuffer: new Uint32Array([0, 1, 2, 0, 2, 3]),
});
class hI {
  constructor(e) {
    (this._filterStackIndex = 0),
      (this._filterStack = []),
      (this._filterGlobalUniforms = new dn({
        uInputSize: { value: new Float32Array(4), type: "vec4<f32>" },
        uInputPixel: { value: new Float32Array(4), type: "vec4<f32>" },
        uInputClamp: { value: new Float32Array(4), type: "vec4<f32>" },
        uOutputFrame: { value: new Float32Array(4), type: "vec4<f32>" },
        uGlobalFrame: { value: new Float32Array(4), type: "vec4<f32>" },
        uOutputTexture: { value: new Float32Array(4), type: "vec4<f32>" },
      })),
      (this._globalFilterBindGroup = new to({})),
      (this.renderer = e);
  }
  get activeBackTexture() {
    var e;
    return (e = this._activeFilterData) == null ? void 0 : e.backTexture;
  }
  push(e) {
    var t, n;
    const i = this.renderer,
      s = e.filterEffect.filters;
    this._filterStack[this._filterStackIndex] ||
      (this._filterStack[this._filterStackIndex] = this._getFilterData());
    const o = this._filterStack[this._filterStackIndex];
    if ((this._filterStackIndex++, s.length === 0)) {
      o.skip = !0;
      return;
    }
    const a = o.bounds;
    e.renderables
      ? rQ(e.renderables, a)
      : e.filterEffect.filterArea
      ? (a.clear(),
        a.addRect(e.filterEffect.filterArea),
        a.applyMatrix(e.container.worldTransform))
      : tQ(e.container, a);
    const l = i.renderTarget.rootRenderTarget.colorTexture.source;
    let u = l._resolution,
      c = 0,
      h = l.antialias,
      d = !1,
      f = !1;
    for (let g = 0; g < s.length; g++) {
      const _ = s[g];
      if (
        ((u = Math.min(u, _.resolution)),
        (c += _.padding),
        _.antialias !== "inherit" &&
          (_.antialias === "on" ? (h = !0) : (h = !1)),
        !!!(_.compatibleRenderers & i.type))
      ) {
        f = !1;
        break;
      }
      if (
        _.blendRequired &&
        !(
          (n = (t = i.backBuffer) == null ? void 0 : t.useBackBuffer) == null ||
          n
        )
      ) {
        Be(
          "Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."
        ),
          (f = !1);
        break;
      }
      (f = _.enabled || f), (d = d || _.blendRequired);
    }
    if (!f) {
      o.skip = !0;
      return;
    }
    const m = i.renderTarget.rootViewPort;
    if (
      (a
        .scale(u)
        .fitBounds(0, m.width, 0, m.height)
        .scale(1 / u)
        .pad(c)
        .ceil(),
      !a.isPositive)
    ) {
      o.skip = !0;
      return;
    }
    (o.skip = !1),
      (o.bounds = a),
      (o.blendRequired = d),
      (o.container = e.container),
      (o.filterEffect = e.filterEffect),
      (o.previousRenderSurface = i.renderTarget.renderSurface),
      (o.inputTexture = Qr.getOptimalTexture(a.width, a.height, u, h)),
      i.renderTarget.bind(o.inputTexture, !0),
      i.globalUniforms.push({ offset: a });
  }
  pop() {
    const e = this.renderer;
    this._filterStackIndex--;
    const t = this._filterStack[this._filterStackIndex];
    if (t.skip) return;
    this._activeFilterData = t;
    const n = t.inputTexture,
      i = t.bounds;
    let s = fe.EMPTY;
    if ((e.renderTarget.finishRenderPass(), t.blendRequired)) {
      const a =
          this._filterStackIndex > 0
            ? this._filterStack[this._filterStackIndex - 1].bounds
            : null,
        l = e.renderTarget.getRenderTarget(t.previousRenderSurface);
      s = this.getBackTexture(l, i, a);
    }
    t.backTexture = s;
    const o = t.filterEffect.filters;
    if (
      (this._globalFilterBindGroup.setResource(n.source.style, 2),
      this._globalFilterBindGroup.setResource(s.source, 3),
      e.globalUniforms.pop(),
      o.length === 1)
    )
      o[0].apply(this, n, t.previousRenderSurface, !1), Qr.returnTexture(n);
    else {
      let a = t.inputTexture,
        l = Qr.getOptimalTexture(i.width, i.height, a.source._resolution, !1),
        u = 0;
      for (u = 0; u < o.length - 1; ++u) {
        o[u].apply(this, a, l, !0);
        const h = a;
        (a = l), (l = h);
      }
      o[u].apply(this, a, t.previousRenderSurface, !1),
        Qr.returnTexture(a),
        Qr.returnTexture(l);
    }
    t.blendRequired && Qr.returnTexture(s);
  }
  getBackTexture(e, t, n) {
    const i = e.colorTexture.source._resolution,
      s = Qr.getOptimalTexture(t.width, t.height, i, !1);
    let o = t.minX,
      a = t.minY;
    n && ((o -= n.minX), (a -= n.minY)),
      (o = Math.floor(o * i)),
      (a = Math.floor(a * i));
    const l = Math.ceil(t.width * i),
      u = Math.ceil(t.height * i);
    return (
      this.renderer.renderTarget.copyToTexture(
        e,
        s,
        { x: o, y: a },
        { width: l, height: u },
        { x: 0, y: 0 }
      ),
      s
    );
  }
  applyFilter(e, t, n, i) {
    const s = this.renderer,
      o = this._filterStack[this._filterStackIndex],
      a = o.bounds,
      l = ht.shared,
      c = o.previousRenderSurface === n;
    let h =
        this.renderer.renderTarget.rootRenderTarget.colorTexture.source
          ._resolution,
      d = this._filterStackIndex - 1;
    for (; d > 0 && this._filterStack[d].skip; ) --d;
    d > 0 && (h = this._filterStack[d].inputTexture.source._resolution);
    const f = this._filterGlobalUniforms,
      m = f.uniforms,
      g = m.uOutputFrame,
      _ = m.uInputSize,
      v = m.uInputPixel,
      w = m.uInputClamp,
      x = m.uGlobalFrame,
      k = m.uOutputTexture;
    if (c) {
      let I = this._filterStackIndex;
      for (; I > 0; ) {
        I--;
        const G = this._filterStack[this._filterStackIndex - 1];
        if (!G.skip) {
          (l.x = G.bounds.minX), (l.y = G.bounds.minY);
          break;
        }
      }
      (g[0] = a.minX - l.x), (g[1] = a.minY - l.y);
    } else (g[0] = 0), (g[1] = 0);
    (g[2] = t.frame.width),
      (g[3] = t.frame.height),
      (_[0] = t.source.width),
      (_[1] = t.source.height),
      (_[2] = 1 / _[0]),
      (_[3] = 1 / _[1]),
      (v[0] = t.source.pixelWidth),
      (v[1] = t.source.pixelHeight),
      (v[2] = 1 / v[0]),
      (v[3] = 1 / v[1]),
      (w[0] = 0.5 * v[2]),
      (w[1] = 0.5 * v[3]),
      (w[2] = t.frame.width * _[2] - 0.5 * v[2]),
      (w[3] = t.frame.height * _[3] - 0.5 * v[3]);
    const C = this.renderer.renderTarget.rootRenderTarget.colorTexture;
    (x[0] = l.x * h),
      (x[1] = l.y * h),
      (x[2] = C.source.width * h),
      (x[3] = C.source.height * h);
    const F = this.renderer.renderTarget.getRenderTarget(n);
    if (
      (s.renderTarget.bind(n, !!i),
      n instanceof fe
        ? ((k[0] = n.frame.width), (k[1] = n.frame.height))
        : ((k[0] = F.width), (k[1] = F.height)),
      (k[2] = F.isRoot ? -1 : 1),
      f.update(),
      s.renderPipes.uniformBatch)
    ) {
      const I = s.renderPipes.uniformBatch.getUboResource(f);
      this._globalFilterBindGroup.setResource(I, 0);
    } else this._globalFilterBindGroup.setResource(f, 0);
    this._globalFilterBindGroup.setResource(t.source, 1),
      this._globalFilterBindGroup.setResource(t.source.style, 2),
      (e.groups[0] = this._globalFilterBindGroup),
      s.encoder.draw({
        geometry: nQ,
        shader: e,
        state: e._state,
        topology: "triangle-list",
      }),
      s.type === Di.WEBGL && s.renderTarget.finishRenderPass();
  }
  _getFilterData() {
    return {
      skip: !1,
      inputTexture: null,
      bounds: new ei(),
      container: null,
      filterEffect: null,
      blendRequired: !1,
      previousRenderSurface: null,
    };
  }
  calculateSpriteMatrix(e, t) {
    const n = this._activeFilterData,
      i = e.set(
        n.inputTexture._source.width,
        0,
        0,
        n.inputTexture._source.height,
        n.bounds.minX,
        n.bounds.minY
      ),
      s = t.worldTransform.copyTo(we.shared);
    return (
      s.invert(),
      i.prepend(s),
      i.scale(1 / t.texture.frame.width, 1 / t.texture.frame.height),
      i.translate(t.anchor.x, t.anchor.y),
      i
    );
  }
}
hI.extension = { type: [W.WebGLSystem, W.WebGPUSystem], name: "filter" };
Ue.add(hI);
Ue.add(uI);
var iQ = { __proto__: null };
const bx = [];
Ue.handleByNamedList(W.Environment, bx);
async function sQ(r) {
  if (!r)
    for (let e = 0; e < bx.length; e++) {
      const t = bx[e];
      if (t.value.test()) {
        await t.value.load();
        return;
      }
    }
}
let bc;
function dI() {
  if (typeof bc == "boolean") return bc;
  try {
    bc =
      new Function(
        "param1",
        "param2",
        "param3",
        "return param1[param2] === param3;"
      )({ a: "b" }, "a", "b") === !0;
  } catch {
    bc = !1;
  }
  return bc;
}
var Hn = ((r) => (
  (r[(r.NONE = 0)] = "NONE"),
  (r[(r.COLOR = 16384)] = "COLOR"),
  (r[(r.STENCIL = 1024)] = "STENCIL"),
  (r[(r.DEPTH = 256)] = "DEPTH"),
  (r[(r.COLOR_DEPTH = 16640)] = "COLOR_DEPTH"),
  (r[(r.COLOR_STENCIL = 17408)] = "COLOR_STENCIL"),
  (r[(r.DEPTH_STENCIL = 1280)] = "DEPTH_STENCIL"),
  (r[(r.ALL = 17664)] = "ALL"),
  r
))(Hn || {});
class fI {
  constructor(e) {
    (this.items = []), (this._name = e);
  }
  emit(e, t, n, i, s, o, a, l) {
    const { name: u, items: c } = this;
    for (let h = 0, d = c.length; h < d; h++) c[h][u](e, t, n, i, s, o, a, l);
    return this;
  }
  add(e) {
    return e[this._name] && (this.remove(e), this.items.push(e)), this;
  }
  remove(e) {
    const t = this.items.indexOf(e);
    return t !== -1 && this.items.splice(t, 1), this;
  }
  contains(e) {
    return this.items.indexOf(e) !== -1;
  }
  removeAll() {
    return (this.items.length = 0), this;
  }
  destroy() {
    this.removeAll(), (this.items = null), (this._name = null);
  }
  get empty() {
    return this.items.length === 0;
  }
  get name() {
    return this._name;
  }
}
var oQ = Object.defineProperty,
  FA = Object.getOwnPropertySymbols,
  aQ = Object.prototype.hasOwnProperty,
  lQ = Object.prototype.propertyIsEnumerable,
  NA = (r, e, t) =>
    e in r
      ? oQ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  vf = (r, e) => {
    for (var t in e || (e = {})) aQ.call(e, t) && NA(r, t, e[t]);
    if (FA) for (var t of FA(e)) lQ.call(e, t) && NA(r, t, e[t]);
    return r;
  };
const uQ = [
    "init",
    "destroy",
    "contextChange",
    "resolutionChange",
    "reset",
    "renderEnd",
    "renderStart",
    "render",
    "update",
    "postrender",
    "prerender",
  ],
  pI = class mI extends si {
    constructor(e) {
      var t;
      super(),
        (this.runners = Object.create(null)),
        (this.renderPipes = Object.create(null)),
        (this._initOptions = {}),
        (this._systemsHash = Object.create(null)),
        (this.type = e.type),
        (this.name = e.name),
        (this.config = e);
      const n = [...uQ, ...((t = this.config.runners) != null ? t : [])];
      this._addRunners(...n), this._unsafeEvalCheck();
    }
    async init(e = {}) {
      const t = e.skipExtensionImports === !0 ? !0 : e.manageImports === !1;
      await sQ(t),
        this._addSystems(this.config.systems),
        this._addPipes(this.config.renderPipes, this.config.renderPipeAdaptors);
      for (const n in this._systemsHash) {
        const s = this._systemsHash[n].constructor.defaultOptions;
        e = vf(vf({}, s), e);
      }
      (e = vf(vf({}, mI.defaultOptions), e)),
        (this._roundPixels = e.roundPixels ? 1 : 0);
      for (let n = 0; n < this.runners.init.items.length; n++)
        await this.runners.init.items[n].init(e);
      this._initOptions = e;
    }
    render(e, t) {
      let n = e;
      if (
        (n instanceof ft &&
          ((n = { container: n }),
          t &&
            (Le(
              Ge,
              "passing a second argument is deprecated, please use render options instead"
            ),
            (n.target = t.renderTexture))),
        n.target || (n.target = this.view.renderTarget),
        n.target === this.view.renderTarget &&
          ((this._lastObjectRendered = n.container),
          (n.clearColor = this.background.colorRgba)),
        n.clearColor)
      ) {
        const i = Array.isArray(n.clearColor) && n.clearColor.length === 4;
        n.clearColor = i
          ? n.clearColor
          : at.shared.setValue(n.clearColor).toArray();
      }
      n.transform ||
        (n.container.updateLocalTransform(),
        (n.transform = n.container.localTransform)),
        this.runners.prerender.emit(n),
        this.runners.renderStart.emit(n),
        this.runners.render.emit(n),
        this.runners.renderEnd.emit(n),
        this.runners.postrender.emit(n);
    }
    resize(e, t, n) {
      this.view.resize(e, t, n),
        this.emit("resize", this.view.screen.width, this.view.screen.height);
    }
    clear(e = {}) {
      var t;
      const n = this;
      e.target || (e.target = n.renderTarget.renderTarget),
        e.clearColor || (e.clearColor = this.background.colorRgba),
        (t = e.clear) != null || (e.clear = Hn.ALL);
      const { clear: i, clearColor: s, target: o } = e;
      at.shared.setValue(s ?? this.background.colorRgba),
        n.renderTarget.clear(o, i, at.shared.toArray());
    }
    get resolution() {
      return this.view.resolution;
    }
    set resolution(e) {
      (this.view.resolution = e), this.runners.resolutionChange.emit(e);
    }
    get width() {
      return this.view.texture.frame.width;
    }
    get height() {
      return this.view.texture.frame.height;
    }
    get canvas() {
      return this.view.canvas;
    }
    get lastObjectRendered() {
      return this._lastObjectRendered;
    }
    get renderingToScreen() {
      return this.renderTarget.renderingToScreen;
    }
    get screen() {
      return this.view.screen;
    }
    _addRunners(...e) {
      e.forEach((t) => {
        this.runners[t] = new fI(t);
      });
    }
    _addSystems(e) {
      let t;
      for (t in e) {
        const n = e[t];
        this._addSystem(n.value, n.name);
      }
    }
    _addSystem(e, t) {
      const n = new e(this);
      if (this[t]) throw new Error(`Whoops! The name "${t}" is already in use`);
      (this[t] = n), (this._systemsHash[t] = n);
      for (const i in this.runners) this.runners[i].add(n);
      return this;
    }
    _addPipes(e, t) {
      const n = t.reduce((i, s) => ((i[s.name] = s.value), i), {});
      e.forEach((i) => {
        const s = i.value,
          o = i.name,
          a = n[o];
        this.renderPipes[o] = new s(this, a ? new a() : null);
      });
    }
    destroy(e = !1) {
      this.runners.destroy.items.reverse(),
        this.runners.destroy.emit(e),
        Object.values(this.runners).forEach((t) => {
          t.destroy();
        }),
        (this._systemsHash = null),
        (this.renderPipes = null);
    }
    generateTexture(e) {
      return this.textureGenerator.generateTexture(e);
    }
    get roundPixels() {
      return !!this._roundPixels;
    }
    _unsafeEvalCheck() {
      if (!dI())
        throw new Error(
          "Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support."
        );
    }
  };
pI.defaultOptions = {
  resolution: 1,
  failIfMajorPerformanceCaveat: !1,
  roundPixels: !1,
};
let Og = pI,
  xf;
function Ig(r) {
  return (
    xf !== void 0 ||
      (xf = (() => {
        var e;
        const t = {
          stencil: !0,
          failIfMajorPerformanceCaveat:
            r ?? Og.defaultOptions.failIfMajorPerformanceCaveat,
        };
        try {
          if (!nt.get().getWebGLRenderingContext()) return !1;
          let i = nt.get().createCanvas().getContext("webgl", t);
          const s = !!(
            (e = i == null ? void 0 : i.getContextAttributes()) != null &&
            e.stencil
          );
          if (i) {
            const o = i.getExtension("WEBGL_lose_context");
            o && o.loseContext();
          }
          return (i = null), s;
        } catch {
          return !1;
        }
      })()),
    xf
  );
}
let wf;
async function Fg(r = {}) {
  return (
    wf !== void 0 ||
      (wf = await (async () => {
        if (!nt.get().getNavigator().gpu) return !1;
        try {
          return (
            await (await navigator.gpu.requestAdapter(r)).requestDevice(), !0
          );
        } catch {
          return !1;
        }
      })()),
    wf
  );
}
var cQ = Object.defineProperty,
  LA = Object.getOwnPropertySymbols,
  hQ = Object.prototype.hasOwnProperty,
  dQ = Object.prototype.propertyIsEnumerable,
  UA = (r, e, t) =>
    e in r
      ? cQ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Sc = (r, e) => {
    for (var t in e || (e = {})) hQ.call(e, t) && UA(r, t, e[t]);
    if (LA) for (var t of LA(e)) dQ.call(e, t) && UA(r, t, e[t]);
    return r;
  };
const GA = ["webgl", "webgpu", "canvas"];
async function fQ(r) {
  var e;
  let t = [];
  r.preference
    ? (t.push(r.preference),
      GA.forEach((o) => {
        o !== r.preference && t.push(o);
      }))
    : (t = GA.slice());
  let n,
    i = {};
  for (let o = 0; o < t.length; o++) {
    const a = t[o];
    if (a === "webgpu" && (await Fg())) {
      const { WebGPURenderer: l } = await Promise.resolve().then(function () {
        return Wne;
      });
      (n = l), (i = Sc(Sc({}, r), r.webgpu));
      break;
    } else if (
      a === "webgl" &&
      Ig(
        (e = r.failIfMajorPerformanceCaveat) != null
          ? e
          : Og.defaultOptions.failIfMajorPerformanceCaveat
      )
    ) {
      const { WebGLRenderer: l } = await Promise.resolve().then(function () {
        return mne;
      });
      (n = l), (i = Sc(Sc({}, r), r.webgl));
      break;
    } else if (a === "canvas")
      throw (
        ((i = Sc({}, r)), new Error("CanvasRenderer is not yet implemented"))
      );
  }
  if ((delete i.webgpu, delete i.webgl, !n))
    throw new Error("No available renderer for the current environment");
  const s = new n();
  return await s.init(i), s;
}
class gI {
  static init() {
    var e;
    (e = globalThis.__PIXI_APP_INIT__) == null || e.call(globalThis, this);
  }
  static destroy() {}
}
gI.extension = W.Application;
class _I {
  constructor(e) {
    this._renderer = e;
  }
  init() {
    var e;
    (e = globalThis.__PIXI_RENDERER_INIT__) == null ||
      e.call(globalThis, this._renderer);
  }
  destroy() {
    this._renderer = null;
  }
}
_I.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem],
  name: "initHook",
  priority: -10,
};
var pQ = Object.defineProperty,
  jA = Object.getOwnPropertySymbols,
  mQ = Object.prototype.hasOwnProperty,
  gQ = Object.prototype.propertyIsEnumerable,
  $A = (r, e, t) =>
    e in r
      ? pQ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  _Q = (r, e) => {
    for (var t in e || (e = {})) mQ.call(e, t) && $A(r, t, e[t]);
    if (jA) for (var t of jA(e)) gQ.call(e, t) && $A(r, t, e[t]);
    return r;
  };
const yI = class Sx {
  constructor(...e) {
    (this.stage = new ft()),
      e[0] !== void 0 &&
        Le(
          Ge,
          "Application constructor options are deprecated, please use Application.init() instead."
        );
  }
  async init(e) {
    (e = _Q({}, e)),
      (this.renderer = await fQ(e)),
      Sx._plugins.forEach((t) => {
        t.init.call(this, e);
      });
  }
  render() {
    this.renderer.render({ container: this.stage });
  }
  get canvas() {
    return this.renderer.canvas;
  }
  get view() {
    return (
      Le(
        Ge,
        "Application.view is deprecated, please use Application.canvas instead."
      ),
      this.renderer.canvas
    );
  }
  get screen() {
    return this.renderer.screen;
  }
  destroy(e = !1, t = !1) {
    const n = Sx._plugins.slice(0);
    n.reverse(),
      n.forEach((i) => {
        i.destroy.call(this);
      }),
      this.stage.destroy(t),
      (this.stage = null),
      this.renderer.destroy(e),
      (this.renderer = null);
  }
};
yI._plugins = [];
let vI = yI;
Ue.handleByList(W.Application, vI._plugins);
Ue.add(gI);
class xI extends HO {
  constructor(e, t) {
    var n;
    super();
    const { textures: i, data: s } = e;
    Object.keys(s.pages).forEach((o) => {
      const a = s.pages[parseInt(o, 10)],
        l = i[a.id];
      this.pages.push({ texture: l });
    }),
      Object.keys(s.chars).forEach((o) => {
        var a;
        const l = s.chars[o],
          { frame: u, source: c } = i[l.page],
          h = new dt(l.x + u.x, l.y + u.y, l.width, l.height),
          d = new fe({ source: c, frame: h });
        this.chars[o] = {
          id: o.codePointAt(0),
          xOffset: l.xOffset,
          yOffset: l.yOffset,
          xAdvance: l.xAdvance,
          kerning: (a = l.kerning) != null ? a : {},
          texture: d,
        };
      }),
      (this.baseRenderedFontSize = s.fontSize),
      (this.baseMeasurementFontSize = s.fontSize),
      (this.fontMetrics = { ascent: 0, descent: 0, fontSize: s.fontSize }),
      (this.baseLineOffset = s.baseLineOffset),
      (this.lineHeight = s.lineHeight),
      (this.fontFamily = s.fontFamily),
      (this.distanceField =
        (n = s.distanceField) != null ? n : { type: "none", range: 0 }),
      (this.url = t);
  }
  destroy() {
    super.destroy();
    for (let e = 0; e < this.pages.length; e++) {
      const { texture: t } = this.pages[e];
      t.destroy(!0);
    }
    this.pages = null;
  }
  static install(e) {
    wx.install(e);
  }
  static uninstall(e) {
    wx.uninstall(e);
  }
}
const K0 = {
    test(r) {
      return typeof r == "string" && r.startsWith("info face=");
    },
    parse(r) {
      var e, t, n;
      const i = r.match(/^[a-z]+\s+.+$/gm),
        s = {
          info: [],
          common: [],
          page: [],
          char: [],
          chars: [],
          kerning: [],
          kernings: [],
          distanceField: [],
        };
      for (const m in i) {
        const g = i[m].match(/^[a-z]+/gm)[0],
          _ = i[m].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),
          v = {};
        for (const w in _) {
          const x = _[w].split("="),
            k = x[0],
            C = x[1].replace(/"/gm, ""),
            F = parseFloat(C),
            I = isNaN(F) ? C : F;
          v[k] = I;
        }
        s[g].push(v);
      }
      const o = {
          chars: {},
          pages: [],
          lineHeight: 0,
          fontSize: 0,
          fontFamily: "",
          distanceField: null,
          baseLineOffset: 0,
        },
        [a] = s.info,
        [l] = s.common,
        [u] = (e = s.distanceField) != null ? e : [];
      u &&
        (o.distanceField = {
          range: parseInt(u.distanceRange, 10),
          type: u.fieldType,
        }),
        (o.fontSize = parseInt(a.size, 10)),
        (o.fontFamily = a.face),
        (o.lineHeight = parseInt(l.lineHeight, 10));
      const c = s.page;
      for (let m = 0; m < c.length; m++)
        o.pages.push({ id: parseInt(c[m].id, 10) || 0, file: c[m].file });
      const h = {};
      o.baseLineOffset = o.lineHeight - parseInt(l.base, 10);
      const d = s.char;
      for (let m = 0; m < d.length; m++) {
        const g = d[m],
          _ = parseInt(g.id, 10);
        let v =
          (n = (t = g.letter) != null ? t : g.char) != null
            ? n
            : String.fromCharCode(_);
        v === "space" && (v = " "),
          (h[_] = v),
          (o.chars[v] = {
            id: _,
            page: parseInt(g.page, 10) || 0,
            x: parseInt(g.x, 10),
            y: parseInt(g.y, 10),
            width: parseInt(g.width, 10),
            height: parseInt(g.height, 10),
            xOffset: parseInt(g.xoffset, 10),
            yOffset: parseInt(g.yoffset, 10),
            xAdvance: parseInt(g.xadvance, 10),
            kerning: {},
          });
      }
      const f = s.kerning || [];
      for (let m = 0; m < f.length; m++) {
        const g = parseInt(f[m].first, 10),
          _ = parseInt(f[m].second, 10),
          v = parseInt(f[m].amount, 10);
        o.chars[h[_]].kerning[h[g]] = v;
      }
      return o;
    },
  },
  zA = {
    test(r) {
      const e = r;
      return (
        typeof e != "string" &&
        "getElementsByTagName" in e &&
        e.getElementsByTagName("page").length &&
        e.getElementsByTagName("info")[0].getAttribute("face") !== null
      );
    },
    parse(r) {
      var e, t;
      const n = {
          chars: {},
          pages: [],
          lineHeight: 0,
          fontSize: 0,
          fontFamily: "",
          distanceField: null,
          baseLineOffset: 0,
        },
        i = r.getElementsByTagName("info")[0],
        s = r.getElementsByTagName("common")[0],
        o = r.getElementsByTagName("distanceField")[0];
      o &&
        (n.distanceField = {
          type: o.getAttribute("fieldType"),
          range: parseInt(o.getAttribute("distanceRange"), 10),
        });
      const a = r.getElementsByTagName("page"),
        l = r.getElementsByTagName("char"),
        u = r.getElementsByTagName("kerning");
      (n.fontSize = parseInt(i.getAttribute("size"), 10)),
        (n.fontFamily = i.getAttribute("face")),
        (n.lineHeight = parseInt(s.getAttribute("lineHeight"), 10));
      for (let h = 0; h < a.length; h++)
        n.pages.push({
          id: parseInt(a[h].getAttribute("id"), 10) || 0,
          file: a[h].getAttribute("file"),
        });
      const c = {};
      n.baseLineOffset = n.lineHeight - parseInt(s.getAttribute("base"), 10);
      for (let h = 0; h < l.length; h++) {
        const d = l[h],
          f = parseInt(d.getAttribute("id"), 10);
        let m =
          (t =
            (e = d.getAttribute("letter")) != null
              ? e
              : d.getAttribute("char")) != null
            ? t
            : String.fromCharCode(f);
        m === "space" && (m = " "),
          (c[f] = m),
          (n.chars[m] = {
            id: f,
            page: parseInt(d.getAttribute("page"), 10) || 0,
            x: parseInt(d.getAttribute("x"), 10),
            y: parseInt(d.getAttribute("y"), 10),
            width: parseInt(d.getAttribute("width"), 10),
            height: parseInt(d.getAttribute("height"), 10),
            xOffset: parseInt(d.getAttribute("xoffset"), 10),
            yOffset: parseInt(d.getAttribute("yoffset"), 10),
            xAdvance: parseInt(d.getAttribute("xadvance"), 10),
            kerning: {},
          });
      }
      for (let h = 0; h < u.length; h++) {
        const d = parseInt(u[h].getAttribute("first"), 10),
          f = parseInt(u[h].getAttribute("second"), 10),
          m = parseInt(u[h].getAttribute("amount"), 10);
        n.chars[c[f]].kerning[c[d]] = m;
      }
      return n;
    },
  },
  WA = {
    test(r) {
      return typeof r == "string" && r.includes("<font>")
        ? zA.test(nt.get().parseXML(r))
        : !1;
    },
    parse(r) {
      return zA.parse(nt.get().parseXML(r));
    },
  },
  yQ = [".xml", ".fnt"],
  vQ = {
    extension: { type: W.CacheParser, name: "cacheBitmapFont" },
    test: (r) => r instanceof xI,
    getCacheableAssets(r, e) {
      const t = {};
      return (
        r.forEach((n) => {
          (t[n] = e), (t[`${n}-bitmap`] = e);
        }),
        (t[`${e.fontFamily}-bitmap`] = e),
        t
      );
    },
  },
  xQ = {
    extension: { type: W.LoadParser, priority: Bi.Normal },
    name: "loadBitmapFont",
    test(r) {
      return yQ.includes(Zn.extname(r).toLowerCase());
    },
    async testParse(r) {
      return K0.test(r) || WA.test(r);
    },
    async parse(r, e, t) {
      const n = K0.test(r) ? K0.parse(r) : WA.parse(r),
        { src: i } = e,
        { pages: s } = n,
        o = [],
        a = n.distanceField
          ? {
              scaleMode: "linear",
              alphaMode: "premultiply-alpha-on-upload",
              autoGenerateMipmaps: !1,
              resolution: 1,
            }
          : {};
      for (let h = 0; h < s.length; ++h) {
        const d = s[h].file;
        let f = Zn.join(Zn.dirname(i), d);
        (f = ox(f, i)), o.push({ src: f, data: a });
      }
      const l = await t.load(o),
        u = o.map((h) => l[h.src]);
      return new xI({ data: n, textures: u }, i);
    },
    async load(r, e) {
      return await (await nt.get().fetch(r)).text();
    },
    async unload(r, e, t) {
      await Promise.all(
        r.pages.map((n) => t.unload(n.texture.source._sourceOrigin))
      ),
        r.destroy();
    },
  };
class wQ {
  constructor(e, t = !1) {
    (this._loader = e),
      (this._assetList = []),
      (this._isLoading = !1),
      (this._maxConcurrent = 1),
      (this.verbose = t);
  }
  add(e) {
    e.forEach((t) => {
      this._assetList.push(t);
    }),
      this.verbose &&
        console.log("[BackgroundLoader] assets: ", this._assetList),
      this._isActive && !this._isLoading && this._next();
  }
  async _next() {
    if (this._assetList.length && this._isActive) {
      this._isLoading = !0;
      const e = [],
        t = Math.min(this._assetList.length, this._maxConcurrent);
      for (let n = 0; n < t; n++) e.push(this._assetList.pop());
      await this._loader.load(e), (this._isLoading = !1), this._next();
    }
  }
  get active() {
    return this._isActive;
  }
  set active(e) {
    this._isActive !== e &&
      ((this._isActive = e), e && !this._isLoading && this._next());
  }
}
const bQ = {
  extension: { type: W.CacheParser, name: "cacheTextureArray" },
  test: (r) => Array.isArray(r) && r.every((e) => e instanceof fe),
  getCacheableAssets: (r, e) => {
    const t = {};
    return (
      r.forEach((n) => {
        e.forEach((i, s) => {
          t[n + (s === 0 ? "" : s + 1)] = i;
        });
      }),
      t
    );
  },
};
async function wI(r) {
  if ("Image" in globalThis)
    return new Promise((e) => {
      const t = new Image();
      (t.onload = () => {
        e(!0);
      }),
        (t.onerror = () => {
          e(!1);
        }),
        (t.src = r);
    });
  if ("createImageBitmap" in globalThis && "fetch" in globalThis) {
    try {
      const e = await (await fetch(r)).blob();
      await createImageBitmap(e);
    } catch {
      return !1;
    }
    return !0;
  }
  return !1;
}
const SQ = {
    extension: { type: W.DetectionParser, priority: 1 },
    test: async () =>
      wI(
        "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="
      ),
    add: async (r) => [...r, "avif"],
    remove: async (r) => r.filter((e) => e !== "avif"),
  },
  HA = ["png", "jpg", "jpeg"],
  EQ = {
    extension: { type: W.DetectionParser, priority: -1 },
    test: () => Promise.resolve(!0),
    add: async (r) => [...r, ...HA],
    remove: async (r) => r.filter((e) => !HA.includes(e)),
  },
  TQ =
    "WorkerGlobalScope" in globalThis &&
    globalThis instanceof globalThis.WorkerGlobalScope;
function s1(r) {
  return TQ ? !1 : document.createElement("video").canPlayType(r) !== "";
}
const kQ = {
    extension: { type: W.DetectionParser, priority: 0 },
    test: async () => s1("video/mp4"),
    add: async (r) => [...r, "mp4", "m4v"],
    remove: async (r) => r.filter((e) => e !== "mp4" && e !== "m4v"),
  },
  AQ = {
    extension: { type: W.DetectionParser, priority: 0 },
    test: async () => s1("video/ogg"),
    add: async (r) => [...r, "ogv"],
    remove: async (r) => r.filter((e) => e !== "ogv"),
  },
  PQ = {
    extension: { type: W.DetectionParser, priority: 0 },
    test: async () => s1("video/webm"),
    add: async (r) => [...r, "webm"],
    remove: async (r) => r.filter((e) => e !== "webm"),
  },
  CQ = {
    extension: { type: W.DetectionParser, priority: 0 },
    test: async () =>
      wI(
        "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="
      ),
    add: async (r) => [...r, "webp"],
    remove: async (r) => r.filter((e) => e !== "webp"),
  };
var RQ = Object.defineProperty,
  DQ = Object.defineProperties,
  MQ = Object.getOwnPropertyDescriptors,
  VA = Object.getOwnPropertySymbols,
  BQ = Object.prototype.hasOwnProperty,
  OQ = Object.prototype.propertyIsEnumerable,
  XA = (r, e, t) =>
    e in r
      ? RQ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  IQ = (r, e) => {
    for (var t in e || (e = {})) BQ.call(e, t) && XA(r, t, e[t]);
    if (VA) for (var t of VA(e)) OQ.call(e, t) && XA(r, t, e[t]);
    return r;
  },
  FQ = (r, e) => DQ(r, MQ(e));
class NQ {
  constructor() {
    (this._parsers = []),
      (this._parsersValidated = !1),
      (this.parsers = new Proxy(this._parsers, {
        set: (e, t, n) => ((this._parsersValidated = !1), (e[t] = n), !0),
      })),
      (this.promiseCache = {});
  }
  reset() {
    (this._parsersValidated = !1), (this.promiseCache = {});
  }
  _getLoadPromiseAndParser(e, t) {
    const n = { promise: null, parser: null };
    return (
      (n.promise = (async () => {
        var i, s;
        let o = null,
          a = null;
        if (
          (t.loadParser &&
            ((a = this._parserHash[t.loadParser]),
            a ||
              Be(
                `[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`
              )),
          !a)
        ) {
          for (let l = 0; l < this.parsers.length; l++) {
            const u = this.parsers[l];
            if (u.load && (i = u.test) != null && i.call(u, e, t, this)) {
              a = u;
              break;
            }
          }
          if (!a)
            return (
              Be(
                `[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`
              ),
              null
            );
        }
        (o = await a.load(e, t, this)), (n.parser = a);
        for (let l = 0; l < this.parsers.length; l++) {
          const u = this.parsers[l];
          u.parse &&
            u.parse &&
            (await ((s = u.testParse) == null
              ? void 0
              : s.call(u, o, t, this))) &&
            ((o = (await u.parse(o, t, this)) || o), (n.parser = u));
        }
        return o;
      })()),
      n
    );
  }
  async load(e, t) {
    this._parsersValidated || this._validateParsers();
    let n = 0;
    const i = {},
      s = um(e),
      o = Wi(e, (u) => ({ alias: [u], src: u })),
      a = o.length,
      l = o.map(async (u) => {
        const c = Zn.toAbsolute(u.src);
        if (!i[u.src])
          try {
            this.promiseCache[c] ||
              (this.promiseCache[c] = this._getLoadPromiseAndParser(c, u)),
              (i[u.src] = await this.promiseCache[c].promise),
              t && t(++n / a);
          } catch (h) {
            throw (
              (delete this.promiseCache[c],
              delete i[u.src],
              new Error(`[Loader.load] Failed to load ${c}.
${h}`))
            );
          }
      });
    return await Promise.all(l), s ? i[o[0].src] : i;
  }
  async unload(e) {
    const n = Wi(e, (i) => ({ alias: [i], src: i })).map(async (i) => {
      var s, o;
      const a = Zn.toAbsolute(i.src),
        l = this.promiseCache[a];
      if (l) {
        const u = await l.promise;
        delete this.promiseCache[a],
          await ((o = (s = l.parser) == null ? void 0 : s.unload) == null
            ? void 0
            : o.call(s, u, i, this));
      }
    });
    await Promise.all(n);
  }
  _validateParsers() {
    (this._parsersValidated = !0),
      (this._parserHash = this._parsers
        .filter((e) => e.name)
        .reduce(
          (e, t) => (
            t.name
              ? e[t.name] && Be(`[Assets] loadParser name conflict "${t.name}"`)
              : Be("[Assets] loadParser should have a name"),
            FQ(IQ({}, e), { [t.name]: t })
          ),
          {}
        ));
  }
}
function tc(r, e) {
  if (Array.isArray(e)) {
    for (const t of e) if (r.startsWith(`data:${t}`)) return !0;
    return !1;
  }
  return r.startsWith(`data:${e}`);
}
function os(r, e) {
  const t = r.split("?")[0],
    n = Zn.extname(t).toLowerCase();
  return Array.isArray(e) ? e.includes(n) : n === e;
}
const LQ = ".json",
  UQ = "application/json",
  GQ = {
    extension: { type: W.LoadParser, priority: Bi.Low },
    name: "loadJson",
    test(r) {
      return tc(r, UQ) || os(r, LQ);
    },
    async load(r) {
      return await (await nt.get().fetch(r)).json();
    },
  },
  jQ = ".txt",
  $Q = "text/plain",
  zQ = {
    name: "loadTxt",
    extension: { type: W.LoadParser, priority: Bi.Low, name: "loadTxt" },
    test(r) {
      return tc(r, $Q) || os(r, jQ);
    },
    async load(r) {
      return await (await nt.get().fetch(r)).text();
    },
  };
var WQ = Object.defineProperty,
  HQ = Object.defineProperties,
  VQ = Object.getOwnPropertyDescriptors,
  YA = Object.getOwnPropertySymbols,
  XQ = Object.prototype.hasOwnProperty,
  YQ = Object.prototype.propertyIsEnumerable,
  KA = (r, e, t) =>
    e in r
      ? WQ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  KQ = (r, e) => {
    for (var t in e || (e = {})) XQ.call(e, t) && KA(r, t, e[t]);
    if (YA) for (var t of YA(e)) YQ.call(e, t) && KA(r, t, e[t]);
    return r;
  },
  qQ = (r, e) => HQ(r, VQ(e));
const ZQ = [
    "normal",
    "bold",
    "100",
    "200",
    "300",
    "400",
    "500",
    "600",
    "700",
    "800",
    "900",
  ],
  QQ = [".ttf", ".otf", ".woff", ".woff2"],
  JQ = ["font/ttf", "font/otf", "font/woff", "font/woff2"],
  eJ = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
function tJ(r) {
  const e = Zn.extname(r),
    i = Zn.basename(r, e)
      .replace(/(-|_)/g, " ")
      .toLowerCase()
      .split(" ")
      .map((a) => a.charAt(0).toUpperCase() + a.slice(1));
  let s = i.length > 0;
  for (const a of i)
    if (!a.match(eJ)) {
      s = !1;
      break;
    }
  let o = i.join(" ");
  return s || (o = `"${o.replace(/[\\"]/g, "\\$&")}"`), o;
}
const rJ = /^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;
function nJ(r) {
  return rJ.test(r) ? r : encodeURI(r);
}
const iJ = {
  extension: { type: W.LoadParser, priority: Bi.Low },
  name: "loadWebFont",
  test(r) {
    return tc(r, JQ) || os(r, QQ);
  },
  async load(r, e) {
    var t, n, i, s, o, a;
    const l = nt.get().getFontFaceSet();
    if (l) {
      const u = [],
        c = (n = (t = e.data) == null ? void 0 : t.family) != null ? n : tJ(r),
        h =
          (o =
            (s = (i = e.data) == null ? void 0 : i.weights) == null
              ? void 0
              : s.filter((f) => ZQ.includes(f))) != null
            ? o
            : ["normal"],
        d = (a = e.data) != null ? a : {};
      for (let f = 0; f < h.length; f++) {
        const m = h[f],
          g = new FontFace(c, `url(${nJ(r)})`, qQ(KQ({}, d), { weight: m }));
        await g.load(), l.add(g), u.push(g);
      }
      return (
        ct.set(`${c}-and-url`, { url: r, fontFaces: u }),
        u.length === 1 ? u[0] : u
      );
    }
    return (
      Be("[loadWebFont] FontFace API is not supported. Skipping loading font"),
      null
    );
  },
  unload(r) {
    (Array.isArray(r) ? r : [r]).forEach((e) => {
      ct.remove(e.family), nt.get().getFontFaceSet().delete(e);
    });
  },
};
function o1(r, e = 1) {
  var t;
  const n = (t = xl.RETINA_PREFIX) == null ? void 0 : t.exec(r);
  return n ? parseFloat(n[1]) : e;
}
function wl(r, e, t) {
  (r.label = t), (r._sourceOrigin = t);
  const n = new fe({ source: r, label: t }),
    i = () => {
      delete e.promiseCache[t], ct.has(t) && ct.remove(t);
    };
  return (
    n.source.once("destroy", () => {
      e.promiseCache[t] &&
        (Be(
          "[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."
        ),
        i());
    }),
    n.once("destroy", () => {
      r.destroyed ||
        (Be(
          "[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."
        ),
        i());
    }),
    n
  );
}
var sJ = Object.defineProperty,
  bm = Object.getOwnPropertySymbols,
  bI = Object.prototype.hasOwnProperty,
  SI = Object.prototype.propertyIsEnumerable,
  qA = (r, e, t) =>
    e in r
      ? sJ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  oJ = (r, e) => {
    for (var t in e || (e = {})) bI.call(e, t) && qA(r, t, e[t]);
    if (bm) for (var t of bm(e)) SI.call(e, t) && qA(r, t, e[t]);
    return r;
  },
  aJ = (r, e) => {
    var t = {};
    for (var n in r) bI.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && bm)
      for (var n of bm(r)) e.indexOf(n) < 0 && SI.call(r, n) && (t[n] = r[n]);
    return t;
  };
const lJ = ".svg",
  uJ = "image/svg+xml",
  cJ = {
    extension: { type: W.LoadParser, priority: Bi.Low, name: "loadSVG" },
    name: "loadSVG",
    config: { crossOrigin: "anonymous", parseAsGraphicsContext: !1 },
    test(r) {
      return tc(r, uJ) || os(r, lJ);
    },
    async load(r, e, t) {
      var n;
      return (
        (n = e.data.parseAsGraphicsContext) != null
          ? n
          : this.config.parseAsGraphicsContext
      )
        ? dJ(r)
        : hJ(r, e, t, this.config.crossOrigin);
    },
    unload(r) {
      r.destroy(!0);
    },
  };
async function hJ(r, e, t, n) {
  var i, s, o, a, l;
  const c = await (await nt.get().fetch(r)).blob(),
    h = URL.createObjectURL(c),
    d = new Image();
  (d.src = h), (d.crossOrigin = n), await d.decode(), URL.revokeObjectURL(h);
  const f = document.createElement("canvas"),
    m = f.getContext("2d"),
    g = ((i = e.data) == null ? void 0 : i.resolution) || o1(r),
    _ = (o = (s = e.data) == null ? void 0 : s.width) != null ? o : d.width,
    v = (l = (a = e.data) == null ? void 0 : a.height) != null ? l : d.height;
  (f.width = _ * g), (f.height = v * g), m.drawImage(d, 0, 0, _ * g, v * g);
  const w = e.data,
    x = aJ(w, ["parseAsGraphicsContext"]),
    k = new ec(
      oJ(
        {
          resource: f,
          alphaMode: "premultiply-alpha-on-upload",
          resolution: g,
        },
        x
      )
    );
  return wl(k, t, r);
}
async function dJ(r) {
  const t = await (await nt.get().fetch(r)).text(),
    n = new gi();
  return n.svg(t), n;
}
const fJ = `(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;
let fu = null,
  Ex = class {
    constructor() {
      fu ||
        (fu = URL.createObjectURL(
          new Blob([fJ], { type: "application/javascript" })
        )),
        (this.worker = new Worker(fu));
    }
  };
Ex.revokeObjectURL = function () {
  fu && (URL.revokeObjectURL(fu), (fu = null));
};
const pJ = `(function () {
    'use strict';

    async function loadImageBitmap(url) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      const imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap;
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;
let pu = null,
  EI = class {
    constructor() {
      pu ||
        (pu = URL.createObjectURL(
          new Blob([pJ], { type: "application/javascript" })
        )),
        (this.worker = new Worker(pu));
    }
  };
EI.revokeObjectURL = function () {
  pu && (URL.revokeObjectURL(pu), (pu = null));
};
let ZA = 0,
  q0;
class mJ {
  constructor() {
    (this._initialized = !1),
      (this._createdWorkers = 0),
      (this._workerPool = []),
      (this._queue = []),
      (this._resolveHash = {});
  }
  isImageBitmapSupported() {
    return this._isImageBitmapSupported !== void 0
      ? this._isImageBitmapSupported
      : ((this._isImageBitmapSupported = new Promise((e) => {
          const { worker: t } = new Ex();
          t.addEventListener("message", (n) => {
            t.terminate(), Ex.revokeObjectURL(), e(n.data);
          });
        })),
        this._isImageBitmapSupported);
  }
  loadImageBitmap(e) {
    return this._run("loadImageBitmap", [e]);
  }
  async _initWorkers() {
    this._initialized || (this._initialized = !0);
  }
  _getWorker() {
    q0 === void 0 && (q0 = navigator.hardwareConcurrency || 4);
    let e = this._workerPool.pop();
    return (
      !e &&
        this._createdWorkers < q0 &&
        (this._createdWorkers++,
        (e = new EI().worker),
        e.addEventListener("message", (t) => {
          this._complete(t.data), this._returnWorker(t.target), this._next();
        })),
      e
    );
  }
  _returnWorker(e) {
    this._workerPool.push(e);
  }
  _complete(e) {
    e.error !== void 0
      ? this._resolveHash[e.uuid].reject(e.error)
      : this._resolveHash[e.uuid].resolve(e.data),
      (this._resolveHash[e.uuid] = null);
  }
  async _run(e, t) {
    await this._initWorkers();
    const n = new Promise((i, s) => {
      this._queue.push({ id: e, arguments: t, resolve: i, reject: s });
    });
    return this._next(), n;
  }
  _next() {
    if (!this._queue.length) return;
    const e = this._getWorker();
    if (!e) return;
    const t = this._queue.pop(),
      n = t.id;
    (this._resolveHash[ZA] = { resolve: t.resolve, reject: t.reject }),
      e.postMessage({ data: t.arguments, uuid: ZA++, id: n });
  }
}
const QA = new mJ();
var gJ = Object.defineProperty,
  JA = Object.getOwnPropertySymbols,
  _J = Object.prototype.hasOwnProperty,
  yJ = Object.prototype.propertyIsEnumerable,
  eP = (r, e, t) =>
    e in r
      ? gJ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  vJ = (r, e) => {
    for (var t in e || (e = {})) _J.call(e, t) && eP(r, t, e[t]);
    if (JA) for (var t of JA(e)) yJ.call(e, t) && eP(r, t, e[t]);
    return r;
  };
const xJ = [".jpeg", ".jpg", ".png", ".webp", ".avif"],
  wJ = ["image/jpeg", "image/png", "image/webp", "image/avif"];
async function bJ(r) {
  const e = await nt.get().fetch(r);
  if (!e.ok)
    throw new Error(
      `[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`
    );
  const t = await e.blob();
  return await createImageBitmap(t);
}
const TI = {
  name: "loadTextures",
  extension: { type: W.LoadParser, priority: Bi.High, name: "loadTextures" },
  config: {
    preferWorkers: !0,
    preferCreateImageBitmap: !0,
    crossOrigin: "anonymous",
  },
  test(r) {
    return tc(r, wJ) || os(r, xJ);
  },
  async load(r, e, t) {
    var n;
    let i = null;
    globalThis.createImageBitmap && this.config.preferCreateImageBitmap
      ? this.config.preferWorkers && (await QA.isImageBitmapSupported())
        ? (i = await QA.loadImageBitmap(r))
        : (i = await bJ(r))
      : (i = await new Promise((o) => {
          (i = new Image()),
            (i.crossOrigin = this.config.crossOrigin),
            (i.src = r),
            i.complete
              ? o(i)
              : (i.onload = () => {
                  o(i);
                });
        }));
    const s = new ec(
      vJ(
        {
          resource: i,
          alphaMode: "premultiply-alpha-on-upload",
          resolution: ((n = e.data) == null ? void 0 : n.resolution) || o1(r),
        },
        e.data
      )
    );
    return wl(s, t, r);
  },
  unload(r) {
    r.destroy(!0);
  },
};
var SJ = Object.defineProperty,
  EJ = Object.defineProperties,
  TJ = Object.getOwnPropertyDescriptors,
  tP = Object.getOwnPropertySymbols,
  kJ = Object.prototype.hasOwnProperty,
  AJ = Object.prototype.propertyIsEnumerable,
  rP = (r, e, t) =>
    e in r
      ? SJ(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Z0 = (r, e) => {
    for (var t in e || (e = {})) kJ.call(e, t) && rP(r, t, e[t]);
    if (tP) for (var t of tP(e)) AJ.call(e, t) && rP(r, t, e[t]);
    return r;
  },
  nP = (r, e) => EJ(r, TJ(e));
const kI = [".mp4", ".m4v", ".webm", ".ogg", ".ogv", ".h264", ".avi", ".mov"],
  PJ = kI.map((r) => `video/${r.substring(1)}`);
function CJ(r, e, t) {
  t === void 0 && !e.startsWith("data:")
    ? (r.crossOrigin = DJ(e))
    : t !== !1 && (r.crossOrigin = typeof t == "string" ? t : "anonymous");
}
function RJ(r) {
  return new Promise((e, t) => {
    r.addEventListener("canplaythrough", n),
      r.addEventListener("error", i),
      r.load();
    function n() {
      s(), e();
    }
    function i(o) {
      s(), t(o);
    }
    function s() {
      r.removeEventListener("canplaythrough", n),
        r.removeEventListener("error", i);
    }
  });
}
function DJ(r, e = globalThis.location) {
  if (r.startsWith("data:")) return "";
  e = e || globalThis.location;
  const t = new URL(r, document.baseURI);
  return t.hostname !== e.hostname ||
    t.port !== e.port ||
    t.protocol !== e.protocol
    ? "anonymous"
    : "";
}
const MJ = {
    name: "loadVideo",
    extension: { type: W.LoadParser, name: "loadVideo" },
    test(r) {
      const e = tc(r, PJ),
        t = os(r, kI);
      return e || t;
    },
    async load(r, e, t) {
      var n, i;
      const s = Z0(
          nP(Z0({}, Jf.defaultOptions), {
            resolution: ((n = e.data) == null ? void 0 : n.resolution) || o1(r),
            alphaMode:
              ((i = e.data) == null ? void 0 : i.alphaMode) || (await oO()),
          }),
          e.data
        ),
        o = document.createElement("video"),
        a = {
          preload: s.autoLoad !== !1 ? "auto" : void 0,
          "webkit-playsinline": s.playsinline !== !1 ? "" : void 0,
          playsinline: s.playsinline !== !1 ? "" : void 0,
          muted: s.muted === !0 ? "" : void 0,
          loop: s.loop === !0 ? "" : void 0,
          autoplay: s.autoPlay !== !1 ? "" : void 0,
        };
      Object.keys(a).forEach((c) => {
        const h = a[c];
        h !== void 0 && o.setAttribute(c, h);
      }),
        s.muted === !0 && (o.muted = !0),
        CJ(o, r, s.crossorigin);
      const l = document.createElement("source");
      let u;
      if (r.startsWith("data:")) u = r.slice(5, r.indexOf(";"));
      else if (!r.startsWith("blob:")) {
        const c = r
          .split("?")[0]
          .slice(r.lastIndexOf(".") + 1)
          .toLowerCase();
        u = Jf.MIME_TYPES[c] || `video/${c}`;
      }
      return (
        (l.src = r),
        u && (l.type = u),
        new Promise((c) => {
          const h = async () => {
            const d = new Jf(nP(Z0({}, s), { resource: o }));
            o.removeEventListener("canplay", h),
              e.data.preload && (await RJ(o)),
              c(wl(d, t, r));
          };
          o.addEventListener("canplay", h), o.appendChild(l);
        })
      );
    },
    unload(r) {
      r.destroy(!0);
    },
  },
  AI = {
    extension: { type: W.ResolveParser, name: "resolveTexture" },
    test: TI.test,
    parse: (r) => {
      var e, t;
      return {
        resolution: parseFloat(
          (t = (e = xl.RETINA_PREFIX.exec(r)) == null ? void 0 : e[1]) != null
            ? t
            : "1"
        ),
        format: r.split(".").pop(),
        src: r,
      };
    },
  },
  BJ = {
    extension: { type: W.ResolveParser, priority: -2, name: "resolveJson" },
    test: (r) => xl.RETINA_PREFIX.test(r) && r.endsWith(".json"),
    parse: AI.parse,
  };
class OJ {
  constructor() {
    (this._detections = []),
      (this._initialized = !1),
      (this.resolver = new xl()),
      (this.loader = new NQ()),
      (this.cache = ct),
      (this._backgroundLoader = new wQ(this.loader)),
      (this._backgroundLoader.active = !0),
      this.reset();
  }
  async init(e = {}) {
    var t, n, i;
    if (this._initialized) {
      Be(
        "[Assets]AssetManager already initialized, did you load before calling this Assets.init()?"
      );
      return;
    }
    if (
      ((this._initialized = !0),
      e.defaultSearchParams &&
        this.resolver.setDefaultSearchParams(e.defaultSearchParams),
      e.basePath && (this.resolver.basePath = e.basePath),
      e.bundleIdentifier &&
        this.resolver.setBundleIdentifier(e.bundleIdentifier),
      e.manifest)
    ) {
      let l = e.manifest;
      typeof l == "string" && (l = await this.load(l)),
        this.resolver.addManifest(l);
    }
    const s =
        (n = (t = e.texturePreference) == null ? void 0 : t.resolution) != null
          ? n
          : 1,
      o = typeof s == "number" ? [s] : s,
      a = await this._detectFormats({
        preferredFormats: (i = e.texturePreference) == null ? void 0 : i.format,
        skipDetections: e.skipDetections,
        detections: this._detections,
      });
    this.resolver.prefer({ params: { format: a, resolution: o } }),
      e.preferences && this.setPreferences(e.preferences);
  }
  add(e) {
    this.resolver.add(e);
  }
  async load(e, t) {
    this._initialized || (await this.init());
    const n = um(e),
      i = Wi(e).map((a) => {
        if (typeof a != "string") {
          const l = this.resolver.getAlias(a);
          return (
            l.some((u) => !this.resolver.hasKey(u)) && this.add(a),
            Array.isArray(l) ? l[0] : l
          );
        }
        return this.resolver.hasKey(a) || this.add({ alias: a, src: a }), a;
      }),
      s = this.resolver.resolve(i),
      o = await this._mapLoadToResolve(s, t);
    return n ? o[i[0]] : o;
  }
  addBundle(e, t) {
    this.resolver.addBundle(e, t);
  }
  async loadBundle(e, t) {
    this._initialized || (await this.init());
    let n = !1;
    typeof e == "string" && ((n = !0), (e = [e]));
    const i = this.resolver.resolveBundle(e),
      s = {},
      o = Object.keys(i);
    let a = 0,
      l = 0;
    const u = () => {
        t == null || t(++a / l);
      },
      c = o.map((h) => {
        const d = i[h];
        return (
          (l += Object.keys(d).length),
          this._mapLoadToResolve(d, u).then((f) => {
            s[h] = f;
          })
        );
      });
    return await Promise.all(c), n ? s[e[0]] : s;
  }
  async backgroundLoad(e) {
    this._initialized || (await this.init()), typeof e == "string" && (e = [e]);
    const t = this.resolver.resolve(e);
    this._backgroundLoader.add(Object.values(t));
  }
  async backgroundLoadBundle(e) {
    this._initialized || (await this.init()), typeof e == "string" && (e = [e]);
    const t = this.resolver.resolveBundle(e);
    Object.values(t).forEach((n) => {
      this._backgroundLoader.add(Object.values(n));
    });
  }
  reset() {
    this.resolver.reset(),
      this.loader.reset(),
      this.cache.reset(),
      (this._initialized = !1);
  }
  get(e) {
    if (typeof e == "string") return ct.get(e);
    const t = {};
    for (let n = 0; n < e.length; n++) t[n] = ct.get(e[n]);
    return t;
  }
  async _mapLoadToResolve(e, t) {
    const n = [...new Set(Object.values(e))];
    this._backgroundLoader.active = !1;
    const i = await this.loader.load(n, t);
    this._backgroundLoader.active = !0;
    const s = {};
    return (
      n.forEach((o) => {
        const a = i[o.src],
          l = [o.src];
        o.alias && l.push(...o.alias),
          l.forEach((u) => {
            s[u] = a;
          }),
          ct.set(l, a);
      }),
      s
    );
  }
  async unload(e) {
    this._initialized || (await this.init());
    const t = Wi(e).map((i) => (typeof i != "string" ? i.src : i)),
      n = this.resolver.resolve(t);
    await this._unloadFromResolved(n);
  }
  async unloadBundle(e) {
    this._initialized || (await this.init()), (e = Wi(e));
    const t = this.resolver.resolveBundle(e),
      n = Object.keys(t).map((i) => this._unloadFromResolved(t[i]));
    await Promise.all(n);
  }
  async _unloadFromResolved(e) {
    const t = Object.values(e);
    t.forEach((n) => {
      ct.remove(n.src);
    }),
      await this.loader.unload(t);
  }
  async _detectFormats(e) {
    let t = [];
    e.preferredFormats &&
      (t = Array.isArray(e.preferredFormats)
        ? e.preferredFormats
        : [e.preferredFormats]);
    for (const n of e.detections)
      e.skipDetections || (await n.test())
        ? (t = await n.add(t))
        : e.skipDetections || (t = await n.remove(t));
    return (t = t.filter((n, i) => t.indexOf(n) === i)), t;
  }
  get detections() {
    return this._detections;
  }
  setPreferences(e) {
    this.loader.parsers.forEach((t) => {
      t.config &&
        Object.keys(t.config)
          .filter((n) => n in e)
          .forEach((n) => {
            t.config[n] = e[n];
          });
    });
  }
}
const ji = new OJ();
Ue.handleByList(W.LoadParser, ji.loader.parsers)
  .handleByList(W.ResolveParser, ji.resolver.parsers)
  .handleByList(W.CacheParser, ji.cache.parsers)
  .handleByList(W.DetectionParser, ji.detections);
Ue.add(bQ, EQ, SQ, CQ, kQ, AQ, PQ, GQ, zQ, iJ, cJ, TI, MJ, xQ, vQ, AI, BJ);
const iP = {
  loader: W.LoadParser,
  resolver: W.ResolveParser,
  cache: W.CacheParser,
  detection: W.DetectionParser,
};
Ue.handle(
  W.Asset,
  (r) => {
    const e = r.ref;
    Object.entries(iP)
      .filter(([t]) => !!e[t])
      .forEach(([t, n]) => {
        var i;
        return Ue.add(
          Object.assign(e[t], {
            extension: (i = e[t].extension) != null ? i : n,
          })
        );
      });
  },
  (r) => {
    const e = r.ref;
    Object.keys(iP)
      .filter((t) => !!e[t])
      .forEach((t) => Ue.remove(e[t]));
  }
);
W.DetectionParser;
class Ng extends br {
  constructor(e) {
    super(e),
      (this.uploadMethodId = "compressed"),
      (this.resource = e.resource),
      (this.mipLevelCount = this.resource.length);
  }
}
let bf;
function sP() {
  if (bf) return bf;
  const e = document.createElement("canvas").getContext("webgl");
  return e
    ? ((bf = [
        ...(e.getExtension("EXT_texture_compression_bptc")
          ? [
              "bc6h-rgb-ufloat",
              "bc6h-rgb-float",
              "bc7-rgba-unorm",
              "bc7-rgba-unorm-srgb",
            ]
          : []),
        ...(e.getExtension("WEBGL_compressed_texture_s3tc")
          ? ["bc1-rgba-unorm", "bc2-rgba-unorm", "bc3-rgba-unorm"]
          : []),
        ...(e.getExtension("WEBGL_compressed_texture_s3tc_srgb")
          ? [
              "bc1-rgba-unorm-srgb",
              "bc2-rgba-unorm-srgb",
              "bc3-rgba-unorm-srgb",
            ]
          : []),
        ...(e.getExtension("EXT_texture_compression_rgtc")
          ? ["bc4-r-unorm", "bc4-r-snorm", "bc5-rg-unorm", "bc5-rg-snorm"]
          : []),
        ...(e.getExtension("WEBGL_compressed_texture_etc")
          ? [
              "etc2-rgb8unorm",
              "etc2-rgb8unorm-srgb",
              "etc2-rgba8unorm",
              "etc2-rgba8unorm-srgb",
              "etc2-rgb8a1unorm",
              "etc2-rgb8a1unorm-srgb",
              "eac-r11unorm",
              "eac-rg11unorm",
            ]
          : []),
        ...(e.getExtension("WEBGL_compressed_texture_astc")
          ? [
              "astc-4x4-unorm",
              "astc-4x4-unorm-srgb",
              "astc-5x4-unorm",
              "astc-5x4-unorm-srgb",
              "astc-5x5-unorm",
              "astc-5x5-unorm-srgb",
              "astc-6x5-unorm",
              "astc-6x5-unorm-srgb",
              "astc-6x6-unorm",
              "astc-6x6-unorm-srgb",
              "astc-8x5-unorm",
              "astc-8x5-unorm-srgb",
              "astc-8x6-unorm",
              "astc-8x6-unorm-srgb",
              "astc-8x8-unorm",
              "astc-8x8-unorm-srgb",
              "astc-10x5-unorm",
              "astc-10x5-unorm-srgb",
              "astc-10x6-unorm",
              "astc-10x6-unorm-srgb",
              "astc-10x8-unorm",
              "astc-10x8-unorm-srgb",
              "astc-10x10-unorm",
              "astc-10x10-unorm-srgb",
              "astc-12x10-unorm",
              "astc-12x10-unorm-srgb",
              "astc-12x12-unorm",
              "astc-12x12-unorm-srgb",
            ]
          : []),
      ]),
      bf)
    : [];
}
let Sf;
async function oP() {
  if (Sf) return Sf;
  const r = await navigator.gpu.requestAdapter();
  return (
    (Sf = [
      ...(r.features.has("texture-compression-bc")
        ? [
            "bc1-rgba-unorm",
            "bc1-rgba-unorm-srgb",
            "bc2-rgba-unorm",
            "bc2-rgba-unorm-srgb",
            "bc3-rgba-unorm",
            "bc3-rgba-unorm-srgb",
            "bc4-r-unorm",
            "bc4-r-snorm",
            "bc5-rg-unorm",
            "bc5-rg-snorm",
            "bc6h-rgb-ufloat",
            "bc6h-rgb-float",
            "bc7-rgba-unorm",
            "bc7-rgba-unorm-srgb",
          ]
        : []),
      ...(r.features.has("texture-compression-etc2")
        ? [
            "etc2-rgb8unorm",
            "etc2-rgb8unorm-srgb",
            "etc2-rgb8a1unorm",
            "etc2-rgb8a1unorm-srgb",
            "etc2-rgba8unorm",
            "etc2-rgba8unorm-srgb",
            "eac-r11unorm",
            "eac-r11snorm",
            "eac-rg11unorm",
            "eac-rg11snorm",
          ]
        : []),
      ...(r.features.has("texture-compression-astc")
        ? [
            "astc-4x4-unorm",
            "astc-4x4-unorm-srgb",
            "astc-5x4-unorm",
            "astc-5x4-unorm-srgb",
            "astc-5x5-unorm",
            "astc-5x5-unorm-srgb",
            "astc-6x5-unorm",
            "astc-6x5-unorm-srgb",
            "astc-6x6-unorm",
            "astc-6x6-unorm-srgb",
            "astc-8x5-unorm",
            "astc-8x5-unorm-srgb",
            "astc-8x6-unorm",
            "astc-8x6-unorm-srgb",
            "astc-8x8-unorm",
            "astc-8x8-unorm-srgb",
            "astc-10x5-unorm",
            "astc-10x5-unorm-srgb",
            "astc-10x6-unorm",
            "astc-10x6-unorm-srgb",
            "astc-10x8-unorm",
            "astc-10x8-unorm-srgb",
            "astc-10x10-unorm",
            "astc-10x10-unorm-srgb",
            "astc-12x10-unorm",
            "astc-12x10-unorm-srgb",
            "astc-12x12-unorm",
            "astc-12x12-unorm-srgb",
          ]
        : []),
    ]),
    Sf
  );
}
let Ef;
async function PI() {
  return (
    Ef !== void 0 ||
      (Ef = await (async () => {
        const r = await Fg(),
          e = Ig();
        if (r && e) {
          const t = await oP(),
            n = sP();
          return t.filter((i) => n.includes(i));
        } else {
          if (r) return await oP();
          if (e) return sP();
        }
        return [];
      })()),
    Ef
  );
}
const IJ = [
  "r8unorm",
  "r8snorm",
  "r8uint",
  "r8sint",
  "r16uint",
  "r16sint",
  "r16float",
  "rg8unorm",
  "rg8snorm",
  "rg8uint",
  "rg8sint",
  "r32uint",
  "r32sint",
  "r32float",
  "rg16uint",
  "rg16sint",
  "rg16float",
  "rgba8unorm",
  "rgba8unorm-srgb",
  "rgba8snorm",
  "rgba8uint",
  "rgba8sint",
  "bgra8unorm",
  "bgra8unorm-srgb",
  "rgb9e5ufloat",
  "rgb10a2unorm",
  "rg11b10ufloat",
  "rg32uint",
  "rg32sint",
  "rg32float",
  "rgba16uint",
  "rgba16sint",
  "rgba16float",
  "rgba32uint",
  "rgba32sint",
  "rgba32float",
  "stencil8",
  "depth16unorm",
  "depth24plus",
  "depth24plus-stencil8",
  "depth32float",
  "depth32float-stencil8",
];
let Tf;
async function Lg() {
  if (Tf !== void 0) return Tf;
  const r = await PI();
  return (Tf = [...IJ, ...r]), Tf;
}
const FJ = `(function () {
    'use strict';

    function createLevelBuffers(basisTexture, basisTranscoderFormat) {
      const images = basisTexture.getNumImages();
      const levels = basisTexture.getNumLevels(0);
      const success = basisTexture.startTranscoding();
      if (!success) {
        throw new Error("startTranscoding failed");
      }
      const levelBuffers = [];
      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {
        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {
          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);
          const levelBuffer = new Uint8Array(transcodeSize);
          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);
          if (!success2) {
            throw new Error("transcodeImage failed");
          }
          levelBuffers.push(levelBuffer);
        }
      }
      return levelBuffers;
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": 3,
      // cTFBC3_RGBA
      "bc7-rgba-unorm": 6,
      // cTFBC7_RGBA,
      "etc2-rgba8unorm": 1,
      // cTFETC2_RGBA,
      "astc-4x4-unorm": 10,
      // cTFASTC_4x4_RGBA,
      // Uncompressed
      rgba8unorm: 13,
      // cTFRGBA32,
      rgba4unorm: 16
      // cTFRGBA4444,
    };
    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "basis/basis_transcoder.js",
      wasmUrl: "basis/basis_transcoder.wasm"
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let basisPromise;
    async function getBasis() {
      if (!basisPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        basisPromise = new Promise((resolve) => {
          BASIS({
            locateFile: (_file) => absoluteWasmUrl
          }).then((module) => {
            module.initializeBasis();
            resolve(module.BasisFile);
          });
        });
      }
      return basisPromise;
    }
    async function fetchBasisTexture(url, BasisTexture) {
      const basisResponse = await fetch(url);
      if (basisResponse.ok) {
        const basisArrayBuffer = await basisResponse.arrayBuffer();
        return new BasisTexture(new Uint8Array(basisArrayBuffer));
      }
      throw new Error(\`Failed to load Basis texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const BasisTexture = await getBasis();
      const basisTexture = await fetchBasisTexture(url, BasisTexture);
      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);
      return {
        width: basisTexture.getImageWidth(0, 0),
        height: basisTexture.getImageHeight(0, 0),
        format: basisTranscodedTextureFormat,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getBasis();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        var _a;
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: (_a = textureOptions.resource) == null ? void 0 : _a.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type](message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;
let mu = null,
  CI = class {
    constructor() {
      mu ||
        (mu = URL.createObjectURL(
          new Blob([FJ], { type: "application/javascript" })
        )),
        (this.worker = new Worker(mu));
    }
  };
CI.revokeObjectURL = function () {
  mu && (URL.revokeObjectURL(mu), (mu = null));
};
const aP = {
  jsUrl: "https://files.pixijs.download/transcoders/basis/basis_transcoder.js",
  wasmUrl:
    "https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm",
};
let Ec;
const RI = {};
function NJ(r) {
  return (
    Ec ||
      ((Ec = new CI().worker),
      (Ec.onmessage = (e) => {
        const { success: t, url: n, textureOptions: i } = e.data;
        t || console.warn("Failed to load Basis texture", n), RI[n](i);
      }),
      Ec.postMessage({
        type: "init",
        jsUrl: aP.jsUrl,
        wasmUrl: aP.wasmUrl,
        supportedTextures: r,
      })),
    Ec
  );
}
function LJ(r, e) {
  const t = NJ(e);
  return new Promise((n) => {
    (RI[r] = n), t.postMessage({ type: "load", url: r });
  });
}
W.LoadParser, Bi.High;
const UJ = {
    MAGIC: 0,
    SIZE: 1,
    FLAGS: 2,
    HEIGHT: 3,
    WIDTH: 4,
    MIPMAP_COUNT: 7,
    PIXEL_FORMAT: 19,
    PF_FLAGS: 20,
    FOURCC: 21,
    RGB_BITCOUNT: 22,
    R_BIT_MASK: 23,
    G_BIT_MASK: 24,
    B_BIT_MASK: 25,
    A_BIT_MASK: 26,
  },
  GJ = {
    DXGI_FORMAT: 0,
    RESOURCE_DIMENSION: 1,
    MISC_FLAG: 2,
    ARRAY_SIZE: 3,
    MISC_FLAGS2: 4,
  };
var DI = ((r) => (
    (r[(r.DXGI_FORMAT_UNKNOWN = 0)] = "DXGI_FORMAT_UNKNOWN"),
    (r[(r.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1)] =
      "DXGI_FORMAT_R32G32B32A32_TYPELESS"),
    (r[(r.DXGI_FORMAT_R32G32B32A32_FLOAT = 2)] =
      "DXGI_FORMAT_R32G32B32A32_FLOAT"),
    (r[(r.DXGI_FORMAT_R32G32B32A32_UINT = 3)] =
      "DXGI_FORMAT_R32G32B32A32_UINT"),
    (r[(r.DXGI_FORMAT_R32G32B32A32_SINT = 4)] =
      "DXGI_FORMAT_R32G32B32A32_SINT"),
    (r[(r.DXGI_FORMAT_R32G32B32_TYPELESS = 5)] =
      "DXGI_FORMAT_R32G32B32_TYPELESS"),
    (r[(r.DXGI_FORMAT_R32G32B32_FLOAT = 6)] = "DXGI_FORMAT_R32G32B32_FLOAT"),
    (r[(r.DXGI_FORMAT_R32G32B32_UINT = 7)] = "DXGI_FORMAT_R32G32B32_UINT"),
    (r[(r.DXGI_FORMAT_R32G32B32_SINT = 8)] = "DXGI_FORMAT_R32G32B32_SINT"),
    (r[(r.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9)] =
      "DXGI_FORMAT_R16G16B16A16_TYPELESS"),
    (r[(r.DXGI_FORMAT_R16G16B16A16_FLOAT = 10)] =
      "DXGI_FORMAT_R16G16B16A16_FLOAT"),
    (r[(r.DXGI_FORMAT_R16G16B16A16_UNORM = 11)] =
      "DXGI_FORMAT_R16G16B16A16_UNORM"),
    (r[(r.DXGI_FORMAT_R16G16B16A16_UINT = 12)] =
      "DXGI_FORMAT_R16G16B16A16_UINT"),
    (r[(r.DXGI_FORMAT_R16G16B16A16_SNORM = 13)] =
      "DXGI_FORMAT_R16G16B16A16_SNORM"),
    (r[(r.DXGI_FORMAT_R16G16B16A16_SINT = 14)] =
      "DXGI_FORMAT_R16G16B16A16_SINT"),
    (r[(r.DXGI_FORMAT_R32G32_TYPELESS = 15)] = "DXGI_FORMAT_R32G32_TYPELESS"),
    (r[(r.DXGI_FORMAT_R32G32_FLOAT = 16)] = "DXGI_FORMAT_R32G32_FLOAT"),
    (r[(r.DXGI_FORMAT_R32G32_UINT = 17)] = "DXGI_FORMAT_R32G32_UINT"),
    (r[(r.DXGI_FORMAT_R32G32_SINT = 18)] = "DXGI_FORMAT_R32G32_SINT"),
    (r[(r.DXGI_FORMAT_R32G8X24_TYPELESS = 19)] =
      "DXGI_FORMAT_R32G8X24_TYPELESS"),
    (r[(r.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20)] =
      "DXGI_FORMAT_D32_FLOAT_S8X24_UINT"),
    (r[(r.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21)] =
      "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS"),
    (r[(r.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22)] =
      "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT"),
    (r[(r.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23)] =
      "DXGI_FORMAT_R10G10B10A2_TYPELESS"),
    (r[(r.DXGI_FORMAT_R10G10B10A2_UNORM = 24)] =
      "DXGI_FORMAT_R10G10B10A2_UNORM"),
    (r[(r.DXGI_FORMAT_R10G10B10A2_UINT = 25)] = "DXGI_FORMAT_R10G10B10A2_UINT"),
    (r[(r.DXGI_FORMAT_R11G11B10_FLOAT = 26)] = "DXGI_FORMAT_R11G11B10_FLOAT"),
    (r[(r.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27)] =
      "DXGI_FORMAT_R8G8B8A8_TYPELESS"),
    (r[(r.DXGI_FORMAT_R8G8B8A8_UNORM = 28)] = "DXGI_FORMAT_R8G8B8A8_UNORM"),
    (r[(r.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29)] =
      "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_R8G8B8A8_UINT = 30)] = "DXGI_FORMAT_R8G8B8A8_UINT"),
    (r[(r.DXGI_FORMAT_R8G8B8A8_SNORM = 31)] = "DXGI_FORMAT_R8G8B8A8_SNORM"),
    (r[(r.DXGI_FORMAT_R8G8B8A8_SINT = 32)] = "DXGI_FORMAT_R8G8B8A8_SINT"),
    (r[(r.DXGI_FORMAT_R16G16_TYPELESS = 33)] = "DXGI_FORMAT_R16G16_TYPELESS"),
    (r[(r.DXGI_FORMAT_R16G16_FLOAT = 34)] = "DXGI_FORMAT_R16G16_FLOAT"),
    (r[(r.DXGI_FORMAT_R16G16_UNORM = 35)] = "DXGI_FORMAT_R16G16_UNORM"),
    (r[(r.DXGI_FORMAT_R16G16_UINT = 36)] = "DXGI_FORMAT_R16G16_UINT"),
    (r[(r.DXGI_FORMAT_R16G16_SNORM = 37)] = "DXGI_FORMAT_R16G16_SNORM"),
    (r[(r.DXGI_FORMAT_R16G16_SINT = 38)] = "DXGI_FORMAT_R16G16_SINT"),
    (r[(r.DXGI_FORMAT_R32_TYPELESS = 39)] = "DXGI_FORMAT_R32_TYPELESS"),
    (r[(r.DXGI_FORMAT_D32_FLOAT = 40)] = "DXGI_FORMAT_D32_FLOAT"),
    (r[(r.DXGI_FORMAT_R32_FLOAT = 41)] = "DXGI_FORMAT_R32_FLOAT"),
    (r[(r.DXGI_FORMAT_R32_UINT = 42)] = "DXGI_FORMAT_R32_UINT"),
    (r[(r.DXGI_FORMAT_R32_SINT = 43)] = "DXGI_FORMAT_R32_SINT"),
    (r[(r.DXGI_FORMAT_R24G8_TYPELESS = 44)] = "DXGI_FORMAT_R24G8_TYPELESS"),
    (r[(r.DXGI_FORMAT_D24_UNORM_S8_UINT = 45)] =
      "DXGI_FORMAT_D24_UNORM_S8_UINT"),
    (r[(r.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46)] =
      "DXGI_FORMAT_R24_UNORM_X8_TYPELESS"),
    (r[(r.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47)] =
      "DXGI_FORMAT_X24_TYPELESS_G8_UINT"),
    (r[(r.DXGI_FORMAT_R8G8_TYPELESS = 48)] = "DXGI_FORMAT_R8G8_TYPELESS"),
    (r[(r.DXGI_FORMAT_R8G8_UNORM = 49)] = "DXGI_FORMAT_R8G8_UNORM"),
    (r[(r.DXGI_FORMAT_R8G8_UINT = 50)] = "DXGI_FORMAT_R8G8_UINT"),
    (r[(r.DXGI_FORMAT_R8G8_SNORM = 51)] = "DXGI_FORMAT_R8G8_SNORM"),
    (r[(r.DXGI_FORMAT_R8G8_SINT = 52)] = "DXGI_FORMAT_R8G8_SINT"),
    (r[(r.DXGI_FORMAT_R16_TYPELESS = 53)] = "DXGI_FORMAT_R16_TYPELESS"),
    (r[(r.DXGI_FORMAT_R16_FLOAT = 54)] = "DXGI_FORMAT_R16_FLOAT"),
    (r[(r.DXGI_FORMAT_D16_UNORM = 55)] = "DXGI_FORMAT_D16_UNORM"),
    (r[(r.DXGI_FORMAT_R16_UNORM = 56)] = "DXGI_FORMAT_R16_UNORM"),
    (r[(r.DXGI_FORMAT_R16_UINT = 57)] = "DXGI_FORMAT_R16_UINT"),
    (r[(r.DXGI_FORMAT_R16_SNORM = 58)] = "DXGI_FORMAT_R16_SNORM"),
    (r[(r.DXGI_FORMAT_R16_SINT = 59)] = "DXGI_FORMAT_R16_SINT"),
    (r[(r.DXGI_FORMAT_R8_TYPELESS = 60)] = "DXGI_FORMAT_R8_TYPELESS"),
    (r[(r.DXGI_FORMAT_R8_UNORM = 61)] = "DXGI_FORMAT_R8_UNORM"),
    (r[(r.DXGI_FORMAT_R8_UINT = 62)] = "DXGI_FORMAT_R8_UINT"),
    (r[(r.DXGI_FORMAT_R8_SNORM = 63)] = "DXGI_FORMAT_R8_SNORM"),
    (r[(r.DXGI_FORMAT_R8_SINT = 64)] = "DXGI_FORMAT_R8_SINT"),
    (r[(r.DXGI_FORMAT_A8_UNORM = 65)] = "DXGI_FORMAT_A8_UNORM"),
    (r[(r.DXGI_FORMAT_R1_UNORM = 66)] = "DXGI_FORMAT_R1_UNORM"),
    (r[(r.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67)] =
      "DXGI_FORMAT_R9G9B9E5_SHAREDEXP"),
    (r[(r.DXGI_FORMAT_R8G8_B8G8_UNORM = 68)] = "DXGI_FORMAT_R8G8_B8G8_UNORM"),
    (r[(r.DXGI_FORMAT_G8R8_G8B8_UNORM = 69)] = "DXGI_FORMAT_G8R8_G8B8_UNORM"),
    (r[(r.DXGI_FORMAT_BC1_TYPELESS = 70)] = "DXGI_FORMAT_BC1_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC1_UNORM = 71)] = "DXGI_FORMAT_BC1_UNORM"),
    (r[(r.DXGI_FORMAT_BC1_UNORM_SRGB = 72)] = "DXGI_FORMAT_BC1_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_BC2_TYPELESS = 73)] = "DXGI_FORMAT_BC2_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC2_UNORM = 74)] = "DXGI_FORMAT_BC2_UNORM"),
    (r[(r.DXGI_FORMAT_BC2_UNORM_SRGB = 75)] = "DXGI_FORMAT_BC2_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_BC3_TYPELESS = 76)] = "DXGI_FORMAT_BC3_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC3_UNORM = 77)] = "DXGI_FORMAT_BC3_UNORM"),
    (r[(r.DXGI_FORMAT_BC3_UNORM_SRGB = 78)] = "DXGI_FORMAT_BC3_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_BC4_TYPELESS = 79)] = "DXGI_FORMAT_BC4_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC4_UNORM = 80)] = "DXGI_FORMAT_BC4_UNORM"),
    (r[(r.DXGI_FORMAT_BC4_SNORM = 81)] = "DXGI_FORMAT_BC4_SNORM"),
    (r[(r.DXGI_FORMAT_BC5_TYPELESS = 82)] = "DXGI_FORMAT_BC5_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC5_UNORM = 83)] = "DXGI_FORMAT_BC5_UNORM"),
    (r[(r.DXGI_FORMAT_BC5_SNORM = 84)] = "DXGI_FORMAT_BC5_SNORM"),
    (r[(r.DXGI_FORMAT_B5G6R5_UNORM = 85)] = "DXGI_FORMAT_B5G6R5_UNORM"),
    (r[(r.DXGI_FORMAT_B5G5R5A1_UNORM = 86)] = "DXGI_FORMAT_B5G5R5A1_UNORM"),
    (r[(r.DXGI_FORMAT_B8G8R8A8_UNORM = 87)] = "DXGI_FORMAT_B8G8R8A8_UNORM"),
    (r[(r.DXGI_FORMAT_B8G8R8X8_UNORM = 88)] = "DXGI_FORMAT_B8G8R8X8_UNORM"),
    (r[(r.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89)] =
      "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM"),
    (r[(r.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90)] =
      "DXGI_FORMAT_B8G8R8A8_TYPELESS"),
    (r[(r.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91)] =
      "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92)] =
      "DXGI_FORMAT_B8G8R8X8_TYPELESS"),
    (r[(r.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93)] =
      "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_BC6H_TYPELESS = 94)] = "DXGI_FORMAT_BC6H_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC6H_UF16 = 95)] = "DXGI_FORMAT_BC6H_UF16"),
    (r[(r.DXGI_FORMAT_BC6H_SF16 = 96)] = "DXGI_FORMAT_BC6H_SF16"),
    (r[(r.DXGI_FORMAT_BC7_TYPELESS = 97)] = "DXGI_FORMAT_BC7_TYPELESS"),
    (r[(r.DXGI_FORMAT_BC7_UNORM = 98)] = "DXGI_FORMAT_BC7_UNORM"),
    (r[(r.DXGI_FORMAT_BC7_UNORM_SRGB = 99)] = "DXGI_FORMAT_BC7_UNORM_SRGB"),
    (r[(r.DXGI_FORMAT_AYUV = 100)] = "DXGI_FORMAT_AYUV"),
    (r[(r.DXGI_FORMAT_Y410 = 101)] = "DXGI_FORMAT_Y410"),
    (r[(r.DXGI_FORMAT_Y416 = 102)] = "DXGI_FORMAT_Y416"),
    (r[(r.DXGI_FORMAT_NV12 = 103)] = "DXGI_FORMAT_NV12"),
    (r[(r.DXGI_FORMAT_P010 = 104)] = "DXGI_FORMAT_P010"),
    (r[(r.DXGI_FORMAT_P016 = 105)] = "DXGI_FORMAT_P016"),
    (r[(r.DXGI_FORMAT_420_OPAQUE = 106)] = "DXGI_FORMAT_420_OPAQUE"),
    (r[(r.DXGI_FORMAT_YUY2 = 107)] = "DXGI_FORMAT_YUY2"),
    (r[(r.DXGI_FORMAT_Y210 = 108)] = "DXGI_FORMAT_Y210"),
    (r[(r.DXGI_FORMAT_Y216 = 109)] = "DXGI_FORMAT_Y216"),
    (r[(r.DXGI_FORMAT_NV11 = 110)] = "DXGI_FORMAT_NV11"),
    (r[(r.DXGI_FORMAT_AI44 = 111)] = "DXGI_FORMAT_AI44"),
    (r[(r.DXGI_FORMAT_IA44 = 112)] = "DXGI_FORMAT_IA44"),
    (r[(r.DXGI_FORMAT_P8 = 113)] = "DXGI_FORMAT_P8"),
    (r[(r.DXGI_FORMAT_A8P8 = 114)] = "DXGI_FORMAT_A8P8"),
    (r[(r.DXGI_FORMAT_B4G4R4A4_UNORM = 115)] = "DXGI_FORMAT_B4G4R4A4_UNORM"),
    (r[(r.DXGI_FORMAT_P208 = 116)] = "DXGI_FORMAT_P208"),
    (r[(r.DXGI_FORMAT_V208 = 117)] = "DXGI_FORMAT_V208"),
    (r[(r.DXGI_FORMAT_V408 = 118)] = "DXGI_FORMAT_V408"),
    (r[(r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119)] =
      "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE"),
    (r[(r.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120)] =
      "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE"),
    (r[(r.DXGI_FORMAT_FORCE_UINT = 121)] = "DXGI_FORMAT_FORCE_UINT"),
    r
  ))(DI || {}),
  MI = ((r) => (
    (r[(r.DDS_DIMENSION_TEXTURE1D = 2)] = "DDS_DIMENSION_TEXTURE1D"),
    (r[(r.DDS_DIMENSION_TEXTURE2D = 3)] = "DDS_DIMENSION_TEXTURE2D"),
    (r[(r.DDS_DIMENSION_TEXTURE3D = 6)] = "DDS_DIMENSION_TEXTURE3D"),
    r
  ))(MI || {});
function Er(r) {
  return (
    r.charCodeAt(0) +
    (r.charCodeAt(1) << 8) +
    (r.charCodeAt(2) << 16) +
    (r.charCodeAt(3) << 24)
  );
}
var Fn = ((r) => (
  (r[(r.UNKNOWN = 0)] = "UNKNOWN"),
  (r[(r.R8G8B8 = 20)] = "R8G8B8"),
  (r[(r.A8R8G8B8 = 21)] = "A8R8G8B8"),
  (r[(r.X8R8G8B8 = 22)] = "X8R8G8B8"),
  (r[(r.R5G6B5 = 23)] = "R5G6B5"),
  (r[(r.X1R5G5B5 = 24)] = "X1R5G5B5"),
  (r[(r.A1R5G5B5 = 25)] = "A1R5G5B5"),
  (r[(r.A4R4G4B4 = 26)] = "A4R4G4B4"),
  (r[(r.R3G3B2 = 27)] = "R3G3B2"),
  (r[(r.A8 = 28)] = "A8"),
  (r[(r.A8R3G3B2 = 29)] = "A8R3G3B2"),
  (r[(r.X4R4G4B4 = 30)] = "X4R4G4B4"),
  (r[(r.A2B10G10R10 = 31)] = "A2B10G10R10"),
  (r[(r.A8B8G8R8 = 32)] = "A8B8G8R8"),
  (r[(r.X8B8G8R8 = 33)] = "X8B8G8R8"),
  (r[(r.G16R16 = 34)] = "G16R16"),
  (r[(r.A2R10G10B10 = 35)] = "A2R10G10B10"),
  (r[(r.A16B16G16R16 = 36)] = "A16B16G16R16"),
  (r[(r.A8P8 = 40)] = "A8P8"),
  (r[(r.P8 = 41)] = "P8"),
  (r[(r.L8 = 50)] = "L8"),
  (r[(r.A8L8 = 51)] = "A8L8"),
  (r[(r.A4L4 = 52)] = "A4L4"),
  (r[(r.V8U8 = 60)] = "V8U8"),
  (r[(r.L6V5U5 = 61)] = "L6V5U5"),
  (r[(r.X8L8V8U8 = 62)] = "X8L8V8U8"),
  (r[(r.Q8W8V8U8 = 63)] = "Q8W8V8U8"),
  (r[(r.V16U16 = 64)] = "V16U16"),
  (r[(r.A2W10V10U10 = 67)] = "A2W10V10U10"),
  (r[(r.Q16W16V16U16 = 110)] = "Q16W16V16U16"),
  (r[(r.R16F = 111)] = "R16F"),
  (r[(r.G16R16F = 112)] = "G16R16F"),
  (r[(r.A16B16G16R16F = 113)] = "A16B16G16R16F"),
  (r[(r.R32F = 114)] = "R32F"),
  (r[(r.G32R32F = 115)] = "G32R32F"),
  (r[(r.A32B32G32R32F = 116)] = "A32B32G32R32F"),
  (r[(r.UYVY = Er("UYVY"))] = "UYVY"),
  (r[(r.R8G8_B8G8 = Er("RGBG"))] = "R8G8_B8G8"),
  (r[(r.YUY2 = Er("YUY2"))] = "YUY2"),
  (r[(r.D3DFMT_G8R8_G8B8 = Er("GRGB"))] = "D3DFMT_G8R8_G8B8"),
  (r[(r.DXT1 = Er("DXT1"))] = "DXT1"),
  (r[(r.DXT2 = Er("DXT2"))] = "DXT2"),
  (r[(r.DXT3 = Er("DXT3"))] = "DXT3"),
  (r[(r.DXT4 = Er("DXT4"))] = "DXT4"),
  (r[(r.DXT5 = Er("DXT5"))] = "DXT5"),
  (r[(r.ATI1 = Er("ATI1"))] = "ATI1"),
  (r[(r.AT1N = Er("AT1N"))] = "AT1N"),
  (r[(r.ATI2 = Er("ATI2"))] = "ATI2"),
  (r[(r.AT2N = Er("AT2N"))] = "AT2N"),
  (r[(r.BC4U = Er("BC4U"))] = "BC4U"),
  (r[(r.BC4S = Er("BC4S"))] = "BC4S"),
  (r[(r.BC5U = Er("BC5U"))] = "BC5U"),
  (r[(r.BC5S = Er("BC5S"))] = "BC5S"),
  (r[(r.DX10 = Er("DX10"))] = "DX10"),
  r
))(Fn || {});
const lP = {
    [Fn.DXT1]: "bc1-rgba-unorm",
    [Fn.DXT2]: "bc2-rgba-unorm",
    [Fn.DXT3]: "bc2-rgba-unorm",
    [Fn.DXT4]: "bc3-rgba-unorm",
    [Fn.DXT5]: "bc3-rgba-unorm",
    [Fn.ATI1]: "bc4-r-unorm",
    [Fn.BC4U]: "bc4-r-unorm",
    [Fn.BC4S]: "bc4-r-snorm",
    [Fn.ATI2]: "bc5-rg-unorm",
    [Fn.BC5U]: "bc5-rg-unorm",
    [Fn.BC5S]: "bc5-rg-snorm",
    36: "rgba16uint",
    110: "rgba16sint",
    111: "r16float",
    112: "rg16float",
    113: "rgba16float",
    114: "r32float",
    115: "rg32float",
    116: "rgba32float",
  },
  Nn = {
    70: "bc1-rgba-unorm",
    71: "bc1-rgba-unorm",
    72: "bc1-rgba-unorm-srgb",
    73: "bc2-rgba-unorm",
    74: "bc2-rgba-unorm",
    75: "bc2-rgba-unorm-srgb",
    76: "bc3-rgba-unorm",
    77: "bc3-rgba-unorm",
    78: "bc3-rgba-unorm-srgb",
    79: "bc4-r-unorm",
    80: "bc4-r-unorm",
    81: "bc4-r-snorm",
    82: "bc5-rg-unorm",
    83: "bc5-rg-unorm",
    84: "bc5-rg-snorm",
    94: "bc6h-rgb-ufloat",
    95: "bc6h-rgb-ufloat",
    96: "bc6h-rgb-float",
    97: "bc7-rgba-unorm",
    98: "bc7-rgba-unorm",
    99: "bc7-rgba-unorm-srgb",
    28: "rgba8unorm",
    29: "rgba8unorm-srgb",
    87: "bgra8unorm",
    91: "bgra8unorm-srgb",
    41: "r32float",
    49: "rg8unorm",
    56: "r16uint",
    61: "r8unorm",
    24: "rgb10a2unorm",
    11: "rgba16uint",
    13: "rgba16sint",
    10: "rgba16float",
    54: "r16float",
    34: "rg16float",
    16: "rg32float",
    2: "rgba32float",
  },
  Pe = {
    MAGIC_VALUE: 542327876,
    MAGIC_SIZE: 4,
    HEADER_SIZE: 124,
    HEADER_DX10_SIZE: 20,
    PIXEL_FORMAT_FLAGS: {
      ALPHAPIXELS: 1,
      ALPHA: 2,
      FOURCC: 4,
      RGB: 64,
      RGBA: 65,
      YUV: 512,
      LUMINANCE: 131072,
      LUMINANCEA: 131073,
    },
    RESOURCE_MISC_TEXTURECUBE: 4,
    HEADER_FIELDS: UJ,
    HEADER_DX10_FIELDS: GJ,
    DXGI_FORMAT: DI,
    D3D10_RESOURCE_DIMENSION: MI,
    D3DFMT: Fn,
  },
  jJ = {
    "bc1-rgba-unorm": 8,
    "bc1-rgba-unorm-srgb": 8,
    "bc2-rgba-unorm": 16,
    "bc2-rgba-unorm-srgb": 16,
    "bc3-rgba-unorm": 16,
    "bc3-rgba-unorm-srgb": 16,
    "bc4-r-unorm": 8,
    "bc4-r-snorm": 8,
    "bc5-rg-unorm": 16,
    "bc5-rg-snorm": 16,
    "bc6h-rgb-ufloat": 16,
    "bc6h-rgb-float": 16,
    "bc7-rgba-unorm": 16,
    "bc7-rgba-unorm-srgb": 16,
  };
function $J(r, e) {
  const {
    format: t,
    fourCC: n,
    width: i,
    height: s,
    dataOffset: o,
    mipmapCount: a,
  } = WJ(r);
  if (!e.includes(t))
    throw new Error(`Unsupported texture format: ${n} ${t}, supported: ${e}`);
  if (a <= 1)
    return {
      format: t,
      width: i,
      height: s,
      resource: [new Uint8Array(r, o)],
      alphaMode: "no-premultiply-alpha",
    };
  const l = zJ(t, i, s, o, a, r);
  return {
    format: t,
    width: i,
    height: s,
    resource: l,
    alphaMode: "no-premultiply-alpha",
  };
}
function zJ(r, e, t, n, i, s) {
  const o = [],
    a = jJ[r];
  let l = e,
    u = t,
    c = n;
  for (let h = 0; h < i; ++h) {
    const d = a ? (((Math.max(4, l) / 4) * Math.max(4, u)) / 4) * a : l * u * 4,
      f = new Uint8Array(s, c, d);
    o.push(f), (c += d), (l = Math.max(l >> 1, 1)), (u = Math.max(u >> 1, 1));
  }
  return o;
}
function WJ(r) {
  const e = new Uint32Array(
    r,
    0,
    Pe.HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT
  );
  if (e[Pe.HEADER_FIELDS.MAGIC] !== Pe.MAGIC_VALUE)
    throw new Error("Invalid magic number in DDS header");
  const t = e[Pe.HEADER_FIELDS.HEIGHT],
    n = e[Pe.HEADER_FIELDS.WIDTH],
    i = Math.max(1, e[Pe.HEADER_FIELDS.MIPMAP_COUNT]),
    s = e[Pe.HEADER_FIELDS.PF_FLAGS],
    o = e[Pe.HEADER_FIELDS.FOURCC],
    a = HJ(e, s, o, r),
    l =
      Pe.MAGIC_SIZE +
      Pe.HEADER_SIZE +
      (o === Pe.D3DFMT.DX10 ? Pe.HEADER_DX10_SIZE : 0);
  return {
    format: a,
    fourCC: o,
    width: n,
    height: t,
    dataOffset: l,
    mipmapCount: i,
  };
}
function HJ(r, e, t, n) {
  if (e & Pe.PIXEL_FORMAT_FLAGS.FOURCC) {
    if (t === Pe.D3DFMT.DX10) {
      const i = new Uint32Array(
        n,
        Pe.MAGIC_SIZE + Pe.HEADER_SIZE,
        Pe.HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT
      );
      if (i[Pe.HEADER_DX10_FIELDS.MISC_FLAG] === Pe.RESOURCE_MISC_TEXTURECUBE)
        throw new Error("DDSParser does not support cubemap textures");
      if (
        i[Pe.HEADER_DX10_FIELDS.RESOURCE_DIMENSION] ===
        Pe.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D
      )
        throw new Error("DDSParser does not supported 3D texture data");
      const a = i[Pe.HEADER_DX10_FIELDS.DXGI_FORMAT];
      if (a in Nn) return Nn[a];
      throw new Error(
        `DDSParser cannot parse texture data with DXGI format ${a}`
      );
    }
    if (t in lP) return lP[t];
    throw new Error(
      `DDSParser cannot parse texture data with fourCC format ${t}`
    );
  }
  if (e & Pe.PIXEL_FORMAT_FLAGS.RGB || e & Pe.PIXEL_FORMAT_FLAGS.RGBA)
    return VJ(r);
  throw e & Pe.PIXEL_FORMAT_FLAGS.YUV
    ? new Error("DDSParser does not supported YUV uncompressed texture data.")
    : e & Pe.PIXEL_FORMAT_FLAGS.LUMINANCE ||
      e & Pe.PIXEL_FORMAT_FLAGS.LUMINANCEA
    ? new Error(
        "DDSParser does not support single-channel (lumninance) texture data!"
      )
    : e & Pe.PIXEL_FORMAT_FLAGS.ALPHA || e & Pe.PIXEL_FORMAT_FLAGS.ALPHAPIXELS
    ? new Error(
        "DDSParser does not support single-channel (alpha) texture data!"
      )
    : new Error(
        "DDSParser failed to load a texture file due to an unknown reason!"
      );
}
function VJ(r) {
  const e = r[Pe.HEADER_FIELDS.RGB_BITCOUNT],
    t = r[Pe.HEADER_FIELDS.R_BIT_MASK],
    n = r[Pe.HEADER_FIELDS.G_BIT_MASK],
    i = r[Pe.HEADER_FIELDS.B_BIT_MASK],
    s = r[Pe.HEADER_FIELDS.A_BIT_MASK];
  switch (e) {
    case 32:
      if (t === 255 && n === 65280 && i === 16711680 && s === 4278190080)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];
      if (t === 16711680 && n === 65280 && i === 255 && s === 4278190080)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];
      if (t === 1072693248 && n === 1047552 && i === 1023 && s === 3221225472)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];
      if (t === 65535 && n === 4294901760 && i === 0 && s === 0)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];
      if (t === 4294967295 && n === 0 && i === 0 && s === 0)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];
      break;
    case 24:
      break;
    case 16:
      if (t === 31744 && n === 992 && i === 31 && s === 32768)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];
      if (t === 63488 && n === 2016 && i === 31 && s === 0)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];
      if (t === 3840 && n === 240 && i === 15 && s === 61440)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];
      if (t === 255 && n === 0 && i === 0 && s === 65280)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];
      if (t === 65535 && n === 0 && i === 0 && s === 0)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];
      break;
    case 8:
      if (t === 255 && n === 0 && i === 0 && s === 0)
        return Nn[Pe.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];
      break;
  }
  throw new Error(`DDSParser does not support uncompressed texture with configuration:
                bitCount = ${e}, rBitMask = ${t}, gBitMask = ${n}, aBitMask = ${s}`);
}
W.LoadParser, Bi.High;
const XJ = {
    33776: "bc1-rgba-unorm",
    33777: "bc1-rgba-unorm",
    33778: "bc2-rgba-unorm",
    33779: "bc3-rgba-unorm",
    35916: "bc1-rgba-unorm-srgb",
    35917: "bc1-rgba-unorm-srgb",
    35918: "bc2-rgba-unorm-srgb",
    35919: "bc3-rgba-unorm-srgb",
    36283: "bc4-r-unorm",
    36284: "bc4-r-snorm",
    36285: "bc5-rg-unorm",
    36286: "bc5-rg-snorm",
    37488: "eac-r11unorm",
    37490: "eac-rg11snorm",
    37492: "etc2-rgb8unorm",
    37496: "etc2-rgba8unorm",
    37493: "etc2-rgb8unorm-srgb",
    37497: "etc2-rgba8unorm-srgb",
    37494: "etc2-rgb8a1unorm",
    37495: "etc2-rgb8a1unorm-srgb",
    37808: "astc-4x4-unorm",
    37840: "astc-4x4-unorm-srgb",
    37809: "astc-5x4-unorm",
    37841: "astc-5x4-unorm-srgb",
    37810: "astc-5x5-unorm",
    37842: "astc-5x5-unorm-srgb",
    37811: "astc-6x5-unorm",
    37843: "astc-6x5-unorm-srgb",
    37812: "astc-6x6-unorm",
    37844: "astc-6x6-unorm-srgb",
    37813: "astc-8x5-unorm",
    37845: "astc-8x5-unorm-srgb",
    37814: "astc-8x6-unorm",
    37846: "astc-8x6-unorm-srgb",
    37815: "astc-8x8-unorm",
    37847: "astc-8x8-unorm-srgb",
    37816: "astc-10x5-unorm",
    37848: "astc-10x5-unorm-srgb",
    37817: "astc-10x6-unorm",
    37849: "astc-10x6-unorm-srgb",
    37818: "astc-10x8-unorm",
    37850: "astc-10x8-unorm-srgb",
    37819: "astc-10x10-unorm",
    37851: "astc-10x10-unorm-srgb",
    37820: "astc-12x10-unorm",
    37852: "astc-12x10-unorm-srgb",
    37821: "astc-12x12-unorm",
    37853: "astc-12x12-unorm-srgb",
    36492: "bc7-rgba-unorm",
    36493: "bc7-rgba-unorm-srgb",
    36494: "bc6h-rgb-float",
    36495: "bc6h-rgb-ufloat",
    35907: "rgba8unorm-srgb",
    36759: "rgba8snorm",
    36220: "rgba8uint",
    36238: "rgba8sint",
    6408: "rgba8unorm",
  },
  YJ = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10],
  KJ = {
    FILE_IDENTIFIER: 0,
    ENDIANNESS: 12,
    GL_TYPE: 16,
    GL_TYPE_SIZE: 20,
    GL_FORMAT: 24,
    GL_INTERNAL_FORMAT: 28,
    GL_BASE_INTERNAL_FORMAT: 32,
    PIXEL_WIDTH: 36,
    PIXEL_HEIGHT: 40,
    PIXEL_DEPTH: 44,
    NUMBER_OF_ARRAY_ELEMENTS: 48,
    NUMBER_OF_FACES: 52,
    NUMBER_OF_MIPMAP_LEVELS: 56,
    BYTES_OF_KEY_VALUE_DATA: 60,
  },
  qJ = 64,
  ZJ = 67305985,
  QJ = { 5121: 1, 5123: 2, 5124: 4, 5125: 4, 5126: 4, 36193: 8 },
  JJ = { 6408: 4, 6407: 3, 33319: 2, 6403: 1, 6409: 1, 6410: 2, 6406: 1 },
  eee = { 32819: 2, 32820: 2, 33635: 2 },
  tee = {
    33776: 0.5,
    33777: 0.5,
    33778: 1,
    33779: 1,
    35916: 0.5,
    35917: 0.5,
    35918: 1,
    35919: 1,
    36283: 0.5,
    36284: 0.5,
    36285: 1,
    36286: 1,
    37488: 0.5,
    37489: 0.5,
    37490: 1,
    37491: 1,
    37492: 0.5,
    37496: 1,
    37493: 0.5,
    37497: 1,
    37494: 0.5,
    37495: 0.5,
    37808: 1,
    37840: 1,
    37809: 0.8,
    37841: 0.8,
    37810: 0.64,
    37842: 0.64,
    37811: 0.53375,
    37843: 0.53375,
    37812: 0.445,
    37844: 0.445,
    37813: 0.4,
    37845: 0.4,
    37814: 0.33375,
    37846: 0.33375,
    37815: 0.25,
    37847: 0.25,
    37816: 0.32,
    37848: 0.32,
    37817: 0.26625,
    37849: 0.26625,
    37818: 0.2,
    37850: 0.2,
    37819: 0.16,
    37851: 0.16,
    37820: 0.13375,
    37852: 0.13375,
    37821: 0.11125,
    37853: 0.11125,
    36492: 1,
    36493: 1,
    36494: 1,
    36495: 1,
  },
  Xt = {
    FILE_HEADER_SIZE: qJ,
    FILE_IDENTIFIER: YJ,
    FORMATS_TO_COMPONENTS: JJ,
    INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: tee,
    INTERNAL_FORMAT_TO_TEXTURE_FORMATS: XJ,
    FIELDS: KJ,
    TYPES_TO_BYTES_PER_COMPONENT: QJ,
    TYPES_TO_BYTES_PER_PIXEL: eee,
    ENDIANNESS: ZJ,
  };
function ree(r, e) {
  const t = new DataView(r);
  if (!oee(t)) throw new Error("Invalid KTX identifier in header");
  const {
      littleEndian: n,
      glType: i,
      glFormat: s,
      glInternalFormat: o,
      pixelWidth: a,
      pixelHeight: l,
      numberOfMipmapLevels: u,
      offset: c,
    } = see(t),
    h = Xt.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[o];
  if (!h) throw new Error(`Unknown texture format ${o}`);
  if (!e.includes(h))
    throw new Error(`Unsupported texture format: ${h}, supportedFormats: ${e}`);
  const d = iee(i, s, o),
    f = nee(t, i, d, a, l, c, u, n);
  return {
    format: h,
    width: a,
    height: l,
    resource: f,
    alphaMode: "no-premultiply-alpha",
  };
}
function nee(r, e, t, n, i, s, o, a) {
  const l = (n + 3) & -4,
    u = (i + 3) & -4;
  let c = n * i;
  e === 0 && (c = l * u);
  let h = c * t,
    d = n,
    f = i,
    m = l,
    g = u,
    _ = s;
  const v = new Array(o);
  for (let w = 0; w < o; w++) {
    const x = r.getUint32(_, a);
    let k = _ + 4;
    (v[w] = new Uint8Array(r.buffer, k, h)),
      (k += h),
      (_ += x + 4),
      (_ = _ % 4 !== 0 ? _ + 4 - (_ % 4) : _),
      (d = d >> 1 || 1),
      (f = f >> 1 || 1),
      (m = (d + 4 - 1) & -4),
      (g = (f + 4 - 1) & -4),
      (h = m * g * t);
  }
  return v;
}
function iee(r, e, t) {
  let n = Xt.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];
  if (
    (r !== 0 &&
      (Xt.TYPES_TO_BYTES_PER_COMPONENT[r]
        ? (n = Xt.TYPES_TO_BYTES_PER_COMPONENT[r] * Xt.FORMATS_TO_COMPONENTS[e])
        : (n = Xt.TYPES_TO_BYTES_PER_PIXEL[r])),
    n === void 0)
  )
    throw new Error(
      "Unable to resolve the pixel format stored in the *.ktx file!"
    );
  return n;
}
function see(r) {
  const e = r.getUint32(Xt.FIELDS.ENDIANNESS, !0) === Xt.ENDIANNESS,
    t = r.getUint32(Xt.FIELDS.GL_TYPE, e),
    n = r.getUint32(Xt.FIELDS.GL_FORMAT, e),
    i = r.getUint32(Xt.FIELDS.GL_INTERNAL_FORMAT, e),
    s = r.getUint32(Xt.FIELDS.PIXEL_WIDTH, e),
    o = r.getUint32(Xt.FIELDS.PIXEL_HEIGHT, e) || 1,
    a = r.getUint32(Xt.FIELDS.PIXEL_DEPTH, e) || 1,
    l = r.getUint32(Xt.FIELDS.NUMBER_OF_ARRAY_ELEMENTS, e) || 1,
    u = r.getUint32(Xt.FIELDS.NUMBER_OF_FACES, e),
    c = r.getUint32(Xt.FIELDS.NUMBER_OF_MIPMAP_LEVELS, e),
    h = r.getUint32(Xt.FIELDS.BYTES_OF_KEY_VALUE_DATA, e);
  if (o === 0 || a !== 1) throw new Error("Only 2D textures are supported");
  if (u !== 1)
    throw new Error("CubeTextures are not supported by KTXLoader yet!");
  if (l !== 1) throw new Error("WebGL does not support array textures");
  return {
    littleEndian: e,
    glType: t,
    glFormat: n,
    glInternalFormat: i,
    pixelWidth: s,
    pixelHeight: o,
    numberOfMipmapLevels: c,
    offset: Xt.FILE_HEADER_SIZE + h,
  };
}
function oee(r) {
  for (let e = 0; e < Xt.FILE_IDENTIFIER.length; e++)
    if (r.getUint8(e) !== Xt.FILE_IDENTIFIER[e]) return !1;
  return !0;
}
W.LoadParser, Bi.High;
const aee = `(function () {
    'use strict';

    const converters = {
      rgb8unorm: {
        convertedFormat: "rgba8unorm",
        convertFunction: convertRGBtoRGBA
      },
      "rgb8unorm-srgb": {
        convertedFormat: "rgba8unorm-srgb",
        convertFunction: convertRGBtoRGBA
      }
    };
    function convertFormatIfRequired(textureOptions) {
      const format = textureOptions.format;
      if (converters[format]) {
        const convertFunction = converters[format].convertFunction;
        const levelBuffers = textureOptions.resource;
        for (let i = 0; i < levelBuffers.length; i++) {
          levelBuffers[i] = convertFunction(levelBuffers[i]);
        }
        textureOptions.format = converters[format].convertedFormat;
      }
    }
    function convertRGBtoRGBA(levelBuffer) {
      const pixelCount = levelBuffer.byteLength / 3;
      const levelBufferWithAlpha = new Uint32Array(pixelCount);
      for (let i = 0; i < pixelCount; ++i) {
        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;
      }
      return new Uint8Array(levelBufferWithAlpha.buffer);
    }

    function createLevelBuffersFromKTX(ktxTexture) {
      const levelBuffers = [];
      for (let i = 0; i < ktxTexture.numLevels; i++) {
        const imageData = ktxTexture.getImageData(i, 0, 0);
        const levelBuffer = new Uint8Array(imageData.byteLength);
        levelBuffer.set(imageData);
        levelBuffers.push(levelBuffer);
      }
      return levelBuffers;
    }

    const glFormatToGPUFormatMap = {
      6408: "rgba8unorm",
      32856: "bgra8unorm",
      //
      32857: "rgb10a2unorm",
      33189: "depth16unorm",
      33190: "depth24plus",
      33321: "r8unorm",
      33323: "rg8unorm",
      33325: "r16float",
      33326: "r32float",
      33327: "rg16float",
      33328: "rg32float",
      33329: "r8sint",
      33330: "r8uint",
      33331: "r16sint",
      33332: "r16uint",
      33333: "r32sint",
      33334: "r32uint",
      33335: "rg8sint",
      33336: "rg8uint",
      33337: "rg16sint",
      33338: "rg16uint",
      33339: "rg32sint",
      33340: "rg32uint",
      33778: "bc2-rgba-unorm",
      33779: "bc3-rgba-unorm",
      34836: "rgba32float",
      34842: "rgba16float",
      35056: "depth24plus-stencil8",
      35898: "rg11b10ufloat",
      35901: "rgb9e5ufloat",
      35907: "rgba8unorm-srgb",
      // bgra8unorm-srgb
      36012: "depth32float",
      36013: "depth32float-stencil8",
      36168: "stencil8",
      36208: "rgba32uint",
      36214: "rgba16uint",
      36220: "rgba8uint",
      36226: "rgba32sint",
      36232: "rgba16sint",
      36238: "rgba8sint",
      36492: "bc7-rgba-unorm",
      36756: "r8snorm",
      36757: "rg8snorm",
      36759: "rgba8snorm",
      37496: "etc2-rgba8unorm",
      37808: "astc-4x4-unorm"
    };
    function glFormatToGPUFormat(glInternalFormat) {
      const format = glFormatToGPUFormatMap[glInternalFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported glInternalFormat: \${glInternalFormat}\`);
    }

    const vkFormatToGPUFormatMap = {
      23: "rgb8unorm",
      // VK_FORMAT_R8G8B8_UNORM
      37: "rgba8unorm",
      // VK_FORMAT_R8G8B8A8_UNORM
      43: "rgba8unorm-srgb"
      // VK_FORMAT_R8G8B8A8_SRGB
      // TODO add more!
    };
    function vkFormatToGPUFormat(vkFormat) {
      const format = vkFormatToGPUFormatMap[vkFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported VkFormat: \${vkFormat}\`);
    }

    function getTextureFormatFromKTXTexture(ktxTexture) {
      if (ktxTexture.classId === 2) {
        return vkFormatToGPUFormat(ktxTexture.vkFormat);
      }
      return glFormatToGPUFormat(ktxTexture.glInternalformat);
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": "BC3_RGBA",
      "bc7-rgba-unorm": "BC7_M5_RGBA",
      "etc2-rgba8unorm": "ETC2_RGBA",
      "astc-4x4-unorm": "ASTC_4x4_RGBA",
      // Uncompressed
      rgba8unorm: "RGBA32",
      rg11b10ufloat: "R11F_G11F_B10F"
    };
    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "",
      wasmUrl: ""
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let ktxPromise;
    async function getKTX() {
      if (!ktxPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        ktxPromise = new Promise((resolve) => {
          LIBKTX({
            locateFile: (_file) => absoluteWasmUrl
          }).then((libktx) => {
            resolve(libktx);
          });
        });
      }
      return ktxPromise;
    }
    async function fetchKTXTexture(url, ktx) {
      const ktx2Response = await fetch(url);
      if (ktx2Response.ok) {
        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();
        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));
      }
      throw new Error(\`Failed to load KTX(2) texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const ktx = await getKTX();
      const ktxTexture = await fetchKTXTexture(url, ktx);
      let format;
      if (ktxTexture.needsTranscoding) {
        format = basisTranscodedTextureFormat;
        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];
        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);
        if (result !== ktx.ErrorCode.SUCCESS) {
          throw new Error("Unable to transcode basis texture.");
        }
      } else {
        format = getTextureFormatFromKTXTexture(ktxTexture);
      }
      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);
      const textureOptions = {
        width: ktxTexture.baseWidth,
        height: ktxTexture.baseHeight,
        format,
        mipLevelCount: ktxTexture.numLevels,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
      convertFormatIfRequired(textureOptions);
      return textureOptions;
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getKTX();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        var _a;
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: (_a = textureOptions.resource) == null ? void 0 : _a.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      var _a;
      const message = messageEvent.data;
      const response = await ((_a = messageHandlers[message.type]) == null ? void 0 : _a.call(messageHandlers, message));
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;
let gu = null;
class BI {
  constructor() {
    gu ||
      (gu = URL.createObjectURL(
        new Blob([aee], { type: "application/javascript" })
      )),
      (this.worker = new Worker(gu));
  }
}
BI.revokeObjectURL = function () {
  gu && (URL.revokeObjectURL(gu), (gu = null));
};
const uP = {
  jsUrl: "https://files.pixijs.download/transcoders/ktx/libktx.js",
  wasmUrl: "https://files.pixijs.download/transcoders/ktx/libktx.wasm",
};
let Tc;
const OI = {};
function lee(r) {
  return (
    Tc ||
      ((Tc = new BI().worker),
      (Tc.onmessage = (e) => {
        const { success: t, url: n, textureOptions: i } = e.data;
        t || console.warn("Failed to load KTX texture", n), OI[n](i);
      }),
      Tc.postMessage({
        type: "init",
        jsUrl: uP.jsUrl,
        wasmUrl: uP.wasmUrl,
        supportedTextures: r,
      })),
    Tc
  );
}
function uee(r, e) {
  const t = lee(e);
  return new Promise((n) => {
    (OI[r] = n), t.postMessage({ type: "load", url: r });
  });
}
W.LoadParser, Bi.High;
const Tx = [
  "basis",
  "bc7",
  "bc6h",
  "astc",
  "etc2",
  "bc5",
  "bc4",
  "bc3",
  "bc2",
  "bc1",
  "eac",
];
W.ResolveParser;
let kf;
W.DetectionParser;
function cee(r) {
  const e = ["basis"],
    t = {};
  return (
    r.forEach((n) => {
      const i = n.split("-")[0];
      i && !t[i] && ((t[i] = !0), e.push(i));
    }),
    e.sort((n, i) => {
      const s = Tx.indexOf(n),
        o = Tx.indexOf(i);
      return s === -1 ? 1 : o === -1 ? -1 : s - o;
    }),
    e
  );
}
W.Application;
W.Environment;
var hee = Object.defineProperty,
  Sm = Object.getOwnPropertySymbols,
  II = Object.prototype.hasOwnProperty,
  FI = Object.prototype.propertyIsEnumerable,
  cP = (r, e, t) =>
    e in r
      ? hee(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Q0 = (r, e) => {
    for (var t in e || (e = {})) II.call(e, t) && cP(r, t, e[t]);
    if (Sm) for (var t of Sm(e)) FI.call(e, t) && cP(r, t, e[t]);
    return r;
  },
  dee = (r, e) => {
    var t = {};
    for (var n in r) II.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Sm)
      for (var n of Sm(r)) e.indexOf(n) < 0 && FI.call(r, n) && (t[n] = r[n]);
    return t;
  };
const NI = class kx extends Oi {
  constructor(e) {
    (e = Q0(Q0({}, kx.defaultOptions), e)),
      super(e),
      (this.enabled = !0),
      (this._state = Ds.for2d()),
      (this.padding = e.padding),
      typeof e.antialias == "boolean"
        ? (this.antialias = e.antialias ? "on" : "off")
        : (this.antialias = e.antialias),
      (this.resolution = e.resolution),
      (this.blendRequired = e.blendRequired),
      this.addResource("uTexture", 0, 1);
  }
  apply(e, t, n, i) {
    e.applyFilter(this, t, n, i);
  }
  get blendMode() {
    return this._state.blendMode;
  }
  set blendMode(e) {
    this._state.blendMode = e;
  }
  static from(e) {
    const t = e,
      { gpu: n, gl: i } = t,
      s = dee(t, ["gpu", "gl"]);
    let o, a;
    return (
      n && (o = po.from(n)),
      i && (a = ca.from(i)),
      new kx(Q0({ gpuProgram: o, glProgram: a }, s))
    );
  }
};
NI.defaultOptions = {
  blendMode: "normal",
  resolution: 1,
  padding: 0,
  antialias: "off",
  blendRequired: !1,
};
let wd = NI;
var LI = `in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,
  fee = `
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,
  hP = `struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`,
  pee = Object.defineProperty,
  mee = Object.defineProperties,
  gee = Object.getOwnPropertyDescriptors,
  Em = Object.getOwnPropertySymbols,
  UI = Object.prototype.hasOwnProperty,
  GI = Object.prototype.propertyIsEnumerable,
  dP = (r, e, t) =>
    e in r
      ? pee(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  J0 = (r, e) => {
    for (var t in e || (e = {})) UI.call(e, t) && dP(r, t, e[t]);
    if (Em) for (var t of Em(e)) GI.call(e, t) && dP(r, t, e[t]);
    return r;
  },
  _ee = (r, e) => mee(r, gee(e)),
  yee = (r, e) => {
    var t = {};
    for (var n in r) UI.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Em)
      for (var n of Em(r)) e.indexOf(n) < 0 && GI.call(r, n) && (t[n] = r[n]);
    return t;
  };
const vee = class jI extends wd {
  constructor(e) {
    e = J0(J0({}, jI.defaultOptions), e);
    const t = po.from({
        vertex: { source: hP, entryPoint: "mainVertex" },
        fragment: { source: hP, entryPoint: "mainFragment" },
      }),
      n = ca.from({ vertex: LI, fragment: fee, name: "alpha-filter" }),
      i = e,
      { alpha: s } = i,
      o = yee(i, ["alpha"]),
      a = new dn({ uAlpha: { value: s, type: "f32" } });
    super(
      _ee(J0({}, o), {
        gpuProgram: t,
        glProgram: n,
        resources: { alphaUniforms: a },
      })
    );
  }
  get alpha() {
    return this.resources.alphaUniforms.uniforms.uAlpha;
  }
  set alpha(e) {
    this.resources.alphaUniforms.uniforms.uAlpha = e;
  }
};
vee.defaultOptions = { alpha: 1 };
const $I = {
    5: [0.153388, 0.221461, 0.250301],
    7: [0.071303, 0.131514, 0.189879, 0.214607],
    9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
    11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
    13: [0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
    15: [
      489e-6, 0.002403, 0.009246, 0.02784, 0.065602, 0.120999, 0.174697,
      0.197448,
    ],
  },
  xee = [
    "in vec2 vBlurTexCoords[%size%];",
    "uniform sampler2D uTexture;",
    "out vec4 finalColor;",
    "void main(void)",
    "{",
    "    finalColor = vec4(0.0);",
    "    %blur%",
    "}",
  ].join(`
`);
function wee(r) {
  const e = $I[r],
    t = e.length;
  let n = xee,
    i = "";
  const s =
    "finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";
  let o;
  for (let a = 0; a < r; a++) {
    let l = s.replace("%index%", a.toString());
    (o = a),
      a >= t && (o = r - a - 1),
      (l = l.replace("%value%", e[o].toString())),
      (i += l),
      (i += `
`);
  }
  return (
    (n = n.replace("%blur%", i)), (n = n.replace("%size%", r.toString())), n
  );
}
const bee = `
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
function See(r, e) {
  const t = Math.ceil(r / 2);
  let n = bee,
    i = "",
    s;
  e
    ? (s =
        "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);")
    : (s =
        "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);");
  for (let o = 0; o < r; o++) {
    let a = s.replace("%index%", o.toString());
    (a = a.replace("%sampleIndex%", `${o - (t - 1)}.0`)),
      (i += a),
      (i += `
`);
  }
  return (
    (n = n.replace("%blur%", i)),
    (n = n.replace("%size%", r.toString())),
    (n = n.replace("%dimension%", e ? "z" : "w")),
    n
  );
}
function Eee(r, e) {
  const t = See(e, r),
    n = wee(e);
  return ca.from({
    vertex: t,
    fragment: n,
    name: `blur-${r ? "horizontal" : "vertical"}-pass-filter`,
  });
}
var Tee = `

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let strength = gfu.uInputSize.w * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;
function kee(r, e) {
  const t = $I[e],
    n = t.length,
    i = [],
    s = [],
    o = [];
  for (let h = 0; h < e; h++) {
    (i[h] = `@location(${h}) offset${h}: vec2<f32>,`),
      r
        ? (s[h] = `filteredCord + vec2(${h - n + 1} * strength, 0.0),`)
        : (s[h] = `filteredCord + vec2(0.0, ${h - n + 1} * strength),`);
    const d = h < n ? h : e - h - 1,
      f = t[d].toString();
    o[
      h
    ] = `finalColor += textureSample(uTexture, uSampler, offset${h}) * ${f};`;
  }
  const a = i.join(`
`),
    l = s.join(`
`),
    u = o.join(`
`),
    c = Tee.replace("%blur-struct%", a)
      .replace("%blur-vertex-out%", l)
      .replace("%blur-fragment-in%", a)
      .replace("%blur-sampling%", u);
  return po.from({
    vertex: { source: c, entryPoint: "mainVertex" },
    fragment: { source: c, entryPoint: "mainFragment" },
  });
}
var Aee = Object.defineProperty,
  fP = Object.getOwnPropertySymbols,
  Pee = Object.prototype.hasOwnProperty,
  Cee = Object.prototype.propertyIsEnumerable,
  pP = (r, e, t) =>
    e in r
      ? Aee(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ey = (r, e) => {
    for (var t in e || (e = {})) Pee.call(e, t) && pP(r, t, e[t]);
    if (fP) for (var t of fP(e)) Cee.call(e, t) && pP(r, t, e[t]);
    return r;
  };
const zI = class WI extends wd {
  constructor(e) {
    e = ey(ey({}, WI.defaultOptions), e);
    const t = Eee(e.horizontal, e.kernelSize),
      n = kee(e.horizontal, e.kernelSize);
    super(
      ey(
        {
          glProgram: t,
          gpuProgram: n,
          resources: { blurUniforms: { uStrength: { value: 0, type: "f32" } } },
        },
        e
      )
    ),
      (this.horizontal = e.horizontal),
      (this._quality = 0),
      (this.quality = e.quality),
      (this.blur = e.strength),
      (this._uniforms = this.resources.blurUniforms.uniforms);
  }
  apply(e, t, n, i) {
    if (
      ((this._uniforms.uStrength = this.strength / this.passes),
      this.passes === 1)
    )
      e.applyFilter(this, t, n, i);
    else {
      const s = Qr.getSameSizeTexture(t);
      let o = t,
        a = s;
      this._state.blend = !1;
      for (let l = 0; l < this.passes - 1; l++) {
        e.applyFilter(this, o, a, e.renderer.type === Di.WEBGPU);
        const u = a;
        (a = o), (o = u);
      }
      (this._state.blend = !0),
        e.applyFilter(this, o, n, i),
        Qr.returnTexture(s);
    }
  }
  get blur() {
    return this.strength;
  }
  set blur(e) {
    (this.padding = 1 + Math.abs(e) * 2), (this.strength = e);
  }
  get quality() {
    return this._quality;
  }
  set quality(e) {
    (this._quality = e), (this.passes = e);
  }
};
zI.defaultOptions = { strength: 8, quality: 4, kernelSize: 5 };
let ty = zI;
var Ree = Object.defineProperty,
  Dee = Object.defineProperties,
  Mee = Object.getOwnPropertyDescriptors,
  Tm = Object.getOwnPropertySymbols,
  HI = Object.prototype.hasOwnProperty,
  VI = Object.prototype.propertyIsEnumerable,
  mP = (r, e, t) =>
    e in r
      ? Ree(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  kc = (r, e) => {
    for (var t in e || (e = {})) HI.call(e, t) && mP(r, t, e[t]);
    if (Tm) for (var t of Tm(e)) VI.call(e, t) && mP(r, t, e[t]);
    return r;
  },
  Bee = (r, e) => Dee(r, Mee(e)),
  Oee = (r, e) => {
    var t = {};
    for (var n in r) HI.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Tm)
      for (var n of Tm(r)) e.indexOf(n) < 0 && VI.call(r, n) && (t[n] = r[n]);
    return t;
  };
class Iee extends wd {
  constructor(...e) {
    var t;
    let n = (t = e[0]) != null ? t : {};
    typeof n == "number" &&
      (Le(
        Ge,
        "BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"
      ),
      (n = { strength: n }),
      e[1] && (n.quality = e[1]),
      e[2] && (n.resolution = e[2]),
      e[3] && (n.kernelSize = e[3])),
      (n = kc(kc({}, ty.defaultOptions), n));
    const i = n,
      { strength: s, quality: o } = i,
      a = Oee(i, ["strength", "quality"]);
    super(Bee(kc({}, a), { compatibleRenderers: Di.BOTH, resources: {} })),
      (this._repeatEdgePixels = !1),
      (this.blurXFilter = new ty(kc({ horizontal: !1 }, n))),
      (this.blurYFilter = new ty(kc({ horizontal: !0 }, n))),
      (this.quality = o),
      (this.blur = s),
      (this.repeatEdgePixels = !1);
  }
  apply(e, t, n, i) {
    const s = Math.abs(this.blurXFilter.strength),
      o = Math.abs(this.blurYFilter.strength);
    if (s && o) {
      const a = Qr.getSameSizeTexture(t);
      this.blurXFilter.apply(e, t, a, !0),
        this.blurYFilter.apply(e, a, n, i),
        Qr.returnTexture(a);
    } else
      o
        ? this.blurYFilter.apply(e, t, n, i)
        : this.blurXFilter.apply(e, t, n, i);
  }
  updatePadding() {
    this._repeatEdgePixels
      ? (this.padding = 0)
      : (this.padding =
          Math.max(
            Math.abs(this.blurXFilter.blur),
            Math.abs(this.blurYFilter.blur)
          ) * 2);
  }
  get blur() {
    return this.blurXFilter.blur;
  }
  set blur(e) {
    (this.blurXFilter.blur = this.blurYFilter.blur = e), this.updatePadding();
  }
  get quality() {
    return this.blurXFilter.quality;
  }
  set quality(e) {
    this.blurXFilter.quality = this.blurYFilter.quality = e;
  }
  get blurX() {
    return this.blurXFilter.blur;
  }
  set blurX(e) {
    (this.blurXFilter.blur = e), this.updatePadding();
  }
  get blurY() {
    return this.blurYFilter.blur;
  }
  set blurY(e) {
    (this.blurYFilter.blur = e), this.updatePadding();
  }
  get blendMode() {
    return this.blurYFilter.blendMode;
  }
  set blendMode(e) {
    this.blurYFilter.blendMode = e;
  }
  get repeatEdgePixels() {
    return this._repeatEdgePixels;
  }
  set repeatEdgePixels(e) {
    (this._repeatEdgePixels = e), this.updatePadding();
  }
}
Iee.defaultOptions = { strength: 8, quality: 4, kernelSize: 5 };
var Fee = `
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) *  uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    finalColor = color;
}
`,
  gP = `

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
  uNoise:f32,
  uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

fn rand(co:vec2<f32>) -> f32
{
  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);
  
    
    var sample = textureSample(uTexture, uSampler, uv);
    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;
  
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (sample.a > 0.0) {
      sample.r /= sample.a;
      sample.g /= sample.a;
      sample.b /= sample.a;
    }

    sample.r += diff;
    sample.g += diff;
    sample.b += diff;

    // Premultiply alpha again.
    sample.r *= sample.a;
    sample.g *= sample.a;
    sample.b *= sample.a;
    
    return sample;
}`,
  Nee = Object.defineProperty,
  Lee = Object.defineProperties,
  Uee = Object.getOwnPropertyDescriptors,
  km = Object.getOwnPropertySymbols,
  XI = Object.prototype.hasOwnProperty,
  YI = Object.prototype.propertyIsEnumerable,
  _P = (r, e, t) =>
    e in r
      ? Nee(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ry = (r, e) => {
    for (var t in e || (e = {})) XI.call(e, t) && _P(r, t, e[t]);
    if (km) for (var t of km(e)) YI.call(e, t) && _P(r, t, e[t]);
    return r;
  },
  Gee = (r, e) => Lee(r, Uee(e)),
  jee = (r, e) => {
    var t = {};
    for (var n in r) XI.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && km)
      for (var n of km(r)) e.indexOf(n) < 0 && YI.call(r, n) && (t[n] = r[n]);
    return t;
  };
const $ee = class KI extends wd {
  constructor(e = {}) {
    e = ry(ry({}, KI.defaultOptions), e);
    const t = po.from({
        vertex: { source: gP, entryPoint: "mainVertex" },
        fragment: { source: gP, entryPoint: "mainFragment" },
      }),
      n = ca.from({ vertex: LI, fragment: Fee, name: "noise-filter" }),
      i = e,
      { noise: s, seed: o } = i,
      a = jee(i, ["noise", "seed"]);
    super(
      Gee(ry({}, a), {
        gpuProgram: t,
        glProgram: n,
        resources: {
          noiseUniforms: new dn({
            uNoise: { value: 1, type: "f32" },
            uSeed: { value: 1, type: "f32" },
          }),
        },
      })
    ),
      (this.noise = s),
      (this.seed = o ?? Math.random());
  }
  get noise() {
    return this.resources.noiseUniforms.uniforms.uNoise;
  }
  set noise(e) {
    this.resources.noiseUniforms.uniforms.uNoise = e;
  }
  get seed() {
    return this.resources.noiseUniforms.uniforms.uSeed;
  }
  set seed(e) {
    this.resources.noiseUniforms.uniforms.uSeed = e;
  }
};
$ee.defaultOptions = { noise: 0.5 };
var zee = `in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha; 
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * uAlpha * clip);

    finalColor = original;
}
`,
  Wee = `in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,
  yP = `struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,  
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;

     var clip = step(3.5,
        step(maskClamp.x, filterUv.x) +
        step(maskClamp.y, filterUv.y) +
        step(filterUv.x, maskClamp.z) +
        step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    
    var npmAlpha = 0.0;

    var alphaMul = 1.0 - npmAlpha * (1.0 - mask.a);

    var a = (alphaMul * mask.r) * clip;

    return vec4(source.rgb, source.a) * a;
}`,
  Hee = Object.defineProperty,
  Vee = Object.defineProperties,
  Xee = Object.getOwnPropertyDescriptors,
  Am = Object.getOwnPropertySymbols,
  qI = Object.prototype.hasOwnProperty,
  ZI = Object.prototype.propertyIsEnumerable,
  vP = (r, e, t) =>
    e in r
      ? Hee(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Yee = (r, e) => {
    for (var t in e || (e = {})) qI.call(e, t) && vP(r, t, e[t]);
    if (Am) for (var t of Am(e)) ZI.call(e, t) && vP(r, t, e[t]);
    return r;
  },
  Kee = (r, e) => Vee(r, Xee(e)),
  qee = (r, e) => {
    var t = {};
    for (var n in r) qI.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Am)
      for (var n of Am(r)) e.indexOf(n) < 0 && ZI.call(r, n) && (t[n] = r[n]);
    return t;
  };
class Zee extends wd {
  constructor(e) {
    const t = e,
      { sprite: n } = t,
      i = qee(t, ["sprite"]),
      s = new KB(n.texture),
      o = new dn({
        uFilterMatrix: { value: new we(), type: "mat3x3<f32>" },
        uMaskClamp: { value: s.uClampFrame, type: "vec4<f32>" },
        uAlpha: { value: 1, type: "f32" },
      }),
      a = po.from({
        vertex: { source: yP, entryPoint: "mainVertex" },
        fragment: { source: yP, entryPoint: "mainFragment" },
      }),
      l = ca.from({ vertex: Wee, fragment: zee, name: "mask-filter" });
    super(
      Kee(Yee({}, i), {
        gpuProgram: a,
        glProgram: l,
        resources: { filterUniforms: o, uMaskTexture: n.texture.source },
      })
    ),
      (this.sprite = n),
      (this._textureMatrix = s);
  }
  apply(e, t, n, i) {
    (this._textureMatrix.texture = this.sprite.texture),
      e
        .calculateSpriteMatrix(
          this.resources.filterUniforms.uniforms.uFilterMatrix,
          this.sprite
        )
        .prepend(this._textureMatrix.mapCoord),
      (this.resources.uMaskTexture = this.sprite.texture.source),
      e.applyFilter(this, t, n, i);
  }
}
function xP(r, e, t, n, i, s, o, a) {
  const l = o - t,
    u = a - n,
    c = i - t,
    h = s - n,
    d = r - t,
    f = e - n,
    m = l * l + u * u,
    g = l * c + u * h,
    _ = l * d + u * f,
    v = c * c + h * h,
    w = c * d + h * f,
    x = 1 / (m * v - g * g),
    k = (v * _ - g * w) * x,
    C = (m * w - g * _) * x;
  return k >= 0 && C >= 0 && k + C < 1;
}
var Qee = Object.defineProperty,
  Pm = Object.getOwnPropertySymbols,
  QI = Object.prototype.hasOwnProperty,
  JI = Object.prototype.propertyIsEnumerable,
  wP = (r, e, t) =>
    e in r
      ? Qee(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Jee = (r, e) => {
    for (var t in e || (e = {})) QI.call(e, t) && wP(r, t, e[t]);
    if (Pm) for (var t of Pm(e)) JI.call(e, t) && wP(r, t, e[t]);
    return r;
  },
  ete = (r, e) => {
    var t = {};
    for (var n in r) QI.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Pm)
      for (var n of Pm(r)) e.indexOf(n) < 0 && JI.call(r, n) && (t[n] = r[n]);
    return t;
  };
class tte extends ft {
  constructor(...e) {
    var t;
    let n = e[0];
    n instanceof md &&
      (Le(Ge, "Mesh: use new Mesh({ geometry, shader }) instead"),
      (n = { geometry: n, shader: e[1] }),
      e[3] &&
        (Le(
          Ge,
          "Mesh: drawMode argument has been removed, use geometry.topology instead"
        ),
        (n.geometry.topology = e[3])));
    const i = n,
      { geometry: s, shader: o, texture: a, roundPixels: l, state: u } = i,
      c = ete(i, ["geometry", "shader", "texture", "roundPixels", "state"]);
    super(Jee({ label: "Mesh" }, c)),
      (this.renderPipeId = "mesh"),
      (this.canBundle = !0),
      (this._roundPixels = 0),
      (this.allowChildren = !1),
      (this.shader = o),
      (this.texture =
        (t = a ?? (o == null ? void 0 : o.texture)) != null ? t : fe.WHITE),
      (this.state = u ?? Ds.for2d()),
      (this._geometry = s),
      this._geometry.on("update", this.onViewUpdate, this),
      (this.roundPixels = l ?? !1);
  }
  get roundPixels() {
    return !!this._roundPixels;
  }
  set roundPixels(e) {
    this._roundPixels = e ? 1 : 0;
  }
  get material() {
    return (
      Le(
        Ge,
        "mesh.material property has been removed, use mesh.shader instead"
      ),
      this._shader
    );
  }
  set shader(e) {
    this._shader !== e && ((this._shader = e), this.onViewUpdate());
  }
  get shader() {
    return this._shader;
  }
  set geometry(e) {
    var t;
    this._geometry !== e &&
      ((t = this._geometry) == null || t.off("update", this.onViewUpdate, this),
      e.on("update", this.onViewUpdate, this),
      (this._geometry = e),
      this.onViewUpdate());
  }
  get geometry() {
    return this._geometry;
  }
  set texture(e) {
    e || (e = fe.EMPTY);
    const t = this._texture;
    t !== e &&
      (t && t.dynamic && t.off("update", this.onViewUpdate, this),
      e.dynamic && e.on("update", this.onViewUpdate, this),
      this.shader && (this.shader.texture = e),
      (this._texture = e),
      this.onViewUpdate());
  }
  get texture() {
    return this._texture;
  }
  get batched() {
    return this._shader
      ? !1
      : this._geometry instanceof xd
      ? this._geometry.batchMode === "auto"
        ? this._geometry.positions.length / 2 <= 100
        : this._geometry.batchMode === "batch"
      : !1;
  }
  get bounds() {
    return this._geometry.bounds;
  }
  addBounds(e) {
    e.addBounds(this.geometry.bounds);
  }
  containsPoint(e) {
    const { x: t, y: n } = e;
    if (!this.bounds.containsPoint(t, n)) return !1;
    const i = this.geometry.getBuffer("aPosition").data,
      s = this.geometry.topology === "triangle-strip" ? 3 : 1;
    if (this.geometry.getIndex()) {
      const o = this.geometry.getIndex().data,
        a = o.length;
      for (let l = 0; l + 2 < a; l += s) {
        const u = o[l] * 2,
          c = o[l + 1] * 2,
          h = o[l + 2] * 2;
        if (xP(t, n, i[u], i[u + 1], i[c], i[c + 1], i[h], i[h + 1])) return !0;
      }
    } else {
      const o = i.length / 2;
      for (let a = 0; a + 2 < o; a += s) {
        const l = a * 2,
          u = (a + 1) * 2,
          c = (a + 2) * 2;
        if (xP(t, n, i[l], i[l + 1], i[u], i[u + 1], i[c], i[c + 1])) return !0;
      }
    }
    return !1;
  }
  onViewUpdate() {
    if (((this._didChangeId += 4096), this.didViewUpdate)) return;
    this.didViewUpdate = !0;
    const e = this.renderGroup || this.parentRenderGroup;
    e && e.onChildViewUpdate(this);
  }
  destroy(e) {
    var t;
    if (
      (super.destroy(e),
      typeof e == "boolean" ? e : e == null ? void 0 : e.texture)
    ) {
      const i =
        typeof e == "boolean" ? e : e == null ? void 0 : e.textureSource;
      this._texture.destroy(i);
    }
    (t = this._geometry) == null || t.off("update", this.onViewUpdate, this),
      (this._texture = null),
      (this._geometry = null),
      (this._shader = null);
  }
}
class rte {
  constructor({ matrix: e, observer: t } = {}) {
    (this.dirty = !0),
      (this._matrix = e ?? new we()),
      (this.observer = t),
      (this.position = new Cr(this, 0, 0)),
      (this.scale = new Cr(this, 1, 1)),
      (this.pivot = new Cr(this, 0, 0)),
      (this.skew = new Cr(this, 0, 0)),
      (this._rotation = 0),
      (this._cx = 1),
      (this._sx = 0),
      (this._cy = 0),
      (this._sy = 1);
  }
  get matrix() {
    const e = this._matrix;
    return (
      this.dirty &&
        ((e.a = this._cx * this.scale.x),
        (e.b = this._sx * this.scale.x),
        (e.c = this._cy * this.scale.y),
        (e.d = this._sy * this.scale.y),
        (e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c)),
        (e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d)),
        (this.dirty = !1)),
      e
    );
  }
  _onUpdate(e) {
    var t;
    (this.dirty = !0),
      e === this.skew && this.updateSkew(),
      (t = this.observer) == null || t._onUpdate(this);
  }
  updateSkew() {
    (this._cx = Math.cos(this._rotation + this.skew.y)),
      (this._sx = Math.sin(this._rotation + this.skew.y)),
      (this._cy = -Math.sin(this._rotation - this.skew.x)),
      (this._sy = Math.cos(this._rotation - this.skew.x)),
      (this.dirty = !0);
  }
  toString() {
    return `[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`;
  }
  setFromMatrix(e) {
    e.decompose(this), (this.dirty = !0);
  }
  get rotation() {
    return this._rotation;
  }
  set rotation(e) {
    this._rotation !== e && ((this._rotation = e), this._onUpdate(this.skew));
  }
}
var nte = Object.defineProperty,
  Cm = Object.getOwnPropertySymbols,
  eF = Object.prototype.hasOwnProperty,
  tF = Object.prototype.propertyIsEnumerable,
  bP = (r, e, t) =>
    e in r
      ? nte(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ac = (r, e) => {
    for (var t in e || (e = {})) eF.call(e, t) && bP(r, t, e[t]);
    if (Cm) for (var t of Cm(e)) tF.call(e, t) && bP(r, t, e[t]);
    return r;
  },
  ite = (r, e) => {
    var t = {};
    for (var n in r) eF.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Cm)
      for (var n of Cm(r)) e.indexOf(n) < 0 && tF.call(r, n) && (t[n] = r[n]);
    return t;
  };
const ste = class ep extends ft {
  constructor(...e) {
    let t = e[0] || {};
    t instanceof fe && (t = { texture: t }),
      e.length > 1 &&
        (Le(
          Ge,
          "use new TilingSprite({ texture, width:100, height:100 }) instead"
        ),
        (t.width = e[1]),
        (t.height = e[2])),
      (t = Ac(Ac({}, ep.defaultOptions), t));
    const n = t ?? {},
      {
        texture: i,
        anchor: s,
        tilePosition: o,
        tileScale: a,
        tileRotation: l,
        width: u,
        height: c,
        applyAnchorToTexture: h,
        roundPixels: d,
      } = n,
      f = ite(n, [
        "texture",
        "anchor",
        "tilePosition",
        "tileScale",
        "tileRotation",
        "width",
        "height",
        "applyAnchorToTexture",
        "roundPixels",
      ]);
    super(Ac({ label: "TilingSprite" }, f)),
      (this.renderPipeId = "tilingSprite"),
      (this.canBundle = !0),
      (this.batched = !0),
      (this._roundPixels = 0),
      (this._bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 }),
      (this._boundsDirty = !0),
      (this.allowChildren = !1),
      (this._anchor = new Cr({
        _onUpdate: () => {
          this.onViewUpdate();
        },
      })),
      (this._applyAnchorToTexture = h),
      (this.texture = i),
      (this._width = u ?? i.width),
      (this._height = c ?? i.height),
      (this._tileTransform = new rte({
        observer: { _onUpdate: () => this.onViewUpdate() },
      })),
      s && (this.anchor = s),
      (this.tilePosition = o),
      (this.tileScale = a),
      (this.tileRotation = l),
      (this.roundPixels = d ?? !1);
  }
  static from(e, t = {}) {
    return typeof e == "string"
      ? new ep(Ac({ texture: ct.get(e) }, t))
      : new ep(Ac({ texture: e }, t));
  }
  get clampMargin() {
    return this._texture.textureMatrix.clampMargin;
  }
  set clampMargin(e) {
    this._texture.textureMatrix.clampMargin = e;
  }
  get anchor() {
    return this._anchor;
  }
  set anchor(e) {
    typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e);
  }
  get tilePosition() {
    return this._tileTransform.position;
  }
  set tilePosition(e) {
    this._tileTransform.position.copyFrom(e);
  }
  get tileScale() {
    return this._tileTransform.scale;
  }
  set tileScale(e) {
    typeof e == "number"
      ? this._tileTransform.scale.set(e)
      : this._tileTransform.scale.copyFrom(e);
  }
  set tileRotation(e) {
    this._tileTransform.rotation = e;
  }
  get tileRotation() {
    return this._tileTransform.rotation;
  }
  get tileTransform() {
    return this._tileTransform;
  }
  get roundPixels() {
    return !!this._roundPixels;
  }
  set roundPixels(e) {
    this._roundPixels = e ? 1 : 0;
  }
  get bounds() {
    return (
      this._boundsDirty && (this._updateBounds(), (this._boundsDirty = !1)),
      this._bounds
    );
  }
  set texture(e) {
    e || (e = fe.EMPTY);
    const t = this._texture;
    t !== e &&
      (t && t.dynamic && t.off("update", this.onViewUpdate, this),
      e.dynamic && e.on("update", this.onViewUpdate, this),
      (this._texture = e),
      this.onViewUpdate());
  }
  get texture() {
    return this._texture;
  }
  set width(e) {
    (this._width = e), this.onViewUpdate();
  }
  get width() {
    return this._width;
  }
  set height(e) {
    (this._height = e), this.onViewUpdate();
  }
  get height() {
    return this._height;
  }
  _updateBounds() {
    const e = this._bounds,
      t = this._anchor,
      n = this._width,
      i = this._height;
    (e.maxX = -t._x * n),
      (e.minX = e.maxX + n),
      (e.maxY = -t._y * i),
      (e.minY = e.maxY + i);
  }
  addBounds(e) {
    const t = this.bounds;
    e.addFrame(t.minX, t.minY, t.maxX, t.maxY);
  }
  containsPoint(e) {
    const t = this._width,
      n = this._height,
      i = -t * this._anchor._x;
    let s = 0;
    return (
      e.x >= i &&
      e.x <= i + t &&
      ((s = -n * this._anchor._y), e.y >= s && e.y <= s + n)
    );
  }
  onViewUpdate() {
    if (
      ((this._boundsDirty = !0),
      (this._didTilingSpriteUpdate = !0),
      (this._didChangeId += 4096),
      this.didViewUpdate)
    )
      return;
    this.didViewUpdate = !0;
    const e = this.renderGroup || this.parentRenderGroup;
    e && e.onChildViewUpdate(this);
  }
  destroy(e = !1) {
    if (
      (super.destroy(e),
      (this._anchor = null),
      (this._tileTransform = null),
      (this._bounds = null),
      typeof e == "boolean" ? e : e == null ? void 0 : e.texture)
    ) {
      const n =
        typeof e == "boolean" ? e : e == null ? void 0 : e.textureSource;
      this._texture.destroy(n);
    }
    this._texture = null;
  }
};
ste.defaultOptions = {
  texture: fe.EMPTY,
  anchor: { x: 0, y: 0 },
  tilePosition: { x: 0, y: 0 },
  tileScale: { x: 1, y: 1 },
  tileRotation: 0,
  applyAnchorToTexture: !1,
};
W.WebGLSystem, W.WebGPUSystem;
class rF {
  constructor() {
    (this._didUpload = !1), (this._tempState = Ds.for2d());
  }
  init(e) {
    const t = As(),
      n = _d({ name: "batch", bits: [Qb, e1(t), vd] });
    (this._shader = new Oi({
      glProgram: n,
      resources: { batchSamplers: t1(t) },
    })),
      e.renderer.runners.contextChange.add(this);
  }
  contextChange() {
    this._didUpload = !1;
  }
  start(e, t) {
    const n = e.renderer;
    n.shader.bind(this._shader, this._didUpload),
      n.shader.updateUniformGroup(n.globalUniforms.uniformGroup),
      n.geometry.bind(t, this._shader.glProgram);
  }
  execute(e, t) {
    const n = e.renderer;
    (this._didUpload = !0),
      (this._tempState.blendMode = t.blendMode),
      n.state.set(this._tempState);
    const i = t.textures.textures;
    for (let s = 0; s < i.length; s++) n.texture.bind(i[s], s);
    n.geometry.draw("triangle-list", t.size, t.start);
  }
  destroy() {
    this._shader.destroy(!0), (this._shader = null);
  }
}
rF.extension = { type: [W.WebGLPipesAdaptor], name: "batch" };
const Af = Ds.for2d();
class nF {
  init() {
    const e = gd({ name: "batch", bits: [Zb, Jb(As()), yd] });
    this._shader = new Oi({ gpuProgram: e, groups: {} });
  }
  start(e, t) {
    const n = e.renderer,
      i = n.encoder,
      s = this._shader.gpuProgram;
    (this._geometry = t),
      i.setGeometry(t),
      (Af.blendMode = "normal"),
      n.pipeline.getPipeline(t, s, Af);
    const o = n.globalUniforms.bindGroup;
    i.resetBindGroup(1), i.setBindGroup(0, o, s);
  }
  execute(e, t) {
    const n = this._shader.gpuProgram,
      i = e.renderer,
      s = i.encoder;
    if (!t.bindGroup) {
      const l = t.textures;
      t.bindGroup = Ub(l.textures, l.count);
    }
    Af.blendMode = t.blendMode;
    const o = i.bindGroup.getBindGroup(t.bindGroup, n, 1),
      a = i.pipeline.getPipeline(this._geometry, n, Af);
    t.bindGroup._touch(i.textureGC.count),
      s.setPipeline(a),
      s.renderPassEncoder.setBindGroup(1, o),
      s.renderPassEncoder.drawIndexed(t.size, 1, t.start);
  }
  destroy() {
    this._shader.destroy(!0), (this._shader = null);
  }
}
nF.extension = { type: [W.WebGPUPipesAdaptor], name: "batch" };
class iF {
  constructor(e, t) {
    (this.state = Ds.for2d()),
      (this._batches = Object.create(null)),
      (this._geometries = Object.create(null)),
      (this.renderer = e),
      (this._adaptor = t),
      this._adaptor.init(this);
  }
  buildStart(e) {
    if (!this._batches[e.uid]) {
      const t = new mO();
      (this._batches[e.uid] = t), (this._geometries[t.uid] = new cO());
    }
    (this._activeBatch = this._batches[e.uid]),
      (this._activeGeometry = this._geometries[this._activeBatch.uid]),
      this._activeBatch.begin();
  }
  addToBatch(e) {
    this._activeBatch.add(e);
  }
  break(e) {
    this._activeBatch.break(e);
  }
  buildEnd(e) {
    const t = this._activeBatch,
      n = this._activeGeometry;
    t.finish(e),
      n.indexBuffer.setDataWithSize(t.indexBuffer, t.indexSize, !0),
      n.buffers[0].setDataWithSize(
        t.attributeBuffer.float32View,
        t.attributeSize,
        !1
      );
  }
  upload(e) {
    const t = this._batches[e.uid],
      n = this._geometries[t.uid];
    t.dirty && ((t.dirty = !1), n.buffers[0].update(t.attributeSize * 4));
  }
  execute(e) {
    if (e.action === "startBatch") {
      const t = e.batcher,
        n = this._geometries[t.uid];
      this._adaptor.start(this, n);
    }
    this._adaptor.execute(this, e);
  }
  destroy() {
    (this.state = null),
      (this.renderer = null),
      this._adaptor.destroy(),
      (this._adaptor = null);
    for (const e in this._batches) this._batches[e].destroy();
    this._batches = null;
    for (const e in this._geometries) this._geometries[e].destroy();
    this._geometries = null;
  }
}
iF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "batch",
};
const ote = {
    name: "texture-bit",
    vertex: {
      header: `

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,
      main: `
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `,
    },
    fragment: {
      header: `
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;

         
        `,
      main: `
            outColor = textureSample(uTexture, uSampler, vUV);
        `,
    },
  },
  ate = {
    name: "texture-bit",
    vertex: {
      header: `
            uniform mat3 uTextureMatrix;
        `,
      main: `
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `,
    },
    fragment: {
      header: `
        uniform sampler2D uTexture;

         
        `,
      main: `
            outColor = texture(uTexture, vUV);
        `,
    },
  };
function lte(r, e) {
  const t = r.root,
    n = r.instructionSet;
  n.reset(),
    e.batch.buildStart(n),
    e.blendMode.buildStart(),
    e.colorMask.buildStart(),
    t.sortableChildren && t.sortChildren(),
    sF(t, n, e, !0),
    e.batch.buildEnd(n),
    e.blendMode.buildEnd(n);
}
function Ug(r, e, t) {
  r.globalDisplayStatus < 7 ||
    !r.includeInBuild ||
    (r.sortableChildren && r.sortChildren(),
    r.isSimple ? ute(r, e, t) : sF(r, e, t, !1));
}
function ute(r, e, t) {
  if (
    (r.renderPipeId &&
      (t.blendMode.setBlendMode(r, r.groupBlendMode, e),
      (r.didViewUpdate = !1),
      t[r.renderPipeId].addRenderable(r, e)),
    !r.renderGroup)
  ) {
    const n = r.children,
      i = n.length;
    for (let s = 0; s < i; s++) Ug(n[s], e, t);
  }
}
function sF(r, e, t, n) {
  if (!n && r.renderGroup) t.renderGroup.addRenderGroup(r.renderGroup, e);
  else {
    for (let o = 0; o < r.effects.length; o++) {
      const a = r.effects[o];
      t[a.pipe].push(a, r, e);
    }
    const i = r.renderPipeId;
    i &&
      (t.blendMode.setBlendMode(r, r.groupBlendMode, e),
      (r.didViewUpdate = !1),
      t[i].addRenderable(r, e));
    const s = r.children;
    if (s.length) for (let o = 0; o < s.length; o++) Ug(s[o], e, t);
    for (let o = r.effects.length - 1; o >= 0; o--) {
      const a = r.effects[o];
      t[a.pipe].pop(a, r, e);
    }
  }
}
const cte = new ei();
class hte extends om {
  constructor() {
    super(), (this.filters = [new Zee({ sprite: new Dr(fe.EMPTY) })]);
  }
  get sprite() {
    return this.filters[0].sprite;
  }
  set sprite(e) {
    this.filters[0].sprite = e;
  }
}
class oF {
  constructor(e) {
    (this._activeMaskStage = []), (this._renderer = e);
  }
  push(e, t, n) {
    const i = this._renderer;
    if (
      (i.renderPipes.batch.break(n),
      n.add({
        renderPipeId: "alphaMask",
        action: "pushMaskBegin",
        mask: e,
        canBundle: !1,
        maskedContainer: t,
      }),
      e.renderMaskToTexture)
    ) {
      const s = e.mask;
      (s.includeInBuild = !0), Ug(s, n, i.renderPipes), (s.includeInBuild = !1);
    }
    i.renderPipes.batch.break(n),
      n.add({
        renderPipeId: "alphaMask",
        action: "pushMaskEnd",
        mask: e,
        maskedContainer: t,
        canBundle: !1,
      });
  }
  pop(e, t, n) {
    this._renderer.renderPipes.batch.break(n),
      n.add({
        renderPipeId: "alphaMask",
        action: "popMaskEnd",
        mask: e,
        canBundle: !1,
      });
  }
  execute(e) {
    const t = this._renderer,
      n = e.mask.renderMaskToTexture;
    if (e.action === "pushMaskBegin") {
      const i = Je.get(hte);
      if (n) {
        e.mask.mask.measurable = !0;
        const s = Ib(e.mask.mask, !0, cte);
        (e.mask.mask.measurable = !1), s.ceil();
        const o = Qr.getOptimalTexture(s.width, s.height, 1, !1);
        t.renderTarget.push(o, !0),
          t.globalUniforms.push({ offset: s, worldColor: 4294967295 });
        const a = i.sprite;
        (a.texture = o),
          (a.worldTransform.tx = s.minX),
          (a.worldTransform.ty = s.minY),
          this._activeMaskStage.push({
            filterEffect: i,
            maskedContainer: e.maskedContainer,
            filterTexture: o,
          });
      } else
        (i.sprite = e.mask.mask),
          this._activeMaskStage.push({
            filterEffect: i,
            maskedContainer: e.maskedContainer,
          });
    } else if (e.action === "pushMaskEnd") {
      const i = this._activeMaskStage[this._activeMaskStage.length - 1];
      n && (t.renderTarget.pop(), t.globalUniforms.pop()),
        t.filter.push({
          renderPipeId: "filter",
          action: "pushFilter",
          container: i.maskedContainer,
          filterEffect: i.filterEffect,
          canBundle: !1,
        });
    } else if (e.action === "popMaskEnd") {
      t.filter.pop();
      const i = this._activeMaskStage.pop();
      n && Qr.returnTexture(i.filterTexture), Je.return(i.filterEffect);
    }
  }
  destroy() {
    (this._renderer = null), (this._activeMaskStage = null);
  }
}
oF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "alphaMask",
};
class aF {
  constructor(e) {
    (this._colorStack = []),
      (this._colorStackIndex = 0),
      (this._currentColor = 0),
      (this._renderer = e);
  }
  buildStart() {
    (this._colorStack[0] = 15),
      (this._colorStackIndex = 1),
      (this._currentColor = 15);
  }
  push(e, t, n) {
    this._renderer.renderPipes.batch.break(n);
    const s = this._colorStack;
    s[this._colorStackIndex] = s[this._colorStackIndex - 1] & e.mask;
    const o = this._colorStack[this._colorStackIndex];
    o !== this._currentColor &&
      ((this._currentColor = o),
      n.add({ renderPipeId: "colorMask", colorMask: o, canBundle: !1 })),
      this._colorStackIndex++;
  }
  pop(e, t, n) {
    this._renderer.renderPipes.batch.break(n);
    const s = this._colorStack;
    this._colorStackIndex--;
    const o = s[this._colorStackIndex - 1];
    o !== this._currentColor &&
      ((this._currentColor = o),
      n.add({ renderPipeId: "colorMask", colorMask: o, canBundle: !1 }));
  }
  execute(e) {
    this._renderer.colorMask.setMask(e.colorMask);
  }
  destroy() {
    this._colorStack = null;
  }
}
aF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "colorMask",
};
class lF {
  constructor(e) {
    (this._maskStackHash = {}),
      (this._maskHash = new WeakMap()),
      (this._renderer = e);
  }
  push(e, t, n) {
    var i, s;
    const o = e,
      a = this._renderer;
    a.renderPipes.batch.break(n),
      a.renderPipes.blendMode.setBlendMode(o.mask, "none", n),
      n.add({
        renderPipeId: "stencilMask",
        action: "pushMaskBegin",
        mask: e,
        canBundle: !1,
      });
    const l = o.mask;
    (l.includeInBuild = !0),
      this._maskHash.has(o) ||
        this._maskHash.set(o, { instructionsStart: 0, instructionsLength: 0 });
    const u = this._maskHash.get(o);
    (u.instructionsStart = n.instructionSize),
      Ug(l, n, a.renderPipes),
      (l.includeInBuild = !1),
      a.renderPipes.batch.break(n),
      n.add({
        renderPipeId: "stencilMask",
        action: "pushMaskEnd",
        mask: e,
        canBundle: !1,
      });
    const c = n.instructionSize - u.instructionsStart - 1;
    u.instructionsLength = c;
    const h = a.renderTarget.renderTarget.uid;
    (s = (i = this._maskStackHash)[h]) != null || (i[h] = 0);
  }
  pop(e, t, n) {
    const i = e,
      s = this._renderer;
    s.renderPipes.batch.break(n),
      s.renderPipes.blendMode.setBlendMode(i.mask, "none", n),
      n.add({
        renderPipeId: "stencilMask",
        action: "popMaskBegin",
        canBundle: !1,
      });
    const o = this._maskHash.get(e);
    for (let a = 0; a < o.instructionsLength; a++)
      n.instructions[n.instructionSize++] =
        n.instructions[o.instructionsStart++];
    n.add({ renderPipeId: "stencilMask", action: "popMaskEnd", canBundle: !1 });
  }
  execute(e) {
    var t, n;
    const i = this._renderer,
      s = i.renderTarget.renderTarget.uid;
    let o = (n = (t = this._maskStackHash)[s]) != null ? n : (t[s] = 0);
    e.action === "pushMaskBegin"
      ? (i.renderTarget.ensureDepthStencil(),
        i.stencil.setStencilMode(Mr.RENDERING_MASK_ADD, o),
        o++,
        i.colorMask.setMask(0))
      : e.action === "pushMaskEnd"
      ? (i.stencil.setStencilMode(Mr.MASK_ACTIVE, o), i.colorMask.setMask(15))
      : e.action === "popMaskBegin"
      ? (i.colorMask.setMask(0),
        o !== 0
          ? i.stencil.setStencilMode(Mr.RENDERING_MASK_REMOVE, o)
          : (i.renderTarget.clear(null, Hn.STENCIL),
            i.stencil.setStencilMode(Mr.DISABLED, o)),
        o--)
      : e.action === "popMaskEnd" &&
        (i.stencil.setStencilMode(Mr.MASK_ACTIVE, o), i.colorMask.setMask(15)),
      (this._maskStackHash[s] = o);
  }
  destroy() {
    (this._renderer = null),
      (this._maskStackHash = null),
      (this._maskHash = null);
  }
}
lF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "stencilMask",
};
var tp = ((r) => (
  (r[(r.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
  (r[(r.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
  (r[(r.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER"),
  r
))(tp || {});
class dte {
  constructor(e, t) {
    (this.buffer = e || null),
      (this.updateID = -1),
      (this.byteLength = -1),
      (this.type = t);
  }
}
class uF {
  constructor(e) {
    (this._gpuBuffers = Object.create(null)),
      (this._boundBufferBases = Object.create(null)),
      (this._renderer = e);
  }
  destroy() {
    (this._renderer = null),
      (this._gl = null),
      (this._gpuBuffers = null),
      (this._boundBufferBases = null);
  }
  contextChange() {
    (this._gpuBuffers = Object.create(null)), (this._gl = this._renderer.gl);
  }
  getGlBuffer(e) {
    return this._gpuBuffers[e.uid] || this.createGLBuffer(e);
  }
  bind(e) {
    const { _gl: t } = this,
      n = this.getGlBuffer(e);
    t.bindBuffer(n.type, n.buffer);
  }
  bindBufferBase(e, t) {
    const { _gl: n } = this;
    if (this._boundBufferBases[t] !== e) {
      const i = this.getGlBuffer(e);
      (this._boundBufferBases[t] = e),
        n.bindBufferBase(n.UNIFORM_BUFFER, t, i.buffer);
    }
  }
  bindBufferRange(e, t, n) {
    const { _gl: i } = this;
    n = n || 0;
    const s = this.getGlBuffer(e);
    i.bindBufferRange(i.UNIFORM_BUFFER, t || 0, s.buffer, n * 256, 256);
  }
  updateBuffer(e) {
    const { _gl: t } = this,
      n = this.getGlBuffer(e);
    if (e._updateID === n.updateID) return n;
    (n.updateID = e._updateID), t.bindBuffer(n.type, n.buffer);
    const i = e.data;
    if (n.byteLength >= e.data.byteLength)
      t.bufferSubData(n.type, 0, i, 0, e._updateSize / i.BYTES_PER_ELEMENT);
    else {
      const s = e.descriptor.usage & rt.STATIC ? t.STATIC_DRAW : t.DYNAMIC_DRAW;
      (n.byteLength = i.byteLength), t.bufferData(n.type, i, s);
    }
    return n;
  }
  destroyAll() {
    const e = this._gl;
    for (const t in this._gpuBuffers)
      e.deleteBuffer(this._gpuBuffers[t].buffer);
    this._gpuBuffers = Object.create(null);
  }
  onBufferDestroy(e, t) {
    const n = this._gpuBuffers[e.uid],
      i = this._gl;
    t || i.deleteBuffer(n.buffer), (this._gpuBuffers[e.uid] = null);
  }
  createGLBuffer(e) {
    const { _gl: t } = this;
    let n = tp.ARRAY_BUFFER;
    e.descriptor.usage & rt.INDEX
      ? (n = tp.ELEMENT_ARRAY_BUFFER)
      : e.descriptor.usage & rt.UNIFORM && (n = tp.UNIFORM_BUFFER);
    const i = new dte(t.createBuffer(), n);
    return (
      (this._gpuBuffers[e.uid] = i),
      e.on("destroy", this.onBufferDestroy, this),
      i
    );
  }
}
uF.extension = { type: [W.WebGLSystem], name: "buffer" };
var fte = Object.defineProperty,
  pte = Object.defineProperties,
  mte = Object.getOwnPropertyDescriptors,
  SP = Object.getOwnPropertySymbols,
  gte = Object.prototype.hasOwnProperty,
  _te = Object.prototype.propertyIsEnumerable,
  EP = (r, e, t) =>
    e in r
      ? fte(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Pf = (r, e) => {
    for (var t in e || (e = {})) gte.call(e, t) && EP(r, t, e[t]);
    if (SP) for (var t of SP(e)) _te.call(e, t) && EP(r, t, e[t]);
    return r;
  },
  TP = (r, e) => pte(r, mte(e));
const a1 = class cF {
  constructor(e) {
    (this.supports = {
      uint32Indices: !0,
      uniformBufferObject: !0,
      vertexArrayObject: !0,
      srgbTextures: !0,
      nonPowOf2wrapping: !0,
      msaa: !0,
      nonPowOf2mipmaps: !0,
    }),
      (this._renderer = e),
      (this.extensions = Object.create(null)),
      (this.handleContextLost = this.handleContextLost.bind(this)),
      (this.handleContextRestored = this.handleContextRestored.bind(this));
  }
  get isLost() {
    return !this.gl || this.gl.isContextLost();
  }
  contextChange(e) {
    (this.gl = e), (this._renderer.gl = e);
  }
  init(e) {
    var t, n;
    if (((e = Pf(Pf({}, cF.defaultOptions), e)), e.context))
      this.initFromContext(e.context);
    else {
      const i = this._renderer.background.alpha < 1,
        s = (t = e.premultipliedAlpha) != null ? t : !0,
        o = e.antialias && !this._renderer.backBuffer.useBackBuffer;
      this.createContext(e.preferWebGLVersion, {
        alpha: i,
        premultipliedAlpha: s,
        antialias: o,
        stencil: !0,
        preserveDrawingBuffer: e.preserveDrawingBuffer,
        powerPreference: (n = e.powerPreference) != null ? n : "default",
      });
    }
  }
  initFromContext(e) {
    (this.gl = e),
      (this.webGLVersion =
        e instanceof nt.get().getWebGLRenderingContext() ? 1 : 2),
      this.getExtensions(),
      this.validateContext(e),
      this._renderer.runners.contextChange.emit(e);
    const t = this._renderer.view.canvas;
    t.addEventListener("webglcontextlost", this.handleContextLost, !1),
      t.addEventListener(
        "webglcontextrestored",
        this.handleContextRestored,
        !1
      );
  }
  createContext(e, t) {
    let n;
    const i = this._renderer.view.canvas;
    if (
      (e === 2 && (n = i.getContext("webgl2", t)),
      !n && ((n = i.getContext("webgl", t)), !n))
    )
      throw new Error(
        "This browser does not support WebGL. Try using the canvas renderer"
      );
    (this.gl = n), this.initFromContext(this.gl);
  }
  getExtensions() {
    const { gl: e } = this,
      t = {
        anisotropicFiltering: e.getExtension("EXT_texture_filter_anisotropic"),
        floatTextureLinear: e.getExtension("OES_texture_float_linear"),
        s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
        s3tc_sRGB: e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
        etc: e.getExtension("WEBGL_compressed_texture_etc"),
        etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
        pvrtc:
          e.getExtension("WEBGL_compressed_texture_pvrtc") ||
          e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
        atc: e.getExtension("WEBGL_compressed_texture_atc"),
        astc: e.getExtension("WEBGL_compressed_texture_astc"),
        bptc: e.getExtension("EXT_texture_compression_bptc"),
        rgtc: e.getExtension("EXT_texture_compression_rgtc"),
        loseContext: e.getExtension("WEBGL_lose_context"),
      };
    if (this.webGLVersion === 1)
      this.extensions = TP(Pf({}, t), {
        drawBuffers: e.getExtension("WEBGL_draw_buffers"),
        depthTexture: e.getExtension("WEBGL_depth_texture"),
        vertexArrayObject:
          e.getExtension("OES_vertex_array_object") ||
          e.getExtension("MOZ_OES_vertex_array_object") ||
          e.getExtension("WEBKIT_OES_vertex_array_object"),
        uint32ElementIndex: e.getExtension("OES_element_index_uint"),
        floatTexture: e.getExtension("OES_texture_float"),
        floatTextureLinear: e.getExtension("OES_texture_float_linear"),
        textureHalfFloat: e.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: e.getExtension("OES_texture_half_float_linear"),
        vertexAttribDivisorANGLE: e.getExtension("ANGLE_instanced_arrays"),
        srgb: e.getExtension("EXT_sRGB"),
      });
    else {
      this.extensions = TP(Pf({}, t), {
        colorBufferFloat: e.getExtension("EXT_color_buffer_float"),
      });
      const n = e.getExtension("WEBGL_provoking_vertex");
      n && n.provokingVertexWEBGL(n.FIRST_VERTEX_CONVENTION_WEBGL);
    }
  }
  handleContextLost(e) {
    e.preventDefault(),
      this._contextLossForced &&
        ((this._contextLossForced = !1),
        setTimeout(() => {
          var t;
          this.gl.isContextLost() &&
            ((t = this.extensions.loseContext) == null || t.restoreContext());
        }, 0));
  }
  handleContextRestored() {
    this._renderer.runners.contextChange.emit(this.gl);
  }
  destroy() {
    var e;
    const t = this._renderer.view.canvas;
    (this._renderer = null),
      t.removeEventListener("webglcontextlost", this.handleContextLost),
      t.removeEventListener("webglcontextrestored", this.handleContextRestored),
      this.gl.useProgram(null),
      (e = this.extensions.loseContext) == null || e.loseContext();
  }
  forceContextLoss() {
    var e;
    (e = this.extensions.loseContext) == null || e.loseContext(),
      (this._contextLossForced = !0);
  }
  validateContext(e) {
    const t = e.getContextAttributes();
    t &&
      !t.stencil &&
      Be(
        "Provided WebGL context does not have a stencil buffer, masks may not render correctly"
      );
    const n = this.supports,
      i = this.webGLVersion === 2,
      s = this.extensions;
    (n.uint32Indices = i || !!s.uint32ElementIndex),
      (n.uniformBufferObject = i),
      (n.vertexArrayObject = i || !!s.vertexArrayObject),
      (n.srgbTextures = i || !!s.srgb),
      (n.nonPowOf2wrapping = i),
      (n.nonPowOf2mipmaps = i),
      (n.msaa = i),
      n.uint32Indices ||
        Be(
          "Provided WebGL context does not support 32 index buffer, large scenes may not render correctly"
        );
  }
};
a1.extension = { type: [W.WebGLSystem], name: "context" };
a1.defaultOptions = {
  context: null,
  premultipliedAlpha: !0,
  preserveDrawingBuffer: !1,
  powerPreference: void 0,
  preferWebGLVersion: 2,
};
let yte = a1;
function hF(r, e) {
  var t, n, i, s;
  for (const o in r.attributes) {
    const a = r.attributes[o],
      l = e[o];
    l
      ? ((t = a.location) != null || (a.location = l.location),
        (n = a.format) != null || (a.format = l.format),
        (i = a.offset) != null || (a.offset = l.offset),
        (s = a.instance) != null || (a.instance = l.instance))
      : Be(
          `Attribute ${o} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`
        );
  }
  vte(r);
}
function vte(r) {
  var e, t;
  const { buffers: n, attributes: i } = r,
    s = {},
    o = {};
  for (const a in n) {
    const l = n[a];
    (s[l.uid] = 0), (o[l.uid] = 0);
  }
  for (const a in i) {
    const l = i[a];
    s[l.buffer.uid] += Xh(l.format).stride;
  }
  for (const a in i) {
    const l = i[a];
    (e = l.stride) != null || (l.stride = s[l.buffer.uid]),
      (t = l.start) != null || (l.start = o[l.buffer.uid]),
      (o[l.buffer.uid] += Xh(l.format).stride);
  }
}
var Ax = ((r) => (
    (r[(r.RGBA = 6408)] = "RGBA"),
    (r[(r.RGB = 6407)] = "RGB"),
    (r[(r.RG = 33319)] = "RG"),
    (r[(r.RED = 6403)] = "RED"),
    (r[(r.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
    (r[(r.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
    (r[(r.RG_INTEGER = 33320)] = "RG_INTEGER"),
    (r[(r.RED_INTEGER = 36244)] = "RED_INTEGER"),
    (r[(r.ALPHA = 6406)] = "ALPHA"),
    (r[(r.LUMINANCE = 6409)] = "LUMINANCE"),
    (r[(r.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
    (r[(r.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
    (r[(r.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL"),
    r
  ))(Ax || {}),
  dF = ((r) => (
    (r[(r.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
    (r[(r.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
    (r[(r.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
    (r[(r.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
      "TEXTURE_CUBE_MAP_POSITIVE_X"),
    (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
      "TEXTURE_CUBE_MAP_NEGATIVE_X"),
    (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
      "TEXTURE_CUBE_MAP_POSITIVE_Y"),
    (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
      "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
    (r[(r.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
      "TEXTURE_CUBE_MAP_POSITIVE_Z"),
    (r[(r.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
      "TEXTURE_CUBE_MAP_NEGATIVE_Z"),
    r
  ))(dF || {}),
  Ze = ((r) => (
    (r[(r.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
    (r[(r.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
    (r[(r.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
    (r[(r.UNSIGNED_SHORT_4_4_4_4 = 32819)] = "UNSIGNED_SHORT_4_4_4_4"),
    (r[(r.UNSIGNED_SHORT_5_5_5_1 = 32820)] = "UNSIGNED_SHORT_5_5_5_1"),
    (r[(r.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
    (r[(r.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
      "UNSIGNED_INT_10F_11F_11F_REV"),
    (r[(r.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
      "UNSIGNED_INT_2_10_10_10_REV"),
    (r[(r.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
    (r[(r.UNSIGNED_INT_5_9_9_9_REV = 35902)] = "UNSIGNED_INT_5_9_9_9_REV"),
    (r[(r.BYTE = 5120)] = "BYTE"),
    (r[(r.SHORT = 5122)] = "SHORT"),
    (r[(r.INT = 5124)] = "INT"),
    (r[(r.FLOAT = 5126)] = "FLOAT"),
    (r[(r.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
      "FLOAT_32_UNSIGNED_INT_24_8_REV"),
    (r[(r.HALF_FLOAT = 36193)] = "HALF_FLOAT"),
    r
  ))(Ze || {});
const kP = {
  uint8x2: Ze.UNSIGNED_BYTE,
  uint8x4: Ze.UNSIGNED_BYTE,
  sint8x2: Ze.BYTE,
  sint8x4: Ze.BYTE,
  unorm8x2: Ze.UNSIGNED_BYTE,
  unorm8x4: Ze.UNSIGNED_BYTE,
  snorm8x2: Ze.BYTE,
  snorm8x4: Ze.BYTE,
  uint16x2: Ze.UNSIGNED_SHORT,
  uint16x4: Ze.UNSIGNED_SHORT,
  sint16x2: Ze.SHORT,
  sint16x4: Ze.SHORT,
  unorm16x2: Ze.UNSIGNED_SHORT,
  unorm16x4: Ze.UNSIGNED_SHORT,
  snorm16x2: Ze.SHORT,
  snorm16x4: Ze.SHORT,
  float16x2: Ze.HALF_FLOAT,
  float16x4: Ze.HALF_FLOAT,
  float32: Ze.FLOAT,
  float32x2: Ze.FLOAT,
  float32x3: Ze.FLOAT,
  float32x4: Ze.FLOAT,
  uint32: Ze.UNSIGNED_INT,
  uint32x2: Ze.UNSIGNED_INT,
  uint32x3: Ze.UNSIGNED_INT,
  uint32x4: Ze.UNSIGNED_INT,
  sint32: Ze.INT,
  sint32x2: Ze.INT,
  sint32x3: Ze.INT,
  sint32x4: Ze.INT,
};
function xte(r) {
  var e;
  return (e = kP[r]) != null ? e : kP.float32;
}
const wte = {
  "point-list": 0,
  "line-list": 1,
  "line-strip": 3,
  "triangle-list": 4,
  "triangle-strip": 5,
};
class fF {
  constructor(e) {
    (this._geometryVaoHash = Object.create(null)),
      (this._renderer = e),
      (this._activeGeometry = null),
      (this._activeVao = null),
      (this.hasVao = !0),
      (this.hasInstance = !0);
  }
  contextChange() {
    const e = (this.gl = this._renderer.gl);
    if (!this._renderer.context.supports.vertexArrayObject)
      throw new Error(
        "[PixiJS] Vertex Array Objects are not supported on this device"
      );
    const t = this._renderer.context.extensions.vertexArrayObject;
    t &&
      ((e.createVertexArray = () => t.createVertexArrayOES()),
      (e.bindVertexArray = (i) => t.bindVertexArrayOES(i)),
      (e.deleteVertexArray = (i) => t.deleteVertexArrayOES(i)));
    const n = this._renderer.context.extensions.vertexAttribDivisorANGLE;
    n &&
      ((e.drawArraysInstanced = (i, s, o, a) => {
        n.drawArraysInstancedANGLE(i, s, o, a);
      }),
      (e.drawElementsInstanced = (i, s, o, a, l) => {
        n.drawElementsInstancedANGLE(i, s, o, a, l);
      }),
      (e.vertexAttribDivisor = (i, s) => n.vertexAttribDivisorANGLE(i, s))),
      (this._activeGeometry = null),
      (this._activeVao = null),
      (this._geometryVaoHash = Object.create(null));
  }
  bind(e, t) {
    const n = this.gl;
    this._activeGeometry = e;
    const i = this.getVao(e, t);
    this._activeVao !== i && ((this._activeVao = i), n.bindVertexArray(i)),
      this.updateBuffers();
  }
  reset() {
    this.unbind();
  }
  updateBuffers() {
    const e = this._activeGeometry,
      t = this._renderer.buffer;
    for (let n = 0; n < e.buffers.length; n++) {
      const i = e.buffers[n];
      t.updateBuffer(i);
    }
  }
  checkCompatibility(e, t) {
    const n = e.attributes,
      i = t._attributeData;
    for (const s in i)
      if (!n[s])
        throw new Error(
          `shader and geometry incompatible, geometry missing the "${s}" attribute`
        );
  }
  getSignature(e, t) {
    const n = e.attributes,
      i = t._attributeData,
      s = ["g", e.uid];
    for (const o in n) i[o] && s.push(o, i[o].location);
    return s.join("-");
  }
  getVao(e, t) {
    var n;
    return (
      ((n = this._geometryVaoHash[e.uid]) == null ? void 0 : n[t._key]) ||
      this.initGeometryVao(e, t)
    );
  }
  initGeometryVao(e, t, n = !0) {
    const i = this._renderer.gl,
      s = this._renderer.buffer;
    this._renderer.shader._getProgramData(t), this.checkCompatibility(e, t);
    const o = this.getSignature(e, t);
    this._geometryVaoHash[e.uid] ||
      ((this._geometryVaoHash[e.uid] = Object.create(null)),
      e.on("destroy", this.onGeometryDestroy, this));
    const a = this._geometryVaoHash[e.uid];
    let l = a[o];
    if (l) return (a[t._key] = l), l;
    hF(e, t._attributeData);
    const u = e.buffers;
    (l = i.createVertexArray()), i.bindVertexArray(l);
    for (let c = 0; c < u.length; c++) {
      const h = u[c];
      s.bind(h);
    }
    return (
      this.activateVao(e, t),
      (a[t._key] = l),
      (a[o] = l),
      i.bindVertexArray(null),
      l
    );
  }
  onGeometryDestroy(e, t) {
    const n = this._geometryVaoHash[e.uid],
      i = this.gl;
    if (n) {
      if (t)
        for (const s in n)
          this._activeVao !== n[s] && this.unbind(), i.deleteVertexArray(n[s]);
      this._geometryVaoHash[e.uid] = null;
    }
  }
  destroyAll(e = !1) {
    const t = this.gl;
    for (const n in this._geometryVaoHash) {
      if (e)
        for (const i in this._geometryVaoHash[n]) {
          const s = this._geometryVaoHash[n];
          this._activeVao !== s && this.unbind(), t.deleteVertexArray(s[i]);
        }
      this._geometryVaoHash[n] = null;
    }
  }
  activateVao(e, t) {
    var n, i;
    const s = this._renderer.gl,
      o = this._renderer.buffer,
      a = e.attributes;
    e.indexBuffer && o.bind(e.indexBuffer);
    let l = null;
    for (const u in a) {
      const c = a[u],
        h = c.buffer,
        d = o.getGlBuffer(h),
        f = t._attributeData[u];
      if (f) {
        l !== d && (o.bind(h), (l = d));
        const m = c.location;
        s.enableVertexAttribArray(m);
        const g = Xh(c.format),
          _ = xte(c.format);
        if (
          (((n = f.format) == null ? void 0 : n.substring(1, 4)) === "int"
            ? s.vertexAttribIPointer(m, g.size, _, c.stride, c.offset)
            : s.vertexAttribPointer(
                m,
                g.size,
                _,
                g.normalised,
                c.stride,
                c.offset
              ),
          c.instance)
        )
          if (this.hasInstance) {
            const v = (i = c.divisor) != null ? i : 1;
            s.vertexAttribDivisor(m, v);
          } else
            throw new Error(
              "geometry error, GPU Instancing is not supported on this device"
            );
      }
    }
  }
  draw(e, t, n, i) {
    const { gl: s } = this._renderer,
      o = this._activeGeometry,
      a = wte[o.topology || e];
    if ((i || (i = o.instanceCount), o.indexBuffer)) {
      const l = o.indexBuffer.data.BYTES_PER_ELEMENT,
        u = l === 2 ? s.UNSIGNED_SHORT : s.UNSIGNED_INT;
      i > 1
        ? s.drawElementsInstanced(
            a,
            t || o.indexBuffer.data.length,
            u,
            (n || 0) * l,
            i
          )
        : s.drawElements(a, t || o.indexBuffer.data.length, u, (n || 0) * l);
    } else
      i > 1
        ? s.drawArraysInstanced(a, n || 0, t || o.getSize(), i)
        : s.drawArrays(a, n || 0, t || o.getSize());
    return this;
  }
  unbind() {
    this.gl.bindVertexArray(null),
      (this._activeVao = null),
      (this._activeGeometry = null);
  }
  destroy() {
    (this._renderer = null),
      (this.gl = null),
      (this._activeVao = null),
      (this._activeGeometry = null);
  }
}
fF.extension = { type: [W.WebGLSystem], name: "geometry" };
var bte = Object.defineProperty,
  AP = Object.getOwnPropertySymbols,
  Ste = Object.prototype.hasOwnProperty,
  Ete = Object.prototype.propertyIsEnumerable,
  PP = (r, e, t) =>
    e in r
      ? bte(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  CP = (r, e) => {
    for (var t in e || (e = {})) Ste.call(e, t) && PP(r, t, e[t]);
    if (AP) for (var t of AP(e)) Ete.call(e, t) && PP(r, t, e[t]);
    return r;
  };
const Tte = new md({ attributes: { aPosition: [-1, -1, 3, -1, -1, 3] } }),
  l1 = class pF {
    constructor(e) {
      (this.useBackBuffer = !1),
        (this._useBackBufferThisRender = !1),
        (this._renderer = e);
    }
    init(e = {}) {
      const { useBackBuffer: t, antialias: n } = CP(
        CP({}, pF.defaultOptions),
        e
      );
      (this.useBackBuffer = t),
        (this._antialias = n),
        this._renderer.context.supports.msaa ||
          (Be("antialiasing, is not supported on when using the back buffer"),
          (this._antialias = !1)),
        (this._state = Ds.for2d());
      const i = new ca({
        vertex: `
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,
        fragment: `
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,
        name: "big-triangle",
      });
      this._bigTriangleShader = new Oi({
        glProgram: i,
        resources: { uTexture: fe.WHITE.source },
      });
    }
    renderStart(e) {
      const t = this._renderer.renderTarget.getRenderTarget(e.target);
      if (
        ((this._useBackBufferThisRender = this.useBackBuffer && !!t.isRoot),
        this._useBackBufferThisRender)
      ) {
        const n = this._renderer.renderTarget.getRenderTarget(e.target);
        (this._targetTexture = n.colorTexture),
          (e.target = this._getBackBufferTexture(n.colorTexture));
      }
    }
    renderEnd() {
      this._presentBackBuffer();
    }
    _presentBackBuffer() {
      const e = this._renderer;
      e.renderTarget.finishRenderPass(),
        this._useBackBufferThisRender &&
          (e.renderTarget.bind(this._targetTexture, !1),
          (this._bigTriangleShader.resources.uTexture =
            this._backBufferTexture.source),
          e.encoder.draw({
            geometry: Tte,
            shader: this._bigTriangleShader,
            state: this._state,
          }));
    }
    _getBackBufferTexture(e) {
      return (
        (this._backBufferTexture =
          this._backBufferTexture ||
          new fe({
            source: new br({
              width: e.width,
              height: e.height,
              resolution: e._resolution,
              antialias: this._antialias,
            }),
          })),
        this._backBufferTexture.source.resize(e.width, e.height, e._resolution),
        this._backBufferTexture
      );
    }
    destroy() {
      this._backBufferTexture &&
        (this._backBufferTexture.destroy(), (this._backBufferTexture = null));
    }
  };
l1.extension = { type: [W.WebGLSystem], name: "backBuffer", priority: 1 };
l1.defaultOptions = { useBackBuffer: !1 };
let kte = l1;
class mF {
  constructor(e) {
    (this._colorMaskCache = 15), (this._renderer = e);
  }
  setMask(e) {
    this._colorMaskCache !== e &&
      ((this._colorMaskCache = e),
      this._renderer.gl.colorMask(!!(e & 8), !!(e & 4), !!(e & 2), !!(e & 1)));
  }
}
mF.extension = { type: [W.WebGLSystem], name: "colorMask" };
class gF {
  constructor(e) {
    (this.commandFinished = Promise.resolve()), (this._renderer = e);
  }
  setGeometry(e, t) {
    this._renderer.geometry.bind(e, t.glProgram);
  }
  finishRenderPass() {}
  draw(e) {
    const t = this._renderer,
      {
        geometry: n,
        shader: i,
        state: s,
        skipSync: o,
        topology: a,
        size: l,
        start: u,
        instanceCount: c,
      } = e;
    t.shader.bind(i, o),
      t.geometry.bind(n, t.shader._activeProgram),
      s && t.state.set(s),
      t.geometry.draw(a, l, u, c ?? n.instanceCount);
  }
  destroy() {
    this._renderer = null;
  }
}
gF.extension = { type: [W.WebGLSystem], name: "encoder" };
class Ate {
  constructor() {
    (this.width = -1),
      (this.height = -1),
      (this.msaa = !1),
      (this.msaaRenderBuffer = []);
  }
}
const bl = [];
bl[Mr.NONE] = void 0;
bl[Mr.DISABLED] = { stencilWriteMask: 0, stencilReadMask: 0 };
bl[Mr.RENDERING_MASK_ADD] = {
  stencilFront: { compare: "equal", passOp: "increment-clamp" },
  stencilBack: { compare: "equal", passOp: "increment-clamp" },
};
bl[Mr.RENDERING_MASK_REMOVE] = {
  stencilFront: { compare: "equal", passOp: "decrement-clamp" },
  stencilBack: { compare: "equal", passOp: "decrement-clamp" },
};
bl[Mr.MASK_ACTIVE] = {
  stencilWriteMask: 0,
  stencilFront: { compare: "equal", passOp: "keep" },
  stencilBack: { compare: "equal", passOp: "keep" },
};
class _F {
  constructor(e) {
    (this._stencilCache = {
      enabled: !1,
      stencilReference: 0,
      stencilMode: Mr.NONE,
    }),
      (this._renderTargetStencilState = Object.create(null)),
      e.renderTarget.onRenderTargetChange.add(this);
  }
  contextChange(e) {
    (this._gl = e),
      (this._comparisonFuncMapping = {
        always: e.ALWAYS,
        never: e.NEVER,
        equal: e.EQUAL,
        "not-equal": e.NOTEQUAL,
        less: e.LESS,
        "less-equal": e.LEQUAL,
        greater: e.GREATER,
        "greater-equal": e.GEQUAL,
      }),
      (this._stencilOpsMapping = {
        keep: e.KEEP,
        zero: e.ZERO,
        replace: e.REPLACE,
        invert: e.INVERT,
        "increment-clamp": e.INCR,
        "decrement-clamp": e.DECR,
        "increment-wrap": e.INCR_WRAP,
        "decrement-wrap": e.DECR_WRAP,
      }),
      (this._stencilCache.enabled = !1),
      (this._stencilCache.stencilMode = Mr.NONE),
      (this._stencilCache.stencilReference = 0);
  }
  onRenderTargetChange(e) {
    if (this._activeRenderTarget === e) return;
    this._activeRenderTarget = e;
    let t = this._renderTargetStencilState[e.uid];
    t ||
      (t = this._renderTargetStencilState[e.uid] =
        { stencilMode: Mr.DISABLED, stencilReference: 0 }),
      this.setStencilMode(t.stencilMode, t.stencilReference);
  }
  setStencilMode(e, t) {
    const n = this._renderTargetStencilState[this._activeRenderTarget.uid],
      i = this._gl,
      s = bl[e],
      o = this._stencilCache;
    if (((n.stencilMode = e), (n.stencilReference = t), e === Mr.DISABLED)) {
      this._stencilCache.enabled &&
        ((this._stencilCache.enabled = !1), i.disable(i.STENCIL_TEST));
      return;
    }
    this._stencilCache.enabled ||
      ((this._stencilCache.enabled = !0), i.enable(i.STENCIL_TEST)),
      (e !== o.stencilMode || o.stencilReference !== t) &&
        ((o.stencilMode = e),
        (o.stencilReference = t),
        i.stencilFunc(
          this._comparisonFuncMapping[s.stencilBack.compare],
          t,
          255
        ),
        i.stencilOp(
          i.KEEP,
          i.KEEP,
          this._stencilOpsMapping[s.stencilBack.passOp]
        ));
  }
}
_F.extension = { type: [W.WebGLSystem], name: "stencil" };
class yF {
  constructor(e) {
    (this._syncFunctionHash = Object.create(null)),
      (this._adaptor = e),
      this._systemCheck();
  }
  _systemCheck() {
    if (!dI())
      throw new Error(
        "Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support."
      );
  }
  ensureUniformGroup(e) {
    const t = this.getUniformGroupData(e);
    e.buffer ||
      (e.buffer = new qi({
        data: new Float32Array(t.layout.size / 4),
        usage: rt.UNIFORM | rt.COPY_DST,
      }));
  }
  getUniformGroupData(e) {
    return this._syncFunctionHash[e._signature] || this._initUniformGroup(e);
  }
  _initUniformGroup(e) {
    const t = e._signature;
    let n = this._syncFunctionHash[t];
    if (!n) {
      const i = Object.keys(e.uniformStructures).map(
          (a) => e.uniformStructures[a]
        ),
        s = this._adaptor.createUboElements(i),
        o = this._generateUboSync(s.uboElements);
      n = this._syncFunctionHash[t] = { layout: s, syncFunction: o };
    }
    return this._syncFunctionHash[t];
  }
  _generateUboSync(e) {
    return this._adaptor.generateUboSync(e);
  }
  syncUniformGroup(e, t, n) {
    const i = this.getUniformGroupData(e);
    return (
      e.buffer ||
        (e.buffer = new qi({
          data: new Float32Array(i.layout.size / 4),
          usage: rt.UNIFORM | rt.COPY_DST,
        })),
      t || (t = e.buffer.data),
      n || (n = 0),
      i.syncFunction(e.uniforms, t, n),
      !0
    );
  }
  updateUniformGroup(e) {
    if (e.isStatic && !e._dirtyId) return !1;
    e._dirtyId = 0;
    const t = this.syncUniformGroup(e);
    return e.buffer.update(), t;
  }
  destroy() {
    this._syncFunctionHash = null;
  }
}
const vF = {
  f32: 4,
  "vec2<f32>": 8,
  "vec3<f32>": 12,
  "vec4<f32>": 16,
  "mat2x2<f32>": 16 * 2,
  "mat3x3<f32>": 16 * 3,
  "mat4x4<f32>": 16 * 4,
};
function Pte(r) {
  const e = r.map((s) => ({ data: s, offset: 0, size: 0 }));
  let t = 0,
    n = 0,
    i = 0;
  for (let s = 0; s < e.length; s++) {
    const o = e[s];
    if (((t = vF[o.data.type]), !t))
      throw new Error(`Unknown type ${o.data.type}`);
    if (
      (o.data.size > 1 && (t = Math.max(t, 16) * o.data.size),
      (o.size = t),
      n % t !== 0 && n < 16)
    ) {
      const a = (n % t) % 16;
      (n += a), (i += a);
    }
    n + t > 16
      ? ((i = Math.ceil(i / 16) * 16), (o.offset = i), (i += t), (n = t))
      : ((o.offset = i), (n += t), (i += t));
  }
  return (i = Math.ceil(i / 16) * 16), { uboElements: e, size: i };
}
const Oa = [
  {
    type: "mat3x3<f32>",
    test: (r) => r.value.a !== void 0,
    ubo: `
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,
    uniform: `
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `,
  },
  {
    type: "vec4<f32>",
    test: (r) =>
      r.type === "vec4<f32>" && r.size === 1 && r.value.width !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `,
  },
  {
    type: "vec2<f32>",
    test: (r) => r.type === "vec2<f32>" && r.size === 1 && r.value.x !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `,
  },
  {
    type: "vec4<f32>",
    test: (r) =>
      r.type === "vec4<f32>" && r.size === 1 && r.value.red !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `,
  },
  {
    type: "vec3<f32>",
    test: (r) =>
      r.type === "vec3<f32>" && r.size === 1 && r.value.red !== void 0,
    ubo: `
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,
    uniform: `
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `,
  },
];
function xF(r, e, t, n) {
  const i = [
    `
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `,
  ];
  let s = 0;
  for (let a = 0; a < r.length; a++) {
    const l = r[a],
      u = l.data.name;
    let c = !1,
      h = 0;
    for (let d = 0; d < Oa.length; d++)
      if (Oa[d].test(l.data)) {
        (h = l.offset / 4),
          i.push(
            `name = "${u}";`,
            `offset += ${h - s};`,
            Oa[d][e] || Oa[d].ubo
          ),
          (c = !0);
        break;
      }
    if (!c)
      if (l.data.size > 1) (h = l.offset / 4), i.push(t(l, h - s));
      else {
        const d = n[l.data.type];
        (h = l.offset / 4),
          i.push(`
                    v = uv.${u};
                    offset += ${h - s};
                    ${d};
                `);
      }
    s = h;
  }
  const o = i.join(`
`);
  return new Function("uv", "data", "offset", o);
}
var Cte = Object.defineProperty,
  Rte = Object.defineProperties,
  Dte = Object.getOwnPropertyDescriptors,
  RP = Object.getOwnPropertySymbols,
  Mte = Object.prototype.hasOwnProperty,
  Bte = Object.prototype.propertyIsEnumerable,
  DP = (r, e, t) =>
    e in r
      ? Cte(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Ote = (r, e) => {
    for (var t in e || (e = {})) Mte.call(e, t) && DP(r, t, e[t]);
    if (RP) for (var t of RP(e)) Bte.call(e, t) && DP(r, t, e[t]);
    return r;
  },
  Ite = (r, e) => Rte(r, Dte(e));
function Ml(r, e) {
  return `
        for (let i = 0; i < ${r * e}; i++) {
            data[offset + (((i / ${r})|0) * 4) + (i % ${r})] = v[i];
        }
    `;
}
const wF = {
    f32: `
        data[offset] = v;`,
    i32: `
        data[offset] = v;`,
    "vec2<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];`,
    "vec3<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,
    "vec4<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,
    "mat2x2<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,
    "mat3x3<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,
    "mat4x4<f32>": `
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,
    "mat3x2<f32>": Ml(3, 2),
    "mat4x2<f32>": Ml(4, 2),
    "mat2x3<f32>": Ml(2, 3),
    "mat4x3<f32>": Ml(4, 3),
    "mat2x4<f32>": Ml(2, 4),
    "mat3x4<f32>": Ml(3, 4),
  },
  Fte = Ite(Ote({}, wF), {
    "mat2x2<f32>": `
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `,
  });
function Nte(r, e) {
  const t = Math.max(vF[r.data.type] / 16, 1),
    n = r.data.value.length / r.data.size,
    i = (4 - (n % 4)) % 4;
  return `
        v = uv.${r.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${r.data.size * t}; i++)
        {
            for(var j = 0; j < ${n}; j++)
            {
                data[arrayOffset++] = v[t++];
            }
            ${i !== 0 ? `arrayOffset += ${i};` : ""}
        }
    `;
}
function Lte(r) {
  return xF(r, "uboStd40", Nte, wF);
}
class bF extends yF {
  constructor() {
    super({ createUboElements: Pte, generateUboSync: Lte });
  }
}
bF.extension = { type: [W.WebGLSystem], name: "ubo" };
class Ute {
  constructor() {
    (this._clearColorCache = [0, 0, 0, 0]), (this._viewPortCache = new dt());
  }
  init(e, t) {
    (this._renderer = e),
      (this._renderTargetSystem = t),
      e.runners.contextChange.add(this);
  }
  contextChange() {
    (this._clearColorCache = [0, 0, 0, 0]), (this._viewPortCache = new dt());
  }
  copyToTexture(e, t, n, i, s) {
    const o = this._renderTargetSystem,
      a = this._renderer,
      l = o.getGpuRenderTarget(e),
      u = a.gl;
    return (
      this.finishRenderPass(e),
      u.bindFramebuffer(u.FRAMEBUFFER, l.resolveTargetFramebuffer),
      a.texture.bind(t, 0),
      u.copyTexSubImage2D(
        u.TEXTURE_2D,
        0,
        s.x,
        s.y,
        n.x,
        n.y,
        i.width,
        i.height
      ),
      t
    );
  }
  startRenderPass(e, t = !0, n, i) {
    const s = this._renderTargetSystem,
      o = e.colorTexture,
      a = s.getGpuRenderTarget(e);
    let l = i.y;
    e.isRoot && (l = o.pixelHeight - i.height),
      e.colorTextures.forEach((h) => {
        this._renderer.texture.unbind(h);
      });
    const u = this._renderer.gl;
    u.bindFramebuffer(u.FRAMEBUFFER, a.framebuffer);
    const c = this._viewPortCache;
    (c.x !== i.x ||
      c.y !== l ||
      c.width !== i.width ||
      c.height !== i.height) &&
      ((c.x = i.x),
      (c.y = l),
      (c.width = i.width),
      (c.height = i.height),
      u.viewport(i.x, l, i.width, i.height)),
      !a.depthStencilRenderBuffer &&
        (e.stencil || e.depth) &&
        this._initStencil(a),
      this.clear(e, t, n);
  }
  finishRenderPass(e) {
    const n = this._renderTargetSystem.getGpuRenderTarget(e);
    if (!n.msaa) return;
    const i = this._renderer.gl;
    i.bindFramebuffer(i.FRAMEBUFFER, n.resolveTargetFramebuffer),
      i.bindFramebuffer(i.READ_FRAMEBUFFER, n.framebuffer),
      i.blitFramebuffer(
        0,
        0,
        n.width,
        n.height,
        0,
        0,
        n.width,
        n.height,
        i.COLOR_BUFFER_BIT,
        i.NEAREST
      ),
      i.bindFramebuffer(i.FRAMEBUFFER, n.framebuffer);
  }
  initGpuRenderTarget(e) {
    const t = this._renderer,
      n = t.gl,
      i = new Ate();
    return e.colorTexture.resource === t.gl.canvas
      ? ((i.framebuffer = null), i)
      : (this._initColor(e, i), n.bindFramebuffer(n.FRAMEBUFFER, null), i);
  }
  destroyGpuRenderTarget(e) {
    const t = this._renderer.gl;
    e.framebuffer &&
      (t.deleteFramebuffer(e.framebuffer), (e.framebuffer = null)),
      e.resolveTargetFramebuffer &&
        (t.deleteFramebuffer(e.resolveTargetFramebuffer),
        (e.resolveTargetFramebuffer = null)),
      e.depthStencilRenderBuffer &&
        (t.deleteRenderbuffer(e.depthStencilRenderBuffer),
        (e.depthStencilRenderBuffer = null)),
      e.msaaRenderBuffer.forEach((n) => {
        t.deleteRenderbuffer(n);
      }),
      (e.msaaRenderBuffer = null);
  }
  clear(e, t, n) {
    if (!t) return;
    const i = this._renderTargetSystem;
    typeof t == "boolean" && (t = t ? Hn.ALL : Hn.NONE);
    const s = this._renderer.gl;
    if (t & Hn.COLOR) {
      n ?? (n = i.defaultClearColor);
      const o = this._clearColorCache,
        a = n;
      (o[0] !== a[0] || o[1] !== a[1] || o[2] !== a[2] || o[3] !== a[3]) &&
        ((o[0] = a[0]),
        (o[1] = a[1]),
        (o[2] = a[2]),
        (o[3] = a[3]),
        s.clearColor(a[0], a[1], a[2], a[3]));
    }
    s.clear(t);
  }
  resizeGpuRenderTarget(e) {
    if (e.isRoot) return;
    const n = this._renderTargetSystem.getGpuRenderTarget(e);
    this._resizeColor(e, n), e.stencil && this._resizeStencil(n);
  }
  _initColor(e, t) {
    const n = this._renderer,
      i = n.gl,
      s = i.createFramebuffer();
    if (
      ((t.resolveTargetFramebuffer = s),
      i.bindFramebuffer(i.FRAMEBUFFER, s),
      (t.width = e.colorTexture.source.pixelWidth),
      (t.height = e.colorTexture.source.pixelHeight),
      e.colorTextures.forEach((o, a) => {
        const l = o.source;
        l.antialias &&
          (n.context.supports.msaa
            ? (t.msaa = !0)
            : Be(
                "[RenderTexture] Antialiasing on textures is not supported in WebGL1"
              )),
          n.texture.bindSource(l, 0);
        const c = n.texture.getGlSource(l).texture;
        i.framebufferTexture2D(
          i.FRAMEBUFFER,
          i.COLOR_ATTACHMENT0 + a,
          3553,
          c,
          0
        );
      }),
      t.msaa)
    ) {
      const o = i.createFramebuffer();
      (t.framebuffer = o),
        i.bindFramebuffer(i.FRAMEBUFFER, o),
        e.colorTextures.forEach((a, l) => {
          const u = i.createRenderbuffer();
          t.msaaRenderBuffer[l] = u;
        });
    } else t.framebuffer = s;
    this._resizeColor(e, t);
  }
  _resizeColor(e, t) {
    const n = e.colorTexture.source;
    if (
      ((t.width = n.pixelWidth),
      (t.height = n.pixelHeight),
      e.colorTextures.forEach((i, s) => {
        s !== 0 && i.source.resize(n.width, n.height, n._resolution);
      }),
      t.msaa)
    ) {
      const i = this._renderer,
        s = i.gl,
        o = t.framebuffer;
      s.bindFramebuffer(s.FRAMEBUFFER, o),
        e.colorTextures.forEach((a, l) => {
          const u = a.source;
          i.texture.bindSource(u, 0);
          const h = i.texture.getGlSource(u).internalFormat,
            d = t.msaaRenderBuffer[l];
          s.bindRenderbuffer(s.RENDERBUFFER, d),
            s.renderbufferStorageMultisample(
              s.RENDERBUFFER,
              4,
              h,
              u.pixelWidth,
              u.pixelHeight
            ),
            s.framebufferRenderbuffer(
              s.FRAMEBUFFER,
              s.COLOR_ATTACHMENT0 + l,
              s.RENDERBUFFER,
              d
            );
        });
    }
  }
  _initStencil(e) {
    if (e.framebuffer === null) return;
    const t = this._renderer.gl,
      n = t.createRenderbuffer();
    (e.depthStencilRenderBuffer = n),
      t.bindRenderbuffer(t.RENDERBUFFER, n),
      t.framebufferRenderbuffer(
        t.FRAMEBUFFER,
        t.DEPTH_STENCIL_ATTACHMENT,
        t.RENDERBUFFER,
        n
      ),
      this._resizeStencil(e);
  }
  _resizeStencil(e) {
    const t = this._renderer.gl;
    t.bindRenderbuffer(t.RENDERBUFFER, e.depthStencilRenderBuffer),
      e.msaa
        ? t.renderbufferStorageMultisample(
            t.RENDERBUFFER,
            4,
            t.DEPTH24_STENCIL8,
            e.width,
            e.height
          )
        : t.renderbufferStorage(
            t.RENDERBUFFER,
            this._renderer.context.webGLVersion === 2
              ? t.DEPTH24_STENCIL8
              : t.DEPTH_STENCIL,
            e.width,
            e.height
          );
  }
}
function Gte(r, e, t, n, i, s) {
  const o = s ? 1 : -1;
  return (
    r.identity(),
    (r.a = (1 / n) * 2),
    (r.d = o * ((1 / i) * 2)),
    (r.tx = -1 - e * r.a),
    (r.ty = -o - t * r.d),
    r
  );
}
var jte = Object.defineProperty,
  MP = Object.getOwnPropertySymbols,
  $te = Object.prototype.hasOwnProperty,
  zte = Object.prototype.propertyIsEnumerable,
  BP = (r, e, t) =>
    e in r
      ? jte(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Wte = (r, e) => {
    for (var t in e || (e = {})) $te.call(e, t) && BP(r, t, e[t]);
    if (MP) for (var t of MP(e)) zte.call(e, t) && BP(r, t, e[t]);
    return r;
  };
const Pc = new Map();
function SF(r, e) {
  if (!Pc.has(r)) {
    const t = new fe({ source: new Uu(Wte({ resource: r }, e)) }),
      n = () => {
        Pc.get(r) === t && Pc.delete(r);
      };
    t.once("destroy", n), t.source.once("destroy", n), Pc.set(r, t);
  }
  return Pc.get(r);
}
function Hte(r) {
  const e = r.colorTexture.source.resource;
  return (
    globalThis.HTMLCanvasElement &&
    e instanceof HTMLCanvasElement &&
    document.body.contains(e)
  );
}
var Vte = Object.defineProperty,
  OP = Object.getOwnPropertySymbols,
  Xte = Object.prototype.hasOwnProperty,
  Yte = Object.prototype.propertyIsEnumerable,
  IP = (r, e, t) =>
    e in r
      ? Vte(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  FP = (r, e) => {
    for (var t in e || (e = {})) Xte.call(e, t) && IP(r, t, e[t]);
    if (OP) for (var t of OP(e)) Yte.call(e, t) && IP(r, t, e[t]);
    return r;
  };
const EF = class TF {
  constructor(e = {}) {
    if (
      ((this.uid = Nt("renderTarget")),
      (this.colorTextures = []),
      (this.dirtyId = 0),
      (this.isRoot = !1),
      (this._size = new Float32Array(2)),
      (this._managedColorTextures = !1),
      (e = FP(FP({}, TF.defaultOptions), e)),
      (this.stencil = e.stencil),
      (this.depth = e.depth),
      (this.isRoot = e.isRoot),
      typeof e.colorTextures == "number")
    ) {
      this._managedColorTextures = !0;
      for (let t = 0; t < e.colorTextures; t++)
        this.colorTextures.push(
          new br({
            width: e.width,
            height: e.height,
            resolution: e.resolution,
            antialias: e.antialias,
          })
        );
    } else {
      this.colorTextures = [...e.colorTextures.map((n) => n.source)];
      const t = this.colorTexture.source;
      this.resize(t.width, t.height, t._resolution);
    }
    this.colorTexture.source.on("resize", this.onSourceResize, this),
      (e.depthStencilTexture || this.stencil) &&
        (e.depthStencilTexture instanceof fe ||
        e.depthStencilTexture instanceof br
          ? (this.depthStencilTexture = e.depthStencilTexture.source)
          : this.ensureDepthStencilTexture());
  }
  get size() {
    const e = this._size;
    return (e[0] = this.pixelWidth), (e[1] = this.pixelHeight), e;
  }
  get width() {
    return this.colorTexture.source.width;
  }
  get height() {
    return this.colorTexture.source.height;
  }
  get pixelWidth() {
    return this.colorTexture.source.pixelWidth;
  }
  get pixelHeight() {
    return this.colorTexture.source.pixelHeight;
  }
  get resolution() {
    return this.colorTexture.source._resolution;
  }
  get colorTexture() {
    return this.colorTextures[0];
  }
  onSourceResize(e) {
    this.resize(e.width, e.height, e._resolution, !0);
  }
  ensureDepthStencilTexture() {
    this.depthStencilTexture ||
      (this.depthStencilTexture = new br({
        width: this.width,
        height: this.height,
        resolution: this.resolution,
        format: "depth24plus-stencil8",
        autoGenerateMipmaps: !1,
        antialias: !1,
        mipLevelCount: 1,
      }));
  }
  resize(e, t, n = this.resolution, i = !1) {
    this.dirtyId++,
      this.colorTextures.forEach((s, o) => {
        (i && o === 0) || s.source.resize(e, t, n);
      }),
      this.depthStencilTexture &&
        this.depthStencilTexture.source.resize(e, t, n);
  }
  destroy() {
    this.colorTexture.source.off("resize", this.onSourceResize, this),
      this._managedColorTextures &&
        this.colorTextures.forEach((e) => {
          e.destroy();
        }),
      this.depthStencilTexture &&
        (this.depthStencilTexture.destroy(), delete this.depthStencilTexture);
  }
};
EF.defaultOptions = {
  width: 0,
  height: 0,
  resolution: 1,
  colorTextures: 1,
  stencil: !1,
  depth: !1,
  antialias: !1,
  isRoot: !1,
};
let Px = EF;
class kF {
  constructor(e) {
    (this.rootViewPort = new dt()),
      (this.viewport = new dt()),
      (this.onRenderTargetChange = new fI("onRenderTargetChange")),
      (this.projectionMatrix = new we()),
      (this.defaultClearColor = [0, 0, 0, 0]),
      (this._renderSurfaceToRenderTargetHash = new Map()),
      (this._gpuRenderTargetHash = Object.create(null)),
      (this._renderTargetStack = []),
      (this._renderer = e);
  }
  finishRenderPass() {
    this.adaptor.finishRenderPass(this.renderTarget);
  }
  renderStart({ target: e, clear: t, clearColor: n, frame: i }) {
    (this._renderTargetStack.length = 0),
      this.push(e, t, n, i),
      this.rootViewPort.copyFrom(this.viewport),
      (this.rootRenderTarget = this.renderTarget),
      (this.renderingToScreen = Hte(this.rootRenderTarget));
  }
  bind(e, t = !0, n, i) {
    const s = this.getRenderTarget(e),
      o = this.renderTarget !== s;
    (this.renderTarget = s), (this.renderSurface = e);
    const a = this.getGpuRenderTarget(s);
    (s.pixelWidth !== a.width || s.pixelHeight !== a.height) &&
      (this.adaptor.resizeGpuRenderTarget(s),
      (a.width = s.pixelWidth),
      (a.height = s.pixelHeight));
    const l = s.colorTexture,
      u = this.viewport,
      c = l.pixelWidth,
      h = l.pixelHeight;
    if ((!i && e instanceof fe && (i = e.frame), i)) {
      const d = l._resolution;
      (u.x = (i.x * d + 0.5) | 0),
        (u.y = (i.y * d + 0.5) | 0),
        (u.width = (i.width * d + 0.5) | 0),
        (u.height = (i.height * d + 0.5) | 0);
    } else (u.x = 0), (u.y = 0), (u.width = c), (u.height = h);
    return (
      Gte(
        this.projectionMatrix,
        0,
        0,
        u.width / l.resolution,
        u.height / l.resolution,
        !s.isRoot
      ),
      this.adaptor.startRenderPass(s, t, n, u),
      o && this.onRenderTargetChange.emit(s),
      s
    );
  }
  clear(e, t = Hn.ALL, n) {
    t &&
      (e && (e = this.getRenderTarget(e)),
      this.adaptor.clear(e || this.renderTarget, t, n, this.viewport));
  }
  contextChange() {
    this._gpuRenderTargetHash = Object.create(null);
  }
  push(e, t = Hn.ALL, n, i) {
    const s = this.bind(e, t, n, i);
    return this._renderTargetStack.push({ renderTarget: s, frame: i }), s;
  }
  pop() {
    this._renderTargetStack.pop();
    const e = this._renderTargetStack[this._renderTargetStack.length - 1];
    this.bind(e.renderTarget, !1, null, e.frame);
  }
  getRenderTarget(e) {
    var t;
    return (
      e.isTexture && (e = e.source),
      (t = this._renderSurfaceToRenderTargetHash.get(e)) != null
        ? t
        : this._initRenderTarget(e)
    );
  }
  copyToTexture(e, t, n, i, s) {
    n.x < 0 && ((i.width += n.x), (s.x -= n.x), (n.x = 0)),
      n.y < 0 && ((i.height += n.y), (s.y -= n.y), (n.y = 0));
    const { pixelWidth: o, pixelHeight: a } = e;
    return (
      (i.width = Math.min(i.width, o - n.x)),
      (i.height = Math.min(i.height, a - n.y)),
      this.adaptor.copyToTexture(e, t, n, i, s)
    );
  }
  ensureDepthStencil() {
    this.renderTarget.stencil ||
      ((this.renderTarget.stencil = !0),
      this.adaptor.startRenderPass(this.renderTarget, !1, null, this.viewport));
  }
  destroy() {
    (this._renderer = null),
      this._renderSurfaceToRenderTargetHash.forEach((e, t) => {
        e !== t && e.destroy();
      }),
      this._renderSurfaceToRenderTargetHash.clear(),
      (this._gpuRenderTargetHash = Object.create(null));
  }
  _initRenderTarget(e) {
    let t = null;
    return (
      Uu.test(e) && (e = SF(e).source),
      e instanceof Px
        ? (t = e)
        : e instanceof br &&
          ((t = new Px({ colorTextures: [e] })),
          Uu.test(e.source.resource) && (t.isRoot = !0),
          e.once("destroy", () => {
            t.destroy();
            const n = this._gpuRenderTargetHash[t.uid];
            n &&
              ((this._gpuRenderTargetHash[t.uid] = null),
              this.adaptor.destroyGpuRenderTarget(n));
          })),
      this._renderSurfaceToRenderTargetHash.set(e, t),
      t
    );
  }
  getGpuRenderTarget(e) {
    return (
      this._gpuRenderTargetHash[e.uid] ||
      (this._gpuRenderTargetHash[e.uid] = this.adaptor.initGpuRenderTarget(e))
    );
  }
}
class AF extends kF {
  constructor(e) {
    super(e), (this.adaptor = new Ute()), this.adaptor.init(e, this);
  }
}
AF.extension = { type: [W.WebGLSystem], name: "renderTarget" };
class u1 extends si {
  constructor({ buffer: e, offset: t, size: n }) {
    super(),
      (this.uid = Nt("buffer")),
      (this._resourceType = "bufferResource"),
      (this._touched = 0),
      (this._resourceId = Nt("resource")),
      (this._bufferResource = !0),
      (this.destroyed = !1),
      (this.buffer = e),
      (this.offset = t | 0),
      (this.size = n),
      this.buffer.on("change", this.onBufferChange, this);
  }
  onBufferChange() {
    (this._resourceId = Nt("resource")), this.emit("change", this);
  }
  destroy(e = !1) {
    (this.destroyed = !0),
      e && this.buffer.destroy(),
      this.emit("change", this),
      (this.buffer = null);
  }
}
function Kte(r, e) {
  const t = [],
    n = [
      `
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `,
    ];
  let i = !1,
    s = 0,
    o = 0;
  const a = e._getProgramData(r.glProgram);
  for (const u in r.groups) {
    const c = r.groups[u];
    t.push(`
            resources = g[${u}].resources;
        `);
    for (const h in c.resources) {
      const d = c.resources[h];
      if (d instanceof dn)
        d.ubo
          ? t.push(`
                        sS.bindUniformBlock(
                            resources[${h}],
                            sS._uniformBindMap[${u}[${h}],
                            ${s++}
                        );
                    `)
          : t.push(`
                        ugS.updateUniformGroup(resources[${h}], p, sD);
                    `);
      else if (d instanceof u1)
        t.push(`
                    sS.bindUniformBlock(
                        resources[${h}],
                        sS._uniformBindMap[${u}[${h}],
                        ${s++}
                    );
                `);
      else if (d instanceof br) {
        const f = r._uniformBindMap[u][h],
          m = a.uniformData[f];
        m &&
          (i ||
            ((i = !0),
            n.push(`
                        var tS = r.texture;
                        `)),
          e._gl.uniform1i(m.location, o),
          t.push(`
                        tS.bind(resources[${h}], ${o});
                    `),
          o++);
      }
    }
  }
  const l = [...n, ...t].join(`
`);
  return new Function("r", "s", "sD", l);
}
class qte {
  constructor(e, t) {
    (this.program = e),
      (this.uniformData = t),
      (this.uniformGroups = {}),
      (this.uniformDirtyGroups = {}),
      (this.uniformBlockBindings = {});
  }
  destroy() {
    (this.uniformData = null),
      (this.uniformGroups = null),
      (this.uniformDirtyGroups = null),
      (this.uniformBlockBindings = null),
      (this.program = null);
  }
}
function NP(r, e, t) {
  const n = r.createShader(e);
  return r.shaderSource(n, t), r.compileShader(n), n;
}
function ny(r) {
  const e = new Array(r);
  for (let t = 0; t < e.length; t++) e[t] = !1;
  return e;
}
function PF(r, e) {
  switch (r) {
    case "float":
      return 0;
    case "vec2":
      return new Float32Array(2 * e);
    case "vec3":
      return new Float32Array(3 * e);
    case "vec4":
      return new Float32Array(4 * e);
    case "int":
    case "uint":
    case "sampler2D":
    case "sampler2DArray":
      return 0;
    case "ivec2":
      return new Int32Array(2 * e);
    case "ivec3":
      return new Int32Array(3 * e);
    case "ivec4":
      return new Int32Array(4 * e);
    case "uvec2":
      return new Uint32Array(2 * e);
    case "uvec3":
      return new Uint32Array(3 * e);
    case "uvec4":
      return new Uint32Array(4 * e);
    case "bool":
      return !1;
    case "bvec2":
      return ny(2 * e);
    case "bvec3":
      return ny(3 * e);
    case "bvec4":
      return ny(4 * e);
    case "mat2":
      return new Float32Array([1, 0, 0, 1]);
    case "mat3":
      return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
    case "mat4":
      return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
  }
  return null;
}
let Cf = null;
const LP = {
    FLOAT: "float",
    FLOAT_VEC2: "vec2",
    FLOAT_VEC3: "vec3",
    FLOAT_VEC4: "vec4",
    INT: "int",
    INT_VEC2: "ivec2",
    INT_VEC3: "ivec3",
    INT_VEC4: "ivec4",
    UNSIGNED_INT: "uint",
    UNSIGNED_INT_VEC2: "uvec2",
    UNSIGNED_INT_VEC3: "uvec3",
    UNSIGNED_INT_VEC4: "uvec4",
    BOOL: "bool",
    BOOL_VEC2: "bvec2",
    BOOL_VEC3: "bvec3",
    BOOL_VEC4: "bvec4",
    FLOAT_MAT2: "mat2",
    FLOAT_MAT3: "mat3",
    FLOAT_MAT4: "mat4",
    SAMPLER_2D: "sampler2D",
    INT_SAMPLER_2D: "sampler2D",
    UNSIGNED_INT_SAMPLER_2D: "sampler2D",
    SAMPLER_CUBE: "samplerCube",
    INT_SAMPLER_CUBE: "samplerCube",
    UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
    SAMPLER_2D_ARRAY: "sampler2DArray",
    INT_SAMPLER_2D_ARRAY: "sampler2DArray",
    UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray",
  },
  Zte = {
    float: "float32",
    vec2: "float32x2",
    vec3: "float32x3",
    vec4: "float32x4",
    int: "sint32",
    ivec2: "sint32x2",
    ivec3: "sint32x3",
    ivec4: "sint32x4",
    uint: "uint32",
    uvec2: "uint32x2",
    uvec3: "uint32x3",
    uvec4: "uint32x4",
    bool: "uint32",
    bvec2: "uint32x2",
    bvec3: "uint32x3",
    bvec4: "uint32x4",
  };
function CF(r, e) {
  if (!Cf) {
    const t = Object.keys(LP);
    Cf = {};
    for (let n = 0; n < t.length; ++n) {
      const i = t[n];
      Cf[r[i]] = LP[i];
    }
  }
  return Cf[e];
}
function Qte(r, e) {
  const t = CF(r, e);
  return Zte[t] || "float32";
}
function Jte(r, e, t = !1) {
  const n = {},
    i = e.getProgramParameter(r, e.ACTIVE_ATTRIBUTES);
  for (let o = 0; o < i; o++) {
    const a = e.getActiveAttrib(r, o);
    if (a.name.startsWith("gl_")) continue;
    const l = Qte(e, a.type);
    n[a.name] = {
      location: 0,
      format: l,
      stride: Xh(l).stride,
      offset: 0,
      instance: !1,
      start: 0,
    };
  }
  const s = Object.keys(n);
  if (t) {
    s.sort((o, a) => (o > a ? 1 : -1));
    for (let o = 0; o < s.length; o++)
      (n[s[o]].location = o), e.bindAttribLocation(r, o, s[o]);
    e.linkProgram(r);
  } else
    for (let o = 0; o < s.length; o++)
      n[s[o]].location = e.getAttribLocation(r, s[o]);
  return n;
}
function ere(r, e) {
  if (!e.ACTIVE_UNIFORM_BLOCKS) return {};
  const t = {},
    n = e.getProgramParameter(r, e.ACTIVE_UNIFORM_BLOCKS);
  for (let i = 0; i < n; i++) {
    const s = e.getActiveUniformBlockName(r, i),
      o = e.getUniformBlockIndex(r, s),
      a = e.getActiveUniformBlockParameter(r, i, e.UNIFORM_BLOCK_DATA_SIZE);
    t[s] = { name: s, index: o, size: a };
  }
  return t;
}
function tre(r, e) {
  const t = {},
    n = e.getProgramParameter(r, e.ACTIVE_UNIFORMS);
  for (let i = 0; i < n; i++) {
    const s = e.getActiveUniform(r, i),
      o = s.name.replace(/\[.*?\]$/, ""),
      a = !!s.name.match(/\[.*?\]$/),
      l = CF(e, s.type);
    t[o] = {
      name: o,
      index: i,
      type: l,
      size: s.size,
      isArray: a,
      value: PF(l, s.size),
    };
  }
  return t;
}
function UP(r, e) {
  const t = r
      .getShaderSource(e)
      .split(
        `
`
      )
      .map((u, c) => `${c}: ${u}`),
    n = r.getShaderInfoLog(e),
    i = n.split(`
`),
    s = {},
    o = i
      .map((u) => parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1")))
      .filter((u) => (u && !s[u] ? ((s[u] = !0), !0) : !1)),
    a = [""];
  o.forEach((u) => {
    (t[u - 1] = `%c${t[u - 1]}%c`),
      a.push(
        "background: #FF0000; color:#FFFFFF; font-size: 10px",
        "font-size: 10px"
      );
  });
  const l = t.join(`
`);
  (a[0] = l),
    console.error(n),
    console.groupCollapsed("click to view full shader code"),
    console.warn(...a),
    console.groupEnd();
}
function rre(r, e, t, n) {
  r.getProgramParameter(e, r.LINK_STATUS) ||
    (r.getShaderParameter(t, r.COMPILE_STATUS) || UP(r, t),
    r.getShaderParameter(n, r.COMPILE_STATUS) || UP(r, n),
    console.error("PixiJS Error: Could not initialize shader."),
    r.getProgramInfoLog(e) !== "" &&
      console.warn(
        "PixiJS Warning: gl.getProgramInfoLog()",
        r.getProgramInfoLog(e)
      ));
}
function nre(r, e) {
  const t = NP(r, r.VERTEX_SHADER, e.vertex),
    n = NP(r, r.FRAGMENT_SHADER, e.fragment),
    i = r.createProgram();
  r.attachShader(i, t), r.attachShader(i, n);
  const s = e.transformFeedbackVaryings;
  s &&
    (typeof r.transformFeedbackVaryings != "function"
      ? Be(
          "TransformFeedback is not supported but TransformFeedbackVaryings are given."
        )
      : r.transformFeedbackVaryings(
          i,
          s.names,
          s.bufferMode === "separate"
            ? r.SEPARATE_ATTRIBS
            : r.INTERLEAVED_ATTRIBS
        )),
    r.linkProgram(i),
    r.getProgramParameter(i, r.LINK_STATUS) || rre(r, i, t, n),
    (e._attributeData = Jte(
      i,
      r,
      !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)
    )),
    (e._uniformData = tre(i, r)),
    (e._uniformBlockData = ere(i, r)),
    r.deleteShader(t),
    r.deleteShader(n);
  const o = {};
  for (const l in e._uniformData) {
    const u = e._uniformData[l];
    o[l] = { location: r.getUniformLocation(i, l), value: PF(u.type, u.size) };
  }
  return new qte(i, o);
}
const Rf = { textureCount: 0, blockIndex: 0 };
class RF {
  constructor(e) {
    (this._activeProgram = null),
      (this._programDataHash = Object.create(null)),
      (this._nextIndex = 0),
      (this._boundUniformsIdsToIndexHash = Object.create(null)),
      (this._boundIndexToUniformsHash = Object.create(null)),
      (this._shaderSyncFunctions = Object.create(null)),
      (this._renderer = e);
  }
  contextChange(e) {
    (this._gl = e),
      (this._maxBindings = e.MAX_UNIFORM_BUFFER_BINDINGS
        ? e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS)
        : 0),
      (this._programDataHash = Object.create(null)),
      (this._boundUniformsIdsToIndexHash = Object.create(null)),
      (this._boundIndexToUniformsHash = Object.create(null)),
      (this._shaderSyncFunctions = Object.create(null)),
      (this._activeProgram = null);
  }
  bind(e, t) {
    if ((this._setProgram(e.glProgram), t)) return;
    (Rf.textureCount = 0), (Rf.blockIndex = 0);
    let n = this._shaderSyncFunctions[e.glProgram._key];
    n ||
      (n = this._shaderSyncFunctions[e.glProgram._key] =
        this._generateShaderSync(e, this)),
      n(this._renderer, e, Rf);
  }
  updateUniformGroup(e) {
    this._renderer.uniformGroup.updateUniformGroup(e, this._activeProgram, Rf);
  }
  bindUniformBlock(e, t, n = 0) {
    const i = this._renderer.buffer,
      s = this._getProgramData(this._activeProgram),
      o = e._bufferResource;
    o && this._renderer.ubo.updateUniformGroup(e), i.updateBuffer(e.buffer);
    let a = this._boundUniformsIdsToIndexHash[e.uid];
    if (a === void 0) {
      const c = this._nextIndex++ % this._maxBindings,
        h = this._boundIndexToUniformsHash[c];
      h && (this._boundUniformsIdsToIndexHash[h.uid] = void 0),
        (a = this._boundUniformsIdsToIndexHash[e.uid] = c),
        (this._boundIndexToUniformsHash[c] = e),
        o
          ? i.bindBufferRange(e.buffer, c, e.offset)
          : i.bindBufferBase(e.buffer, c);
    }
    const l = this._gl,
      u = this._activeProgram._uniformBlockData[t].index;
    s.uniformBlockBindings[n] !== a &&
      ((s.uniformBlockBindings[n] = a), l.uniformBlockBinding(s.program, u, a));
  }
  _setProgram(e) {
    if (this._activeProgram === e) return;
    this._activeProgram = e;
    const t = this._getProgramData(e);
    this._gl.useProgram(t.program);
  }
  _getProgramData(e) {
    return this._programDataHash[e._key] || this._createProgramData(e);
  }
  _createProgramData(e) {
    const t = e._key;
    return (
      (this._programDataHash[t] = nre(this._gl, e)), this._programDataHash[t]
    );
  }
  destroy() {
    for (const e of Object.keys(this._programDataHash))
      this._programDataHash[e].destroy(), (this._programDataHash[e] = null);
    (this._programDataHash = null), (this._boundUniformsIdsToIndexHash = null);
  }
  _generateShaderSync(e, t) {
    return Kte(e, t);
  }
}
RF.extension = { type: [W.WebGLSystem], name: "shader" };
const ire = {
    f32: `if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,
    "vec2<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,
    "vec3<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,
    "vec4<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,
    i32: `if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,
    "vec2<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,
    "vec3<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,
    "vec4<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,
    u32: `if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,
    "vec2<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,
    "vec3<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,
    "vec4<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,
    bool: `if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,
    "vec2<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,
    "vec3<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,
    "vec4<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,
    "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
    "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
    "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);",
  },
  sre = {
    f32: "gl.uniform1fv(location, v);",
    "vec2<f32>": "gl.uniform2fv(location, v);",
    "vec3<f32>": "gl.uniform3fv(location, v);",
    "vec4<f32>": "gl.uniform4fv(location, v);",
    "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
    "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
    "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);",
    i32: "gl.uniform1iv(location, v);",
    "vec2<i32>": "gl.uniform2iv(location, v);",
    "vec3<i32>": "gl.uniform3iv(location, v);",
    "vec4<i32>": "gl.uniform4iv(location, v);",
    u32: "gl.uniform1iv(location, v);",
    "vec2<u32>": "gl.uniform2iv(location, v);",
    "vec3<u32>": "gl.uniform3iv(location, v);",
    "vec4<u32>": "gl.uniform4iv(location, v);",
    bool: "gl.uniform1iv(location, v);",
    "vec2<bool>": "gl.uniform2iv(location, v);",
    "vec3<bool>": "gl.uniform3iv(location, v);",
    "vec4<bool>": "gl.uniform4iv(location, v);",
  };
function ore(r, e) {
  const t = [
    `
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `,
  ];
  for (const n in r.uniforms) {
    if (!e[n]) {
      r.uniforms[n] instanceof dn
        ? r.uniforms[n].ubo
          ? t.push(`
                        renderer.shader.bindUniformBlock(uv.${n}, "${n}");
                    `)
          : t.push(`
                        renderer.shader.updateUniformGroup(uv.${n});
                    `)
        : r.uniforms[n] instanceof u1 &&
          t.push(`
                        renderer.shader.bindBufferResource(uv.${n}, "${n}");
                    `);
      continue;
    }
    const i = r.uniformStructures[n];
    let s = !1;
    for (let o = 0; o < Oa.length; o++) {
      const a = Oa[o];
      if (i.type === a.type && a.test(i)) {
        t.push(`name = "${n}";`, Oa[o].uniform), (s = !0);
        break;
      }
    }
    if (!s) {
      const a = (i.size === 1 ? ire : sre)[i.type].replace(
        "location",
        `ud["${n}"].location`
      );
      t.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${a};`);
    }
  }
  return new Function(
    "ud",
    "uv",
    "renderer",
    "syncData",
    t.join(`
`)
  );
}
class DF {
  constructor(e) {
    (this._cache = {}),
      (this._uniformGroupSyncHash = {}),
      (this._renderer = e),
      (this.gl = null),
      (this._cache = {});
  }
  contextChange(e) {
    this.gl = e;
  }
  updateUniformGroup(e, t, n) {
    const i = this._renderer.shader._getProgramData(t);
    (!e.isStatic || e._dirtyId !== i.uniformDirtyGroups[e.uid]) &&
      ((i.uniformDirtyGroups[e.uid] = e._dirtyId),
      this._getUniformSyncFunction(e, t)(
        i.uniformData,
        e.uniforms,
        this._renderer,
        n
      ));
  }
  _getUniformSyncFunction(e, t) {
    var n;
    return (
      ((n = this._uniformGroupSyncHash[e._signature]) == null
        ? void 0
        : n[t._key]) || this._createUniformSyncFunction(e, t)
    );
  }
  _createUniformSyncFunction(e, t) {
    const n =
        this._uniformGroupSyncHash[e._signature] ||
        (this._uniformGroupSyncHash[e._signature] = {}),
      i = this._getSignature(e, t._uniformData, "u");
    return (
      this._cache[i] ||
        (this._cache[i] = this._generateUniformsSync(e, t._uniformData)),
      (n[t._key] = this._cache[i]),
      n[t._key]
    );
  }
  _generateUniformsSync(e, t) {
    return ore(e, t);
  }
  _getSignature(e, t, n) {
    const i = e.uniforms,
      s = [`${n}-`];
    for (const o in i) s.push(o), t[o] && s.push(t[o].type);
    return s.join("-");
  }
  destroy() {
    (this._renderer = null), (this._cache = null);
  }
}
DF.extension = { type: [W.WebGLSystem], name: "uniformGroup" };
function are(r) {
  const e = {};
  return (
    (e.normal = [r.ONE, r.ONE_MINUS_SRC_ALPHA]),
    (e.add = [r.ONE, r.ONE]),
    (e.multiply = [
      r.DST_COLOR,
      r.ONE_MINUS_SRC_ALPHA,
      r.ONE,
      r.ONE_MINUS_SRC_ALPHA,
    ]),
    (e.screen = [r.ONE, r.ONE_MINUS_SRC_COLOR, r.ONE, r.ONE_MINUS_SRC_ALPHA]),
    (e.none = [0, 0]),
    (e["normal-npm"] = [
      r.SRC_ALPHA,
      r.ONE_MINUS_SRC_ALPHA,
      r.ONE,
      r.ONE_MINUS_SRC_ALPHA,
    ]),
    (e["add-npm"] = [r.SRC_ALPHA, r.ONE, r.ONE, r.ONE]),
    (e["screen-npm"] = [
      r.SRC_ALPHA,
      r.ONE_MINUS_SRC_COLOR,
      r.ONE,
      r.ONE_MINUS_SRC_ALPHA,
    ]),
    (e.erase = [r.ZERO, r.ONE_MINUS_SRC_ALPHA]),
    e
  );
}
const lre = 0,
  ure = 1,
  cre = 2,
  hre = 3,
  dre = 4,
  fre = 5,
  MF = class Cx {
    constructor() {
      (this.gl = null),
        (this.stateId = 0),
        (this.polygonOffset = 0),
        (this.blendMode = "none"),
        (this._blendEq = !1),
        (this.map = []),
        (this.map[lre] = this.setBlend),
        (this.map[ure] = this.setOffset),
        (this.map[cre] = this.setCullFace),
        (this.map[hre] = this.setDepthTest),
        (this.map[dre] = this.setFrontFace),
        (this.map[fre] = this.setDepthMask),
        (this.checks = []),
        (this.defaultState = Ds.for2d());
    }
    contextChange(e) {
      (this.gl = e), (this.blendModesMap = are(e)), this.reset();
    }
    set(e) {
      if (((e = e || this.defaultState), this.stateId !== e.data)) {
        let t = this.stateId ^ e.data,
          n = 0;
        for (; t; )
          t & 1 && this.map[n].call(this, !!(e.data & (1 << n))),
            (t = t >> 1),
            n++;
        this.stateId = e.data;
      }
      for (let t = 0; t < this.checks.length; t++) this.checks[t](this, e);
    }
    forceState(e) {
      e = e || this.defaultState;
      for (let t = 0; t < this.map.length; t++)
        this.map[t].call(this, !!(e.data & (1 << t)));
      for (let t = 0; t < this.checks.length; t++) this.checks[t](this, e);
      this.stateId = e.data;
    }
    setBlend(e) {
      this._updateCheck(Cx._checkBlendMode, e),
        this.gl[e ? "enable" : "disable"](this.gl.BLEND);
    }
    setOffset(e) {
      this._updateCheck(Cx._checkPolygonOffset, e),
        this.gl[e ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
    }
    setDepthTest(e) {
      this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST);
    }
    setDepthMask(e) {
      this.gl.depthMask(e);
    }
    setCullFace(e) {
      this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE);
    }
    setFrontFace(e) {
      this.gl.frontFace(this.gl[e ? "CW" : "CCW"]);
    }
    setBlendMode(e) {
      if ((this.blendModesMap[e] || (e = "normal"), e === this.blendMode))
        return;
      this.blendMode = e;
      const t = this.blendModesMap[e],
        n = this.gl;
      t.length === 2
        ? n.blendFunc(t[0], t[1])
        : n.blendFuncSeparate(t[0], t[1], t[2], t[3]),
        t.length === 6
          ? ((this._blendEq = !0), n.blendEquationSeparate(t[4], t[5]))
          : this._blendEq &&
            ((this._blendEq = !1),
            n.blendEquationSeparate(n.FUNC_ADD, n.FUNC_ADD));
    }
    setPolygonOffset(e, t) {
      this.gl.polygonOffset(e, t);
    }
    reset() {
      this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
        this.forceState(this.defaultState),
        (this._blendEq = !0),
        (this.blendMode = ""),
        this.setBlendMode("normal");
    }
    _updateCheck(e, t) {
      const n = this.checks.indexOf(e);
      t && n === -1
        ? this.checks.push(e)
        : !t && n !== -1 && this.checks.splice(n, 1);
    }
    static _checkBlendMode(e, t) {
      e.setBlendMode(t.blendMode);
    }
    static _checkPolygonOffset(e, t) {
      e.setPolygonOffset(1, t.polygonOffset);
    }
    destroy() {
      (this.gl = null), (this.checks.length = 0);
    }
  };
MF.extension = { type: [W.WebGLSystem], name: "state" };
let pre = MF;
class mre {
  constructor(e) {
    (this.target = dF.TEXTURE_2D),
      (this.texture = e),
      (this.width = -1),
      (this.height = -1),
      (this.type = Ze.UNSIGNED_BYTE),
      (this.internalFormat = Ax.RGBA),
      (this.format = Ax.RGBA),
      (this.samplerType = 0);
  }
}
const gre = {
    id: "buffer",
    upload(r, e, t) {
      e.width === r.width || e.height === r.height
        ? t.texSubImage2D(
            t.TEXTURE_2D,
            0,
            0,
            0,
            r.width,
            r.height,
            e.format,
            e.type,
            r.resource
          )
        : t.texImage2D(
            e.target,
            0,
            e.internalFormat,
            r.width,
            r.height,
            0,
            e.format,
            e.type,
            r.resource
          ),
        (e.width = r.width),
        (e.height = r.height);
    },
  },
  _re = {
    "bc1-rgba-unorm": !0,
    "bc1-rgba-unorm-srgb": !0,
    "bc2-rgba-unorm": !0,
    "bc2-rgba-unorm-srgb": !0,
    "bc3-rgba-unorm": !0,
    "bc3-rgba-unorm-srgb": !0,
    "bc4-r-unorm": !0,
    "bc4-r-snorm": !0,
    "bc5-rg-unorm": !0,
    "bc5-rg-snorm": !0,
    "bc6h-rgb-ufloat": !0,
    "bc6h-rgb-float": !0,
    "bc7-rgba-unorm": !0,
    "bc7-rgba-unorm-srgb": !0,
    "etc2-rgb8unorm": !0,
    "etc2-rgb8unorm-srgb": !0,
    "etc2-rgb8a1unorm": !0,
    "etc2-rgb8a1unorm-srgb": !0,
    "etc2-rgba8unorm": !0,
    "etc2-rgba8unorm-srgb": !0,
    "eac-r11unorm": !0,
    "eac-r11snorm": !0,
    "eac-rg11unorm": !0,
    "eac-rg11snorm": !0,
    "astc-4x4-unorm": !0,
    "astc-4x4-unorm-srgb": !0,
    "astc-5x4-unorm": !0,
    "astc-5x4-unorm-srgb": !0,
    "astc-5x5-unorm": !0,
    "astc-5x5-unorm-srgb": !0,
    "astc-6x5-unorm": !0,
    "astc-6x5-unorm-srgb": !0,
    "astc-6x6-unorm": !0,
    "astc-6x6-unorm-srgb": !0,
    "astc-8x5-unorm": !0,
    "astc-8x5-unorm-srgb": !0,
    "astc-8x6-unorm": !0,
    "astc-8x6-unorm-srgb": !0,
    "astc-8x8-unorm": !0,
    "astc-8x8-unorm-srgb": !0,
    "astc-10x5-unorm": !0,
    "astc-10x5-unorm-srgb": !0,
    "astc-10x6-unorm": !0,
    "astc-10x6-unorm-srgb": !0,
    "astc-10x8-unorm": !0,
    "astc-10x8-unorm-srgb": !0,
    "astc-10x10-unorm": !0,
    "astc-10x10-unorm-srgb": !0,
    "astc-12x10-unorm": !0,
    "astc-12x10-unorm-srgb": !0,
    "astc-12x12-unorm": !0,
    "astc-12x12-unorm-srgb": !0,
  },
  yre = {
    id: "compressed",
    upload(r, e, t) {
      t.pixelStorei(t.UNPACK_ALIGNMENT, 4);
      let n = r.pixelWidth,
        i = r.pixelHeight;
      const s = !!_re[r.format];
      for (let o = 0; o < r.resource.length; o++) {
        const a = r.resource[o];
        s
          ? t.compressedTexImage2D(
              t.TEXTURE_2D,
              o,
              e.internalFormat,
              n,
              i,
              0,
              a
            )
          : t.texImage2D(
              t.TEXTURE_2D,
              o,
              e.internalFormat,
              n,
              i,
              0,
              e.format,
              e.type,
              a
            ),
          (n = Math.max(n >> 1, 1)),
          (i = Math.max(i >> 1, 1));
      }
    },
  },
  BF = {
    id: "image",
    upload(r, e, t, n) {
      const i = r.alphaMode === "premultiply-alpha-on-upload";
      t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i);
      const s = e.width,
        o = e.height,
        a = r.pixelWidth,
        l = r.pixelHeight,
        u = r.resourceWidth,
        c = r.resourceHeight;
      u < a || c < l
        ? ((s !== a || o !== l) &&
            t.texImage2D(
              e.target,
              0,
              e.internalFormat,
              a,
              l,
              0,
              e.format,
              e.type,
              null
            ),
          n === 2
            ? t.texSubImage2D(
                t.TEXTURE_2D,
                0,
                0,
                0,
                u,
                c,
                e.format,
                e.type,
                r.resource
              )
            : t.texSubImage2D(
                t.TEXTURE_2D,
                0,
                0,
                0,
                e.format,
                e.type,
                r.resource
              ))
        : s === a || o === l
        ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, e.format, e.type, r.resource)
        : n === 2
        ? t.texImage2D(
            e.target,
            0,
            e.internalFormat,
            a,
            l,
            0,
            e.format,
            e.type,
            r.resource
          )
        : t.texImage2D(
            e.target,
            0,
            e.internalFormat,
            e.format,
            e.type,
            r.resource
          ),
        (e.width = a),
        (e.height = l);
    },
  },
  vre = {
    id: "video",
    upload(r, e, t, n) {
      if (!r.isValid) {
        t.texImage2D(
          e.target,
          0,
          e.internalFormat,
          1,
          1,
          0,
          e.format,
          e.type,
          null
        );
        return;
      }
      BF.upload(r, e, t, n);
    },
  },
  GP = { linear: 9729, nearest: 9728 },
  xre = {
    linear: { linear: 9987, nearest: 9985 },
    nearest: { linear: 9986, nearest: 9984 },
  },
  iy = { "clamp-to-edge": 33071, repeat: 10497, "mirror-repeat": 33648 },
  wre = {
    never: 512,
    less: 513,
    equal: 514,
    "less-equal": 515,
    greater: 516,
    "not-equal": 517,
    "greater-equal": 518,
    always: 519,
  };
function jP(r, e, t, n, i, s, o, a) {
  const l = s;
  if (
    !a ||
    r.addressModeU !== "repeat" ||
    r.addressModeV !== "repeat" ||
    r.addressModeW !== "repeat"
  ) {
    const u = iy[o ? "clamp-to-edge" : r.addressModeU],
      c = iy[o ? "clamp-to-edge" : r.addressModeV],
      h = iy[o ? "clamp-to-edge" : r.addressModeW];
    e[i](l, e.TEXTURE_WRAP_S, u),
      e[i](l, e.TEXTURE_WRAP_T, c),
      e.TEXTURE_WRAP_R && e[i](l, e.TEXTURE_WRAP_R, h);
  }
  if (
    ((!a || r.magFilter !== "linear") &&
      e[i](l, e.TEXTURE_MAG_FILTER, GP[r.magFilter]),
    t)
  ) {
    if (!a || r.mipmapFilter !== "linear") {
      const u = xre[r.minFilter][r.mipmapFilter];
      e[i](l, e.TEXTURE_MIN_FILTER, u);
    }
  } else e[i](l, e.TEXTURE_MIN_FILTER, GP[r.minFilter]);
  if (n && r.maxAnisotropy > 1) {
    const u = Math.min(
      r.maxAnisotropy,
      e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
    );
    e[i](l, n.TEXTURE_MAX_ANISOTROPY_EXT, u);
  }
  r.compare && e[i](l, e.TEXTURE_COMPARE_FUNC, wre[r.compare]);
}
function bre(r) {
  return {
    r8unorm: r.RED,
    r8snorm: r.RED,
    r8uint: r.RED,
    r8sint: r.RED,
    r16uint: r.RED,
    r16sint: r.RED,
    r16float: r.RED,
    rg8unorm: r.RG,
    rg8snorm: r.RG,
    rg8uint: r.RG,
    rg8sint: r.RG,
    r32uint: r.RED,
    r32sint: r.RED,
    r32float: r.RED,
    rg16uint: r.RG,
    rg16sint: r.RG,
    rg16float: r.RG,
    rgba8unorm: r.RGBA,
    "rgba8unorm-srgb": r.RGBA,
    rgba8snorm: r.RGBA,
    rgba8uint: r.RGBA,
    rgba8sint: r.RGBA,
    bgra8unorm: r.RGBA,
    "bgra8unorm-srgb": r.RGBA,
    rgb9e5ufloat: r.RGB,
    rgb10a2unorm: r.RGBA,
    rg11b10ufloat: r.RGB,
    rg32uint: r.RG,
    rg32sint: r.RG,
    rg32float: r.RG,
    rgba16uint: r.RGBA,
    rgba16sint: r.RGBA,
    rgba16float: r.RGBA,
    rgba32uint: r.RGBA,
    rgba32sint: r.RGBA,
    rgba32float: r.RGBA,
    stencil8: r.STENCIL_INDEX8,
    depth16unorm: r.DEPTH_COMPONENT,
    depth24plus: r.DEPTH_COMPONENT,
    "depth24plus-stencil8": r.DEPTH_STENCIL,
    depth32float: r.DEPTH_COMPONENT,
    "depth32float-stencil8": r.DEPTH_STENCIL,
  };
}
var Sre = Object.defineProperty,
  Ere = Object.defineProperties,
  Tre = Object.getOwnPropertyDescriptors,
  $P = Object.getOwnPropertySymbols,
  kre = Object.prototype.hasOwnProperty,
  Are = Object.prototype.propertyIsEnumerable,
  zP = (r, e, t) =>
    e in r
      ? Sre(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ga = (r, e) => {
    for (var t in e || (e = {})) kre.call(e, t) && zP(r, t, e[t]);
    if ($P) for (var t of $P(e)) Are.call(e, t) && zP(r, t, e[t]);
    return r;
  },
  Pre = (r, e) => Ere(r, Tre(e));
function Cre(r, e) {
  let t = {},
    n = r.RGBA;
  return (
    r instanceof nt.get().getWebGLRenderingContext()
      ? e.srgb &&
        (t = {
          "rgba8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT,
          "bgra8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT,
        })
      : ((t = {
          "rgba8unorm-srgb": r.SRGB8_ALPHA8,
          "bgra8unorm-srgb": r.SRGB8_ALPHA8,
        }),
        (n = r.RGBA8)),
    ga(
      ga(
        ga(
          ga(
            ga(
              ga(
                Pre(
                  ga(
                    {
                      r8unorm: r.R8,
                      r8snorm: r.R8_SNORM,
                      r8uint: r.R8UI,
                      r8sint: r.R8I,
                      r16uint: r.R16UI,
                      r16sint: r.R16I,
                      r16float: r.R16F,
                      rg8unorm: r.RG8,
                      rg8snorm: r.RG8_SNORM,
                      rg8uint: r.RG8UI,
                      rg8sint: r.RG8I,
                      r32uint: r.R32UI,
                      r32sint: r.R32I,
                      r32float: r.R32F,
                      rg16uint: r.RG16UI,
                      rg16sint: r.RG16I,
                      rg16float: r.RG16F,
                      rgba8unorm: r.RGBA,
                    },
                    t
                  ),
                  {
                    rgba8snorm: r.RGBA8_SNORM,
                    rgba8uint: r.RGBA8UI,
                    rgba8sint: r.RGBA8I,
                    bgra8unorm: n,
                    rgb9e5ufloat: r.RGB9_E5,
                    rgb10a2unorm: r.RGB10_A2,
                    rg11b10ufloat: r.R11F_G11F_B10F,
                    rg32uint: r.RG32UI,
                    rg32sint: r.RG32I,
                    rg32float: r.RG32F,
                    rgba16uint: r.RGBA16UI,
                    rgba16sint: r.RGBA16I,
                    rgba16float: r.RGBA16F,
                    rgba32uint: r.RGBA32UI,
                    rgba32sint: r.RGBA32I,
                    rgba32float: r.RGBA32F,
                    stencil8: r.STENCIL_INDEX8,
                    depth16unorm: r.DEPTH_COMPONENT16,
                    depth24plus: r.DEPTH_COMPONENT24,
                    "depth24plus-stencil8": r.DEPTH24_STENCIL8,
                    depth32float: r.DEPTH_COMPONENT32F,
                    "depth32float-stencil8": r.DEPTH32F_STENCIL8,
                  }
                ),
                e.s3tc
                  ? {
                      "bc1-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,
                      "bc2-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,
                      "bc3-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT,
                    }
                  : {}
              ),
              e.s3tc_sRGB
                ? {
                    "bc1-rgba-unorm-srgb":
                      e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
                    "bc2-rgba-unorm-srgb":
                      e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
                    "bc3-rgba-unorm-srgb":
                      e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,
                  }
                : {}
            ),
            e.rgtc
              ? {
                  "bc4-r-unorm": e.rgtc.COMPRESSED_RED_RGTC1_EXT,
                  "bc4-r-snorm": e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,
                  "bc5-rg-unorm": e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,
                  "bc5-rg-snorm": e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT,
                }
              : {}
          ),
          e.bptc
            ? {
                "bc6h-rgb-float": e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,
                "bc6h-rgb-ufloat":
                  e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,
                "bc7-rgba-unorm": e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,
                "bc7-rgba-unorm-srgb":
                  e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT,
              }
            : {}
        ),
        e.etc
          ? {
              "etc2-rgb8unorm": e.etc.COMPRESSED_RGB8_ETC2,
              "etc2-rgb8unorm-srgb": e.etc.COMPRESSED_SRGB8_ETC2,
              "etc2-rgb8a1unorm":
                e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,
              "etc2-rgb8a1unorm-srgb":
                e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,
              "etc2-rgba8unorm": e.etc.COMPRESSED_RGBA8_ETC2_EAC,
              "etc2-rgba8unorm-srgb": e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,
              "eac-r11unorm": e.etc.COMPRESSED_R11_EAC,
              "eac-rg11unorm": e.etc.COMPRESSED_SIGNED_RG11_EAC,
            }
          : {}
      ),
      e.astc
        ? {
            "astc-4x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,
            "astc-4x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,
            "astc-5x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,
            "astc-5x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,
            "astc-5x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,
            "astc-5x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,
            "astc-6x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,
            "astc-6x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,
            "astc-6x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,
            "astc-6x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,
            "astc-8x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,
            "astc-8x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,
            "astc-8x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,
            "astc-8x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,
            "astc-8x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,
            "astc-8x8-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,
            "astc-10x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,
            "astc-10x5-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,
            "astc-10x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,
            "astc-10x6-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,
            "astc-10x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,
            "astc-10x8-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,
            "astc-10x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,
            "astc-10x10-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,
            "astc-12x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,
            "astc-12x10-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,
            "astc-12x12-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,
            "astc-12x12-unorm-srgb":
              e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR,
          }
        : {}
    )
  );
}
function Rre(r) {
  return {
    r8unorm: r.UNSIGNED_BYTE,
    r8snorm: r.BYTE,
    r8uint: r.UNSIGNED_BYTE,
    r8sint: r.BYTE,
    r16uint: r.UNSIGNED_SHORT,
    r16sint: r.SHORT,
    r16float: r.HALF_FLOAT,
    rg8unorm: r.UNSIGNED_BYTE,
    rg8snorm: r.BYTE,
    rg8uint: r.UNSIGNED_BYTE,
    rg8sint: r.BYTE,
    r32uint: r.UNSIGNED_INT,
    r32sint: r.INT,
    r32float: r.FLOAT,
    rg16uint: r.UNSIGNED_SHORT,
    rg16sint: r.SHORT,
    rg16float: r.HALF_FLOAT,
    rgba8unorm: r.UNSIGNED_BYTE,
    "rgba8unorm-srgb": r.UNSIGNED_BYTE,
    rgba8snorm: r.BYTE,
    rgba8uint: r.UNSIGNED_BYTE,
    rgba8sint: r.BYTE,
    bgra8unorm: r.UNSIGNED_BYTE,
    "bgra8unorm-srgb": r.UNSIGNED_BYTE,
    rgb9e5ufloat: r.UNSIGNED_INT_5_9_9_9_REV,
    rgb10a2unorm: r.UNSIGNED_INT_2_10_10_10_REV,
    rg11b10ufloat: r.UNSIGNED_INT_10F_11F_11F_REV,
    rg32uint: r.UNSIGNED_INT,
    rg32sint: r.INT,
    rg32float: r.FLOAT,
    rgba16uint: r.UNSIGNED_SHORT,
    rgba16sint: r.SHORT,
    rgba16float: r.HALF_FLOAT,
    rgba32uint: r.UNSIGNED_INT,
    rgba32sint: r.INT,
    rgba32float: r.FLOAT,
    stencil8: r.UNSIGNED_BYTE,
    depth16unorm: r.UNSIGNED_SHORT,
    depth24plus: r.UNSIGNED_INT,
    "depth24plus-stencil8": r.UNSIGNED_INT_24_8,
    depth32float: r.FLOAT,
    "depth32float-stencil8": r.FLOAT_32_UNSIGNED_INT_24_8_REV,
  };
}
const Dre = 4;
class OF {
  constructor(e) {
    (this.managedTextures = []),
      (this._glTextures = Object.create(null)),
      (this._glSamplers = Object.create(null)),
      (this._boundTextures = []),
      (this._activeTextureLocation = -1),
      (this._boundSamplers = Object.create(null)),
      (this._uploads = { image: BF, buffer: gre, video: vre, compressed: yre }),
      (this._useSeparateSamplers = !1),
      (this._renderer = e);
  }
  contextChange(e) {
    (this._gl = e),
      this._mapFormatToInternalFormat ||
        ((this._mapFormatToInternalFormat = Cre(
          e,
          this._renderer.context.extensions
        )),
        (this._mapFormatToType = Rre(e)),
        (this._mapFormatToFormat = bre(e))),
      (this._glTextures = Object.create(null)),
      (this._glSamplers = Object.create(null)),
      (this._boundSamplers = Object.create(null));
    for (let t = 0; t < 16; t++) this.bind(fe.EMPTY, t);
  }
  initSource(e) {
    this.bind(e);
  }
  bind(e, t = 0) {
    const n = e.source;
    e
      ? (this.bindSource(n, t),
        this._useSeparateSamplers && this._bindSampler(n.style, t))
      : (this.bindSource(null, t),
        this._useSeparateSamplers && this._bindSampler(null, t));
  }
  bindSource(e, t = 0) {
    const n = this._gl;
    if (
      ((e._touched = this._renderer.textureGC.count),
      this._boundTextures[t] !== e)
    ) {
      (this._boundTextures[t] = e),
        this._activateLocation(t),
        (e = e || fe.EMPTY.source);
      const i = this.getGlSource(e);
      n.bindTexture(i.target, i.texture);
    }
  }
  _bindSampler(e, t = 0) {
    const n = this._gl;
    if (!e) {
      (this._boundSamplers[t] = null), n.bindSampler(t, null);
      return;
    }
    const i = this._getGlSampler(e);
    this._boundSamplers[t] !== i &&
      ((this._boundSamplers[t] = i), n.bindSampler(t, i));
  }
  unbind(e) {
    const t = e.source,
      n = this._boundTextures,
      i = this._gl;
    for (let s = 0; s < n.length; s++)
      if (n[s] === t) {
        this._activateLocation(s);
        const o = this.getGlSource(t);
        i.bindTexture(o.target, null), (n[s] = null);
      }
  }
  _activateLocation(e) {
    this._activeTextureLocation !== e &&
      ((this._activeTextureLocation = e),
      this._gl.activeTexture(this._gl.TEXTURE0 + e));
  }
  _initSource(e) {
    const t = this._gl,
      n = new mre(t.createTexture());
    if (
      ((n.type = this._mapFormatToType[e.format]),
      (n.internalFormat = this._mapFormatToInternalFormat[e.format]),
      (n.format = this._mapFormatToFormat[e.format]),
      e.autoGenerateMipmaps &&
        (this._renderer.context.supports.nonPowOf2mipmaps || e.isPowerOfTwo))
    ) {
      const i = Math.max(e.width, e.height);
      e.mipLevelCount = Math.floor(Math.log2(i)) + 1;
    }
    return (
      (this._glTextures[e.uid] = n),
      this.managedTextures.includes(e) ||
        (e.on("update", this.onSourceUpdate, this),
        e.on("resize", this.onSourceUpdate, this),
        e.on("styleChange", this.onStyleChange, this),
        e.on("destroy", this.onSourceDestroy, this),
        e.on("unload", this.onSourceUnload, this),
        e.on("updateMipmaps", this.onUpdateMipmaps, this),
        this.managedTextures.push(e)),
      this.onSourceUpdate(e),
      this.updateStyle(e, !1),
      n
    );
  }
  onStyleChange(e) {
    this.updateStyle(e, !1);
  }
  updateStyle(e, t) {
    const n = this._gl,
      i = this.getGlSource(e);
    n.bindTexture(n.TEXTURE_2D, i.texture),
      (this._boundTextures[this._activeTextureLocation] = e),
      jP(
        e.style,
        n,
        e.mipLevelCount > 1,
        this._renderer.context.extensions.anisotropicFiltering,
        "texParameteri",
        n.TEXTURE_2D,
        !this._renderer.context.supports.nonPowOf2wrapping && !e.isPowerOfTwo,
        t
      );
  }
  onSourceUnload(e) {
    const t = this._glTextures[e.uid];
    t &&
      (this.unbind(e),
      (this._glTextures[e.uid] = null),
      this._gl.deleteTexture(t.texture));
  }
  onSourceUpdate(e) {
    const t = this._gl,
      n = this.getGlSource(e);
    t.bindTexture(t.TEXTURE_2D, n.texture),
      (this._boundTextures[this._activeTextureLocation] = e),
      this._uploads[e.uploadMethodId]
        ? this._uploads[e.uploadMethodId].upload(
            e,
            n,
            t,
            this._renderer.context.webGLVersion
          )
        : t.texImage2D(
            t.TEXTURE_2D,
            0,
            t.RGBA,
            e.pixelWidth,
            e.pixelHeight,
            0,
            t.RGBA,
            t.UNSIGNED_BYTE,
            null
          ),
      e.autoGenerateMipmaps &&
        e.mipLevelCount > 1 &&
        this.onUpdateMipmaps(e, !1);
  }
  onUpdateMipmaps(e, t = !0) {
    t && this.bindSource(e, 0);
    const n = this.getGlSource(e);
    this._gl.generateMipmap(n.target);
  }
  onSourceDestroy(e) {
    e.off("destroy", this.onSourceDestroy, this),
      e.off("update", this.onSourceUpdate, this),
      e.off("resize", this.onSourceUpdate, this),
      e.off("unload", this.onSourceUnload, this),
      e.off("styleChange", this.onStyleChange, this),
      e.off("updateMipmaps", this.onUpdateMipmaps, this),
      this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
      this.onSourceUnload(e);
  }
  _initSampler(e) {
    const t = this._gl,
      n = this._gl.createSampler();
    return (
      (this._glSamplers[e._resourceId] = n),
      jP(
        e,
        t,
        this._boundTextures[this._activeTextureLocation].mipLevelCount > 1,
        this._renderer.context.extensions.anisotropicFiltering,
        "samplerParameteri",
        n,
        !1,
        !0
      ),
      this._glSamplers[e._resourceId]
    );
  }
  _getGlSampler(e) {
    return this._glSamplers[e._resourceId] || this._initSampler(e);
  }
  getGlSource(e) {
    return this._glTextures[e.uid] || this._initSource(e);
  }
  generateCanvas(e) {
    const { pixels: t, width: n, height: i } = this.getPixels(e),
      s = nt.get().createCanvas();
    (s.width = n), (s.height = i);
    const o = s.getContext("2d");
    if (o) {
      const a = o.createImageData(n, i);
      a.data.set(t), o.putImageData(a, 0, 0);
    }
    return s;
  }
  getPixels(e) {
    const t = e.source.resolution,
      n = e.frame,
      i = Math.max(Math.round(n.width * t), 1),
      s = Math.max(Math.round(n.height * t), 1),
      o = new Uint8Array(Dre * i * s),
      a = this._renderer,
      l = a.renderTarget.getRenderTarget(e),
      u = a.renderTarget.getGpuRenderTarget(l),
      c = a.gl;
    return (
      c.bindFramebuffer(c.FRAMEBUFFER, u.resolveTargetFramebuffer),
      c.readPixels(
        Math.round(n.x * t),
        Math.round(n.y * t),
        i,
        s,
        c.RGBA,
        c.UNSIGNED_BYTE,
        o
      ),
      { pixels: new Uint8ClampedArray(o.buffer), width: i, height: s }
    );
  }
  destroy() {
    this.managedTextures.slice().forEach((e) => this.onSourceDestroy(e)),
      (this.managedTextures = null),
      (this._renderer = null);
  }
}
OF.extension = { type: [W.WebGLSystem], name: "texture" };
class IF {
  init() {
    const e = new dn({
        uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
        uTransformMatrix: { value: new we(), type: "mat3x3<f32>" },
        uRound: { value: 0, type: "f32" },
      }),
      t = As(),
      n = _d({ name: "graphics", bits: [Qb, e1(t), i1, vd] });
    this.shader = new Oi({
      glProgram: n,
      resources: { localUniforms: e, batchSamplers: t1(t) },
    });
  }
  execute(e, t) {
    const n = t.context,
      i = n.customShader || this.shader,
      s = e.renderer,
      o = s.graphicsContext,
      { geometry: a, instructions: l } = o.getContextRenderData(n);
    (i.groups[0] = s.globalUniforms.bindGroup),
      s.state.set(e.state),
      s.shader.bind(i),
      s.geometry.bind(a, i.glProgram);
    const u = l.instructions;
    for (let c = 0; c < l.instructionSize; c++) {
      const h = u[c];
      if (h.size) {
        for (let d = 0; d < h.textures.textures.length; d++)
          s.texture.bind(h.textures.textures[d], d);
        s.geometry.draw("triangle-list", h.size, h.start);
      }
    }
  }
  destroy() {
    this.shader.destroy(!0), (this.shader = null);
  }
}
IF.extension = { type: [W.WebGLPipesAdaptor], name: "graphics" };
class FF {
  init() {
    const e = _d({ name: "mesh", bits: [i1, ate, vd] });
    this._shader = new Oi({
      glProgram: e,
      resources: {
        uTexture: fe.EMPTY.source,
        textureUniforms: {
          uTextureMatrix: { type: "mat3x3<f32>", value: new we() },
        },
      },
    });
  }
  execute(e, t) {
    const n = e.renderer;
    let i = t._shader;
    if (i) {
      if (!i.glProgram) {
        Be("Mesh shader has no glProgram", t.shader);
        return;
      }
    } else {
      i = this._shader;
      const s = t.texture,
        o = s.source;
      (i.resources.uTexture = o),
        (i.resources.uSampler = o.style),
        (i.resources.textureUniforms.uniforms.uTextureMatrix =
          s.textureMatrix.mapCoord);
    }
    (i.groups[100] = n.globalUniforms.bindGroup),
      (i.groups[101] = e.localUniformsBindGroup),
      n.encoder.draw({ geometry: t._geometry, shader: i, state: t.state });
  }
  destroy() {
    this._shader.destroy(!0), (this._shader = null);
  }
}
FF.extension = { type: [W.WebGLPipesAdaptor], name: "mesh" };
class NF {
  constructor(e) {
    this._renderer = e;
  }
  addRenderable(e, t) {
    this._renderer.renderPipes.batch.break(t), t.add(e);
  }
  execute(e) {
    e.isRenderable && e.render(this._renderer);
  }
  destroy() {
    this._renderer = null;
  }
}
NF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "customRender",
};
function LF(r, e) {
  const t = r.instructionSet,
    n = t.instructions;
  for (let i = 0; i < t.instructionSize; i++) {
    const s = n[i];
    e[s.renderPipeId].execute(s);
  }
}
class UF {
  constructor(e) {
    this._renderer = e;
  }
  addRenderGroup(e, t) {
    this._renderer.renderPipes.batch.break(t), t.add(e);
  }
  execute(e) {
    e.isRenderable &&
      (this._renderer.globalUniforms.push({
        worldTransformMatrix: e.worldTransform,
        worldColor: e.worldColorAlpha,
      }),
      LF(e, this._renderer.renderPipes),
      this._renderer.globalUniforms.pop());
  }
  destroy() {
    this._renderer = null;
  }
}
UF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "renderGroup",
};
function GF(r, e = []) {
  e.push(r);
  for (let t = 0; t < r.renderGroupChildren.length; t++)
    GF(r.renderGroupChildren[t], e);
  return e;
}
function Mre(r, e, t) {
  const n = (r >> 16) & 255,
    i = (r >> 8) & 255,
    s = r & 255,
    o = (e >> 16) & 255,
    a = (e >> 8) & 255,
    l = e & 255,
    u = n + (o - n) * t,
    c = i + (a - i) * t,
    h = s + (l - s) * t;
  return (u << 16) + (c << 8) + h;
}
const sy = 16777215;
function jF(r, e) {
  return r === sy || e === sy ? r + e - sy : Mre(r, e, 0.5);
}
const Bre = new ft();
function $F(r, e = !1) {
  Ore(r);
  const t = r.childrenToUpdate,
    n = r.updateTick++;
  for (const i in t) {
    const s = Number(i),
      o = t[i],
      a = o.list,
      l = o.index;
    for (let u = 0; u < l; u++) {
      const c = a[u];
      c.parentRenderGroup === r &&
        c.relativeRenderGroupDepth === s &&
        zF(c, n, 0);
    }
    o.index = 0;
  }
  if (e)
    for (let i = 0; i < r.renderGroupChildren.length; i++)
      $F(r.renderGroupChildren[i], e);
}
function Ore(r) {
  const e = r.root;
  let t;
  if (r.renderGroupParent) {
    const n = r.renderGroupParent;
    r.worldTransform.appendFrom(e.relativeGroupTransform, n.worldTransform),
      (r.worldColor = jF(e.groupColor, n.worldColor)),
      (t = e.groupAlpha * n.worldAlpha);
  } else
    r.worldTransform.copyFrom(e.localTransform),
      (r.worldColor = e.localColor),
      (t = e.localAlpha);
  (t = t < 0 ? 0 : t > 1 ? 1 : t),
    (r.worldAlpha = t),
    (r.worldColorAlpha = r.worldColor + (((t * 255) | 0) << 24));
}
function zF(r, e, t) {
  if (e === r.updateTick) return;
  (r.updateTick = e), (r.didChange = !1);
  const n = r.localTransform;
  r.updateLocalTransform();
  const i = r.parent;
  if (
    (i && !i.renderGroup
      ? ((t = t | r._updateFlags),
        r.relativeGroupTransform.appendFrom(n, i.relativeGroupTransform),
        t && WP(r, i, t))
      : ((t = r._updateFlags),
        r.relativeGroupTransform.copyFrom(n),
        t && WP(r, Bre, t)),
    !r.renderGroup)
  ) {
    const s = r.children,
      o = s.length;
    for (let l = 0; l < o; l++) zF(s[l], e, t);
    const a = r.parentRenderGroup;
    r.renderPipeId && !a.structureDidChange && a.updateRenderable(r);
  }
}
function WP(r, e, t) {
  if (t & ix) {
    r.groupColor = jF(r.localColor, e.groupColor);
    let n = r.localAlpha * e.groupAlpha;
    (n = n < 0 ? 0 : n > 1 ? 1 : n),
      (r.groupAlpha = n),
      (r.groupColorAlpha = r.groupColor + (((n * 255) | 0) << 24));
  }
  t & FB &&
    (r.groupBlendMode =
      r.localBlendMode === "inherit" ? e.groupBlendMode : r.localBlendMode),
    t & Qf &&
      (r.globalDisplayStatus = r.localDisplayStatus & e.globalDisplayStatus),
    (r._updateFlags = 0);
}
function Ire(r, e) {
  const { list: t, index: n } = r.childrenRenderablesToUpdate;
  let i = !1;
  for (let s = 0; s < n; s++) {
    const o = t[s];
    if (((i = e[o.renderPipeId].validateRenderable(o)), i)) break;
  }
  return (r.structureDidChange = i), i;
}
const Fre = new we();
class WF {
  constructor(e) {
    this._renderer = e;
  }
  render({ container: e, transform: t }) {
    e.isRenderGroup = !0;
    const n = e.parent,
      i = e.renderGroup.renderGroupParent;
    (e.parent = null), (e.renderGroup.renderGroupParent = null);
    const s = this._renderer,
      o = GF(e.renderGroup, []);
    let a = Fre;
    t &&
      ((a = a.copyFrom(e.renderGroup.localTransform)),
      e.renderGroup.localTransform.copyFrom(t));
    const l = s.renderPipes;
    for (let u = 0; u < o.length; u++) {
      const c = o[u];
      c.runOnRender(),
        (c.instructionSet.renderPipes = l),
        c.structureDidChange || Ire(c, l),
        $F(c),
        c.structureDidChange
          ? ((c.structureDidChange = !1), lte(c, l))
          : Nre(c),
        (c.childrenRenderablesToUpdate.index = 0),
        s.renderPipes.batch.upload(c.instructionSet);
    }
    s.globalUniforms.start({
      worldTransformMatrix: t
        ? e.renderGroup.localTransform
        : e.renderGroup.worldTransform,
      worldColor: e.renderGroup.worldColorAlpha,
    }),
      LF(e.renderGroup, l),
      l.uniformBatch && l.uniformBatch.renderEnd(),
      t && e.renderGroup.localTransform.copyFrom(a),
      (e.parent = n),
      (e.renderGroup.renderGroupParent = i);
  }
  destroy() {
    this._renderer = null;
  }
}
WF.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "renderGroup",
};
function Nre(r) {
  const { list: e, index: t } = r.childrenRenderablesToUpdate;
  for (let n = 0; n < t; n++) {
    const i = e[n];
    i.didViewUpdate && r.updateRenderable(i);
  }
}
class HF {
  constructor(e) {
    (this._gpuSpriteHash = Object.create(null)), (this._renderer = e);
  }
  addRenderable(e, t) {
    const n = this._getGpuSprite(e);
    e._didSpriteUpdate && this._updateBatchableSprite(e, n),
      this._renderer.renderPipes.batch.addToBatch(n);
  }
  updateRenderable(e) {
    const t = this._gpuSpriteHash[e.uid];
    e._didSpriteUpdate && this._updateBatchableSprite(e, t),
      t.batcher.updateElement(t);
  }
  validateRenderable(e) {
    const t = e._texture,
      n = this._getGpuSprite(e);
    return n.texture._source !== t._source
      ? !n.batcher.checkAndUpdateTexture(n, t)
      : !1;
  }
  destroyRenderable(e) {
    const t = this._gpuSpriteHash[e.uid];
    Je.return(t), (this._gpuSpriteHash[e.uid] = null);
  }
  _updateBatchableSprite(e, t) {
    (e._didSpriteUpdate = !1), (t.bounds = e.bounds), (t.texture = e._texture);
  }
  _getGpuSprite(e) {
    return this._gpuSpriteHash[e.uid] || this._initGPUSprite(e);
  }
  _initGPUSprite(e) {
    const t = Je.get(Hb);
    return (
      (t.renderable = e),
      (t.texture = e._texture),
      (t.bounds = e.bounds),
      (t.roundPixels = this._renderer._roundPixels | e._roundPixels),
      (this._gpuSpriteHash[e.uid] = t),
      (e._didSpriteUpdate = !1),
      e.on("destroyed", () => {
        this.destroyRenderable(e);
      }),
      t
    );
  }
  destroy() {
    for (const e in this._gpuSpriteHash) Je.return(this._gpuSpriteHash[e]);
    (this._gpuSpriteHash = null), (this._renderer = null);
  }
}
HF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "sprite",
};
var Lre = Object.defineProperty,
  HP = Object.getOwnPropertySymbols,
  Ure = Object.prototype.hasOwnProperty,
  Gre = Object.prototype.propertyIsEnumerable,
  VP = (r, e, t) =>
    e in r
      ? Lre(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  XP = (r, e) => {
    for (var t in e || (e = {})) Ure.call(e, t) && VP(r, t, e[t]);
    if (HP) for (var t of HP(e)) Gre.call(e, t) && VP(r, t, e[t]);
    return r;
  };
const c1 = class VF {
  constructor() {
    (this.clearBeforeRender = !0),
      (this._backgroundColor = new at(0)),
      (this.color = this._backgroundColor),
      (this.alpha = 1);
  }
  init(e) {
    (e = XP(XP({}, VF.defaultOptions), e)),
      (this.clearBeforeRender = e.clearBeforeRender),
      (this.color = e.background || e.backgroundColor || this._backgroundColor),
      (this.alpha = e.backgroundAlpha),
      this._backgroundColor.setAlpha(e.backgroundAlpha);
  }
  get color() {
    return this._backgroundColor;
  }
  set color(e) {
    this._backgroundColor.setValue(e);
  }
  get alpha() {
    return this._backgroundColor.alpha;
  }
  set alpha(e) {
    this._backgroundColor.setAlpha(e);
  }
  get colorRgba() {
    return this._backgroundColor.toArray();
  }
  destroy() {}
};
c1.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "background",
  priority: 0,
};
c1.defaultOptions = {
  backgroundAlpha: 1,
  backgroundColor: 0,
  clearBeforeRender: !0,
};
let jre = c1;
const ah = {};
Ue.handle(
  W.BlendMode,
  (r) => {
    if (!r.name)
      throw new Error("BlendMode extension must have a name property");
    ah[r.name] = r.ref;
  },
  (r) => {
    delete ah[r.name];
  }
);
class XF {
  constructor(e) {
    (this._isAdvanced = !1),
      (this._filterHash = Object.create(null)),
      (this._renderer = e);
  }
  setBlendMode(e, t, n) {
    if (this._activeBlendMode === t) {
      this._isAdvanced && this._renderableList.push(e);
      return;
    }
    (this._activeBlendMode = t),
      this._isAdvanced && this._endAdvancedBlendMode(n),
      (this._isAdvanced = !!ah[t]),
      this._isAdvanced &&
        (this._beginAdvancedBlendMode(n), this._renderableList.push(e));
  }
  _beginAdvancedBlendMode(e) {
    this._renderer.renderPipes.batch.break(e);
    const t = this._activeBlendMode;
    if (!ah[t]) {
      Be(
        `Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`
      );
      return;
    }
    let n = this._filterHash[t];
    n || ((n = this._filterHash[t] = new om()), (n.filters = [new ah[t]()]));
    const i = {
      renderPipeId: "filter",
      action: "pushFilter",
      renderables: [],
      filterEffect: n,
      canBundle: !1,
    };
    (this._renderableList = i.renderables), e.add(i);
  }
  _endAdvancedBlendMode(e) {
    (this._renderableList = null),
      this._renderer.renderPipes.batch.break(e),
      e.add({ renderPipeId: "filter", action: "popFilter", canBundle: !1 });
  }
  buildStart() {
    this._isAdvanced = !1;
  }
  buildEnd(e) {
    this._isAdvanced && this._endAdvancedBlendMode(e);
  }
  destroy() {
    (this._renderer = null), (this._renderableList = null);
    for (const e in this._filterHash) this._filterHash[e].destroy();
    this._filterHash = null;
  }
}
XF.extension = {
  type: [W.WebGLPipes, W.WebGPUPipes, W.CanvasPipes],
  name: "blendMode",
};
var $re = Object.defineProperty,
  YP = Object.getOwnPropertySymbols,
  zre = Object.prototype.hasOwnProperty,
  Wre = Object.prototype.propertyIsEnumerable,
  KP = (r, e, t) =>
    e in r
      ? $re(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  oy = (r, e) => {
    for (var t in e || (e = {})) zre.call(e, t) && KP(r, t, e[t]);
    if (YP) for (var t of YP(e)) Wre.call(e, t) && KP(r, t, e[t]);
    return r;
  };
const ay = { png: "image/png", jpg: "image/jpeg", webp: "image/webp" },
  h1 = class YF {
    constructor(e) {
      this._renderer = e;
    }
    _normalizeOptions(e, t = {}) {
      return e instanceof ft || e instanceof fe
        ? oy({ target: e }, t)
        : oy(oy({}, t), e);
    }
    async image(e) {
      const t = new Image();
      return (t.src = await this.base64(e)), t;
    }
    async base64(e) {
      e = this._normalizeOptions(e, YF.defaultImageOptions);
      const { format: t, quality: n } = e,
        i = this.canvas(e);
      if (i.toBlob !== void 0)
        return new Promise((s, o) => {
          i.toBlob(
            (a) => {
              if (!a) {
                o(new Error("ICanvas.toBlob failed!"));
                return;
              }
              const l = new FileReader();
              (l.onload = () => s(l.result)),
                (l.onerror = o),
                l.readAsDataURL(a);
            },
            ay[t],
            n
          );
        });
      if (i.toDataURL !== void 0) return i.toDataURL(ay[t], n);
      if (i.convertToBlob !== void 0) {
        const s = await i.convertToBlob({ type: ay[t], quality: n });
        return new Promise((o, a) => {
          const l = new FileReader();
          (l.onload = () => o(l.result)), (l.onerror = a), l.readAsDataURL(s);
        });
      }
      throw new Error(
        "Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented"
      );
    }
    canvas(e) {
      e = this._normalizeOptions(e);
      const t = e.target,
        n = this._renderer;
      if (t instanceof fe) return n.texture.generateCanvas(t);
      const i = n.textureGenerator.generateTexture(e),
        s = n.texture.generateCanvas(i);
      return i.destroy(), s;
    }
    pixels(e) {
      e = this._normalizeOptions(e);
      const t = e.target,
        n = this._renderer,
        i = t instanceof fe ? t : n.textureGenerator.generateTexture(e),
        s = n.texture.getPixels(i);
      return t instanceof ft && i.destroy(), s;
    }
    texture(e) {
      return (
        (e = this._normalizeOptions(e)),
        e.target instanceof fe
          ? e.target
          : this._renderer.textureGenerator.generateTexture(e)
      );
    }
    download(e) {
      var t;
      e = this._normalizeOptions(e);
      const n = this.canvas(e),
        i = document.createElement("a");
      (i.download = (t = e.filename) != null ? t : "image.png"),
        (i.href = n.toDataURL("image/png")),
        document.body.appendChild(i),
        i.click(),
        document.body.removeChild(i);
    }
    log(e) {
      var t;
      const n = (t = e.width) != null ? t : 200;
      e = this._normalizeOptions(e);
      const i = this.canvas(e),
        s = i.toDataURL();
      console.log(`[Pixi Texture] ${i.width}px ${i.height}px`);
      const o = [
        "font-size: 1px;",
        `padding: ${n}px 300px;`,
        `background: url(${s}) no-repeat;`,
        "background-size: contain;",
      ].join(" ");
      console.log("%c ", o);
    }
    destroy() {
      this._renderer = null;
    }
  };
h1.extension = { type: [W.WebGLSystem, W.WebGPUSystem], name: "extract" };
h1.defaultImageOptions = { format: "png", quality: 1 };
let Hre = h1;
class Vre extends fe {
  static create(e) {
    return new fe({ source: new br(e) });
  }
  resize(e, t, n) {
    return this.source.resize(e, t, n), this;
  }
}
var Xre = Object.defineProperty,
  Yre = Object.defineProperties,
  Kre = Object.getOwnPropertyDescriptors,
  qP = Object.getOwnPropertySymbols,
  qre = Object.prototype.hasOwnProperty,
  Zre = Object.prototype.propertyIsEnumerable,
  ZP = (r, e, t) =>
    e in r
      ? Xre(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Qre = (r, e) => {
    for (var t in e || (e = {})) qre.call(e, t) && ZP(r, t, e[t]);
    if (qP) for (var t of qP(e)) Zre.call(e, t) && ZP(r, t, e[t]);
    return r;
  },
  Jre = (r, e) => Yre(r, Kre(e));
const ene = new dt(),
  tne = new ei(),
  rne = [0, 0, 0, 0];
class KF {
  constructor(e) {
    this._renderer = e;
  }
  generateTexture(e) {
    var t;
    e instanceof ft &&
      (e = {
        target: e,
        frame: void 0,
        textureSourceOptions: {},
        resolution: void 0,
      });
    const n = e.resolution || this._renderer.resolution,
      i = e.antialias || this._renderer.view.antialias,
      s = e.target;
    let o = e.clearColor;
    o
      ? (o =
          Array.isArray(o) && o.length === 4
            ? o
            : at.shared.setValue(o).toArray())
      : (o = rne);
    const a =
      ((t = e.frame) == null ? void 0 : t.copyTo(ene)) || Fb(s, tne).rectangle;
    (a.width = Math.max(a.width, 1 / n) | 0),
      (a.height = Math.max(a.height, 1 / n) | 0);
    const l = Vre.create(
        Jre(Qre({}, e.textureSourceOptions), {
          width: a.width,
          height: a.height,
          resolution: n,
          antialias: i,
        })
      ),
      u = we.shared.translate(-a.x, -a.y);
    return (
      this._renderer.render({
        container: s,
        transform: u,
        target: l,
        clearColor: o,
      }),
      l.source.updateMipmaps(),
      l
    );
  }
  destroy() {
    this._renderer = null;
  }
}
KF.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem],
  name: "textureGenerator",
};
class qF {
  constructor(e) {
    (this._stackIndex = 0),
      (this._globalUniformDataStack = []),
      (this._uniformsPool = []),
      (this._activeUniforms = []),
      (this._bindGroupPool = []),
      (this._activeBindGroups = []),
      (this._renderer = e);
  }
  reset() {
    this._stackIndex = 0;
    for (let e = 0; e < this._activeUniforms.length; e++)
      this._uniformsPool.push(this._activeUniforms[e]);
    for (let e = 0; e < this._activeBindGroups.length; e++)
      this._bindGroupPool.push(this._activeBindGroups[e]);
    (this._activeUniforms.length = 0), (this._activeBindGroups.length = 0);
  }
  start(e) {
    this.reset(), this.push(e);
  }
  bind({
    size: e,
    projectionMatrix: t,
    worldTransformMatrix: n,
    worldColor: i,
    offset: s,
  }) {
    const o = this._renderer.renderTarget.renderTarget,
      a = this._stackIndex
        ? this._globalUniformDataStack[this._stackIndex - 1]
        : {
            projectionData: o,
            worldTransformMatrix: new we(),
            worldColor: 4294967295,
            offset: new ht(),
          },
      l = {
        projectionMatrix: t || this._renderer.renderTarget.projectionMatrix,
        resolution: e || o.size,
        worldTransformMatrix: n || a.worldTransformMatrix,
        worldColor: i || a.worldColor,
        offset: s || a.offset,
        bindGroup: null,
      },
      u = this._uniformsPool.pop() || this._createUniforms();
    this._activeUniforms.push(u);
    const c = u.uniforms;
    (c.uProjectionMatrix = l.projectionMatrix),
      (c.uResolution = l.resolution),
      c.uWorldTransformMatrix.copyFrom(l.worldTransformMatrix),
      (c.uWorldTransformMatrix.tx -= l.offset.x),
      (c.uWorldTransformMatrix.ty -= l.offset.y),
      Dg(l.worldColor, c.uWorldColorAlpha, 0),
      u.update();
    let h;
    this._renderer.renderPipes.uniformBatch
      ? (h = this._renderer.renderPipes.uniformBatch.getUniformBindGroup(u, !1))
      : ((h = this._bindGroupPool.pop() || new to()),
        this._activeBindGroups.push(h),
        h.setResource(u, 0)),
      (l.bindGroup = h),
      (this._currentGlobalUniformData = l);
  }
  push(e) {
    this.bind(e),
      (this._globalUniformDataStack[this._stackIndex++] =
        this._currentGlobalUniformData);
  }
  pop() {
    (this._currentGlobalUniformData =
      this._globalUniformDataStack[--this._stackIndex - 1]),
      this._renderer.type === Di.WEBGL &&
        this._currentGlobalUniformData.bindGroup.resources[0].update();
  }
  get bindGroup() {
    return this._currentGlobalUniformData.bindGroup;
  }
  get uniformGroup() {
    return this._currentGlobalUniformData.bindGroup.resources[0];
  }
  _createUniforms() {
    return new dn(
      {
        uProjectionMatrix: { value: new we(), type: "mat3x3<f32>" },
        uWorldTransformMatrix: { value: new we(), type: "mat3x3<f32>" },
        uWorldColorAlpha: { value: new Float32Array(4), type: "vec4<f32>" },
        uResolution: { value: [0, 0], type: "vec2<f32>" },
      },
      { isStatic: !0 }
    );
  }
  destroy() {
    this._renderer = null;
  }
}
qF.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "globalUniforms",
};
let QP = !1;
const JP = "8.2.1";
function nne(r) {
  if (!QP) {
    if (
      nt.get().getNavigator().userAgent.toLowerCase().indexOf("chrome") > -1
    ) {
      const e = [
        `%c  %c  %c  %c  %c PixiJS %c v${JP} (${r}) http://www.pixijs.com/

`,
        "background: #E72264; padding:5px 0;",
        "background: #6CA2EA; padding:5px 0;",
        "background: #B5D33D; padding:5px 0;",
        "background: #FED23F; padding:5px 0;",
        "color: #FFFFFF; background: #E72264; padding:5px 0;",
        "color: #E72264; background: #FFFFFF; padding:5px 0;",
      ];
      globalThis.console.log(...e);
    } else
      globalThis.console &&
        globalThis.console.log(`PixiJS ${JP} - ${r} - http://www.pixijs.com/`);
    QP = !0;
  }
}
class d1 {
  constructor(e) {
    this._renderer = e;
  }
  init(e) {
    if (e.hello) {
      let t = this._renderer.name;
      this._renderer.type === Di.WEBGL &&
        (t += ` ${this._renderer.context.webGLVersion}`),
        nne(t);
    }
  }
}
d1.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "hello",
  priority: -2,
};
d1.defaultOptions = { hello: !1 };
var ine = Object.defineProperty,
  e2 = Object.getOwnPropertySymbols,
  sne = Object.prototype.hasOwnProperty,
  one = Object.prototype.propertyIsEnumerable,
  t2 = (r, e, t) =>
    e in r
      ? ine(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  r2 = (r, e) => {
    for (var t in e || (e = {})) sne.call(e, t) && t2(r, t, e[t]);
    if (e2) for (var t of e2(e)) one.call(e, t) && t2(r, t, e[t]);
    return r;
  };
const f1 = class ZF {
  constructor(e) {
    (this._renderer = e), (this.count = 0), (this.checkCount = 0);
  }
  init(e) {
    (e = r2(r2({}, ZF.defaultOptions), e)),
      (this.checkCountMax = e.textureGCCheckCountMax),
      (this.maxIdle = e.textureGCAMaxIdle),
      (this.active = e.textureGCActive);
  }
  postrender() {
    this._renderer.renderingToScreen &&
      (this.count++,
      this.active &&
        (this.checkCount++,
        this.checkCount > this.checkCountMax &&
          ((this.checkCount = 0), this.run())));
  }
  run() {
    const e = this._renderer.texture.managedTextures;
    for (let t = 0; t < e.length; t++) {
      const n = e[t];
      n.autoGarbageCollect &&
        n.resource &&
        n._touched > -1 &&
        this.count - n._touched > this.maxIdle &&
        ((n._touched = -1), n.unload());
    }
  }
  destroy() {
    this._renderer = null;
  }
};
f1.extension = { type: [W.WebGLSystem, W.WebGPUSystem], name: "textureGC" };
f1.defaultOptions = {
  textureGCActive: !0,
  textureGCAMaxIdle: 60 * 60,
  textureGCCheckCountMax: 600,
};
let QF = f1;
Ue.add(QF);
var ane = Object.defineProperty,
  n2 = Object.getOwnPropertySymbols,
  lne = Object.prototype.hasOwnProperty,
  une = Object.prototype.propertyIsEnumerable,
  i2 = (r, e, t) =>
    e in r
      ? ane(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  s2 = (r, e) => {
    for (var t in e || (e = {})) lne.call(e, t) && i2(r, t, e[t]);
    if (n2) for (var t of n2(e)) une.call(e, t) && i2(r, t, e[t]);
    return r;
  };
const p1 = class JF {
  get resolution() {
    return this.texture.source._resolution;
  }
  set resolution(e) {
    this.texture.source.resize(
      this.texture.source.width,
      this.texture.source.height,
      e
    );
  }
  init(e) {
    (e = s2(s2({}, JF.defaultOptions), e)),
      e.view &&
        (Le(Ge, "ViewSystem.view has been renamed to ViewSystem.canvas"),
        (e.canvas = e.view)),
      (this.screen = new dt(0, 0, e.width, e.height)),
      (this.canvas = e.canvas || nt.get().createCanvas()),
      (this.antialias = !!e.antialias),
      (this.texture = SF(this.canvas, e)),
      (this.renderTarget = new Px({
        colorTextures: [this.texture],
        depth: !!e.depth,
        isRoot: !0,
      })),
      (this.texture.source.transparent = e.backgroundAlpha < 1),
      (this.multiView = !!e.multiView),
      this.autoDensity &&
        ((this.canvas.style.width = `${this.texture.width}px`),
        (this.canvas.style.height = `${this.texture.height}px`)),
      (this.resolution = e.resolution);
  }
  resize(e, t, n) {
    this.texture.source.resize(e, t, n),
      (this.screen.width = this.texture.frame.width),
      (this.screen.height = this.texture.frame.height),
      this.autoDensity &&
        ((this.canvas.style.width = `${e}px`),
        (this.canvas.style.height = `${t}px`));
  }
  destroy(e = !1) {
    (typeof e == "boolean" ? e : !!(e != null && e.removeView)) &&
      this.canvas.parentNode &&
      this.canvas.parentNode.removeChild(this.canvas);
  }
};
p1.extension = {
  type: [W.WebGLSystem, W.WebGPUSystem, W.CanvasSystem],
  name: "view",
  priority: 0,
};
p1.defaultOptions = { width: 800, height: 600, autoDensity: !1, antialias: !1 };
let cne = p1;
const eN = [jre, qF, d1, cne, WF, QF, KF, Hre, _I],
  tN = [XF, iF, HF, UF, oF, lF, aF, NF],
  hne = [...eN, bF, kte, yte, uF, OF, AF, fF, DF, RF, gF, pre, _F, mF],
  dne = [...tN],
  fne = [rF, FF, IF],
  rN = [],
  nN = [],
  iN = [];
Ue.handleByNamedList(W.WebGLSystem, rN);
Ue.handleByNamedList(W.WebGLPipes, nN);
Ue.handleByNamedList(W.WebGLPipesAdaptor, iN);
Ue.add(...hne, ...dne, ...fne);
class pne extends Og {
  constructor() {
    const e = {
      name: "webgl",
      type: Di.WEBGL,
      systems: rN,
      renderPipes: nN,
      renderPipeAdaptors: iN,
    };
    super(e);
  }
}
var mne = { __proto__: null, WebGLRenderer: pne };
class sN {
  constructor(e) {
    (this._hash = Object.create(null)), (this._renderer = e);
  }
  contextChange(e) {
    this._gpu = e;
  }
  getBindGroup(e, t, n) {
    return e._updateKey(), this._hash[e._key] || this._createBindGroup(e, t, n);
  }
  _createBindGroup(e, t, n) {
    var i;
    const s = this._gpu.device,
      o = t.layout[n],
      a = [],
      l = this._renderer;
    for (const h in o) {
      const d = (i = e.resources[h]) != null ? i : e.resources[o[h]];
      let f;
      if (d._resourceType === "uniformGroup") {
        const m = d;
        l.ubo.updateUniformGroup(m);
        const g = m.buffer;
        f = {
          buffer: l.buffer.getGPUBuffer(g),
          offset: 0,
          size: g.descriptor.size,
        };
      } else if (d._resourceType === "buffer") {
        const m = d;
        f = {
          buffer: l.buffer.getGPUBuffer(m),
          offset: 0,
          size: m.descriptor.size,
        };
      } else if (d._resourceType === "bufferResource") {
        const m = d;
        f = {
          buffer: l.buffer.getGPUBuffer(m.buffer),
          offset: m.offset,
          size: m.size,
        };
      } else if (d._resourceType === "textureSampler") {
        const m = d;
        f = l.texture.getGpuSampler(m);
      } else if (d._resourceType === "textureSource") {
        const m = d;
        f = l.texture.getGpuSource(m).createView({});
      }
      a.push({ binding: o[h], resource: f });
    }
    const u = l.shader.getProgramData(t).bindGroups[n],
      c = s.createBindGroup({ layout: u, entries: a });
    return (this._hash[e._key] = c), c;
  }
  destroy() {
    for (const e of Object.keys(this._hash)) this._hash[e] = null;
    (this._hash = null), (this._renderer = null);
  }
}
sN.extension = { type: [W.WebGPUSystem], name: "bindGroup" };
class oN {
  constructor() {
    (this._gpuBuffers = Object.create(null)), (this._managedBuffers = []);
  }
  contextChange(e) {
    this._gpu = e;
  }
  getGPUBuffer(e) {
    return this._gpuBuffers[e.uid] || this.createGPUBuffer(e);
  }
  updateBuffer(e) {
    const t = this._gpuBuffers[e.uid] || this.createGPUBuffer(e),
      n = e.data;
    return (
      e._updateID &&
        n &&
        ((e._updateID = 0),
        this._gpu.device.queue.writeBuffer(
          t,
          0,
          n.buffer,
          0,
          ((e._updateSize || n.byteLength) + 3) & -4
        )),
      t
    );
  }
  destroyAll() {
    for (const e in this._gpuBuffers) this._gpuBuffers[e].destroy();
    this._gpuBuffers = {};
  }
  createGPUBuffer(e) {
    this._gpuBuffers[e.uid] ||
      (e.on("update", this.updateBuffer, this),
      e.on("change", this.onBufferChange, this),
      e.on("destroy", this.onBufferDestroy, this));
    const t = this._gpu.device.createBuffer(e.descriptor);
    return (
      (e._updateID = 0),
      e.data && (hx(e.data.buffer, t.getMappedRange()), t.unmap()),
      (this._gpuBuffers[e.uid] = t),
      this._managedBuffers.push(e),
      t
    );
  }
  onBufferChange(e) {
    this._gpuBuffers[e.uid].destroy(),
      (e._updateID = 0),
      (this._gpuBuffers[e.uid] = this.createGPUBuffer(e));
  }
  onBufferDestroy(e) {
    this._managedBuffers.splice(this._managedBuffers.indexOf(e), 1),
      this._destroyBuffer(e);
  }
  destroy() {
    this._managedBuffers.forEach((e) => this._destroyBuffer(e)),
      (this._managedBuffers = null),
      (this._gpuBuffers = null);
  }
  _destroyBuffer(e) {
    this._gpuBuffers[e.uid].destroy(),
      e.off("update", this.updateBuffer, this),
      e.off("change", this.onBufferChange, this),
      e.off("destroy", this.onBufferDestroy, this),
      (this._gpuBuffers[e.uid] = null);
  }
}
oN.extension = { type: [W.WebGPUSystem], name: "buffer" };
class gne {
  constructor({ minUniformOffsetAlignment: e }) {
    (this._minUniformOffsetAlignment = 256),
      (this.byteIndex = 0),
      (this._minUniformOffsetAlignment = e),
      (this.data = new Float32Array(65535));
  }
  clear() {
    this.byteIndex = 0;
  }
  addEmptyGroup(e) {
    if (e > this._minUniformOffsetAlignment / 4)
      throw new Error(`UniformBufferBatch: array is too large: ${e * 4}`);
    const t = this.byteIndex;
    let n = t + e * 4;
    if (
      ((n =
        Math.ceil(n / this._minUniformOffsetAlignment) *
        this._minUniformOffsetAlignment),
      n > this.data.length * 4)
    )
      throw new Error("UniformBufferBatch: ubo batch got too big");
    return (this.byteIndex = n), t;
  }
  addGroup(e) {
    const t = this.addEmptyGroup(e.length);
    for (let n = 0; n < e.length; n++) this.data[t / 4 + n] = e[n];
    return t;
  }
  destroy() {
    this._buffer.destroy(), (this._buffer = null), (this.data = null);
  }
}
class aN {
  constructor(e) {
    (this._colorMaskCache = 15), (this._renderer = e);
  }
  setMask(e) {
    this._colorMaskCache !== e &&
      ((this._colorMaskCache = e), this._renderer.pipeline.setColorMask(e));
  }
  destroy() {
    (this._renderer = null), (this._colorMaskCache = null);
  }
}
aN.extension = { type: [W.WebGPUSystem], name: "colorMask" };
class m1 {
  constructor(e) {
    this._renderer = e;
  }
  async init(e) {
    return this._initPromise
      ? this._initPromise
      : ((this._initPromise = this._createDeviceAndAdaptor(e).then((t) => {
          (this.gpu = t), this._renderer.runners.contextChange.emit(this.gpu);
        })),
        this._initPromise);
  }
  contextChange(e) {
    this._renderer.gpu = e;
  }
  async _createDeviceAndAdaptor(e) {
    const t = await navigator.gpu.requestAdapter({
        powerPreference: e.powerPreference,
        forceFallbackAdapter: e.forceFallbackAdapter,
      }),
      n = [
        "texture-compression-bc",
        "texture-compression-astc",
        "texture-compression-etc2",
      ].filter((s) => t.features.has(s)),
      i = await t.requestDevice({ requiredFeatures: n });
    return { adapter: t, device: i };
  }
  destroy() {
    (this.gpu = null), (this._renderer = null);
  }
}
m1.extension = { type: [W.WebGPUSystem], name: "device" };
m1.defaultOptions = { powerPreference: void 0, forceFallbackAdapter: !1 };
var _ne = Object.defineProperty,
  o2 = Object.getOwnPropertySymbols,
  yne = Object.prototype.hasOwnProperty,
  vne = Object.prototype.propertyIsEnumerable,
  a2 = (r, e, t) =>
    e in r
      ? _ne(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  l2 = (r, e) => {
    for (var t in e || (e = {})) yne.call(e, t) && a2(r, t, e[t]);
    if (o2) for (var t of o2(e)) vne.call(e, t) && a2(r, t, e[t]);
    return r;
  };
class lN {
  constructor(e) {
    (this._boundBindGroup = Object.create(null)),
      (this._boundVertexBuffer = Object.create(null)),
      (this._renderer = e);
  }
  renderStart() {
    (this.commandFinished = new Promise((e) => {
      this._resolveCommandFinished = e;
    })),
      (this.commandEncoder = this._renderer.gpu.device.createCommandEncoder());
  }
  beginRenderPass(e) {
    this.endRenderPass(),
      this._clearCache(),
      (this.renderPassEncoder = this.commandEncoder.beginRenderPass(
        e.descriptor
      ));
  }
  endRenderPass() {
    this.renderPassEncoder && this.renderPassEncoder.end(),
      (this.renderPassEncoder = null);
  }
  setViewport(e) {
    this.renderPassEncoder.setViewport(e.x, e.y, e.width, e.height, 0, 1);
  }
  setPipelineFromGeometryProgramAndState(e, t, n, i) {
    const s = this._renderer.pipeline.getPipeline(e, t, n, i);
    this.setPipeline(s);
  }
  setPipeline(e) {
    this._boundPipeline !== e &&
      ((this._boundPipeline = e), this.renderPassEncoder.setPipeline(e));
  }
  _setVertexBuffer(e, t) {
    this._boundVertexBuffer[e] !== t &&
      ((this._boundVertexBuffer[e] = t),
      this.renderPassEncoder.setVertexBuffer(
        e,
        this._renderer.buffer.updateBuffer(t)
      ));
  }
  _setIndexBuffer(e) {
    if (this._boundIndexBuffer === e) return;
    this._boundIndexBuffer = e;
    const t = e.data.BYTES_PER_ELEMENT === 2 ? "uint16" : "uint32";
    this.renderPassEncoder.setIndexBuffer(
      this._renderer.buffer.updateBuffer(e),
      t
    );
  }
  resetBindGroup(e) {
    this._boundBindGroup[e] = null;
  }
  setBindGroup(e, t, n) {
    if (this._boundBindGroup[e] === t) return;
    (this._boundBindGroup[e] = t), t._touch(this._renderer.textureGC.count);
    const i = this._renderer.bindGroup.getBindGroup(t, n, e);
    this.renderPassEncoder.setBindGroup(e, i);
  }
  setGeometry(e) {
    for (const t in e.attributes) {
      const n = e.attributes[t];
      this._setVertexBuffer(n.location, n.buffer);
    }
    e.indexBuffer && this._setIndexBuffer(e.indexBuffer);
  }
  _setShaderBindGroups(e, t) {
    for (const n in e.groups) {
      const i = e.groups[n];
      t || this._syncBindGroup(i), this.setBindGroup(n, i, e.gpuProgram);
    }
  }
  _syncBindGroup(e) {
    for (const t in e.resources) {
      const n = e.resources[t];
      n.isUniformGroup && this._renderer.ubo.updateUniformGroup(n);
    }
  }
  draw(e) {
    const {
      geometry: t,
      shader: n,
      state: i,
      topology: s,
      size: o,
      start: a,
      instanceCount: l,
      skipSync: u,
    } = e;
    this.setPipelineFromGeometryProgramAndState(t, n.gpuProgram, i, s),
      this.setGeometry(t),
      this._setShaderBindGroups(n, u),
      t.indexBuffer
        ? this.renderPassEncoder.drawIndexed(
            o || t.indexBuffer.data.length,
            l || t.instanceCount,
            a || 0
          )
        : this.renderPassEncoder.draw(
            o || t.getSize(),
            l || t.instanceCount,
            a || 0
          );
  }
  finishRenderPass() {
    this.renderPassEncoder &&
      (this.renderPassEncoder.end(), (this.renderPassEncoder = null));
  }
  postrender() {
    this.finishRenderPass(),
      this._gpu.device.queue.submit([this.commandEncoder.finish()]),
      this._resolveCommandFinished(),
      (this.commandEncoder = null);
  }
  restoreRenderPass() {
    const e = this._renderer.renderTarget.adaptor.getDescriptor(
      this._renderer.renderTarget.renderTarget,
      !1,
      [0, 0, 0, 1]
    );
    this.renderPassEncoder = this.commandEncoder.beginRenderPass(e);
    const t = this._boundPipeline,
      n = l2({}, this._boundVertexBuffer),
      i = this._boundIndexBuffer,
      s = l2({}, this._boundBindGroup);
    this._clearCache();
    const o = this._renderer.renderTarget.viewport;
    this.renderPassEncoder.setViewport(o.x, o.y, o.width, o.height, 0, 1),
      this.setPipeline(t);
    for (const a in n) this._setVertexBuffer(a, n[a]);
    for (const a in s) this.setBindGroup(a, s[a], null);
    this._setIndexBuffer(i);
  }
  _clearCache() {
    for (let e = 0; e < 16; e++)
      (this._boundBindGroup[e] = null), (this._boundVertexBuffer[e] = null);
    (this._boundIndexBuffer = null), (this._boundPipeline = null);
  }
  destroy() {
    (this._renderer = null),
      (this._gpu = null),
      (this._boundBindGroup = null),
      (this._boundVertexBuffer = null),
      (this._boundIndexBuffer = null),
      (this._boundPipeline = null);
  }
  contextChange(e) {
    this._gpu = e;
  }
}
lN.extension = { type: [W.WebGPUSystem], name: "encoder", priority: 1 };
class uN {
  constructor(e) {
    (this._renderTargetStencilState = Object.create(null)),
      (this._renderer = e),
      e.renderTarget.onRenderTargetChange.add(this);
  }
  onRenderTargetChange(e) {
    let t = this._renderTargetStencilState[e.uid];
    t ||
      (t = this._renderTargetStencilState[e.uid] =
        { stencilMode: Mr.DISABLED, stencilReference: 0 }),
      (this._activeRenderTarget = e),
      this.setStencilMode(t.stencilMode, t.stencilReference);
  }
  setStencilMode(e, t) {
    const n = this._renderTargetStencilState[this._activeRenderTarget.uid];
    (n.stencilMode = e), (n.stencilReference = t);
    const i = this._renderer;
    i.pipeline.setStencilMode(e),
      i.encoder.renderPassEncoder.setStencilReference(t);
  }
  destroy() {
    this._renderer.renderTarget.onRenderTargetChange.remove(this),
      (this._renderer = null),
      (this._activeRenderTarget = null),
      (this._renderTargetStencilState = null);
  }
}
uN.extension = { type: [W.WebGPUSystem], name: "stencil" };
const rp = {
  i32: { align: 4, size: 4 },
  u32: { align: 4, size: 4 },
  f32: { align: 4, size: 4 },
  f16: { align: 2, size: 2 },
  "vec2<i32>": { align: 8, size: 8 },
  "vec2<u32>": { align: 8, size: 8 },
  "vec2<f32>": { align: 8, size: 8 },
  "vec2<f16>": { align: 4, size: 4 },
  "vec3<i32>": { align: 16, size: 12 },
  "vec3<u32>": { align: 16, size: 12 },
  "vec3<f32>": { align: 16, size: 12 },
  "vec3<f16>": { align: 8, size: 6 },
  "vec4<i32>": { align: 16, size: 16 },
  "vec4<u32>": { align: 16, size: 16 },
  "vec4<f32>": { align: 16, size: 16 },
  "vec4<f16>": { align: 8, size: 8 },
  "mat2x2<f32>": { align: 8, size: 16 },
  "mat2x2<f16>": { align: 4, size: 8 },
  "mat3x2<f32>": { align: 8, size: 24 },
  "mat3x2<f16>": { align: 4, size: 12 },
  "mat4x2<f32>": { align: 8, size: 32 },
  "mat4x2<f16>": { align: 4, size: 16 },
  "mat2x3<f32>": { align: 16, size: 32 },
  "mat2x3<f16>": { align: 8, size: 16 },
  "mat3x3<f32>": { align: 16, size: 48 },
  "mat3x3<f16>": { align: 8, size: 24 },
  "mat4x3<f32>": { align: 16, size: 64 },
  "mat4x3<f16>": { align: 8, size: 32 },
  "mat2x4<f32>": { align: 16, size: 32 },
  "mat2x4<f16>": { align: 8, size: 16 },
  "mat3x4<f32>": { align: 16, size: 48 },
  "mat3x4<f16>": { align: 8, size: 24 },
  "mat4x4<f32>": { align: 16, size: 64 },
  "mat4x4<f16>": { align: 8, size: 32 },
};
function xne(r) {
  const e = r.map((n) => ({ data: n, offset: 0, size: 0 }));
  let t = 0;
  for (let n = 0; n < e.length; n++) {
    const i = e[n];
    let s = rp[i.data.type].size;
    const o = rp[i.data.type].align;
    if (!rp[i.data.type])
      throw new Error(
        `[Pixi.js] WebGPU UniformBuffer: Unknown type ${i.data.type}`
      );
    i.data.size > 1 && (s = Math.max(s, o) * i.data.size),
      (t = Math.ceil(t / o) * o),
      (i.size = s),
      (i.offset = t),
      (t += s);
  }
  return (t = Math.ceil(t / 16) * 16), { uboElements: e, size: t };
}
function wne(r, e) {
  const { size: t, align: n } = rp[r.data.type],
    i = (n - t) / 4;
  return `
         v = uv.${r.data.name};
         ${e !== 0 ? `offset += ${e};` : ""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${r.data.size * (t / 4)}; i++)
         {
             for(var j = 0; j < ${t / 4}; j++)
             {
                 data[arrayOffset++] = v[t++];
             }
             ${i !== 0 ? `arrayOffset += ${i};` : ""}
         }
     `;
}
function bne(r) {
  return xF(r, "uboWgsl", wne, Fte);
}
class cN extends yF {
  constructor() {
    super({ createUboElements: xne, generateUboSync: bne });
  }
}
cN.extension = { type: [W.WebGPUSystem], name: "ubo" };
const Eo = 128;
class hN {
  constructor(e) {
    (this._bindGroupHash = Object.create(null)),
      (this._buffers = []),
      (this._bindGroups = []),
      (this._bufferResources = []),
      (this._renderer = e),
      (this._batchBuffer = new gne({ minUniformOffsetAlignment: Eo }));
    const t = 256 / Eo;
    for (let n = 0; n < t; n++) {
      let i = rt.UNIFORM | rt.COPY_DST;
      n === 0 && (i |= rt.COPY_SRC),
        this._buffers.push(new qi({ data: this._batchBuffer.data, usage: i }));
    }
  }
  renderEnd() {
    this._uploadBindGroups(), this._resetBindGroups();
  }
  _resetBindGroups() {
    for (const e in this._bindGroupHash) this._bindGroupHash[e] = null;
    this._batchBuffer.clear();
  }
  getUniformBindGroup(e, t) {
    if (!t && this._bindGroupHash[e.uid]) return this._bindGroupHash[e.uid];
    this._renderer.ubo.ensureUniformGroup(e);
    const n = e.buffer.data,
      i = this._batchBuffer.addEmptyGroup(n.length);
    return (
      this._renderer.ubo.syncUniformGroup(e, this._batchBuffer.data, i / 4),
      (this._bindGroupHash[e.uid] = this._getBindGroup(i / Eo)),
      this._bindGroupHash[e.uid]
    );
  }
  getUboResource(e) {
    this._renderer.ubo.updateUniformGroup(e);
    const t = e.buffer.data,
      n = this._batchBuffer.addGroup(t);
    return this._getBufferResource(n / Eo);
  }
  getArrayBindGroup(e) {
    const t = this._batchBuffer.addGroup(e);
    return this._getBindGroup(t / Eo);
  }
  getArrayBufferResource(e) {
    const n = this._batchBuffer.addGroup(e) / Eo;
    return this._getBufferResource(n);
  }
  _getBufferResource(e) {
    if (!this._bufferResources[e]) {
      const t = this._buffers[e % 2];
      this._bufferResources[e] = new u1({
        buffer: t,
        offset: ((e / 2) | 0) * 256,
        size: Eo,
      });
    }
    return this._bufferResources[e];
  }
  _getBindGroup(e) {
    if (!this._bindGroups[e]) {
      const t = new to({ 0: this._getBufferResource(e) });
      this._bindGroups[e] = t;
    }
    return this._bindGroups[e];
  }
  _uploadBindGroups() {
    const e = this._renderer.buffer,
      t = this._buffers[0];
    t.update(this._batchBuffer.byteIndex), e.updateBuffer(t);
    const n = this._renderer.gpu.device.createCommandEncoder();
    for (let i = 1; i < this._buffers.length; i++) {
      const s = this._buffers[i];
      n.copyBufferToBuffer(
        e.getGPUBuffer(t),
        Eo,
        e.getGPUBuffer(s),
        0,
        this._batchBuffer.byteIndex
      );
    }
    this._renderer.gpu.device.queue.submit([n.finish()]);
  }
  destroy() {
    for (let e = 0; e < this._bindGroups.length; e++)
      this._bindGroups[e].destroy();
    (this._bindGroups = null), (this._bindGroupHash = null);
    for (let e = 0; e < this._buffers.length; e++) this._buffers[e].destroy();
    this._buffers = null;
    for (let e = 0; e < this._bufferResources.length; e++)
      this._bufferResources[e].destroy();
    (this._bufferResources = null),
      this._batchBuffer.destroy(),
      (this._bindGroupHash = null),
      (this._renderer = null);
  }
}
hN.extension = { type: [W.WebGPUPipes], name: "uniformBatch" };
var Sne = Object.defineProperty,
  Ene = Object.defineProperties,
  Tne = Object.getOwnPropertyDescriptors,
  u2 = Object.getOwnPropertySymbols,
  kne = Object.prototype.hasOwnProperty,
  Ane = Object.prototype.propertyIsEnumerable,
  c2 = (r, e, t) =>
    e in r
      ? Sne(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  Pne = (r, e) => {
    for (var t in e || (e = {})) kne.call(e, t) && c2(r, t, e[t]);
    if (u2) for (var t of u2(e)) Ane.call(e, t) && c2(r, t, e[t]);
    return r;
  },
  Cne = (r, e) => Ene(r, Tne(e));
const Rne = {
  "point-list": 0,
  "line-list": 1,
  "line-strip": 2,
  "triangle-list": 3,
  "triangle-strip": 4,
};
function Dne(r, e, t, n, i) {
  return (r << 24) | (e << 16) | (t << 10) | (n << 5) | i;
}
function Mne(r, e, t, n) {
  return (t << 6) | (r << 3) | (n << 1) | e;
}
class dN {
  constructor(e) {
    (this._moduleCache = Object.create(null)),
      (this._bufferLayoutsCache = Object.create(null)),
      (this._pipeCache = Object.create(null)),
      (this._pipeStateCaches = Object.create(null)),
      (this._colorMask = 15),
      (this._multisampleCount = 1),
      (this._renderer = e);
  }
  contextChange(e) {
    (this._gpu = e), this.setStencilMode(Mr.DISABLED), this._updatePipeHash();
  }
  setMultisampleCount(e) {
    this._multisampleCount !== e &&
      ((this._multisampleCount = e), this._updatePipeHash());
  }
  setRenderTarget(e) {
    (this._multisampleCount = e.msaaSamples),
      (this._depthStencilAttachment = e.descriptor.depthStencilAttachment
        ? 1
        : 0),
      this._updatePipeHash();
  }
  setColorMask(e) {
    this._colorMask !== e && ((this._colorMask = e), this._updatePipeHash());
  }
  setStencilMode(e) {
    this._stencilMode !== e &&
      ((this._stencilMode = e),
      (this._stencilState = bl[e]),
      this._updatePipeHash());
  }
  setPipeline(e, t, n, i) {
    const s = this.getPipeline(e, t, n);
    i.setPipeline(s);
  }
  getPipeline(e, t, n, i) {
    e._layoutKey || (hF(e, t.attributeData), this._generateBufferKey(e)),
      (i = i || e.topology);
    const s = Dne(e._layoutKey, t._layoutKey, n.data, n._blendModeId, Rne[i]);
    return this._pipeCache[s]
      ? this._pipeCache[s]
      : ((this._pipeCache[s] = this._createPipeline(e, t, n, i)),
        this._pipeCache[s]);
  }
  _createPipeline(e, t, n, i) {
    const s = this._gpu.device,
      o = this._createVertexBufferLayouts(e),
      a = this._renderer.state.getColorTargets(n);
    a[0].writeMask =
      this._stencilMode === Mr.RENDERING_MASK_ADD ? 0 : this._colorMask;
    const l = this._renderer.shader.getProgramData(t).pipeline,
      u = {
        vertex: {
          module: this._getModule(t.vertex.source),
          entryPoint: t.vertex.entryPoint,
          buffers: o,
        },
        fragment: {
          module: this._getModule(t.fragment.source),
          entryPoint: t.fragment.entryPoint,
          targets: a,
        },
        primitive: { topology: i, cullMode: n.cullMode },
        layout: l,
        multisample: { count: this._multisampleCount },
        label: "PIXI Pipeline",
      };
    return (
      this._depthStencilAttachment &&
        (u.depthStencil = Cne(Pne({}, this._stencilState), {
          format: "depth24plus-stencil8",
          depthWriteEnabled: n.depthTest,
          depthCompare: n.depthTest ? "less" : "always",
        })),
      s.createRenderPipeline(u)
    );
  }
  _getModule(e) {
    return this._moduleCache[e] || this._createModule(e);
  }
  _createModule(e) {
    const t = this._gpu.device;
    return (
      (this._moduleCache[e] = t.createShaderModule({ code: e })),
      this._moduleCache[e]
    );
  }
  _generateBufferKey(e) {
    const t = [];
    let n = 0;
    const i = Object.keys(e.attributes).sort();
    for (let o = 0; o < i.length; o++) {
      const a = e.attributes[i[o]];
      (t[n++] = a.location),
        (t[n++] = a.offset),
        (t[n++] = a.format),
        (t[n++] = a.stride);
    }
    const s = t.join("");
    return (e._layoutKey = Mg(s, "geometry")), e._layoutKey;
  }
  _createVertexBufferLayouts(e) {
    if (this._bufferLayoutsCache[e._layoutKey])
      return this._bufferLayoutsCache[e._layoutKey];
    const t = [];
    return (
      e.buffers.forEach((n) => {
        var i;
        const s = { arrayStride: 0, stepMode: "vertex", attributes: [] },
          o = s.attributes;
        for (const a in e.attributes) {
          const l = e.attributes[a];
          ((i = l.divisor) != null ? i : 1) !== 1 &&
            Be(
              `Attribute ${a} has an invalid divisor value of '${l.divisor}'. WebGPU only supports a divisor value of 1`
            ),
            l.buffer === n &&
              ((s.arrayStride = l.stride),
              (s.stepMode = l.instance ? "instance" : "vertex"),
              o.push({
                shaderLocation: l.location,
                offset: l.offset,
                format: l.format,
              }));
        }
        o.length && t.push(s);
      }),
      (this._bufferLayoutsCache[e._layoutKey] = t),
      t
    );
  }
  _updatePipeHash() {
    const e = Mne(
      this._stencilMode,
      this._multisampleCount,
      this._colorMask,
      this._depthStencilAttachment
    );
    this._pipeStateCaches[e] ||
      (this._pipeStateCaches[e] = Object.create(null)),
      (this._pipeCache = this._pipeStateCaches[e]);
  }
  destroy() {
    (this._renderer = null), (this._bufferLayoutsCache = null);
  }
}
dN.extension = { type: [W.WebGPUSystem], name: "pipeline" };
class Bne {
  constructor() {
    (this.contexts = []), (this.msaaTextures = []), (this.msaaSamples = 1);
  }
}
class One {
  init(e, t) {
    (this._renderer = e), (this._renderTargetSystem = t);
  }
  copyToTexture(e, t, n, i, s) {
    const o = this._renderer,
      a = this._getGpuColorTexture(e),
      l = o.texture.getGpuSource(t.source);
    return (
      o.encoder.commandEncoder.copyTextureToTexture(
        { texture: a, origin: n },
        { texture: l, origin: s },
        i
      ),
      t
    );
  }
  startRenderPass(e, t = !0, n, i) {
    const o = this._renderTargetSystem.getGpuRenderTarget(e),
      a = this.getDescriptor(e, t, n);
    (o.descriptor = a),
      this._renderer.pipeline.setRenderTarget(o),
      this._renderer.encoder.beginRenderPass(o),
      this._renderer.encoder.setViewport(i);
  }
  finishRenderPass() {
    this._renderer.encoder.endRenderPass();
  }
  _getGpuColorTexture(e) {
    const t = this._renderTargetSystem.getGpuRenderTarget(e);
    return t.contexts[0]
      ? t.contexts[0].getCurrentTexture()
      : this._renderer.texture.getGpuSource(e.colorTextures[0].source);
  }
  getDescriptor(e, t, n) {
    typeof t == "boolean" && (t = t ? Hn.ALL : Hn.NONE);
    const i = this._renderTargetSystem,
      s = i.getGpuRenderTarget(e),
      o = e.colorTextures.map((u, c) => {
        const h = s.contexts[c];
        let d, f;
        h
          ? (d = h.getCurrentTexture().createView())
          : (d = this._renderer.texture
              .getGpuSource(u)
              .createView({ mipLevelCount: 1 })),
          s.msaaTextures[c] &&
            ((f = d),
            (d = this._renderer.texture.getTextureView(s.msaaTextures[c])));
        const m = t & Hn.COLOR ? "clear" : "load";
        return (
          n ?? (n = i.defaultClearColor),
          {
            view: d,
            resolveTarget: f,
            clearValue: n,
            storeOp: "store",
            loadOp: m,
          }
        );
      });
    let a;
    if (
      ((e.stencil || e.depth) &&
        !e.depthStencilTexture &&
        (e.ensureDepthStencilTexture(),
        (e.depthStencilTexture.source.sampleCount = s.msaa ? 4 : 1)),
      e.depthStencilTexture)
    ) {
      const u = t & Hn.STENCIL ? "clear" : "load",
        c = t & Hn.DEPTH ? "clear" : "load";
      a = {
        view: this._renderer.texture
          .getGpuSource(e.depthStencilTexture.source)
          .createView(),
        stencilStoreOp: "store",
        stencilLoadOp: u,
        depthClearValue: 1,
        depthLoadOp: c,
        depthStoreOp: "store",
      };
    }
    return { colorAttachments: o, depthStencilAttachment: a };
  }
  clear(e, t = !0, n, i) {
    if (!t) return;
    const { gpu: s, encoder: o } = this._renderer,
      a = s.device;
    if (o.commandEncoder === null) {
      const u = a.createCommandEncoder(),
        c = this.getDescriptor(e, t, n),
        h = u.beginRenderPass(c);
      h.setViewport(i.x, i.y, i.width, i.height, 0, 1), h.end();
      const d = u.finish();
      a.queue.submit([d]);
    } else this.startRenderPass(e, t, n, i);
  }
  initGpuRenderTarget(e) {
    e.isRoot = !0;
    const t = new Bne();
    return (
      e.colorTextures.forEach((n, i) => {
        if (Uu.test(n.resource)) {
          const s = n.resource.getContext("webgpu"),
            o = n.transparent ? "premultiplied" : "opaque";
          try {
            s.configure({
              device: this._renderer.gpu.device,
              usage:
                GPUTextureUsage.TEXTURE_BINDING |
                GPUTextureUsage.COPY_DST |
                GPUTextureUsage.RENDER_ATTACHMENT |
                GPUTextureUsage.COPY_SRC,
              format: "bgra8unorm",
              alphaMode: o,
            });
          } catch (a) {
            console.error(a);
          }
          t.contexts[i] = s;
        }
        if (((t.msaa = n.source.antialias), n.source.antialias)) {
          const s = new br({ width: 0, height: 0, sampleCount: 4 });
          t.msaaTextures[i] = s;
        }
      }),
      t.msaa &&
        ((t.msaaSamples = 4),
        e.depthStencilTexture &&
          (e.depthStencilTexture.source.sampleCount = 4)),
      t
    );
  }
  destroyGpuRenderTarget(e) {
    e.contexts.forEach((t) => {
      t.unconfigure();
    }),
      e.msaaTextures.forEach((t) => {
        t.destroy();
      }),
      (e.msaaTextures.length = 0),
      (e.contexts.length = 0);
  }
  ensureDepthStencilTexture(e) {
    const t = this._renderTargetSystem.getGpuRenderTarget(e);
    e.depthStencilTexture &&
      t.msaa &&
      (e.depthStencilTexture.source.sampleCount = 4);
  }
  resizeGpuRenderTarget(e) {
    const t = this._renderTargetSystem.getGpuRenderTarget(e);
    (t.width = e.width),
      (t.height = e.height),
      t.msaa &&
        e.colorTextures.forEach((n, i) => {
          const s = t.msaaTextures[i];
          s == null ||
            s.resize(n.source.width, n.source.height, n.source._resolution);
        });
  }
}
class fN extends kF {
  constructor(e) {
    super(e), (this.adaptor = new One()), this.adaptor.init(e, this);
  }
}
fN.extension = { type: [W.WebGPUSystem], name: "renderTarget" };
class pN {
  constructor() {
    this._gpuProgramData = Object.create(null);
  }
  contextChange(e) {
    this._gpu = e;
  }
  getProgramData(e) {
    return this._gpuProgramData[e._layoutKey] || this._createGPUProgramData(e);
  }
  _createGPUProgramData(e) {
    const t = this._gpu.device,
      n = e.gpuLayout.map((s) => t.createBindGroupLayout({ entries: s })),
      i = { bindGroupLayouts: n };
    return (
      (this._gpuProgramData[e._layoutKey] = {
        bindGroups: n,
        pipeline: t.createPipelineLayout(i),
      }),
      this._gpuProgramData[e._layoutKey]
    );
  }
  destroy() {
    (this._gpu = null), (this._gpuProgramData = null);
  }
}
pN.extension = { type: [W.WebGPUSystem], name: "shader" };
const Mi = {};
Mi.normal = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
};
Mi.add = {
  alpha: {
    srcFactor: "src-alpha",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "one", dstFactor: "one", operation: "add" },
};
Mi.multiply = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "dst",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
};
Mi.screen = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "one", dstFactor: "one-minus-src", operation: "add" },
};
Mi.overlay = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "one", dstFactor: "one-minus-src", operation: "add" },
};
Mi.none = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "zero", dstFactor: "zero", operation: "add" },
};
Mi["normal-npm"] = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "src-alpha",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
};
Mi["add-npm"] = {
  alpha: { srcFactor: "one", dstFactor: "one", operation: "add" },
  color: { srcFactor: "src-alpha", dstFactor: "one", operation: "add" },
};
Mi["screen-npm"] = {
  alpha: {
    srcFactor: "one",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: {
    srcFactor: "src-alpha",
    dstFactor: "one-minus-src",
    operation: "add",
  },
};
Mi.erase = {
  alpha: {
    srcFactor: "zero",
    dstFactor: "one-minus-src-alpha",
    operation: "add",
  },
  color: { srcFactor: "zero", dstFactor: "one-minus-src", operation: "add" },
};
class mN {
  constructor() {
    (this.defaultState = new Ds()), (this.defaultState.blend = !0);
  }
  contextChange(e) {
    this.gpu = e;
  }
  getColorTargets(e) {
    return [
      {
        format: "bgra8unorm",
        writeMask: 0,
        blend: Mi[e.blendMode] || Mi.normal,
      },
    ];
  }
  destroy() {
    this.gpu = null;
  }
}
mN.extension = { type: [W.WebGPUSystem], name: "state" };
const Ine = {
    type: "image",
    upload(r, e, t) {
      const n = r.resource,
        i = (r.pixelWidth | 0) * (r.pixelHeight | 0),
        s = n.byteLength / i;
      t.device.queue.writeTexture(
        { texture: e },
        n,
        {
          offset: 0,
          rowsPerImage: r.pixelHeight,
          bytesPerRow: r.pixelHeight * s,
        },
        { width: r.pixelWidth, height: r.pixelHeight, depthOrArrayLayers: 1 }
      );
    },
  },
  gN = {
    "bc1-rgba-unorm": { blockBytes: 8, blockWidth: 4, blockHeight: 4 },
    "bc2-rgba-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "bc3-rgba-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "bc7-rgba-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "etc1-rgb-unorm": { blockBytes: 8, blockWidth: 4, blockHeight: 4 },
    "etc2-rgba8unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
    "astc-4x4-unorm": { blockBytes: 16, blockWidth: 4, blockHeight: 4 },
  },
  Fne = { blockBytes: 4, blockWidth: 1, blockHeight: 1 },
  Nne = {
    type: "compressed",
    upload(r, e, t) {
      let n = r.pixelWidth,
        i = r.pixelHeight;
      const s = gN[r.format] || Fne;
      for (let o = 0; o < r.resource.length; o++) {
        const a = r.resource[o],
          l = Math.ceil(n / s.blockWidth) * s.blockBytes;
        t.device.queue.writeTexture(
          { texture: e, mipLevel: o },
          a,
          { offset: 0, bytesPerRow: l },
          {
            width: Math.ceil(n / s.blockWidth) * s.blockWidth,
            height: Math.ceil(i / s.blockHeight) * s.blockHeight,
            depthOrArrayLayers: 1,
          }
        ),
          (n = Math.max(n >> 1, 1)),
          (i = Math.max(i >> 1, 1));
      }
    },
  },
  _N = {
    type: "image",
    upload(r, e, t) {
      const n = r.resource;
      if (!n) return;
      const i = Math.min(e.width, r.resourceWidth || r.pixelWidth),
        s = Math.min(e.height, r.resourceHeight || r.pixelHeight),
        o = r.alphaMode === "premultiply-alpha-on-upload";
      t.device.queue.copyExternalImageToTexture(
        { source: n },
        { texture: e, premultipliedAlpha: o },
        { width: i, height: s }
      );
    },
  },
  Lne = {
    type: "video",
    upload(r, e, t) {
      _N.upload(r, e, t);
    },
  };
class Une {
  constructor(e) {
    (this.device = e),
      (this.sampler = e.createSampler({ minFilter: "linear" })),
      (this.pipelines = {});
  }
  _getMipmapPipeline(e) {
    let t = this.pipelines[e];
    return (
      t ||
        (this.mipmapShaderModule ||
          (this.mipmapShaderModule = this.device.createShaderModule({
            code: `
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `,
          })),
        (t = this.device.createRenderPipeline({
          layout: "auto",
          vertex: { module: this.mipmapShaderModule, entryPoint: "vertexMain" },
          fragment: {
            module: this.mipmapShaderModule,
            entryPoint: "fragmentMain",
            targets: [{ format: e }],
          },
        })),
        (this.pipelines[e] = t)),
      t
    );
  }
  generateMipmap(e) {
    const t = this._getMipmapPipeline(e.format);
    if (e.dimension === "3d" || e.dimension === "1d")
      throw new Error(
        "Generating mipmaps for non-2d textures is currently unsupported!"
      );
    let n = e;
    const i = e.depthOrArrayLayers || 1,
      s = e.usage & GPUTextureUsage.RENDER_ATTACHMENT;
    if (!s) {
      const l = {
        size: {
          width: Math.ceil(e.width / 2),
          height: Math.ceil(e.height / 2),
          depthOrArrayLayers: i,
        },
        format: e.format,
        usage:
          GPUTextureUsage.TEXTURE_BINDING |
          GPUTextureUsage.COPY_SRC |
          GPUTextureUsage.RENDER_ATTACHMENT,
        mipLevelCount: e.mipLevelCount - 1,
      };
      n = this.device.createTexture(l);
    }
    const o = this.device.createCommandEncoder({}),
      a = t.getBindGroupLayout(0);
    for (let l = 0; l < i; ++l) {
      let u = e.createView({
          baseMipLevel: 0,
          mipLevelCount: 1,
          dimension: "2d",
          baseArrayLayer: l,
          arrayLayerCount: 1,
        }),
        c = s ? 1 : 0;
      for (let h = 1; h < e.mipLevelCount; ++h) {
        const d = n.createView({
            baseMipLevel: c++,
            mipLevelCount: 1,
            dimension: "2d",
            baseArrayLayer: l,
            arrayLayerCount: 1,
          }),
          f = o.beginRenderPass({
            colorAttachments: [
              {
                view: d,
                storeOp: "store",
                loadOp: "clear",
                clearValue: { r: 0, g: 0, b: 0, a: 0 },
              },
            ],
          }),
          m = this.device.createBindGroup({
            layout: a,
            entries: [
              { binding: 0, resource: this.sampler },
              { binding: 1, resource: u },
            ],
          });
        f.setPipeline(t),
          f.setBindGroup(0, m),
          f.draw(3, 1, 0, 0),
          f.end(),
          (u = d);
      }
    }
    if (!s) {
      const l = {
        width: Math.ceil(e.width / 2),
        height: Math.ceil(e.height / 2),
        depthOrArrayLayers: i,
      };
      for (let u = 1; u < e.mipLevelCount; ++u)
        o.copyTextureToTexture(
          { texture: n, mipLevel: u - 1 },
          { texture: e, mipLevel: u },
          l
        ),
          (l.width = Math.ceil(l.width / 2)),
          (l.height = Math.ceil(l.height / 2));
    }
    return this.device.queue.submit([o.finish()]), s || n.destroy(), e;
  }
}
class yN {
  constructor(e) {
    (this.managedTextures = []),
      (this._gpuSources = Object.create(null)),
      (this._gpuSamplers = Object.create(null)),
      (this._bindGroupHash = Object.create(null)),
      (this._textureViewHash = Object.create(null)),
      (this._uploads = { image: _N, buffer: Ine, video: Lne, compressed: Nne }),
      (this._renderer = e);
  }
  contextChange(e) {
    this._gpu = e;
  }
  initSource(e) {
    if (e.autoGenerateMipmaps) {
      const l = Math.max(e.pixelWidth, e.pixelHeight);
      e.mipLevelCount = Math.floor(Math.log2(l)) + 1;
    }
    let t = GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST;
    e.uploadMethodId !== "compressed" &&
      ((t |= GPUTextureUsage.RENDER_ATTACHMENT),
      (t |= GPUTextureUsage.COPY_SRC));
    const n = gN[e.format] || { blockBytes: 4, blockWidth: 1, blockHeight: 1 },
      i = Math.ceil(e.pixelWidth / n.blockWidth) * n.blockWidth,
      s = Math.ceil(e.pixelHeight / n.blockHeight) * n.blockHeight,
      o = {
        label: e.label,
        size: { width: i, height: s },
        format: e.format,
        sampleCount: e.sampleCount,
        mipLevelCount: e.mipLevelCount,
        dimension: e.dimension,
        usage: t,
      },
      a = this._gpu.device.createTexture(o);
    return (
      (this._gpuSources[e.uid] = a),
      this.managedTextures.includes(e) ||
        (e.on("update", this.onSourceUpdate, this),
        e.on("resize", this.onSourceResize, this),
        e.on("destroy", this.onSourceDestroy, this),
        e.on("unload", this.onSourceUnload, this),
        e.on("updateMipmaps", this.onUpdateMipmaps, this),
        this.managedTextures.push(e)),
      this.onSourceUpdate(e),
      a
    );
  }
  onSourceUpdate(e) {
    const t = this.getGpuSource(e);
    t &&
      (this._uploads[e.uploadMethodId] &&
        this._uploads[e.uploadMethodId].upload(e, t, this._gpu),
      e.autoGenerateMipmaps && e.mipLevelCount > 1 && this.onUpdateMipmaps(e));
  }
  onSourceUnload(e) {
    const t = this._gpuSources[e.uid];
    t && ((this._gpuSources[e.uid] = null), t.destroy());
  }
  onUpdateMipmaps(e) {
    this._mipmapGenerator ||
      (this._mipmapGenerator = new Une(this._gpu.device));
    const t = this.getGpuSource(e);
    this._mipmapGenerator.generateMipmap(t);
  }
  onSourceDestroy(e) {
    e.off("update", this.onSourceUpdate, this),
      e.off("unload", this.onSourceUnload, this),
      e.off("destroy", this.onSourceDestroy, this),
      e.off("resize", this.onSourceResize, this),
      e.off("updateMipmaps", this.onUpdateMipmaps, this),
      this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
      this.onSourceUnload(e);
  }
  onSourceResize(e) {
    const t = this._gpuSources[e.uid];
    t
      ? (t.width !== e.pixelWidth || t.height !== e.pixelHeight) &&
        ((this._textureViewHash[e.uid] = null),
        (this._bindGroupHash[e.uid] = null),
        this.onSourceUnload(e),
        this.initSource(e))
      : this.initSource(e);
  }
  _initSampler(e) {
    return (
      (this._gpuSamplers[e._resourceId] = this._gpu.device.createSampler(e)),
      this._gpuSamplers[e._resourceId]
    );
  }
  getGpuSampler(e) {
    return this._gpuSamplers[e._resourceId] || this._initSampler(e);
  }
  getGpuSource(e) {
    return this._gpuSources[e.uid] || this.initSource(e);
  }
  getTextureBindGroup(e) {
    var t;
    return (t = this._bindGroupHash[e.uid]) != null
      ? t
      : this._createTextureBindGroup(e);
  }
  _createTextureBindGroup(e) {
    const t = e.source,
      n = t.uid;
    return (
      (this._bindGroupHash[n] = new to({ 0: t, 1: t.style })),
      this._bindGroupHash[n]
    );
  }
  getTextureView(e) {
    var t;
    const n = e.source;
    return (t = this._textureViewHash[n.uid]) != null
      ? t
      : this._createTextureView(n);
  }
  _createTextureView(e) {
    return (
      (this._textureViewHash[e.uid] = this.getGpuSource(e).createView()),
      this._textureViewHash[e.uid]
    );
  }
  generateCanvas(e) {
    const t = this._renderer,
      n = t.gpu.device.createCommandEncoder(),
      i = nt.get().createCanvas();
    (i.width = e.source.pixelWidth), (i.height = e.source.pixelHeight);
    const s = i.getContext("webgpu");
    return (
      s.configure({
        device: t.gpu.device,
        usage: GPUTextureUsage.COPY_DST | GPUTextureUsage.COPY_SRC,
        format: navigator.gpu.getPreferredCanvasFormat(),
        alphaMode: "premultiplied",
      }),
      n.copyTextureToTexture(
        { texture: t.texture.getGpuSource(e.source), origin: { x: 0, y: 0 } },
        { texture: s.getCurrentTexture() },
        { width: i.width, height: i.height }
      ),
      t.gpu.device.queue.submit([n.finish()]),
      i
    );
  }
  getPixels(e) {
    const t = this.generateCanvas(e),
      n = ro.getOptimalCanvasAndContext(t.width, t.height),
      i = n.context;
    i.drawImage(t, 0, 0);
    const { width: s, height: o } = t,
      a = i.getImageData(0, 0, s, o),
      l = new Uint8ClampedArray(a.data.buffer);
    return ro.returnCanvasAndContext(n), { pixels: l, width: s, height: o };
  }
  destroy() {
    this.managedTextures.slice().forEach((e) => this.onSourceDestroy(e)),
      (this.managedTextures = null);
    for (const e of Object.keys(this._bindGroupHash)) {
      const t = Number(e),
        n = this._bindGroupHash[t];
      n == null || n.destroy(), (this._bindGroupHash[t] = null);
    }
    (this._gpu = null),
      (this._mipmapGenerator = null),
      (this._gpuSources = null),
      (this._bindGroupHash = null),
      (this._textureViewHash = null),
      (this._gpuSamplers = null);
  }
}
yN.extension = { type: [W.WebGPUSystem], name: "texture" };
class vN {
  init() {
    const e = new dn({
        uTransformMatrix: { value: new we(), type: "mat3x3<f32>" },
        uColor: { value: new Float32Array([1, 1, 1, 1]), type: "vec4<f32>" },
        uRound: { value: 0, type: "f32" },
      }),
      t = gd({ name: "graphics", bits: [Zb, Jb(As()), UZ, yd] });
    this.shader = new Oi({ gpuProgram: t, resources: { localUniforms: e } });
  }
  execute(e, t) {
    const n = t.context,
      i = n.customShader || this.shader,
      s = e.renderer,
      o = s.graphicsContext,
      { geometry: a, instructions: l } = o.getContextRenderData(n),
      u = s.encoder;
    u.setPipelineFromGeometryProgramAndState(a, i.gpuProgram, e.state),
      u.setGeometry(a);
    const c = s.globalUniforms.bindGroup;
    u.setBindGroup(0, c, i.gpuProgram);
    const h = s.renderPipes.uniformBatch.getUniformBindGroup(
      i.resources.localUniforms,
      !0
    );
    u.setBindGroup(2, h, i.gpuProgram);
    const d = l.instructions;
    for (let f = 0; f < l.instructionSize; f++) {
      const m = d[f];
      if (((i.groups[1] = m.bindGroup), !m.gpuBindGroup)) {
        const g = m.textures;
        (m.bindGroup = Ub(g.textures, g.count)),
          (m.gpuBindGroup = s.bindGroup.getBindGroup(
            m.bindGroup,
            i.gpuProgram,
            1
          ));
      }
      u.setBindGroup(1, m.bindGroup, i.gpuProgram),
        u.renderPassEncoder.drawIndexed(m.size, 1, m.start);
    }
  }
  destroy() {
    this.shader.destroy(!0), (this.shader = null);
  }
}
vN.extension = { type: [W.WebGPUPipesAdaptor], name: "graphics" };
class xN {
  init() {
    const e = gd({ name: "mesh", bits: [oh, ote, yd] });
    this._shader = new Oi({
      gpuProgram: e,
      resources: {
        uTexture: fe.EMPTY._source,
        uSampler: fe.EMPTY._source.style,
        textureUniforms: {
          uTextureMatrix: { type: "mat3x3<f32>", value: new we() },
        },
      },
    });
  }
  execute(e, t) {
    const n = e.renderer;
    let i = t._shader;
    if (!i)
      (i = this._shader),
        (i.resources.uTexture = t.texture.source),
        (i.resources.uSampler = t.texture.source.style),
        (i.resources.textureUniforms.uniforms.uTextureMatrix =
          t.texture.textureMatrix.mapCoord);
    else if (!i.gpuProgram) {
      Be("Mesh shader has no gpuProgram", t.shader);
      return;
    }
    const s = i.gpuProgram;
    if (
      (s.autoAssignGlobalUniforms && (i.groups[0] = n.globalUniforms.bindGroup),
      s.autoAssignLocalUniforms)
    ) {
      const o = e.localUniforms;
      i.groups[1] = n.renderPipes.uniformBatch.getUniformBindGroup(o, !0);
    }
    n.encoder.draw({ geometry: t._geometry, shader: i, state: t.state });
  }
  destroy() {
    this._shader.destroy(!0), (this._shader = null);
  }
}
xN.extension = { type: [W.WebGPUPipesAdaptor], name: "mesh" };
const Gne = [...eN, cN, lN, m1, oN, yN, fN, pN, mN, dN, aN, uN, sN],
  jne = [...tN, hN],
  $ne = [nF, xN, vN],
  wN = [],
  bN = [],
  SN = [];
Ue.handleByNamedList(W.WebGPUSystem, wN);
Ue.handleByNamedList(W.WebGPUPipes, bN);
Ue.handleByNamedList(W.WebGPUPipesAdaptor, SN);
Ue.add(...Gne, ...jne, ...$ne);
class zne extends Og {
  constructor() {
    const e = {
      name: "webgpu",
      type: Di.WEBGPU,
      systems: wN,
      renderPipes: bN,
      renderPipeAdaptors: SN,
    };
    super(e);
  }
}
var Wne = { __proto__: null, WebGPURenderer: zne };
const h2 = {
  POINTS: "point-list",
  LINES: "line-list",
  LINE_STRIP: "line-strip",
  TRIANGLES: "triangle-list",
  TRIANGLE_STRIP: "triangle-strip",
};
new Proxy(h2, {
  get(r, e) {
    return (
      Le(Ge, `DRAW_MODES.${e} is deprecated, use '${h2[e]}' instead`), r[e]
    );
  },
});
var Rx = ((r) => (
  (r.CLAMP = "clamp-to-edge"),
  (r.REPEAT = "repeat"),
  (r.MIRRORED_REPEAT = "mirror-repeat"),
  r
))(Rx || {});
new Proxy(Rx, {
  get(r, e) {
    return (
      Le(Ge, `DRAW_MODES.${e} is deprecated, use '${Rx[e]}' instead`), r[e]
    );
  },
});
var Dx = ((r) => ((r.NEAREST = "nearest"), (r.LINEAR = "linear"), r))(Dx || {});
new Proxy(Dx, {
  get(r, e) {
    return (
      Le(Ge, `DRAW_MODES.${e} is deprecated, use '${Dx[e]}' instead`), r[e]
    );
  },
});
var Hne = Object.defineProperty,
  d2 = Object.getOwnPropertySymbols,
  Vne = Object.prototype.hasOwnProperty,
  Xne = Object.prototype.propertyIsEnumerable,
  f2 = (r, e, t) =>
    e in r
      ? Hne(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  p2 = (r, e) => {
    for (var t in e || (e = {})) Vne.call(e, t) && f2(r, t, e[t]);
    if (d2) for (var t of d2(e)) Xne.call(e, t) && f2(r, t, e[t]);
    return r;
  };
const EN = class TN extends xd {
  constructor(e) {
    const {
      width: t,
      points: n,
      textureScale: i,
    } = p2(p2({}, TN.defaultOptions), e);
    super({
      positions: new Float32Array(n.length * 4),
      uvs: new Float32Array(n.length * 4),
      indices: new Uint32Array((n.length - 1) * 6),
    }),
      (this.points = n),
      (this._width = t),
      (this.textureScale = i),
      this._build();
  }
  get width() {
    return this._width;
  }
  _build() {
    const e = this.points;
    if (!e) return;
    const t = this.getBuffer("aPosition"),
      n = this.getBuffer("aUV"),
      i = this.getIndex();
    if (e.length < 1) return;
    t.data.length / 4 !== e.length &&
      ((t.data = new Float32Array(e.length * 4)),
      (n.data = new Float32Array(e.length * 4)),
      (i.data = new Uint16Array((e.length - 1) * 6)));
    const s = n.data,
      o = i.data;
    (s[0] = 0), (s[1] = 0), (s[2] = 0), (s[3] = 1);
    let a = 0,
      l = e[0];
    const u = this._width * this.textureScale,
      c = e.length;
    for (let d = 0; d < c; d++) {
      const f = d * 4;
      if (this.textureScale > 0) {
        const m = l.x - e[d].x,
          g = l.y - e[d].y,
          _ = Math.sqrt(m * m + g * g);
        (l = e[d]), (a += _ / u);
      } else a = d / (c - 1);
      (s[f] = a), (s[f + 1] = 0), (s[f + 2] = a), (s[f + 3] = 1);
    }
    let h = 0;
    for (let d = 0; d < c - 1; d++) {
      const f = d * 2;
      (o[h++] = f),
        (o[h++] = f + 1),
        (o[h++] = f + 2),
        (o[h++] = f + 2),
        (o[h++] = f + 1),
        (o[h++] = f + 3);
    }
    n.update(), i.update(), this.updateVertices();
  }
  updateVertices() {
    const e = this.points;
    if (e.length < 1) return;
    let t = e[0],
      n,
      i = 0,
      s = 0;
    const o = this.buffers[0].data,
      a = e.length,
      l =
        this.textureScale > 0
          ? (this.textureScale * this._width) / 2
          : this._width / 2;
    for (let u = 0; u < a; u++) {
      const c = e[u],
        h = u * 4;
      u < e.length - 1 ? (n = e[u + 1]) : (n = c),
        (s = -(n.x - t.x)),
        (i = n.y - t.y);
      const d = Math.sqrt(i * i + s * s);
      d < 1e-6 ? ((i = 0), (s = 0)) : ((i /= d), (s /= d), (i *= l), (s *= l)),
        (o[h] = c.x + i),
        (o[h + 1] = c.y + s),
        (o[h + 2] = c.x - i),
        (o[h + 3] = c.y - s),
        (t = c);
    }
    this.buffers[0].update();
  }
  update() {
    this.textureScale > 0 ? this._build() : this.updateVertices();
  }
};
EN.defaultOptions = { width: 200, points: [], textureScale: 0 };
let Yne = EN;
var Kne = Object.defineProperty,
  qne = Object.defineProperties,
  Zne = Object.getOwnPropertyDescriptors,
  Rm = Object.getOwnPropertySymbols,
  kN = Object.prototype.hasOwnProperty,
  AN = Object.prototype.propertyIsEnumerable,
  m2 = (r, e, t) =>
    e in r
      ? Kne(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  ly = (r, e) => {
    for (var t in e || (e = {})) kN.call(e, t) && m2(r, t, e[t]);
    if (Rm) for (var t of Rm(e)) AN.call(e, t) && m2(r, t, e[t]);
    return r;
  },
  Qne = (r, e) => qne(r, Zne(e)),
  Jne = (r, e) => {
    var t = {};
    for (var n in r) kN.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Rm)
      for (var n of Rm(r)) e.indexOf(n) < 0 && AN.call(r, n) && (t[n] = r[n]);
    return t;
  };
const eie = class PN extends tte {
  constructor(e) {
    const t = ly(ly({}, PN.defaultOptions), e),
      { texture: n, points: i, textureScale: s } = t,
      o = Jne(t, ["texture", "points", "textureScale"]),
      a = new Yne(lx({ width: n.height, points: i, textureScale: s }));
    s > 0 && (n.source.style.addressMode = "repeat"),
      super(lx(Qne(ly({}, o), { texture: n, geometry: a }))),
      (this.autoUpdate = !0),
      (this.onRender = this._render);
  }
  _render() {
    const e = this.geometry;
    (this.autoUpdate || e._width !== this.texture.height) &&
      ((e._width = this.texture.height), e.update());
  }
};
eie.defaultOptions = { textureScale: 0 };
var tie = Object.defineProperty,
  Dm = Object.getOwnPropertySymbols,
  CN = Object.prototype.hasOwnProperty,
  RN = Object.prototype.propertyIsEnumerable,
  g2 = (r, e, t) =>
    e in r
      ? tie(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t })
      : (r[e] = t),
  rie = (r, e) => {
    for (var t in e || (e = {})) CN.call(e, t) && g2(r, t, e[t]);
    if (Dm) for (var t of Dm(e)) RN.call(e, t) && g2(r, t, e[t]);
    return r;
  },
  nie = (r, e) => {
    var t = {};
    for (var n in r) CN.call(r, n) && e.indexOf(n) < 0 && (t[n] = r[n]);
    if (r != null && Dm)
      for (var n of Dm(r)) e.indexOf(n) < 0 && RN.call(r, n) && (t[n] = r[n]);
    return t;
  };
const iie = class DN extends ft {
  constructor(e) {
    var t, n, i, s, o, a, l, u, c, h;
    e instanceof fe && (e = { texture: e });
    const d = e,
      {
        width: f,
        height: m,
        leftWidth: g,
        rightWidth: _,
        topHeight: v,
        bottomHeight: w,
        texture: x,
        roundPixels: k,
      } = d,
      C = nie(d, [
        "width",
        "height",
        "leftWidth",
        "rightWidth",
        "topHeight",
        "bottomHeight",
        "texture",
        "roundPixels",
      ]);
    super(rie({ label: "NineSliceSprite" }, C)),
      (this._roundPixels = 0),
      (this.renderPipeId = "nineSliceSprite"),
      (this.batched = !0),
      (this._didSpriteUpdate = !0),
      (this.bounds = { minX: 0, minY: 0, maxX: 0, maxY: 0 }),
      (this._leftWidth =
        (n =
          g ??
          ((t = x == null ? void 0 : x.defaultBorders) == null
            ? void 0
            : t.left)) != null
          ? n
          : Ea.defaultOptions.leftWidth),
      (this._topHeight =
        (s =
          v ??
          ((i = x == null ? void 0 : x.defaultBorders) == null
            ? void 0
            : i.top)) != null
          ? s
          : Ea.defaultOptions.topHeight),
      (this._rightWidth =
        (a =
          _ ??
          ((o = x == null ? void 0 : x.defaultBorders) == null
            ? void 0
            : o.right)) != null
          ? a
          : Ea.defaultOptions.rightWidth),
      (this._bottomHeight =
        (u =
          w ??
          ((l = x == null ? void 0 : x.defaultBorders) == null
            ? void 0
            : l.bottom)) != null
          ? u
          : Ea.defaultOptions.bottomHeight),
      (this.bounds.maxX = this._width =
        (c = f ?? x.width) != null ? c : Ea.defaultOptions.width),
      (this.bounds.maxY = this._height =
        (h = m ?? x.height) != null ? h : Ea.defaultOptions.height),
      (this.allowChildren = !1),
      (this.texture = x ?? DN.defaultOptions.texture),
      (this.roundPixels = k ?? !1);
  }
  get width() {
    return this._width;
  }
  set width(e) {
    (this.bounds.maxX = this._width = e), this.onViewUpdate();
  }
  get height() {
    return this._height;
  }
  set height(e) {
    (this.bounds.maxY = this._height = e), this.onViewUpdate();
  }
  get leftWidth() {
    return this._leftWidth;
  }
  set leftWidth(e) {
    (this._leftWidth = e), this.onViewUpdate();
  }
  get topHeight() {
    return this._topHeight;
  }
  set topHeight(e) {
    (this._topHeight = e), this.onViewUpdate();
  }
  get rightWidth() {
    return this._rightWidth;
  }
  set rightWidth(e) {
    (this._rightWidth = e), this.onViewUpdate();
  }
  get bottomHeight() {
    return this._bottomHeight;
  }
  set bottomHeight(e) {
    (this._bottomHeight = e), this.onViewUpdate();
  }
  get texture() {
    return this._texture;
  }
  set texture(e) {
    e || (e = fe.EMPTY);
    const t = this._texture;
    t !== e &&
      (t && t.dynamic && t.off("update", this.onViewUpdate, this),
      e.dynamic && e.on("update", this.onViewUpdate, this),
      (this._texture = e),
      this.onViewUpdate());
  }
  get roundPixels() {
    return !!this._roundPixels;
  }
  set roundPixels(e) {
    this._roundPixels = e ? 1 : 0;
  }
  get originalWidth() {
    return this._texture.width;
  }
  get originalHeight() {
    return this._texture.height;
  }
  onViewUpdate() {
    if (
      ((this._didChangeId += 4096),
      (this._didSpriteUpdate = !0),
      this.didViewUpdate)
    )
      return;
    this.didViewUpdate = !0;
    const e = this.renderGroup || this.parentRenderGroup;
    e && e.onChildViewUpdate(this);
  }
  addBounds(e) {
    const t = this.bounds;
    e.addFrame(t.minX, t.minY, t.maxX, t.maxY);
  }
  containsPoint(e) {
    const t = this.bounds;
    return e.x >= t.minX && e.x <= t.maxX && e.y >= t.minY && e.y <= t.maxY;
  }
  destroy(e) {
    if (
      (super.destroy(e),
      typeof e == "boolean" ? e : e == null ? void 0 : e.texture)
    ) {
      const n =
        typeof e == "boolean" ? e : e == null ? void 0 : e.textureSource;
      this._texture.destroy(n);
    }
    (this._texture = null), (this.bounds = null);
  }
};
iie.defaultOptions = { texture: fe.EMPTY };
const sie = async (r, e, t) => {
    const n = new ft();
    (n.label = "bg"), r.stage.addChild(n);
    const i = 152,
      s = Dr.from(e.bg),
      o = Dr.from(e.bg),
      a = Dr.from(e.bg),
      l = Dr.from(e.bg),
      u = Dr.from(e.bg),
      c = Dr.from(e.bg);
    n.addChild(s),
      n.addChild(o),
      n.addChild(a),
      n.addChild(l),
      n.addChild(u),
      n.addChild(c),
      (s.label = "bgEl1"),
      (o.label = "bgEl2"),
      (a.label = "bgEl3"),
      (l.label = "bgEl4"),
      (u.label = "bgEl5"),
      (c.label = "bgEl6"),
      (s.width = i),
      (s.height = i / 2),
      (o.width = i),
      (o.height = i / 2),
      (a.width = i),
      (a.height = i / 2),
      (l.width = i),
      (l.height = i / 2),
      (u.width = i),
      (u.height = i / 2),
      (c.width = i),
      (c.height = i / 2),
      (s.x = 0),
      (o.x = i),
      (a.x = i * 2),
      (l.x = i * 3),
      (u.x = i * 4),
      (c.x = i * 5),
      (s.y = t - i / 2),
      (o.y = t - i / 2),
      (a.y = t - i / 2),
      (l.y = t - i / 2),
      (u.y = t - i / 2),
      (c.y = t - i / 2);
  },
  oie = async (r, e) => {
    const t = r.stage.children.find((c) => c.label == "bg"),
      n = t.children.find((c) => c.label == "bgEl1"),
      i = t.children.find((c) => c.label == "bgEl2"),
      s = t.children.find((c) => c.label == "bgEl3"),
      o = t.children.find((c) => c.label == "bgEl4"),
      a = t.children.find((c) => c.label == "bgEl5"),
      l = t.children.find((c) => c.label == "bgEl6"),
      u = 152;
    (n.x = u * 0 - (e % u)),
      (i.x = u * 1 - (e % u)),
      (s.x = u * 2 - (e % u)),
      (o.x = u * 3 - (e % u)),
      (a.x = u * 4 - (e % u)),
      (l.x = u * 5 - (e % u));
  },
  aie = async (r, e, t, n) => {
    const i = Dr.from(e.bearUp);
    r.stage.addChild(i),
      (i.label = "bear"),
      (i.width = 64),
      (i.height = 43),
      (i.x = t / 2),
      i.anchor.set(0.5, 0.5),
      (i.y = n);
  },
  lie = async (r, e, t, n) => {
    const i = r.stage.children.find((s) => s.label == "bear");
    (i.y = t),
      (i.angle = t / 6 - 50),
      (i.counter = i.counter ? i.counter + 1 : 1),
      i.counter > 10 &&
        ((i.texture = i.texture.label.includes("bearDown")
          ? e.bearUp
          : e.bearDown),
        (i.counter = 1));
  },
  uie = async (r, e, t, n, i, s, o) => {
    const a = r.stage.children.find((l) => l.label == `wall${t[0].num - 1}`);
    a && r.stage.removeChild(a);
    for (let l = 0; l < t.length; l++) {
      const u = r.stage.children.find((c) => c.label == `wall${t[l].num}`);
      if (u) u.x = t[l].num * i + n * -1;
      else {
        const c = new ft(),
          h = Dr.from(e.wall);
        (h.width = 32),
          (h.height = 452),
          (h.x = s / 2),
          (h.y = o / 2 - t[l].distance / 2),
          h.anchor.set(0.5, 0),
          (h.rotation = Math.PI);
        const d = Dr.from(e.wall);
        (d.width = 32),
          (d.height = 452),
          (d.x = s / 2),
          (d.y = o / 2 + t[l].distance / 2),
          d.anchor.set(0.5, 0),
          c.addChild(h),
          c.addChild(d),
          (c.x = s),
          (c.y = t[l].pos),
          (c.label = `wall${t[l].num}`),
          r.stage.addChild(c);
      }
    }
  },
  cie = async (r, e, t, n) => {
    const i = Dr.from(e.cloud1);
    (i.label = "cloud1"),
      (i.width = 31),
      (i.height = 14),
      (i.x = Math.round((t / 4) * 3)),
      (i.y = Math.round(n / 4)),
      r.stage.addChild(i);
    const s = Dr.from(e.cloud2);
    (s.label = "cloud2"),
      (s.width = 17),
      (s.height = 10),
      (s.x = Math.round((t / 4) * 1)),
      (s.y = Math.round(n / 3)),
      r.stage.addChild(s);
    const o = Dr.from(e.cloud3);
    (o.label = "cloud3"),
      (o.width = 43),
      (o.height = 22),
      (o.x = Math.round((t / 5) * 3)),
      (o.y = Math.round((n / 5) * 2)),
      r.stage.addChild(o);
  },
  hie = async (r, e, t) => {
    const n = r.stage.children.find((o) => o.label == "cloud1"),
      i = r.stage.children.find((o) => o.label == "cloud2"),
      s = r.stage.children.find((o) => o.label == "cloud3");
    (n.x = t - ((e / 5) % t)), (i.x = (e / 7) % t), (s.x = t - ((e / 9) % t));
  },
  die = async () => {
    const r = {};
    return (
      (r.bg = await ji.load("/img/flappy/bg.png")),
      (r.bearUp = await ji.load("/img/flappy/bearUp.png")),
      (r.bearDown = await ji.load("/img/flappy/bearDown.png")),
      (r.wall = await ji.load("/img/flappy/wall.png")),
      (r.cloud1 = await ji.load("/img/flappy/cloud1.png")),
      (r.cloud2 = await ji.load("/img/flappy/cloud2.png")),
      (r.cloud3 = await ji.load("/img/flappy/cloud3.png")),
      r
    );
  },
  fie = mn((r) => {
    const e = K.useRef(null);
    return (
      K.useEffect(() => {
        if (Vt.play) {
          let t,
            n = performance.now(),
            i;
          const o = 1e3 / 60;
          return (
            (t = new vI()),
            (async () => {
              const l = await die(),
                u =
                  document.body.clientWidth > 800
                    ? 400
                    : document.body.clientWidth - 6,
                c =
                  document.body.clientWidth > 800
                    ? 500
                    : document.body.clientHeight - 122;
              if (
                (await t.init({
                  antialias: !1,
                  forceFXAA: !1,
                  roundPixels: !1,
                  background: "#E9EBFF",
                  width: u,
                  height: c,
                }),
                !e.current)
              )
                return;
              e.current.appendChild(t.canvas),
                (t.canvas.style.imageRendering = "pixelated"),
                sie(t, l, c),
                cie(t, l, u, c),
                aie(t, l, u, Vt.bearPosition);
              const h = new ft();
              (h.label = "scene"), t.stage.addChild(h);
              const d = (f) => {
                if (!Vt.play) {
                  cancelAnimationFrame(i);
                  return;
                }
                const m = f - n;
                m >= o &&
                  ((n = f - (m % o)),
                  Vt.tik(u, c),
                  oie(t, Vt.position / 2),
                  lie(t, l, Vt.bearPosition),
                  hie(t, Vt.position, u),
                  uie(t, l, Vt.walls, Vt.position, Vt.betweenWalls, u, c)),
                  (i = requestAnimationFrame(d));
              };
              i = requestAnimationFrame(d);
            })(),
            () => {
              cancelAnimationFrame(i),
                t &&
                  t.destroy(!0, { children: !0, texture: !0, baseTexture: !0 }),
                e.current && (e.current.innerHTML = "");
            }
          );
        }
      }, [Vt.play]),
      p.jsx(pt, {
        type: "flappy",
        children: p.jsx("div", {
          className: "Flappy",
          children: Vt.play
            ? p.jsxs("div", {
                children: [
                  p.jsx("div", {
                    className: "free_img Flappy_score",
                    children: Vt.score,
                  }),
                  p.jsx("div", {
                    ref: e,
                    id: "canvasWrapperPixi",
                    onClick: () => {
                      Vt.fly();
                    },
                  }),
                ],
              })
            : p.jsxs("div", {
                className: "Flappy_play",
                children: [
                  Vt.score !== 0 && p.jsx(p.Fragment, {}),
                  p.jsx("div", {
                    className: "Flappy_play_score_wrapper",
                    children: p.jsxs("div", {
                      className: "Flappy_play_score",
                      children: [
                        p.jsx("div", {
                          className: "Flappy_play_score_header",
                          children: "SCORE:",
                        }),
                        p.jsx("div", {
                          className: "Flappy_play_score_value",
                          children: Vt.score,
                        }),
                        p.jsx("div", {
                          className:
                            "Flappy_play_score_header Flappy_play_score_best",
                          children: "BEST:",
                        }),
                        p.jsx("div", {
                          className: "Flappy_play_score_value",
                          children: Math.max(Vt.max, Vt.score),
                        }),
                      ],
                    }),
                  }),
                  p.jsxs("div", {
                    className: "Flappy_play_btns",
                    children: [
                      p.jsx("button", {
                        className: "Flappy_play_btn",
                        onClick: () => {
                          Vt.newGame(Re.wallet);
                        },
                        children: "Play",
                      }),
                      p.jsx("a", {
                        className: "Flappy_play_btn Flappy_play_btn_pc",
                        href: `https://x.com/intent/post?hashtags=KNUT&text=I+REACHED+${Vt.score}+POINTS+IN+FLAPPY+KNUT%0D%0A&url=https://knut.wtf%0D%0A`,
                        target: "_blank",
                        children: "Share",
                      }),
                      p.jsx("a", {
                        className: "Flappy_play_btn Flappy_play_btn_mob",
                        onClick: (t) => {
                          t.preventDefault();
                          const n = `I REACHED ${Vt.score} POINTS IN FLAPPY KNUT`,
                            o = `https://x.com/intent/tweet?text=${encodeURIComponent(
                              n
                            )}&hashtags=KNUT&url=${encodeURIComponent(
                              "https://knut.wtf"
                            )}`;
                          /Android|iPhone|iPad|iPod/i.test(navigator.userAgent)
                            ? (window.location.href = o)
                            : window.open(o, "_blank");
                        },
                        children: "Share",
                      }),
                    ],
                  }),
                  p.jsx("button", {
                    className: "Flappy_play_btn",
                    onClick: () => {
                      ue.setWindowStatus("flappyLeaderboard", "opened");
                    },
                    children: "Leaderboard",
                  }),
                ],
              }),
        }),
      })
    );
  }),
  uy = 10,
  _2 = 10;
class pie {
  constructor() {
    he(this, "field", []);
    he(this, "score", 0);
    he(this, "timer", 0);
    he(this, "countOfFlags", 0);
    he(this, "gameEnd", !1);
    he(this, "timerInterval");
    he(this, "wallet", localStorage.getItem("walletConnected") || "guest");
    he(this, "minTimer", +localStorage.getItem("minesweeperBest") || 9999);
    ts(this, { field: gr });
  }
  newGame() {
    (this.countOfFlags = 0),
      (this.gameEnd = !1),
      (this.field = this.generateField(uy, _2)),
      (this.timer = 0);
  }
  generateField(e, t) {
    const n = [];
    for (let o = 0; o < e; o++)
      for (let a = 0; a < e; a++) {
        const l = { x: a, y: o, minesAround: 0, opened: !1, flag: !1 };
        ts(l), n.push(l);
      }
    const i = (o, a) =>
      [
        [-1, -1],
        [0, -1],
        [1, -1],
        [-1, 0],
        [1, 0],
        [-1, 1],
        [0, 1],
        [1, 1],
      ]
        .map(([u, c]) => ({ x: o + u, y: a + c }))
        .filter(({ x: u, y: c }) => u >= 0 && u < e && c >= 0 && c < e);
    let s = 0;
    for (; s < t; ) {
      const o = Math.floor(Math.random() * n.length),
        a = n[o];
      a.minesAround !== 9 &&
        ((a.minesAround = 9),
        s++,
        i(a.x, a.y).forEach(({ x: u, y: c }) => {
          const h = n.find((d) => d.x === u && d.y === c);
          h && h.minesAround !== 9 && (h.minesAround += 1);
        }));
    }
    return n;
  }
  get(e, t) {
    return this.field.find((n) => n.x === e && n.y === t);
  }
  open(e, t) {
    if (e < uy && e >= 0 && t < uy && t >= 0) {
      const n = this.get(e, t);
      if (!n.flag && !this.gameEnd) {
        if (((n.opened = !0), this.checkWin(), !n.minesAround)) {
          const i = [
            [e + 1, t + 1],
            [e - 1, t - 1],
            [e + 1, t - 1],
            [e - 1, t + 1],
            [e + 1, t],
            [e - 1, t],
            [e, t - 1],
            [e, t + 1],
          ];
          for (let s = 0; s < i.length; s++) {
            const o = this.get(i[s][0], i[s][1]);
            console.log(o), o && (o.opened || this.open(i[s][0], i[s][1]));
          }
        }
        n.minesAround === 9 && this.loose();
      }
    }
  }
  flag(e, t) {
    const n = this.get(e, t);
    n.opened ||
      ((n.flag = !n.flag),
      n.flag
        ? (this.countOfFlags = this.countOfFlags + 1)
        : (this.countOfFlags = this.countOfFlags - 1));
  }
  checkWin() {
    this.field.filter((e) => !e.opened).length === _2 && this.win();
  }
  win() {
    if (((this.gameEnd = !0), this.timer < this.minTimer)) {
      (this.minTimer = this.timer),
        localStorage.setItem("minesweeperBest", this.timer);
      const e = { wallet: this.wallet, minesweeper: this.timer },
        t = JSON.stringify(e);
      tn.post("/leaderboard", { value: btoa(t) });
    }
  }
  loose() {
    this.gameEnd = !0;
  }
}
const jt = new pie(),
  mie = mn((r) => {
    K.useEffect(
      () => (
        jt.newGame(),
        clearInterval(jt.timerInterval),
        (jt.timerInterval = setInterval(() => {
          (jt.timer = jt.timer + 1), console.log("INTERVAL FROM DEF");
        }, 1e3)),
        () => {
          console.log("clear int"), clearInterval(jt.timerInterval);
        }
      ),
      []
    ),
      K.useEffect(() => {
        clearInterval(jt.timerInterval),
          jt.gameEnd ||
            (jt.timerInterval = setInterval(() => {
              (jt.timer = jt.timer + 1), console.log("INTERVAL FROM GE");
            }, 1e3));
      }, [jt.gameEnd]);
    const [e, t] = K.useState(null),
      n = (s, o) => {
        const a = setTimeout(() => {
          jt.flag(s, o);
        }, 500);
        t(a);
      },
      i = () => {
        e && (clearTimeout(e), t(null));
      };
    return p.jsx(pt, {
      type: "minesweeper",
      children: p.jsxs("div", {
        className: "Minesweeper",
        children: [
          p.jsxs("div", {
            className: "Minesweeper_score",
            children: [
              p.jsx(Vp, { score: jt.countOfFlags, nocolor: !0 }),
              p.jsx("div", {
                className: "Minesweeper_score_logo window",
                onClick: () => {
                  jt.newGame();
                },
                children: p.jsx("img", {
                  src: "/img/logo.png",
                  className: `${jt.gameEnd && "gameEnd"}`,
                  alt: "",
                }),
              }),
              p.jsx(Vp, { score: jt.timer, nocolor: !0 }),
            ],
          }),
          p.jsxs("div", {
            className: "Minesweeper_best",
            children: [
              (+localStorage.getItem("minesweeperBest") || 9999) < 9999
                ? p.jsxs(p.Fragment, {
                    children: [
                      "Best time: ",
                      localStorage.getItem("minesweeperBest"),
                      "sec",
                    ],
                  })
                : p.jsx(p.Fragment, {}),
              p.jsx("button", {
                onClick: () => {
                  ue.setWindowStatus("minesweeperLeaderboard", "opened");
                },
                children: "Leadeboard",
              }),
            ],
          }),
          jt.field.length > 0 &&
            p.jsx("div", {
              className: "Minesweeper_field",
              children: Array.from({ length: 10 }, (s, o) =>
                Array.from({ length: 10 }, (a, l) => {
                  const u = jt.get(l, o);
                  return p.jsx(
                    "div",
                    {
                      className: `Minesweeper_element
                        ${u.minesAround === 0 && "transparent"} 
                        ${u.minesAround === 1 && "blue"} 
                        ${u.minesAround === 2 && "green"} 
                        ${u.minesAround === 3 && "red"}
                        ${u.minesAround === 4 && "darkblue"}
                        ${u.minesAround > 4 && "darkred"}
                        ${
                          u.minesAround === 9 &&
                          u.opened &&
                          jt.gameEnd &&
                          "bgred"
                        }

                      window${u.opened ? "_inner" : ""}`,
                      onClick: () => {
                        !u.opened && jt.open(l, o);
                      },
                      onMouseDown: () => n(l, o),
                      onMouseUp: i,
                      onMouseLeave: i,
                      onTouchStart: () => n(l, o),
                      onTouchEnd: i,
                      children: jt.gameEnd
                        ? u.minesAround < 9
                          ? u.minesAround
                          : p.jsx("img", {
                              src: "/img/games/minesweeper/mine.svg",
                              alt: "decor",
                            })
                        : u.minesAround && u.opened
                        ? u.minesAround
                        : p.jsx(p.Fragment, {
                            children: u.flag
                              ? p.jsx("img", {
                                  src: "/img/games/minesweeper/flag.svg",
                                  alt: "decor",
                                })
                              : p.jsx(p.Fragment, {}),
                          }),
                    },
                    `ms_el_${o}-${l}`
                  );
                })
              ),
            }),
        ],
      }),
    });
  }),
  gie = (r) => (
    K.useEffect(() => {
      xr.completeQuest("chart");
    }, []),
    p.jsx(pt, {
      type: "chart",
      children: p.jsx("div", {
        className: "Chart",
        children: p.jsx("iframe", {
          src: "https://dexscreener.com/solana/8ZTB9xdW33YjhFwLXC9u9joX6sBd4x2rzsXm5G1Z78e3?embed=1&loadChartSettings=0&chartLeftToolbar=0&chartTheme=dark&theme=dark&chartStyle=0&chartType=usd&interval=15",
        }),
      }),
    })
  ),
  _ie = () => {
    const r = K.useRef(null),
      [e, t] = K.useState({
        snake: [
          { x: 10, y: 10 },
          { x: 9, y: 10 },
          { x: 8, y: 10 },
        ],
        food: { x: 15, y: 15 },
        direction: "RIGHT",
        gridSize: 16,
        score: 0,
        gameOver: !1,
      }),
      n = () => {
        const { gameOver: u } = e;
        u &&
          t({
            snake: [
              { x: 10, y: 10 },
              { x: 9, y: 10 },
              { x: 8, y: 10 },
            ],
            food: { x: 15, y: 15 },
            direction: "RIGHT",
            gridSize: 16,
            score: 0,
            gameOver: !1,
          });
      },
      i = 20;
    K.useEffect(() => {
      if (e.gameOver) {
        const u = +localStorage.getItem("snakeBest") || 0;
        if (e.score > u) {
          localStorage.setItem("snakeBest", e.score);
          const c = { wallet: Re.wallet, snake: e.score },
            h = JSON.stringify(c);
          tn.post("/leaderboard", { value: btoa(h) });
        }
      } else {
        const u = r.current.getContext("2d"),
          c = setInterval(() => {
            o(), l(u);
          }, 150);
        return () => clearInterval(c);
      }
    }, [e]),
      K.useEffect(() => {
        const u = (h) => {
            const { direction: d } = e;
            h.key === "ArrowUp" && d !== "DOWN" && s("UP"),
              h.key === "ArrowDown" && d !== "UP" && s("DOWN"),
              h.key === "ArrowLeft" && d !== "RIGHT" && s("LEFT"),
              h.key === "ArrowRight" && d !== "LEFT" && s("RIGHT");
          },
          c = (h) => {
            const d = h.touches[0].clientX,
              f = h.touches[0].clientY,
              m = (g) => {
                const _ = g.changedTouches[0].clientX,
                  v = g.changedTouches[0].clientY,
                  w = _ - d,
                  x = v - f;
                Math.abs(w) > Math.abs(x)
                  ? w > 0 && e.direction !== "LEFT"
                    ? s("RIGHT")
                    : w < 0 && e.direction !== "RIGHT" && s("LEFT")
                  : x > 0 && e.direction !== "UP"
                  ? s("DOWN")
                  : x < 0 && e.direction !== "DOWN" && s("UP"),
                  window.removeEventListener("touchmove", m);
              };
            window.addEventListener("touchmove", m);
          };
        return (
          window.addEventListener("keydown", u),
          window.addEventListener("touchstart", c),
          () => {
            window.removeEventListener("keydown", u),
              window.removeEventListener("touchstart", c);
          }
        );
      }, [e.direction]);
    const s = (u) => {
        t((c) => ({ ...c, direction: u }));
      },
      o = () => {
        t((u) => {
          const c = [...u.snake],
            h = { ...c[0] };
          if (
            (u.direction === "UP" && (h.y -= 1),
            u.direction === "DOWN" && (h.y += 1),
            u.direction === "LEFT" && (h.x -= 1),
            u.direction === "RIGHT" && (h.x += 1),
            h.x < 0 || h.x >= i || h.y < 0 || h.y >= i)
          )
            return { ...u, gameOver: !0 };
          if (c.some((m) => m.x === h.x && m.y === h.y))
            return { ...u, gameOver: !0 };
          c.unshift(h);
          let d = u.food,
            f = u.score;
          return (
            console.log(u.snake),
            h.x === u.food.x && h.y === u.food.y
              ? ((d = a(i, u.snake)), (f += 1))
              : c.pop(),
            { ...u, snake: c, food: d, score: f }
          );
        });
      };
    function a(u, c) {
      let h;
      do
        h = {
          x: Math.floor(Math.random() * u),
          y: Math.floor(Math.random() * u),
        };
      while (c.some((d) => d.x === h.x && d.y === h.y));
      return h;
    }
    const l = (u) => {
      const { snake: c, food: h, gridSize: d } = e;
      u.clearRect(0, 0, u.canvas.width, u.canvas.height),
        c.forEach((f, m) => {
          const g = ((100 / c.length) * (c.length - m)) / 100;
          console.log(g), (u.fillStyle = `rgba(0, 0, 0, ${Math.max(g, 0.2)})`);
          const _ = m === 0 ? d - 2 : d - 6,
            v = (d - _) / 2;
          u.fillRect(f.x * d + v, f.y * d + v, _, _);
        }),
        (u.fillStyle = "black"),
        u.fillRect(h.x * d + d / 4, h.y * d + d / 4, d / 2, d / 2);
    };
    return p.jsx(pt, {
      type: "snake",
      children: p.jsxs("div", {
        className: "Snake",
        children: [
          p.jsxs("div", {
            className: "Snake_score",
            children: [
              yie(e.score),
              localStorage.getItem("snakeBest")
                ? p.jsxs("span", {
                    children: ["BEST: ", localStorage.getItem("snakeBest")],
                  })
                : "",
              " ",
              p.jsx("span", {
                onClick: () => {
                  ue.setWindowStatus("snakeLeaderboard", "opened");
                },
                children: "LEADEBOARD",
              }),
            ],
          }),
          p.jsxs("div", {
            className: "Snake_game",
            children: [
              e.gameOver &&
                p.jsx("div", {
                  className: "Snake_newGame free_img",
                  onClick: () => {
                    n();
                  },
                  children: p.jsx("div", {
                    className: "Snake_newGame_inner",
                    children: "New Game",
                  }),
                }),
              p.jsx("canvas", {
                style: { opacity: e.gameOver ? 0.2 : 1 },
                ref: r,
                width: 320,
                height: 320,
              }),
            ],
          }),
        ],
      }),
    });
  };
function yie(r, e = 4) {
  return r.toString().padStart(e, "0");
}
const vie = () => {
    const [r, e] = K.useState(+localStorage.getItem("wallpaper") || 2);
    return (
      K.useEffect(() => {
        localStorage.setItem("wallpaper", r), (mv.wallpaper = r);
      }, [r]),
      K.useEffect(() => {
        xr.completeQuest("wallpapers");
      }, []),
      p.jsx(pt, {
        type: "changeWallpaper",
        children: p.jsxs("div", {
          className: "ChangeWallpaper",
          children: [
            p.jsxs("div", {
              className: "ChangeWallpaper_reset",
              onClick: () => {
                e(2);
              },
              children: [p.jsx("span", { children: "R" }), "eset to default"],
            }),
            p.jsx("div", {
              className: "ChangeWallpaper_content window",
              children: Array.from({ length: 30 }, (t, n) =>
                p.jsxs("div", {
                  className: `ChangeWallpaper_element ${
                    Number(r) === n + 1 ? "window_inner" : "window"
                  }`,
                  onClick: () => {
                    e(n + 1);
                  },
                  children: [
                    p.jsxs("div", {
                      className: "ChangeWallpaper_element_inner window_inner",
                      children: [
                        n === 0 &&
                          p.jsx("video", {
                            autoPlay: !0,
                            muted: !0,
                            loop: !0,
                            playsInline: !0,
                            children: p.jsx("source", {
                              src: `/img/wallpapers/${n + 1}.mp4`,
                              type: "video/mp4",
                            }),
                          }),
                        n > 0 &&
                          p.jsx("img", {
                            src: `/img/wallpapers/${n + 1}-min.webp`,
                            alt: "",
                          }),
                      ],
                    }),
                    n + 1,
                  ],
                })
              ),
            }),
          ],
        }),
      })
    );
  },
  xie = () =>
    p.jsx(pt, {
      type: "bugreport",
      children: p.jsx("div", { className: "Bugreport", children: "Meow" }),
    }),
  wie = () => {
    const [r, e] = K.useState([]),
      [t, n] = K.useState(""),
      i = K.useRef(null),
      s = K.useRef(null),
      o = K.useRef(null),
      [a, l] = K.useState(!1),
      [u, c] = K.useState(!1),
      [h, d] = K.useState(!1),
      [f, m] = K.useState("");
    let g, _;
    K.useEffect(
      () => (
        v(),
        () => {
          s.current && ((s.current.onclose = null), s.current.close()),
            clearInterval(o.current),
            clearTimeout(g),
            clearTimeout(_);
        }
      ),
      []
    );
    const v = () => {
        (s.current = new WebSocket("wss://ws.knut.wtf")),
          (s.current.onmessage = ($) => {
            const H = JSON.parse($.data);
            if (
              (console.log("new message"), console.log(H), H.type === "message")
            )
              e((Q) => [...Q, H]);
            else if (H.type === "history") e(H.messages);
            else if (H.type === "muted")
              H.muteTime > 0
                ? (c(H.muteTime),
                  clearTimeout(g),
                  (g = setTimeout(() => {
                    c(!1);
                  }, H.muteTime * 1e3)))
                : c(!1);
            else if (H.type === "admins") H.list.includes(Re.wallet) && d(!0);
            else if (H.type === "deleteMessage")
              e((Q) => Q.filter((O) => O._id !== H._id));
            else if (H.type === "ban")
              H.wallet === Re.wallet &&
                (c(H.time),
                clearTimeout(_),
                (_ = setTimeout(() => {
                  c(!1);
                }, H.time * 1e3)));
            else if (H.type === "banList") {
              for (let Q = 0; Q < H.list.length; Q++)
                if (H.list[Q].wallet === Re.wallet) {
                  const O =
                    H.list[Q].muteDate +
                    H.list[Q].muteTime -
                    Math.floor(Date.now() / 1e3);
                  O > 0 &&
                    (c(O),
                    clearTimeout(_),
                    (_ = setTimeout(() => {
                      c(!1);
                    }, O * 1e3)));
                }
            } else
              H.type === "updateMessage" &&
                e((Q) =>
                  Q.map((O) => (O._id === H.message._id ? H.message : O))
                );
          }),
          (s.current.onclose = () => {
            console.log(" .  ..."), w();
          });
      },
      w = () => {
        o.current ||
          (o.current = setInterval(() => {
            (!s.current || s.current.readyState === WebSocket.CLOSED) &&
              (v(), console.log(" "));
          }, 5e3));
      },
      x = () => {
        if (t && s.current.readyState === WebSocket.OPEN) {
          const $ = { wallet: Re.wallet, text: t, replyTo: f };
          s.current.send(JSON.stringify($)), n(""), m("");
        }
      },
      k = ($, H) => {
        if (s.current.readyState === WebSocket.OPEN) {
          const Q = { wallet: Re.wallet, _id: $, reaction: H };
          s.current.send(JSON.stringify(Q));
        }
      };
    K.useEffect(() => {
      C();
    }, [r]);
    const C = () => {
        i.current && (i.current.scrollTop = i.current.scrollHeight);
      },
      F = ($) => {
        if ((l(!1), s.current.readyState === WebSocket.OPEN)) {
          const H = { service: { type: "muteChat", time: $ } };
          s.current.send(JSON.stringify(H));
        }
      },
      I = ($) => {
        if (s.current.readyState === WebSocket.OPEN) {
          const H = { service: { type: "deleteMessage", _id: $ } };
          s.current.send(JSON.stringify(H));
        }
      },
      G = ($, H) => {
        if (s.current.readyState === WebSocket.OPEN) {
          const Q = { service: { type: "ban", wallet: $, time: H } };
          s.current.send(JSON.stringify(Q));
        }
      },
      j = ($) => {
        const H = r.filter((Q) => Q._id === $)[0];
        return H.wallet === Re.wallet
          ? "you"
          : `${H.wallet.slice(0, 4)}...${H.wallet.slice(-4)}`;
      };
    return p.jsx(pt, {
      type: "chat",
      children: p.jsxs("div", {
        className: "Chat",
        children: [
          p.jsx("div", {
            className: "Chat_messages window_inner",
            ref: i,
            style: { alignContent: r.length > 10 ? "Unset" : "End" },
            children: r.map(($, H) => {
              const Q = $.wallet
                ? `${$.wallet.slice(0, 4)}...${$.wallet.slice(-4)}`
                : "Guest";
              let O, y;
              if ($.replyTo) {
                const T = r.find((A) => A._id === $.replyTo);
                (O = `${T.wallet.slice(0, 4)}...${T.wallet.slice(-4)}`),
                  (y =
                    T.text.length > 21 ? `${T.text.slice(0, 20)}...` : T.text);
              }
              return p.jsxs(
                "div",
                {
                  className: "Chat_message",
                  id: `message-${$._id}`,
                  children: [
                    p.jsxs("div", {
                      className: "Chat_message_info",
                      children: [
                        p.jsxs("div", {
                          className: "Chat_message_author",
                          children: [
                            $.wallet === Re.wallet ? "You" : Q,
                            " ",
                            h &&
                              p.jsxs(p.Fragment, {
                                children: [
                                  " - ",
                                  p.jsx("span", {
                                    onClick: () => {
                                      I($._id);
                                    },
                                    children: "Delete",
                                  }),
                                  "  ",
                                  Re.wallet !== $.wallet &&
                                    p.jsxs(p.Fragment, {
                                      children: [
                                        "- ",
                                        p.jsx("span", {
                                          onClick: () => {
                                            G($.wallet, 60 * 5);
                                          },
                                          children: "B5M",
                                        }),
                                        " - ",
                                        p.jsx("span", {
                                          onClick: () => {
                                            G($.wallet, 60 * 60);
                                          },
                                          children: "B1H",
                                        }),
                                        " - ",
                                        p.jsx("span", {
                                          onClick: () => {
                                            G($.wallet, 60 * 60 * 6);
                                          },
                                          children: "B6H",
                                        }),
                                        " - ",
                                        p.jsx("span", {
                                          onClick: () => {
                                            G($.wallet, 60 * 60 * 24);
                                          },
                                          children: "B24H",
                                        }),
                                      ],
                                    }),
                                ],
                              }),
                          ],
                        }),
                        p.jsxs("div", {
                          className: "Chat_message_additional",
                          children: [
                            p.jsx("div", {
                              className: "Chat_message_time",
                              children: bie($.time),
                            }),
                            p.jsx("div", {
                              className: "Chat_message_reply",
                              onClick: () => {
                                m($._id);
                              },
                              children: "Reply",
                            }),
                            p.jsxs("div", {
                              className: "Chat_message_likes",
                              children: [
                                $.wallet !== Re.wallet &&
                                  p.jsx("div", {
                                    className: "Chat_message_likes_plus",
                                    onClick: () => {
                                      k($._id, 1);
                                    },
                                    children: "+",
                                  }),
                                $.plus.length - $.minus.length,
                                $.wallet !== Re.wallet &&
                                  p.jsx("div", {
                                    className: "Chat_message_likes_minus",
                                    onClick: () => {
                                      k($._id, -1);
                                    },
                                    children: "-",
                                  }),
                              ],
                            }),
                          ],
                        }),
                      ],
                    }),
                    $.replyTo &&
                      p.jsx("div", {
                        className: "Chat_message_info",
                        children: p.jsx("div", {
                          className: "Chat_message_additional",
                          children: p.jsxs("div", {
                            className: "Chat_message_inReply",
                            onClick: () => {
                              document
                                .getElementById(`message-${$.replyTo}`)
                                .scrollIntoView({
                                  behavior: "smooth",
                                  block: "start",
                                });
                            },
                            children: ["in reply to - ", O, ": ", y],
                          }),
                        }),
                      }),
                    p.jsx("div", {
                      className: "Chat_message_text",
                      children: $.text,
                    }),
                  ],
                },
                `message-${$._id}`
              );
            }),
          }),
          p.jsx("form", {
            className: "Chat_inputBlock",
            onSubmit: ($) => {
              $.preventDefault(), x();
            },
            children: a
              ? p.jsxs(p.Fragment, {
                  children: [
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        F(0);
                      },
                      children: "Unmute",
                    }),
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        F(60 * 15);
                      },
                      children: "15m",
                    }),
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        F(60 * 60);
                      },
                      children: "1h",
                    }),
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        F(60 * 60 * 6);
                      },
                      children: "6h",
                    }),
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        F(60 * 60 * 24);
                      },
                      children: "24h",
                    }),
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        F(60 * 60 * 24 * 999);
                      },
                      children: "Forever",
                    }),
                    p.jsx("div", {
                      className: "muteBtn",
                      onClick: () => {
                        l(!1);
                      },
                      children: "Cancel",
                    }),
                  ],
                })
              : p.jsxs(p.Fragment, {
                  children: [
                    u
                      ? p.jsxs("div", {
                          className: "muteBtn",
                          children: [
                            "Chat muted (",
                            Math.round(u / 60),
                            "min)",
                          ],
                        })
                      : p.jsxs(p.Fragment, {
                          children: [
                            p.jsx("input", {
                              type: "text",
                              placeholder: "Type your message here",
                              value: t,
                              onChange: ($) => {
                                n($.target.value);
                              },
                            }),
                            f &&
                              p.jsxs("div", {
                                className: "inReply",
                                children: [
                                  "In reply to ",
                                  j(f),
                                  p.jsx("div", {
                                    className: "inReply_cross",
                                    onClick: () => {
                                      m("");
                                    },
                                    children: "X",
                                  }),
                                ],
                              }),
                            p.jsx("button", {
                              onClick: () => {
                                x();
                              },
                              children: "Send",
                            }),
                          ],
                        }),
                    h &&
                      p.jsx("div", {
                        className: "muteBtn",
                        onClick: () => {
                          l(!0);
                        },
                        children: "Mute chat",
                      }),
                  ],
                }),
          }),
        ],
      }),
    });
  },
  bie = (r) => {
    const e = new Date(),
      t = new Date(r * 1e3),
      n = e.toDateString() === t.toDateString(),
      i =
        new Date(e.setDate(e.getDate() - 1)).toDateString() ===
        t.toDateString();
    return n
      ? t.toLocaleTimeString("en-GB", { hour: "2-digit", minute: "2-digit" })
      : i
      ? "Yesterday"
      : "A long time ago";
  },
  Sie = mn(() => {
    const [r, e] = K.useState("Socials"),
      [t, n] = K.useState([]),
      [i, s] = K.useState([]);
    K.useEffect(() => {
      Bc.getMe();
    }, []);
    const o = (l) => {
        s((u) => [...u, l]), xr.claimReward(l);
      },
      a = (l) => {
        xr.completeQuest(l),
          n((u) => [...u, l]),
          setTimeout(() => {
            n((u) => u.filter((c) => c !== l));
          }, Math.round(Math.random() * 30 + 30) * 1e3);
      };
    return p.jsx(pt, {
      type: "quests",
      children: p.jsxs(
        "div",
        {
          className: "Quests window_inner",
          children: [
            p.jsxs("div", {
              className: "Quests_balance",
              children: [
                "Balance ",
                p.jsxs("span", { children: [Bc.me.balance, " $knut"] }),
              ],
            }),
            p.jsx("div", {
              className: "Quests_tabs",
              children: ["General", "Socials"].map((l) =>
                p.jsx(
                  "div",
                  {
                    className: `Quests_tab ${l === r && "Quests_tab_opened"}`,
                    onClick: () => {
                      e(l);
                    },
                    children: l,
                  },
                  `tab-${l}`
                )
              ),
            }),
            r === "General" &&
              p.jsx("div", {
                className: "Quests_general",
                children: xr.quests.map((l) => {
                  if (
                    !Bc.me.quests.includes(l.art) &&
                    !i.includes(l.art) &&
                    l.category === "General"
                  ) {
                    const u = +localStorage.getItem(`${l.type}Best`) || 0;
                    let c = (u / l.reqScore) * 100;
                    return (
                      l.type === "minesweeper" &&
                        (c =
                          u - l.reqScore > 0
                            ? l.reqScore - u === l.reqScore
                              ? 0
                              : 50
                            : 100),
                      p.jsxs(
                        "div",
                        {
                          className: "Quests_general_element",
                          children: [
                            p.jsxs("div", {
                              className: "Quests_general_name",
                              children: [
                                p.jsx("img", {
                                  src: `/img/links/${l.type}Link.png`,
                                  alt: "",
                                }),
                                p.jsx("div", {
                                  className: "Quests_general_name_text",
                                  children: l.lname,
                                }),
                              ],
                            }),
                            p.jsxs("div", {
                              className: "Quests_general_content",
                              children: [
                                p.jsxs("div", {
                                  className: "Quests_general_content_header",
                                  children: [
                                    p.jsx("div", {
                                      className: "Quests_general_content_req",
                                      children: l.reqText,
                                    }),
                                    p.jsxs("div", {
                                      className: "Quests_general_content_btn",
                                      onClick: () => {
                                        c >= 100 && o(l.art);
                                      },
                                      children: [
                                        p.jsx("span", {
                                          children:
                                            c >= 100 ? "Claim" : "In progress",
                                        }),
                                        " (+",
                                        l.price,
                                        " $knut)",
                                      ],
                                    }),
                                  ],
                                }),
                                p.jsxs("div", {
                                  className: "Quests_general_content_status",
                                  children: [
                                    p.jsx("div", {
                                      className:
                                        "Quests_general_content_status_inner",
                                      style: { width: `${c + 1}%` },
                                    }),
                                    p.jsxs("div", {
                                      className:
                                        "free_img Quests_general_content_status_value",
                                      children: [
                                        Math.min(c, 100).toFixed(1),
                                        "%",
                                      ],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        },
                        l.art
                      )
                    );
                  }
                }),
              }),
            r === "Socials" &&
              p.jsx("div", {
                className: "Quests_socials_wrapper",
                children: p.jsx("div", {
                  className: "Quests_socials",
                  children: xr.quests.map((l) => {
                    if (
                      !Bc.me.quests.includes(l.art) &&
                      !i.includes(l.art) &&
                      l.category === "Socials"
                    ) {
                      console.log(l);
                      const u =
                          localStorage.getItem(`quest_${l.art}Completed`) || !1,
                        c = l.link || "";
                      return p.jsxs(
                        "div",
                        {
                          className: "Quests_socials_element",
                          children: [
                            p.jsxs("div", {
                              className: "Quests_socials_element_left",
                              children: [
                                p.jsx("div", {
                                  className: "Quests_socials_element_img",
                                  children: p.jsx("img", {
                                    src: `${l.img}`,
                                    alt: "",
                                  }),
                                }),
                                p.jsxs("div", {
                                  className: "Quests_socials_element_info",
                                  children: [
                                    p.jsx("div", {
                                      className: "Quests_socials_element_name",
                                      children: l.name,
                                    }),
                                    p.jsxs("div", {
                                      className: "Quests_socials_element_price",
                                      children: ["(+", l.price, " $knut)"],
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            p.jsx("a", {
                              href: `${c}`,
                              target: "_blank",
                              onClick: (h) => {
                                u && (h.preventDefault(), o(l.art)),
                                  c ? a(l.art) : h.preventDefault();
                              },
                              className: `Quests_socials_element_btn ${
                                !c && "Quests_socials_element_btn_nolink"
                              }`,
                              children: c
                                ? t.includes(l.art)
                                  ? "Checking..."
                                  : u
                                  ? "Claim"
                                  : "Start"
                                : u
                                ? "Claim"
                                : "In progress",
                            }),
                          ],
                        },
                        l.art
                      );
                    }
                  }),
                }),
              }),
          ],
        },
        `please_rerender_${i.length}_${xr.rerender}`
      ),
    });
  }),
  Eie = () =>
    p.jsx(pt, {
      type: "team",
      children: p.jsxs("div", {
        className: "Team",
        children: [
          p.jsx("div", { className: "Roadmap_header", children: "Our Team" }),
          p.jsx("div", { className: "Roadmap_phase", children: "Papa Bears" }),
          p.jsxs("div", {
            className: "Roadmap_step",
            children: [
              "NoelBe_",
              p.jsx("br", {}),
              "L.",
              p.jsx("br", {}),
              "LiquidityGod",
              p.jsx("br", {}),
              "D9K",
              p.jsx("br", {}),
              "JD",
            ],
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: "Core / Community Leaders",
          }),
          p.jsxs("div", {
            className: "Roadmap_step",
            children: [
              "FatalXerror",
              p.jsx("br", {}),
              "IntentionNatalie",
              p.jsx("br", {}),
              "BurnMaster Tanjim",
              p.jsx("br", {}),
              "F.",
              p.jsx("br", {}),
              "KryptoSensei",
              p.jsx("br", {}),
              "Manuel",
            ],
          }),
          p.jsx("div", { className: "Roadmap_phase", children: "Mods" }),
          p.jsxs("div", {
            className: "Roadmap_step",
            children: [
              "Eddie",
              p.jsx("br", {}),
              "Kaysa",
              p.jsx("br", {}),
              "0x",
              p.jsx("br", {}),
              "sensei",
              p.jsx("br", {}),
              "xderdeuder",
              p.jsx("br", {}),
              "Brave",
              p.jsx("br", {}),
              "Semi",
              p.jsx("br", {}),
              "Tudor",
              p.jsx("br", {}),
              "Hurlibuz",
              p.jsx("br", {}),
              "Propangalf",
            ],
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: "Backers (key opinion leaders / advisors)",
          }),
          p.jsx("div", {
            className: "Roadmap_step",
            children:
              "Dominic Kuster, Shady, Cani, ChengZhao, Burhan, Victor, Fernando, Jaany, Antonino, SkRyder, Wayne",
          }),
          p.jsx("div", {
            className: "Roadmap_phase",
            children: "Backers (official)",
          }),
          p.jsxs("div", {
            className: "Roadmap_step",
            children: [
              "Nebula Agency",
              p.jsx("br", {}),
              "GamesForALiving",
              p.jsx("br", {}),
              "CryptoEducation",
              p.jsx("br", {}),
              "Liquidpay",
              p.jsx("br", {}),
              "Memechain",
              p.jsx("br", {}),
              "W3B",
              p.jsx("br", {}),
              "Bluechip",
              p.jsx("br", {}),
              "Julius&Br",
              p.jsx("br", {}),
              "LaStrada",
              p.jsx("br", {}),
              "SkillfulAI",
              p.jsx("br", {}),
              "XSWAP",
              p.jsx("br", {}),
              "GALILE",
              p.jsx("br", {}),
              "PAAL",
              p.jsx("br", {}),
              "V*****",
              p.jsx("br", {}),
              "I*******",
              p.jsx("br", {}),
              "B*****",
              p.jsx("br", {}),
              "G*****",
              p.jsx("br", {}),
              "P******",
              p.jsx("br", {}),
              "L******",
            ],
          }),
          p.jsx("div", { className: "Roadmap_phase", children: "As seen on" }),
          p.jsxs("div", {
            className: "Roadmap_step",
            children: [
              "CoinMarketCap",
              p.jsx("br", {}),
              "CoinGecko",
              p.jsx("br", {}),
              "Pump.Fun",
              p.jsx("br", {}),
              "dexscreener",
            ],
          }),
        ],
      }),
    }),
  Tie = 21,
  y2 = 96,
  v2 = 0,
  kie = () => {
    const [r, e] = K.useState(!1),
      [t, n] = K.useState(!1),
      [i, s] = K.useState(0),
      [o, a] = K.useState(Aie(100, 8)),
      [l, u] = K.useState(!1),
      [c, h] = K.useState(!1),
      [d, f] = K.useState(""),
      [m, g] = K.useState(!1);
    let _;
    const v = async () => {
        e(!0),
          localStorage.setItem("advent-reg", x()),
          await tn.post("/calendar/reg/", { wallet: Re.wallet });
      },
      w = async () => {
        const I = await tn.get("/calendar/win/");
        let G;
        I.data === Re.wallet
          ? ((G = "you"), localStorage.setItem("calendarWinnerUnconnected", !0))
          : (G = I.data),
          a((j) => j.map(($, H) => (H === y2 ? G : $))),
          u(!0),
          G === "you" &&
            setTimeout(() => {
              h(!0);
            }, 8 * 1e3),
          localStorage.setItem("advent-claimed", x() - 1);
      };
    K.useEffect(() => {
      const I = +localStorage.getItem("advent-claimed") || 18,
        G = +localStorage.getItem("advent-reg") || 18;
      return (
        (localStorage.getItem("calendarWinnerUnconnected") || null) && h(!0),
        G - 1 >= I && x() >= G + 1 && n(!0),
        G === x() && e(!0),
        console.log(`Today: ${x()}`),
        console.log(`Last reg: ${G}`),
        console.log(`Last claimed: ${I}`),
        k(),
        (_ = setInterval(() => {
          k();
        }, 1e3)),
        () => {
          clearInterval(_);
        }
      );
    }, []);
    const x = () => {
      const G = Math.floor(new Date().getTime() / 1e3) + 60 * 60 + v2;
      return new Date(G * 1e3).getUTCDate();
    };
    function k() {
      const I = new Date(Date.now() + v2 * 1e3),
        G = new Date(
          I.getUTCFullYear(),
          I.getUTCMonth(),
          I.getUTCDate(),
          I.getUTCHours() + 1,
          I.getUTCMinutes(),
          I.getUTCSeconds(),
          I.getUTCMilliseconds()
        ),
        j = new Date(
          G.getFullYear(),
          G.getMonth(),
          G.getDate() + 1,
          0,
          0,
          0,
          0
        ),
        $ = Math.floor((j - G) / 1e3),
        H = +localStorage.getItem("advent-claimed") || 18,
        Q = +localStorage.getItem("advent-reg") || 18;
      Q - 1 === H && x() === Q + 1 && n(!0), s($);
    }
    function C(I) {
      const G = String(Math.floor(I / 3600)).padStart(2, "0"),
        j = String(Math.floor((I % 3600) / 60)).padStart(2, "0"),
        $ = String(I % 60).padStart(2, "0");
      return `${G}:${j}:${$}`;
    }
    const F = async () => {
      await tn.post("/calendar/win/", { wallet: Re.wallet, tg: d }),
        localStorage.removeItem("calendarWinnerUnconnected"),
        localStorage.setItem("advent-claimed", x() - 1),
        g(!0);
    };
    return p.jsx(pt, {
      type: "calendar",
      children: p.jsxs("div", {
        className: "Calendar",
        style: { height: t ? "300px" : "400px" },
        children: [
          p.jsx("div", { className: "Calendar_nav" }),
          p.jsx("div", {
            className: "Calendar_content",
            children: c
              ? p.jsxs("div", {
                  className: "Calendar_win",
                  children: [
                    m
                      ? p.jsxs("div", {
                          className: "Calendar_win_content",
                          children: [
                            " ",
                            p.jsx("div", {
                              className: "Calendar_win_header",
                              children: "Thank you!",
                            }),
                            p.jsx("div", {
                              className: "Calendar_win_subheader",
                              children:
                                "We will contact you shortly. Have a nice day :)",
                            }),
                          ],
                        })
                      : p.jsxs("div", {
                          className: "Calendar_win_content",
                          children: [
                            p.jsx("div", {
                              className: "Calendar_win_header",
                              children: "Congratulations!",
                            }),
                            p.jsx("div", {
                              className: "Calendar_win_subheader",
                              children:
                                "You have won, please leave us your username in telegram so that we can contact you",
                            }),
                            p.jsx("div", {
                              className: "Calendar_win_input",
                              children: p.jsx("input", {
                                type: "text",
                                placeholder: "@username",
                                value: d,
                                onChange: (I) => f(I.target.value),
                              }),
                            }),
                            p.jsx("button", { onClick: F, children: "SEND" }),
                          ],
                        }),
                    p.jsx("div", {
                      className: "Calendar_spin_bear free_img",
                      children: p.jsx("img", {
                        src: "/img/flappy/bearWings.png",
                        alt: "",
                      }),
                    }),
                    p.jsx("div", {
                      className: "Calendar_spin_gift free_img",
                      children: p.jsx("img", {
                        src: "/img/calendar/gift.png",
                        alt: "",
                      }),
                    }),
                  ],
                })
              : t
              ? p.jsxs("div", {
                  className: "Calendar_spin",
                  children: [
                    p.jsx("div", {
                      className: "Calendar_spinner_wrapper",
                      children: p.jsx("div", {
                        className: "Calendar_spinner",
                        children: o.map((I, G) =>
                          p.jsxs(
                            "div",
                            {
                              className: `Calendar_spinner_element ${
                                l && "spin"
                              }`,
                              children: [
                                p.jsx("div", {
                                  className: "Calendar_spinner_element_text",
                                  children:
                                    I === "you"
                                      ? "YOU WIN!!!"
                                      : `${I.slice(0, 4)}...${I.slice(-4)}`,
                                }),
                                p.jsx("div", {
                                  className:
                                    "Calendar_spinner_element_img free_img",
                                  children: p.jsx("img", {
                                    src: `/img/calendar/${
                                      G === y2 ? "winner" : "member"
                                    }.png`,
                                    alt: "",
                                  }),
                                }),
                              ],
                            },
                            `calendar-el-${G}`
                          )
                        ),
                      }),
                    }),
                    p.jsx("div", {
                      className: "Calendar_spin_arrow free_img",
                      children: p.jsx("img", {
                        src: "/img/calendar/arrow.png",
                        alt: "",
                      }),
                    }),
                    p.jsx("div", {
                      className: "Calendar_spin_bear free_img",
                      children: p.jsx("img", {
                        src: "/img/flappy/bearWings.png",
                        alt: "",
                      }),
                    }),
                    p.jsx("div", {
                      className: "Calendar_spin_gift free_img",
                      children: p.jsx("img", {
                        src: "/img/calendar/gift.png",
                        alt: "",
                      }),
                    }),
                    p.jsx("div", {
                      className: "Calendar_spin_btn_wrapper",
                      children: p.jsx("button", {
                        className: "Calendar_spin_btn",
                        onClick: w,
                        children: "SPIN",
                      }),
                    }),
                  ],
                })
              : p.jsxs(p.Fragment, {
                  children: [
                    p.jsx("div", {
                      className: "Calendar_pic free_img",
                      children: p.jsx("video", {
                        autoPlay: !0,
                        muted: !0,
                        loop: !0,
                        playsInline: !0,
                        children: p.jsx("source", {
                          src: "/img/calendar/base.mp4",
                          type: "video/mp4",
                        }),
                      }),
                    }),
                    p.jsx("div", {
                      className: "Calendar_lock free_img",
                      children: p.jsx("img", {
                        src: `/img/calendar/${x() - Tie + 1}${
                          r ? "opened" : ""
                        }.png`,
                        onClick: v,
                        alt: "",
                      }),
                    }),
                    r &&
                      p.jsx("div", {
                        className: "Calendar_success free_img",
                        children: p.jsxs("div", {
                          className: "Calendar_success_inner",
                          children: [
                            "Congratulations!",
                            p.jsx("div", {
                              children:
                                "You have successfully registered for today's draw.",
                            }),
                            p.jsx("button", { children: C(i) }),
                          ],
                        }),
                      }),
                  ],
                }),
          }),
        ],
      }),
    });
  };
function Aie(r, e) {
  const t = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
    n = [];
  for (let i = 0; i < r; i++) {
    let s = "";
    for (let o = 0; o < e; o++) s += t[Math.floor(Math.random() * t.length)];
    n.push(s);
  }
  return n;
}
const Pie = () =>
    p.jsx(pt, {
      type: "staking",
      children: p.jsx("div", {
        className: "Staking window_inner",
        children: p.jsx("img", { src: "/img/stakingSoon.png", alt: "" }),
      }),
    }),
  Cie = () => {
    const [r, e] = K.useState(30),
      [t, n] = K.useState(0),
      [i, s] = K.useState(Array(12).fill("empty")),
      [o, a] = K.useState(!1),
      [l, u] = K.useState(3),
      [c, h] = K.useState(!1);
    K.useEffect(() => {
      l !== 3 &&
        (h(!0),
        setTimeout(() => {
          h(!1);
        }, 100));
    }, [l]),
      K.useEffect(() => {
        if (r > 0) {
          const _ = setInterval(() => e((v) => v - 1), 1e3);
          return () => clearInterval(_);
        } else {
          a(!0);
          const _ = +localStorage.getItem("wackBest") || 0;
          if (t > _) {
            localStorage.setItem("wackBest", t);
            const v = { wallet: Re.wallet, wack: t },
              w = JSON.stringify(v);
            tn.post("/leaderboard", { value: btoa(w) });
          }
        }
      }, [r]),
      K.useEffect(() => {
        if (r > 0) {
          const _ = setInterval(() => {
            if (g(0, 5) === 0) {
              const w = g(1, 3);
              for (let x = 0; x < w; x++) {
                const k = Math.floor(Math.random() * i.length);
                if (i[k] === "empty") {
                  const C = Math.random() * 2e3 + 500;
                  d(k, C);
                }
              }
            }
          }, 100);
          return () => clearInterval(_);
        }
      }, [r, i]);
    const d = (_, v) => {
        s((w) => {
          const x = [...w];
          return (x[_] = "knut"), x;
        }),
          setTimeout(() => {
            s((w) => {
              const x = [...w];
              return x[_] === "knut" && (x[_] = "empty"), x;
            });
          }, v);
      },
      f = (_) => {
        s((v) => {
          const w = [...v];
          return (
            w[_] === "knut"
              ? ((w[_] = "dead"),
                n((x) => x + 1),
                setTimeout(() => {
                  s((x) => {
                    const k = [...x];
                    return (k[_] = "empty"), k;
                  });
                }, 1e3))
              : w[_] === "empty" && (l > 1 ? u(l - 1) : a(!0)),
            w
          );
        });
      },
      m = () => {
        e(30), n(0), s(Array(12).fill("empty")), a(!1), u(3);
      };
    function g(_, v) {
      return (
        (_ = Math.ceil(_)),
        (v = Math.floor(v)),
        Math.floor(Math.random() * (v - _ + 1)) + _
      );
    }
    return p.jsx(pt, {
      type: "wack",
      children: o
        ? p.jsxs("div", {
            className: "Wack_gameover",
            children: [
              p.jsx("div", {
                className: "Wack_score_final",
                children: "Game Over",
              }),
              p.jsxs("div", {
                className: "Wack_score_final",
                children: ["Final Score: ", t],
              }),
              p.jsx("button", {
                onClick: () => {
                  ue.setWindowStatus("wackLeaderboard", "opened");
                },
                className: "wackBtn",
                children: "Leaderboard",
              }),
              "                    ",
              p.jsx("button", {
                onClick: m,
                className: "wackBtn",
                children: "New Game",
              }),
            ],
          })
        : p.jsxs(p.Fragment, {
            children: [
              p.jsxs("div", {
                className: "Wack_score",
                children: [
                  p.jsxs("div", {
                    className: "Wack_score_time",
                    children: [r, " sec left"],
                  }),
                  p.jsx("div", {
                    className: "Wack_score_lives",
                    children: Array.from({ length: 3 }, (_, v) =>
                      v < l
                        ? p.jsx("img", { src: "/img/heart.png", alt: "" })
                        : p.jsx("img", { src: "/img/heartBroken.png", alt: "" })
                    ),
                  }),
                  p.jsxs("div", {
                    className: "Wack_score_score",
                    children: ["Score: ", t],
                  }),
                ],
              }),
              p.jsxs("div", {
                className: "Wack window_inner",
                children: [
                  p.jsx("div", {
                    className: "free_img Wack_damage",
                    children: p.jsx("div", {
                      className: "Wack_damage_inner",
                      style: { opacity: c ? 0.2 : 0 },
                    }),
                  }),
                  i.map((_, v) =>
                    p.jsxs(
                      "div",
                      {
                        className: "Wack_element",
                        onClick: () => f(v),
                        children: [
                          _ === "empty" &&
                            p.jsx("img", {
                              src: "/img/wack/empty.png",
                              alt: "",
                            }),
                          _ === "knut" &&
                            p.jsx("img", {
                              src: "/img/wack/knut.png",
                              alt: "",
                            }),
                          _ === "dead" &&
                            p.jsx("img", {
                              src: "/img/wack/dead.png",
                              alt: "",
                            }),
                        ],
                      },
                      v
                    )
                  ),
                ],
              }),
            ],
          }),
    });
  };
class Rie {
  constructor() {
    he(
      this,
      "userIdentifier",
      localStorage.getItem("metricId") ||
        this.generateIDAndSaveIdToLocalStorage()
    );
    he(this, "steps", []);
  }
  generateIDAndSaveIdToLocalStorage() {
    const e = Math.floor(performance.now()).toString(16).padStart(12, "0"),
      t = Array.from({ length: 12 }, () =>
        Math.floor(Math.random() * 16).toString(16)
      ).join(""),
      n = e + t;
    return localStorage.setItem("metricId", n), n;
  }
  addStep(e) {
    this.steps.push({
      action: e,
      time: Math.floor(Date.now() / 1e3),
      wallet: Re.wallet,
    });
  }
  async sendMetrics() {
    await tn.post("/metrics", { id: this.userIdentifier, steps: this.steps }),
      (this.steps = []);
  }
}
const Die = new Rie();
function Mie() {
  const [r, e] = K.useState(!1);
  return (
    (localStorage.getItem("thimblesStatus") === void 0 ||
      localStorage.getItem("thimblesStatus") === "undefined") &&
      localStorage.removeItem("thimblesStatus"),
    K.useEffect(() => {
      r && (Ee.play = !0);
    }, [r]),
    K.useEffect(() => {
      const t = () => {
        Die.sendMetrics();
      };
      return (
        window.addEventListener("unload", t),
        xr.initQuests(),
        () => {
          window.removeEventListener("unload", t);
        }
      );
    }, []),
    p.jsxs("div", {
      className: "App",
      onClick: () => {
        e(!0), ue.getWindowStatus("state") === "opened" && Fp.incBear();
      },
      children: [
        p.jsx(T6, {}),
        ue.getWindowStatus("whitepaper") === "opened" && p.jsx(fj, {}),
        ue.getWindowStatus("roadmap") === "opened" && p.jsx(hj, {}),
        ue.getWindowStatus("tokenomics") === "opened" && p.jsx(D5, {}),
        ue.getWindowStatus("milestones") === "opened" && p.jsx(M5, {}),
        ue.getWindowStatus("memes") === "opened" && p.jsx(F5, {}),
        ue.getWindowStatus("state") === "opened" && p.jsx(cj, {}),
        ue.getWindowStatus("player") === "opened" && p.jsx(W5, {}),
        ue.getWindowStatus("shutdown") === "opened" && p.jsx(V5, {}),
        ue.getWindowStatus("cantClose") === "opened" && p.jsx(N5, {}),
        ue.getWindowStatus("TTT") === "opened" && p.jsx(Y5, {}),
        ue.getWindowStatus("paint") === "opened" && p.jsx(K5, {}),
        ue.getWindowStatus("memeGen") === "opened" && p.jsx($$, {}),
        ue.getWindowStatus("airdrop") === "opened" && p.jsx(z$, {}),
        ue.getWindowStatus("thimbles") === "opened" && p.jsx(o9, {}),
        ue.getWindowStatus("flappy") === "opened" && p.jsx(fie, {}),
        ue.getWindowStatus("flappyLeaderboard") === "opened" &&
          p.jsx(mc, { type: "flappy" }),
        ue.getWindowStatus("snakeLeaderboard") === "opened" &&
          p.jsx(mc, { type: "snake" }),
        ue.getWindowStatus("wackLeaderboard") === "opened" &&
          p.jsx(mc, { type: "wack" }),
        ue.getWindowStatus("tttLeaderboard") === "opened" &&
          p.jsx(mc, { type: "ttt" }),
        ue.getWindowStatus("minesweeperLeaderboard") === "opened" &&
          p.jsx(mc, { type: "minesweeper" }),
        ue.getWindowStatus("minesweeper") === "opened" && p.jsx(mie, {}),
        ue.getWindowStatus("chart") === "opened" && p.jsx(gie, {}),
        ue.getWindowStatus("snake") === "opened" && p.jsx(_ie, {}),
        ue.getWindowStatus("changeWallpaper") === "opened" && p.jsx(vie, {}),
        ue.getWindowStatus("staking") === "opened" && p.jsx(Pie, {}),
        ue.getWindowStatus("wack") === "opened" && p.jsx(Cie, {}),
        ue.getWindowStatus("bugreport") === "opened" && p.jsx(xie, {}),
        ue.getWindowStatus("chat") === "opened" && p.jsx(wie, {}),
        ue.getWindowStatus("quests") === "opened" && p.jsx(Sie, {}),
        ue.getWindowStatus("team") === "opened" && p.jsx(Eie, {}),
        ue.getWindowStatus("calendar") === "opened" && p.jsx(kie, {}),
        p.jsx(P6, {}),
      ],
    })
  );
}
const Bie = mn(Mie);
B3(document.getElementById("root")).render(p.jsx(Bie, {}));
